!function(){var e,t,n,r,i,o,a,s;function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){return f(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||y(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if(Array.isArray(e))return e}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||v(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function x(e){var t=A();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){var t="function"==typeof Map?new Map:void 0;return(C=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,N(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),I(r,e)})(e)}function E(e,t,n){return(E=A()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&I(i,n.prototype),i}).apply(null,arguments)}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkadminpro_angular=self.webpackChunkadminpro_angular||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},1572:function(e,t,n){"use strict";n.d(t,{deG:function(){return vn},tb:function(){return ol},AFp:function(){return el},ip1:function(){return Xc},CZH:function(){return $c},hGG:function(){return Jl},z2F:function(){return jl},sBO:function(){return Wu},Sil:function(){return gl},_Vd:function(){return yu},EJc:function(){return ul},SBq:function(){return bu},qLn:function(){return Mr},vpe:function(){return Pc},gxx:function(){return Lo},tBr:function(){return Ln},XFs:function(){return B},OlP:function(){return pn},zs3:function(){return Qo},ZZ4:function(){return Zu},aQg:function(){return Vu},soG:function(){return sl},YKP:function(){return nc},v3s:function(){return Bl},h0i:function(){return tc},PXZ:function(){return Ll},R0b:function(){return _l},FiY:function(){return Fn},Lbi:function(){return il},g9A:function(){return rl},Qsj:function(){return Tu},FYo:function(){return xu},JOm:function(){return Vr},Tiy:function(){return Cu},q3G:function(){return Cr},tp0:function(){return qn},EAV:function(){return Gl},Rgc:function(){return Xu},dDg:function(){return Cl},DyG:function(){return gn},q4F:function(){return Au},GfV:function(){return Eu},s_b:function(){return ic},ifc:function(){return K},eFA:function(){return Fl},G48:function(){return Dl},Gpc:function(){return y},X6Q:function(){return Rl},_c5:function(){return Yl},VLi:function(){return Al},c2e:function(){return al},zSh:function(){return qo},wAp:function(){return vs},vHH:function(){return T},EiD:function(){return Tr},mCW:function(){return ar},qzn:function(){return Kn},JVY:function(){return Qn},pB0:function(){return er},eBb:function(){return Xn},L6k:function(){return Jn},LAX:function(){return $n},cg1:function(){return fs},Tjo:function(){return Kl},kL8:function(){return ds},yhl:function(){return Yn},dqk:function(){return $},sIi:function(){return aa},CqO:function(){return Ca},QGY:function(){return Ta},F4k:function(){return Sa},RDi:function(){return Me},AaK:function(){return h},z3N:function(){return Wn},qOj:function(){return Xo},TTD:function(){return Ne},_Bn:function(){return pu},xp6:function(){return Li},uIk:function(){return ha},Tol:function(){return Ha},DjV:function(){return as},ekj:function(){return Ba},Suo:function(){return Gc},Xpm:function(){return le},lG2:function(){return ye},Yz7:function(){return R},cJS:function(){return D},oAB:function(){return pe},Yjl:function(){return me},Y36:function(){return va},_UZ:function(){return wa},BQk:function(){return ka},ynx:function(){return ba},qZA:function(){return _a},TgZ:function(){return ma},EpF:function(){return xa},n5z:function(){return ln},Ikx:function(){return ss},SDv:function(){return iu},QtT:function(){return au},pQV:function(){return ou},LFG:function(){return On},$8M:function(){return fn},NdJ:function(){return Ea},CRH:function(){return Wc},oxw:function(){return Na},ALo:function(){return Sc},lcZ:function(){return Cc},xi3:function(){return Ec},Dn7:function(){return Ac},Hsn:function(){return Ra},F$t:function(){return Pa},Q6J:function(){return ga},s9C:function(){return Da},MGl:function(){return Ma},VKq:function(){return mc},WLB:function(){return _c},kEZ:function(){return wc},iGM:function(){return Hc},MAs:function(){return pa},evT:function(){return Ur},CHM:function(){return et},oJD:function(){return Er},LSH:function(){return Ar},kYT:function(){return ve},Udp:function(){return Va},d8E:function(){return us},YNc:function(){return da},W1O:function(){return Jc},_uU:function(){return ns},Oqu:function(){return rs},hij:function(){return is},AsE:function(){return os},Gf:function(){return zc}});var r=n(5959),i=n(7570),o=n(8318),a=n(1906),s=n(1055);function u(e){for(var t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function h(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(h).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var v=u({__forward_ref__:u});function y(e){return e.__forward_ref__=y,e.toString=function(){return h(this())},e}function m(e){return _(e)?e():e}function _(e){return"function"==typeof e&&e.hasOwnProperty(v)&&e.__forward_ref__===y}var T=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return n}(C(Error));function A(e){return"string"==typeof e?e:null==e?"":String(e)}function I(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():A(e)}function O(e,t){var n=t?" in ".concat(t):"";throw new T("201","No provider for ".concat(I(e)," found").concat(n))}function P(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(t," <=Actual]")))}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function D(e){return{providers:e.providers||[],imports:e.imports||[]}}function M(e){return L(e,U)||L(e,j)}function L(e,t){return e.hasOwnProperty(t)?e[t]:null}function F(e){return e&&(e.hasOwnProperty(Z)||e.hasOwnProperty(V))?e[Z]:null}var q,U=u({"\u0275prov":u}),Z=u({"\u0275inj":u}),j=u({ngInjectableDef:u}),V=u({ngInjectorDef:u}),B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function H(e){var t=q;return q=e,t}function z(e,t,n){var r=M(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&B.Optional?null:void 0!==t?t:void O(h(e),"Injector")}function G(e){return{toString:e}.toString()}var W=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),K=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Y="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,J="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,$=Y||X||Q||J,ee={},te=[],ne=u({"\u0275cmp":u}),re=u({"\u0275dir":u}),ie=u({"\u0275pipe":u}),oe=u({"\u0275mod":u}),ae=u({"\u0275loc":u}),se=u({"\u0275fac":u}),ue=u({__NG_ELEMENT_ID__:u}),ce=0;function le(e){return G(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||K.Emulated,id:"c",styles:e.styles||te,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ce++,n.inputs=ge(e.inputs,t),n.outputs=ge(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(he)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(fe)}:null,n})}function he(e){return _e(e)||function(e){return e[re]||null}(e)}function fe(e){return function(e){return e[ie]||null}(e)}var de={};function pe(e){var t={type:e.type,bootstrap:e.bootstrap||te,declarations:e.declarations||te,imports:e.imports||te,exports:e.exports||te,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&G(function(){de[e.id]=e.type}),t}function ve(e,t){return G(function(){var n=we(e,!0);n.declarations=t.declarations||te,n.imports=t.imports||te,n.exports=t.exports||te})}function ge(e,t){if(null==e)return ee;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var ye=le;function me(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function _e(e){return e[ne]||null}function we(e,t){var n=e[oe]||null;if(!n&&!0===t)throw new Error("Type ".concat(h(e)," does not have '\u0275mod' property."));return n}function be(e){return Array.isArray(e)&&"object"==typeof e[1]}function ke(e){return Array.isArray(e)&&!0===e[1]}function xe(e){return 0!=(8&e.flags)}function Te(e){return 2==(2&e.flags)}function Se(e){return 1==(1&e.flags)}function Ce(e){return null!==e.template}function Ee(e,t){return e.hasOwnProperty(se)?e[se]:null}var Ae,Ie=function(){function e(t,n,r){b(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return w(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ne(){return Oe}function Oe(e){return e.type.prototype.ngOnChanges&&(e.setInput=Re),Pe}function Pe(){var e=De(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===ee)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Re(e,t,n,r){var i=De(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ee,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ie(u&&u.currentValue,t,a===ee),e[r]=t}function De(e){return e.__ngSimpleChanges__||null}function Me(e){Ae=e}function Le(){return void 0!==Ae?Ae:"undefined"!=typeof document?document:void 0}function Fe(e){return!!e.listen}Ne.ngInherit=!0;var qe={createRenderer:function(e,t){return Le()}};function Ue(e){for(;Array.isArray(e);)e=e[0];return e}function Ze(e,t){return Ue(t[e])}function je(e,t){return Ue(t[e.index])}function Ve(e,t){return e.data[t]}function Be(e,t){return e[t]}function He(e,t){var n=t[e];return be(n)?n:n[0]}function ze(e){return 4==(4&e[2])}function Ge(e){return 128==(128&e[2])}function We(e,t){return null==t?null:e[t]}function Ke(e){e[18]=0}function Ye(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Qe={lFrame:kt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Je(){return Qe.bindingsEnabled}function Xe(){return Qe.lFrame.lView}function $e(){return Qe.lFrame.tView}function et(e){return Qe.lFrame.contextLView=e,e[8]}function tt(){for(var e=nt();null!==e&&64===e.type;)e=e.parent;return e}function nt(){return Qe.lFrame.currentTNode}function rt(){var e=Qe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function it(e,t){var n=Qe.lFrame;n.currentTNode=e,n.isParent=t}function ot(){return Qe.lFrame.isParent}function at(){Qe.lFrame.isParent=!1}function st(){return Qe.isInCheckNoChangesMode}function ut(e){Qe.isInCheckNoChangesMode=e}function ct(){var e=Qe.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function lt(){return Qe.lFrame.bindingIndex}function ht(){return Qe.lFrame.bindingIndex++}function ft(e){var t=Qe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function dt(e){Qe.lFrame.inI18n=e}function pt(e){Qe.lFrame.currentDirectiveIndex=e}function vt(e){var t=Qe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function gt(){return Qe.lFrame.currentQueryIndex}function yt(e){Qe.lFrame.currentQueryIndex=e}function mt(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function _t(e,t,n){if(n&B.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&B.Host||(r=mt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var o=Qe.lFrame=bt();return o.currentTNode=t,o.lView=e,!0}function wt(e){var t=bt(),n=e[1];Qe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bt(){var e=Qe.lFrame,t=null===e?null:e.child;return null===t?kt(e):t}function kt(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xt(){var e=Qe.lFrame;return Qe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Tt=xt;function St(){var e=xt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ct(){return Qe.lFrame.selectedIndex}function Et(e){Qe.lFrame.selectedIndex=e}function At(){var e=Qe.lFrame;return Ve(e.tView,e.selectedIndex)}function It(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Nt(e,t,n){Rt(e,t,3,n)}function Ot(e,t,n,r){(3&e[2])===n&&Rt(e,t,n,r)}function Pt(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Rt(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,a=0,s=void 0!==r?65535&e[18]:0;s<o;s++)if("number"==typeof t[s+1]){if(a=t[s],null!=r&&a>=r)break}else t[s]<0&&(e[18]+=65536),(a<i||-1==i)&&(Dt(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Dt(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Mt=function e(t,n,r){b(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Lt(e,t,n){for(var r=Fe(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];qt(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function Ft(e){return 3===e||4===e||6===e}function qt(e){return 64===e.charCodeAt(0)}function Ut(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Zt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Zt(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function jt(e){return-1!==e}function Vt(e){return 32767&e}function Bt(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var Ht=!0;function zt(e){var t=Ht;return Ht=e,t}var Gt=0;function Wt(e,t){var n=Yt(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Kt(r.data,e),Kt(t,null),Kt(r.blueprint,null));var i=Qt(e,t),o=e.injectorIndex;if(jt(i))for(var a=Vt(i),s=Bt(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function Kt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Yt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Qt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Jt(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ue)&&(r=n[ue]),null==r&&(r=n[ue]=Gt++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Xt(e,t,n){if(n&B.Optional)return e;O(t,"NodeInjector")}function $t(e,t,n,r){if(n&B.Optional&&void 0===r&&(r=null),0==(n&(B.Self|B.Host))){var i=e[9],o=H(void 0);try{return i?i.get(t,r,n&B.Optional):z(t,r,n&B.Optional)}finally{H(o)}}return Xt(r,t,n)}function en(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(ue)?e[ue]:void 0;return"number"==typeof t?t>=0?255&t:nn:t}(n);if("function"==typeof o){if(!_t(t,e,r))return r&B.Host?Xt(i,n,r):$t(t,n,r,i);try{var a=o(r);if(null!=a||r&B.Optional)return a;O(n)}finally{Tt()}}else if("number"==typeof o){var s=null,u=Yt(e,t),c=-1,l=r&B.Host?t[16][6]:null;for((-1===u||r&B.SkipSelf)&&(-1!==(c=-1===u?Qt(e,t):t[u+8])&&un(r,!1)?(s=t[1],u=Vt(c),t=Bt(c,t)):u=-1);-1!==u;){var h=t[1];if(sn(o,u,h.data)){var f=rn(u,t,n,s,r,l);if(f!==tn)return f}-1!==(c=t[u+8])&&un(r,t[1].data[u+8]===l)&&sn(o,u,t)?(s=h,u=Vt(c),t=Bt(c,t)):u=-1}}}return $t(t,n,r,i)}var tn={};function nn(){return new cn(tt(),Xe())}function rn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=on(s,a,n,null==r?Te(s)&&Ht:r!=a&&0!=(3&s.type),i&B.Host&&o===s);return null!==u?an(t,a,u,s):tn}function on(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=1048575&o,u=e.directiveStart,c=o>>20,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Ce(d)&&d.type===n)return u}return null}function an(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Mt){var a=i;a.resolving&&function(e,t){throw new T("200","Circular dependency in DI detected for ".concat(e))}(I(o[n]));var s=zt(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?H(a.injectImpl):null;_t(e,r,B.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Oe(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,o[n],t)}finally{null!==u&&H(u),zt(s),a.resolving=!1,Tt()}}return i}function sn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function un(e,t){return!(e&B.Self||e&B.Host&&t)}var cn=function(){function e(t,n){b(this,e),this._tNode=t,this._lView=n}return w(e,[{key:"get",value:function(e,t){return en(this._tNode,this._lView,e,void 0,t)}}]),e}();function ln(e){return G(function(){for(var t=e.prototype.constructor,n=t[se]||hn(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[se]||hn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function hn(e){return _(e)?function(){var t=hn(m(e));return t&&t()}:Ee(e)}function fn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ft(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(tt(),e)}function dn(e,t,n){return G(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=E(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var pn=function(){function e(t,n){b(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return w(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),vn=new pn("AnalyzeForEntryComponents"),gn=Function;function yn(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),yn(r,t)):t!==e&&t.push(r)}return t}function mn(e,t){e.forEach(function(e){return Array.isArray(e)?mn(e,t):t(e)})}function _n(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function wn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function kn(e,t,n){var r=Tn(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function xn(e,t){var n=Tn(e,t);if(n>=0)return e[1|n]}function Tn(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var Sn,Cn={},En=/\n/gm,An=u({provide:String,useValue:u});function In(e){var t=Sn;return Sn=e,t}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?z(e,void 0,t):Sn.get(e,t&B.Optional?null:void 0,t)}function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default;return(q||Nn)(m(e),t)}function Pn(e){for(var t=[],n=0;n<e.length;n++){var r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=B.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}t.push(On(i,o))}else t.push(On(r))}return t}function Rn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}var Dn,Mn,Ln=Rn(dn("Inject",function(e){return{token:e}}),-1),Fn=Rn(dn("Optional"),8),qn=Rn(dn("SkipSelf"),4);function Un(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,$.trustedTypes))try{Dn=$.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}function Zn(e){var t;return(null===(t=function(){if(void 0===Mn&&(Mn=null,$.trustedTypes))try{Mn=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(t){}return Mn}())||void 0===t?void 0:t.createHTML(e))||e}var jn=function(){function e(t){b(this,e),this.changingThisBreaksApplicationSecurity=t}return w(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),Vn=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(jn),Bn=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(jn),Hn=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(jn),zn=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(jn),Gn=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(jn);function Wn(e){return e instanceof jn?e.changingThisBreaksApplicationSecurity:e}function Kn(e,t){var n=Yn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function Yn(e){return e instanceof jn&&e.getTypeName()||null}function Qn(e){return new Vn(e)}function Jn(e){return new Bn(e)}function Xn(e){return new Hn(e)}function $n(e){return new zn(e)}function er(e){return new Gn(e)}function tr(e){var t=new rr(e);return function(){try{return!!(new window.DOMParser).parseFromString(Un(""),"text/html")}catch(e){return!1}}()?new nr(t):t}var nr=function(){function e(t){b(this,e),this.inertDocumentHelper=t}return w(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Un(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(n){return null}}}]),e}(),rr=function(){function e(t){if(b(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return w(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Un(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Un(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),ir=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ar(e){return(e=String(e)).match(ir)||e.match(or)?e:"unsafe:"+e}function sr(e){return(e=String(e)).split(",").map(function(e){return ar(e.trim())}).join(", ")}function ur(e){var t,n={},r=g(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function cr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(e[s]=!0)}return e}var lr,hr=ur("area,br,col,hr,img,wbr"),fr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=ur("rp,rt"),pr=cr(dr,fr),vr=cr(hr,cr(fr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(dr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pr),gr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yr=ur("srcset"),mr=cr(gr,yr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_r=ur("script,style,template"),wr=function(){function e(){b(this,e),this.sanitizedSomething=!1,this.buf=[]}return w(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!vr.hasOwnProperty(t))return this.sanitizedSomething=!0,!_r.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(mr.hasOwnProperty(a)){var s=i.value;gr[a]&&(s=ar(s)),yr[a]&&(s=sr(s)),this.buf.push(" ",o,'="',xr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();vr.hasOwnProperty(t)&&!hr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(xr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),br=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kr=/([^\#-~ |!])/g;function xr(e){return e.replace(/&/g,"&amp;").replace(br,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tr(e,t){var n=null;try{lr=lr||tr(e);var r=t?String(t):"";n=lr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);return Un((new wr).sanitizeChildren(Sr(n)||n))}finally{if(n)for(var a=Sr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Sr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Cr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Er(e){var t=Ir();return t?Zn(t.sanitize(Cr.HTML,e)||""):Kn(e,"HTML")?Zn(Wn(e)):Tr(Le(),A(e))}function Ar(e){var t=Ir();return t?t.sanitize(Cr.URL,e)||"":Kn(e,"URL")?Wn(e):ar(A(e))}function Ir(){var e=Xe();return e&&e[12]}function Nr(e,t){e.__ngContext__=t}function Or(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Pr(e){return e.ngDebugContext}function Rr(e){return e.ngOriginalError}function Dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Mr=function(){function e(){b(this,e),this._console=console}return w(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Dr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Pr(e)?Pr(e):this._findContext(Rr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Rr(e);t&&Rr(t);)t=Rr(t);return t}}]),e}(),Lr=/^>|^->|<!--|-->|--!>|<!-$/g,Fr=/(<|>)/,qr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function Ur(e){return e.ownerDocument}function Zr(e){return e instanceof Function?e():e}var jr,Vr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Br(e,t){return jr(e,t)}function Hr(e){var t=e[3];return ke(t)?t[3]:t}function zr(e){return Wr(e[13])}function Gr(e){return Wr(e[4])}function Wr(e){for(;null!==e&&!ke(e);)e=e[4];return e}function Kr(e,t,n,r,i){if(null!=r){var o,a=!1;ke(r)?o=r:be(r)&&(a=!0,r=r[0]);var s=Ue(r);0===e&&null!==n?null==i?ai(t,n,s):oi(t,n,s,i||null,!0):1===e&&null!==n?oi(t,n,s,i||null,!0):2===e?mi(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Ue(n)&&Kr(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];wi(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Yr(e,t){return Fe(e)?e.createText(t):e.createTextNode(t)}function Qr(e,t,n){Fe(e)?e.setValue(t,n):t.textContent=n}function Jr(e,t){return e.createComment(function(e){return e.replace(Lr,function(e){return e.replace(Fr,"\u200b$1\u200b")})}(t))}function Xr(e,t,n){return Fe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function $r(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ye(i,-1)),n.splice(r,1)}function ei(e,t){if(!(e.length<=10)){var n,r=10+t,i=e[r];if(i){var o=i[17];null!==o&&o!==e&&$r(o,i),t>0&&(e[r-1][4]=i[4]);var a=wn(e,10+t);wi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function ti(e,t){if(!(256&t[2])){var n=t[11];Fe(n)&&n.destroyNode&&wi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return ni(e[1],e);for(;t;){var n=null;if(be(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)be(t)&&ni(t[1],t),t=t[3];null===t&&(t=e),be(t)&&ni(t[1],t),n=t&&t[4]}t=n}}(t)}}function ni(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Mt)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(t):Ue(t[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();t[7]=null}}(e,t),1===t[1].type&&Fe(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&ke(t[3])){n!==t[3]&&$r(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function ri(e,t,n){return ii(e,t.parent,n)}function ii(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===K.None||i===K.Emulated)return null}return je(r,n)}function oi(e,t,n,r,i){Fe(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function ai(e,t,n){Fe(e)?e.appendChild(t,n):t.appendChild(n)}function si(e,t,n,r,i){null!==r?oi(e,t,n,r,i):ai(e,t,n)}function ui(e,t){return Fe(e)?e.parentNode(t):t.parentNode}function ci(e,t,n){return fi(e,t,n)}function li(e,t,n){return 40&e.type?je(e,n):null}var hi,fi=li;function di(e,t){fi=e,hi=t}function pi(e,t,n,r){var i=ri(e,r,t),o=t[11],a=ci(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)si(o,i,n[s],a,!1);else si(o,i,n,a,!1);void 0!==hi&&hi(o,r,t,n,i)}function vi(e,t){if(null!==t){var n=t.type;if(3&n)return je(t,e);if(4&n)return yi(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return vi(e,r);var i=e[t.index];return ke(i)?yi(-1,i):Ue(i)}if(32&n)return Br(t,e)()||Ue(e[t.index]);var o=gi(e,t);return null!==o?Array.isArray(o)?o[0]:vi(Hr(e[16]),o):vi(e,t.next)}return null}function gi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function yi(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return vi(r,i)}return t[7]}function mi(e,t,n){var r=ui(e,t);r&&function(e,t,n,r){Fe(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function _i(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===t&&(s&&Nr(Ue(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)_i(e,t,n.child,r,i,o,!1),Kr(t,e,i,s,o);else if(32&u){for(var c=Br(n,r),l=void 0;l=c();)Kr(t,e,i,l,o);Kr(t,e,i,s,o)}else 16&u?bi(e,t,r,n,i,o):Kr(t,e,i,s,o);n=a?n.projectionNext:n.next}}function wi(e,t,n,r,i,o){_i(n,r,e.firstChild,t,i,o,!1)}function bi(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Kr(t,e,i,s[u],o);else _i(e,t,s,a[3],i,o,!0)}function ki(e,t,n){Fe(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function xi(e,t,n){Fe(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Ti(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Si(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Ti((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Ci(e){return 4===e.type&&"ng-template"!==e.value}function Ei(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function Ai(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(Ft(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Ei(e,u,n)||""===u&&1===t.length){if(Ii(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Si(e.attrs,c,n)){if(Ii(r))return!1;a=!0}continue}var l=Ni(8&r?"class":u,i,Ci(e),n);if(-1===l){if(Ii(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Ti(f,c,0)||2&r&&c!==h){if(Ii(r))return!1;a=!0}}}}else{if(!a&&!Ii(r)&&!Ii(u))return!1;if(a&&Ii(u))continue;a=!1,r=u|1&r}}return Ii(r)||a}function Ii(e){return 0==(1&e)}function Ni(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Oi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Ai(e,t[r],n))return!0;return!1}function Pi(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Ri(e,t){return e?":not("+t.trim()+")":t}function Di(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ii(a)||(t+=Ri(o,i),i=""),r=a,o=o||!Ii(r);n++}return""!==i&&(t+=Ri(o,i)),t}var Mi={};function Li(e){Fi($e(),Xe(),Ct()+e,st())}function Fi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Nt(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Ot(t,o,0,n)}Et(n)}function qi(e,t){return e<<17|t<<2}function Ui(e){return e>>17&32767}function Zi(e){return 2|e}function ji(e){return(131068&e)>>2}function Vi(e,t){return-131069&e|t<<2}function Bi(e){return 1|e}function Hi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];yt(i),a.contentQueries(2,t[o],o)}}}function zi(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Ke(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Gi(e,t,n,r,i){var o=e.data[t];if(null===o)o=Wi(e,t,n,r,i),Qe.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=rt();o.injectorIndex=null===a?-1:a.injectorIndex}return it(o,!0),o}function Wi(e,t,n,r,i){var o=nt(),a=ot(),s=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Ki(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Yi(e,t,n){wt(t);try{var r=e.viewQuery;null!==r&&Eo(1,r,n);var i=e.template;null!==i&&Xi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Hi(e,t),e.staticViewQueries&&Eo(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)ko(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,St()}}function Qi(e,t,n,r){var i=t[2];if(256!=(256&i)){wt(t);var o=st();try{Ke(t),Qe.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Xi(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Nt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Ot(t,u,0,null),Pt(t,0)}if(function(e){for(var t=zr(e);null!==t;t=Gr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Ye(o,1),i[2]|=1024}}(t),function(e){for(var t=zr(e);null!==t;t=Gr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Ge(r)&&Qi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Hi(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&Nt(t,c)}else{var l=e.contentHooks;null!==l&&Ot(t,l,1),Pt(t,1)}!function(e,t){var n,r,i,o=e.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Et(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Qe.lFrame).bindingIndex=i.bindingRootIndex=n,pt(r),l(2,t[u])}}}finally{Et(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)wo(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Eo(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Nt(t,d)}else{var p=e.viewHooks;null!==p&&Ot(t,p,2),Pt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ye(t[3],-1))}finally{St()}}}function Ji(e,t,n,r){var i=t[10],o=!st(),a=ze(t);try{o&&!a&&i.begin&&i.begin(),a&&Yi(e,t,r),Qi(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Xi(e,t,n,r,i){var o=Ct(),a=2&r;try{Et(-1),a&&t.length>20&&Fi(e,t,20,st()),n(r,i)}finally{Et(o)}}function $i(e,t,n){if(xe(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function eo(e,t,n){Je()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Wt(n,t),Nr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Ce(u);c&&vo(t,n,u);var l=an(t,e,s,n);Nr(l,t),null!==a&&yo(0,s-i,l,u,0,a),c&&(He(n.index,t)[8]=l)}}(e,t,n,je(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Qe.lFrame.currentDirectiveIndex;try{Et(o);for(var s=r;s<i;s++){var u=e.data[s],c=t[s];pt(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||co(u,c)}}finally{Et(-1),pt(a)}}(e,t,n))}function to(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function no(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ro(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ro(e,t,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Mi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function io(e,t,n,r){var i=Io(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&No(e).push(r,i.length-1))}function oo(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ao(e,t,n,r,i,o,a,s){var u,c,l=je(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(Po(e,n,u,r,i),Te(t)&&function(e,t){var n=He(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.value||"",r):i,Fe(o)?o.setProperty(l,r,i):qt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function so(e,t,n,r){var i=!1;if(Je()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Oi(n,a.selectors,!1)&&(i||(i=[]),Jt(Wt(n,t),e,a.type),Ce(a)?(lo(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){i=!0,fo(n,e.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ki(e,t,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ut(n.mergedAttrs,d.hostAttrs),po(e,n,t,h,d),ho(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Ci(t)?null:mo(l,i);o.push(h),a=oo(l,u,a),s=oo(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new T("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Ut(n.mergedAttrs,n.attrs),i}function uo(e,t,n,r,i,o){var a=o.hostBindings;if(a){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function co(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function lo(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ho(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ce(t)&&(n[""]=e)}}function fo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function po(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=Ee(i.type)),a=new Mt(o,Ce(i),null);e.blueprint[r]=a,n[r]=a,uo(e,t,0,r,Ki(e,n,i.hostVars,Mi),i)}function vo(e,t,n){var r=je(t,e),i=no(n),o=e[10],a=xo(e,zi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=a}function go(e,t,n,r,i,o,a){if(null==o)Fe(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==a?A(o):a(o,r||"",i);Fe(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}function yo(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function mo(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function _o(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function wo(e,t){var n=He(t,e);if(Ge(n)){var r=n[1];80&n[2]?Qi(r,n,r.template,n[8]):n[5]>0&&bo(n)}}function bo(e){for(var t=zr(e);null!==t;t=Gr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Qi(i,r,i.template,r[8])}else r[5]>0&&bo(r)}var o=e[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=He(o[a],e);Ge(s)&&s[5]>0&&bo(s)}}function ko(e,t){var n=He(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Yi(r,n,n[8])}function xo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function To(e){for(;e;){e[2]|=64;var t=Hr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function So(e,t,n){var r=t[10];r.begin&&r.begin();try{Qi(e,t,e.template,n)}catch(i){throw Oo(t,i),i}finally{r.end&&r.end()}}function Co(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Or(n),i=r[1];Ji(i,r,i.template,n)}}(e[8])}function Eo(e,t,n){yt(0),t(e,n)}var Ao=Promise.resolve(null);function Io(e){return e[7]||(e[7]=[])}function No(e){return e.cleanup||(e.cleanup=[])}function Oo(e,t){var n=e[9],r=n?n.get(Mr,null):null;r&&r.handleError(t)}function Po(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ro(e,t,n){var r=Ze(t,e);Qr(e[11],r,n)}function Do(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=f(i,s):2==o&&(r=f(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Mo,Lo=new pn("INJECTOR",-1),Fo=function(){function e(){b(this,e)}return w(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn;if(t===Cn){var n=new Error("NullInjectorError: No provider for ".concat(h(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),qo=new pn("Set Injector scope."),Uo={},Zo={};function jo(){return void 0===Mo&&(Mo=new Fo),Mo}function Vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Bo(e,n,t||jo(),r)}var Bo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&mn(n,function(e){return i.processProvider(e,t,n)}),mn([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(Lo,Go(void 0,this));var s=this.records.get(qo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:h(t))}return w(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;this.assertNotDestroyed();var r,i=In(this);try{if(!(n&B.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof pn)&&M(e);o=a&&this.injectableDefInScope(a)?Go(Ho(e),Uo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&B.Self?jo():this.parent).get(e,t=n&B.Optional&&t===Cn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(h(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=h(t);if(Array.isArray(t))i=t.map(h).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):h(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(En,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{In(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(h(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=m(e)))return!1;var i=F(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{mn(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;mn(i,function(e){return r.processProvider(e,n,i||te)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=Ee(a)||function(){return new a};this.records.set(a,Go(h,Uo));var f=i.providers;if(null!=f&&!s){var d=e;mn(f,function(e){return r.processProvider(e,d,f)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Ko(e=m(e))?e:m(e&&e.provide),i=function(e,t,n){return Wo(e)?Go(void 0,e.useValue):Go(zo(e),Uo)}(e);if(Ko(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Go(void 0,Uo,!0)).factory=function(){return Pn(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Uo&&(t.value=Zo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function Ho(e){var t=M(e),n=null!==t?t.factory:Ee(e);if(null!==n)return n;if(e instanceof pn)throw new Error("Token ".concat(h(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=bn(t,"?");throw new Error("Can't resolve all parameters for ".concat(h(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[U]||e[j]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function zo(e,t,n){var r,i;if(Ko(e)){var o=m(e);return Ee(o)||Ho(o)}if(Wo(e))r=function(){return m(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,p(Pn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return On(m(e.useExisting))};else{var a=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Ee(a)||Ho(a);r=function(){return E(a,p(Pn(e.deps)))}}return r}function Go(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Wo(e){return null!==e&&"object"==typeof e&&An in e}function Ko(e){return"function"==typeof e}var Yo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Vo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Qo=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Yo(e,t,""):Yo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Cn,e.NULL=new Fo,e.\u0275prov=R({token:e,providedIn:"any",factory:function(){return On(Lo)}}),e.__NG_ELEMENT_ID__=-1,e}();function Jo(e,t){It(Or(e)[1],tt())}function Xo(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Ce(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=$o(e.inputs),o.declaredInputs=$o(e.declaredInputs),o.outputs=$o(e.outputs);var a=i.hostBindings;a&&na(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ea(e,s),u&&ta(e,u),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),Ce(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var h=i.features;if(h)for(var f=0;f<h.length;f++){var d=h[f];d&&d.ngInherit&&d(e),d===Xo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ut(i.hostAttrs,n=Ut(n,i.hostAttrs))}}(r)}function $o(e){return e===ee?{}:e===te?[]:e}function ea(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ta(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function na(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var ra=null;function ia(){if(!ra){var e=$.Symbol;if(e&&e.iterator)ra=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ra=r)}}return ra}var oa=function(){function e(t){b(this,e),this.wrapped=t}return w(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function aa(e){return!!sa(e)&&(Array.isArray(e)||!(e instanceof Map)&&ia()in e)}function sa(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ua(e,t,n){return e[t]=n}function ca(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function la(e,t,n,r){var i=ca(e,t,n);return ca(e,t+1,r)||i}function ha(e,t,n,r){var i=Xe();return ca(i,ht(),t)&&($e(),function(e,t,n,r,i,o){var a=je(e,t);go(t[11],a,o,e.value,n,r,i)}(At(),i,e,t,n,r)),ha}function fa(e,t,n,r){return ca(e,ht(),n)?t+A(n)+r:Mi}function da(e,t,n,r,i,o,a,s){var u=Xe(),c=$e(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Gi(t,e,4,a||null,We(c,s));so(t,n,l,We(c,u)),It(t,l);var h=l.tViews=ro(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,a):c.data[l];it(h,!1);var f=u[11].createComment("");pi(c,u,f,h),Nr(f,u),xo(u,u[l]=_o(f,u,f,h)),Se(h)&&eo(c,u,h),null!=a&&to(u,h,s)}function pa(e){return Be(Qe.lFrame.contextLView,20+e)}function va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B.Default,n=Xe();return null===n?On(e,t):en(tt(),n,m(e),t)}function ga(e,t,n){var r=Xe();return ca(r,ht(),t)&&ao($e(),At(),r,e,t,r[11],n,!1),ga}function ya(e,t,n,r,i){var o=i?"class":"style";Po(e,n,t.inputs[o],o,r)}function ma(e,t,n,r){var i=Xe(),o=$e(),a=20+e,s=i[11],u=i[a]=Xr(s,t,Qe.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Gi(t,e,2,i,We(s,o));return so(t,n,u,We(s,a)),null!==u.attrs&&Do(u,u.attrs,!1),null!==u.mergedAttrs&&Do(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,o,i,0,t,n,r):o.data[a];it(c,!0);var l=c.mergedAttrs;null!==l&&Lt(s,u,l);var h=c.classes;null!==h&&xi(s,u,h);var f=c.styles;null!==f&&ki(s,u,f),64!=(64&c.flags)&&pi(o,i,u,c),0===Qe.lFrame.elementDepthCount&&Nr(u,i),Qe.lFrame.elementDepthCount++,Se(c)&&(eo(o,i,c),$i(o,c,i)),null!==r&&to(i,c)}function _a(){var e=tt();ot()?at():it(e=e.parent,!1);var t=e;Qe.lFrame.elementDepthCount--;var n=$e();n.firstCreatePass&&(It(n,e),xe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ya(n,t,Xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ya(n,t,Xe(),t.stylesWithoutHost,!1)}function wa(e,t,n,r){ma(e,t,n,r),_a()}function ba(e,t,n){var r=Xe(),i=$e(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=We(o,r),s=Gi(t,e,8,"ng-container",a);return null!==a&&Do(s,a,!0),so(t,n,s,We(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,i,r,t,n):i.data[o];it(a,!0);var s=r[o]=r[11].createComment("");pi(i,r,s,a),Nr(s,r),Se(a)&&(eo(i,r,a),$i(i,a,r)),null!=n&&to(r,a)}function ka(){var e=tt(),t=$e();ot()?at():it(e=e.parent,!1),t.firstCreatePass&&(It(t,e),xe(e)&&t.queries.elementEnd(e))}function xa(){return Xe()}function Ta(e){return!!e&&"function"==typeof e.then}function Sa(e){return!!e&&"function"==typeof e.subscribe}var Ca=Sa;function Ea(e,t,n,r){var i=Xe(),o=$e(),a=tt();return function(e,t,n,r,i,o,a,s){var u=Se(r),c=e.firstCreatePass&&No(e),l=Io(t),h=!0;if(3&r.type||s){var f=je(r,t),d=s?s(f):f,p=l.length,v=s?function(e){return s(Ue(e[r.index]))}:r.index;if(Fe(n)){var g=null;if(!s&&u&&(g=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Ia(r,t,0,o,!1);var y=n.listen(d,i,o);l.push(o,y),c&&c.push(i,v,p,p+1)}}else o=Ia(r,t,0,o,!0),d.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,p,a)}else o=Ia(r,t,0,o,!1);var m,_=r.outputs;if(h&&null!==_&&(m=_[i])){var w=m.length;if(w)for(var b=0;b<w;b+=2){var k=t[m[b]][m[b+1]].subscribe(o),x=l.length;l.push(o,k),c&&c.push(i,r.index,x,-(x+1))}}}(o,i,i[11],a,e,t,!!n,r),Ea}function Aa(e,t,n,r){try{return!1!==n(r)}catch(i){return Oo(e,i),!1}}function Ia(e,t,n,r,i){return function n(o){if(o===Function)return r;var a=2&e.flags?He(e.index,t):t;0==(32&t[2])&&To(a);for(var s=Aa(t,0,r,o),u=n.__ngNextListenerFn__;u;)s=Aa(t,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Qe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qe.lFrame.contextLView))[8]}(e)}function Oa(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Oi(e,o,!0):Pi(r,o))return i}else n=i}return n}function Pa(e){var t=Xe()[16][6];if(!t.projection)for(var n=t.projection=bn(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Oa(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Ra(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Xe(),i=$e(),o=Gi(i,20+e,16,null,n||null);null===o.projection&&(o.projection=t),at(),64!=(64&o.flags)&&function(e,t,n){bi(t[11],0,t,n,ri(e,n,t),ci(n.parent||t[6],n,t))}(i,r,o)}function Da(e,t,n){return Ma(e,"",t,"",n),Da}function Ma(e,t,n,r,i){var o=Xe(),a=fa(o,t,n,r);return a!==Mi&&ao($e(),At(),o,e,a,o[11],i,!1),Ma}function La(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Ui(o):ji(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];Fa(e[s],t)&&(u=!0,e[s+1]=r?Bi(c):Zi(c)),s=r?Ui(c):ji(c)}u&&(e[n+1]=r?Zi(o):Bi(o))}function Fa(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Tn(e,t)>=0}var qa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ua(e){return e.substring(qa.key,qa.keyEnd)}function Za(e,t){var n=qa.textEnd;return n===t?-1:(t=qa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,qa.key=t,n),ja(e,t,n))}function ja(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Va(e,t,n){return Ga(e,t,n,!1),Va}function Ba(e,t){return Ga(e,t,null,!0),Ba}function Ha(e){Wa(kn,za,e,!0)}function za(e,t){for(var n=function(e){return function(e){qa.key=0,qa.keyEnd=0,qa.value=0,qa.valueEnd=0,qa.textEnd=e.length}(e),Za(e,ja(e,0,qa.textEnd))}(t);n>=0;n=Za(t,n))kn(e,Ua(t),!0)}function Ga(e,t,n,r){var i=Xe(),o=$e(),a=ft(2);o.firstUpdatePass&&Ya(o,e,a,r),t!==Mi&&ca(i,a,t)&&Xa(o,o.data[Ct()],i,i[11],e,i[a+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=h(Wn(e)))),e}(t,n),r,a)}function Wa(e,t,n,r){var i=$e(),o=ft(2);i.firstUpdatePass&&Ya(i,null,o,r);var a=Xe();if(n!==Mi&&ca(a,o,n)){var s=i.data[Ct()];if(ts(s,r)&&!Ka(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=f(u,n||"")),ya(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Mi&&(i=te);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Xa(e,t,n,r,v,p,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return te;var r=[],i=Wn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Ka(e,t){return t>=e.expandoStartIndex}function Ya(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[Ct()],a=Ka(e,n);ts(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=vt(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ja(n=Qa(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Qa(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==ji(r))return e[Ui(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Ui(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ja(s=Qa(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ja(r,e[o].hostAttrs,n);return Ja(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Ui(a),u=ji(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||Tn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Ui(e[s+1]);e[r+1]=qi(f,s),0!==f&&(e[f+1]=Vi(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=qi(s,0),0!==s&&(e[s+1]=Vi(e[s+1],r)),s=r;else e[r+1]=qi(u,0),0===s?s=r:e[u+1]=Vi(e[u+1],r),u=r;l&&(e[r+1]=Zi(e[r+1])),La(e,c,r,!0),La(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Tn(o,t)>=0&&(n[r+1]=Bi(n[r+1]))}(t,c,e,r,o),a=qi(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Qa(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ja(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ja(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),kn(e,a,!!n||t[++o]))}return void 0===e?null:e}function Xa(e,t,n,r,i,o,a,s){if(3&t.type){var u=e.data,c=u[s+1];es(1==(1&c)?$a(u,t,n,i,ji(c),a):void 0)||(es(o)||2==(2&c)&&(o=$a(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Fe(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Vr.DashCase;if(null==i)o?e.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Vr.Important),o?e.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Ze(Ct(),n),i,o))}}function $a(e,t,n,r,i,o){for(var a,s=null===t;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Mi&&(f=h?te:void 0);var d=h?xn(f,r):l===r?f:void 0;if(c&&!es(d)&&(d=xn(u,r)),es(d)&&(a=d,s))return a;var p=e[i+1];i=s?Ui(p):ji(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(a=xn(v,r))}return a}function es(e){return void 0!==e}function ts(e,t){return 0!=(e.flags&(t?16:32))}function ns(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Xe(),r=$e(),i=e+20,o=r.firstCreatePass?Gi(r,i,1,t,null):r.data[i],a=n[i]=Yr(n[11],t);pi(r,n,a,o),it(o,!1)}function rs(e){return is("",e,""),rs}function is(e,t,n){var r=Xe(),i=fa(r,e,t,n);return i!==Mi&&Ro(r,Ct(),i),is}function os(e,t,n,r,i){var o=Xe(),a=function(e,t,n,r,i,o){var a=la(e,lt(),n,i);return ft(2),a?t+A(n)+r+A(i)+o:Mi}(o,e,t,n,r,i);return a!==Mi&&Ro(o,Ct(),a),os}function as(e,t,n,r,i,o,a,s,u){Wa(kn,za,function(e,t,n,r,i,o,a,s,u,c){var l=function(e,t,n,r,i,o){var a=la(e,t,n,r);return la(e,t+2,i,o)||a}(e,lt(),n,i,a,u);return ft(4),l?t+A(n)+r+A(i)+o+A(a)+s+A(u)+c:Mi}(Xe(),e,t,n,r,i,o,a,s,u),!0)}function ss(e,t,n){var r=Xe();return ca(r,ht(),t)&&ao($e(),At(),r,e,t,r[11],n,!0),ss}function us(e,t,n){var r=Xe();if(ca(r,ht(),t)){var i=$e(),o=At();ao(i,o,r,e,t,function(e,t,n){return(null===e||Ce(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(vt(i.data),o,r),n,!0)}return us}var cs=void 0,ls=["en",[["a","p"],["AM","PM"],cs],[["AM","PM"],cs,cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cs,"{1} 'at' {0}",cs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],hs={};function fs(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=ps(t);if(n)return n;var r=t.split("-")[0];if(n=ps(r))return n;if("en"===r)return ls;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function ds(e){return fs(e)[vs.PluralCase]}function ps(e){return e in hs||(hs[e]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[e]),hs[e]}var vs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),gs=["zero","one","two","few","many"],ys={marker:"element"},ms={marker:"ICU"},_s=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({}),ws="en-US";function bs(e){var t;null==(t=e)&&P("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(ws=e.toLowerCase().replace(/_/g,"-"))}function ks(e,t,n){var r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?li(e,0,n):Ue(n[i])}function xs(e,t,n,r,i){var o=t.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&t.type||(s=a,a=i),null!==a&&0==(2&t.flags))for(var u=1;u<o.length;u++)oi(e,a,n[o[u]],s,!1)}}function Ts(e,t){if(e.push(t),e.length>1)for(var n=e.length-2;n>=0;n--){var r=e[n];Ss(r)||Cs(r,t)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Es(r,t.index)}var i}function Ss(e){return!(64&e.type)}function Cs(e,t){return Ss(t)||e.index>t.index}function Es(e,t){var n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(di(ks,xs),e.insertBeforeIndex=t)}function As(e,t){var n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Is(e,t,n){var r=Wi(e,n,64,null,null);return Ts(t,r),r}function Ns(e,t){var n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Os=0,Ps=0;function Rs(e,t,n,r){for(var i,o=n[11],a=null,s=0;s<t.length;s++){var u=t[s];if("string"==typeof u){var c=t[++s];null===n[c]&&(n[c]=Yr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,h=void 0,f=void 0;if(null===a&&(a=l,i=ui(o,r)),l===a?(h=r,f=i):(h=null,f=Ue(n[l])),null!==f){var d=(131070&u)>>>1;oi(o,f,n[d],h,!1);var p=As(e,d);if(null!==p&&"object"==typeof p){var v=Ns(p,n);null!==v&&Rs(e,p.create[v],n,n[p.anchorIdx])}}break;case 1:var g=t[++s],y=t[++s];go(o,Ze(u>>>1,n),null,null,g,y,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case ms:var m=t[++s],_=t[++s];null===n[_]&&Nr(n[_]=Jr(o,m),n);break;case ys:var w=t[++s],b=t[++s];null===n[b]&&Nr(n[b]=Xr(o,w,null),n)}}}function Ds(e,t,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=A(t[r-l]);else{var h=l>>>2;switch(3&l){case 1:var f=n[++c],d=n[++c],p=e.data[h];"string"==typeof p?go(t[11],t[h],null,p,f,u,d):ao(e,p,t,f,u,t[11],d,!1);break;case 0:var v=t[h];null!==v&&Qr(t[11],v,u);break;case 2:Ls(e,As(e,h),t,u);break;case 3:Ms(e,As(e,h),r,t)}}}else{var g=n[o+1];if(g>0&&3==(3&g)){var y=As(e,g>>>2);t[y.currentCaseLViewIndex]<0&&Ms(e,y,r,t)}}o+=s}}function Ms(e,t,n,r){var i=r[t.currentCaseLViewIndex];if(null!==i){var o=Os;i<0&&(i=r[t.currentCaseLViewIndex]=~i,o=-1),Ds(e,r,t.update[i],n,o)}}function Ls(e,t,n,r){var i=function(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=function(e,t){var n=ds(t)(parseInt(e,10)),r=gs[n];return void 0!==r?r:"other"}(t,ws);-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Ns(t,n)!==i&&(Fs(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[t.anchorIdx];o&&Rs(e,t.create[i],n,o)}}function Fs(e,t,n){var r=Ns(t,n);if(null!==r)for(var i=t.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=Ze(a,n);null!==s&&mi(n[11],s)}else Fs(e,As(e,~a),n)}}var qs=/\ufffd(\d+):?\d*\ufffd/gi,Us=/\ufffd(\d+)\ufffd/,Zs=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,js=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Vs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Bs=/\uE500/g;function Hs(e,t,n,r,i,o,a){var s=Ki(e,r,1,null),u=s<<_s.SHIFT,c=rt();t===c&&(c=null),null===c&&(u|=_s.APPEND_EAGERLY),a&&(u|=_s.COMMENT,void 0===jr&&(jr=function(){var e,t,n=[],r=-1;function i(e,n){r=0;var i=Ns(e,n);t=null!==i?e.remove[i]:te}function o(){if(r<t.length){var a=t[r++];return a>0?e[a]:(n.push(r,t),i(e[1].data[~a],e),o())}return 0===n.length?null:(t=n.pop(),r=n.pop(),o())}return function(t,r){for(e=r;n.length;)n.pop();return i(t.value,r),o}}())),i.push(u,null===o?"":o);var l=Wi(e,s,a?32:1,null===o?"":o,null);Ts(n,l);var h=l.index;return it(l,!1),null!==c&&t!==c&&function(e,t){var n,r=e.insertBeforeIndex;null===r?(di(ks,xs),r=e.insertBeforeIndex=[null,t]):(1!=(n=Array.isArray(r))&&P("Expecting array here",n,!0,"=="),r.push(t))}(c,h),l}function zs(e,t,n,r,i,o,a){var s=a.match(qs),u=Hs(e,t,n,o,r,s?null:a,!1);s&&Gs(i,a,u.index,null,0,null)}function Gs(e,t,n,r,i,o){var a=e.length,s=a+1;e.push(null,null);for(var u=a+2,c=t.split(qs),l=0,h=0;h<c.length;h++){var f=c[h];if(1&h){var d=i+parseInt(f,10);e.push(-1-d),l|=Ws(d)}else""!==f&&e.push(f)}return e.push(n<<2|(r?1:0)),r&&e.push(r,o),e[a]=l,e[s]=e.length-u,l}function Ws(e){return 1<<Math.min(e,31)}function Ks(e){for(var t,n,r="",i=0,o=!1;null!==(t=js.exec(e));)o?t[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=t.index,o=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],o=!0);return r+=e.substr(i)}function Ys(e,t,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Ki(e,t,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(Ws(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,o),function(e,t,n){var r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Xs(e,s,t,n,r,i.cases[c],l.join(""),h)|a}a&&function(e,t,n){e.push(t,1,n<<2|3)}(n,a,o)}function Qs(e){for(var t=[],n=[],r=1,i=0,o=Js(e=e.replace(Zs,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&t.push(s);var u=Js(o[a++]);t.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:t,values:n}}function Js(e){if(!e)return[];var t,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;t=o.exec(e);){var a=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var s=e.substring(n,a);Zs.test(s)?i.push(Qs(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=e.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=e.substring(n);return i.push(c),i}function Xs(e,t,n,r,i,o,a,s){var u=[],c=[],l=[];t.cases.push(o),t.create.push(u),t.remove.push(c),t.update.push(l);var h=tr(Le()).getInertBodyElement(a),f=Sr(h)||h;return f?$s(e,t,n,r,u,c,l,f,i,s,0):0}function $s(e,t,n,r,i,o,a,s,u,c,l){for(var h=0,f=s.firstChild;f;){var d=Ki(e,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:var p=f,v=p.tagName.toLowerCase();if(vr.hasOwnProperty(v)){nu(i,ys,v,u,d),e.data[d]=v;for(var g=p.attributes,y=0;y<g.length;y++){var m=g.item(y),_=m.name.toLowerCase();m.value.match(qs)?mr.hasOwnProperty(_)&&Gs(a,m.value,d,m.name,0,gr[_]?ar:yr[_]?sr:null):ru(i,d,m)}h=$s(e,t,n,r,i,o,a,f,d,c,l+1)|h,eu(o,d,l)}break;case Node.TEXT_NODE:var w=f.textContent||"",b=w.match(qs);nu(i,null,b?"":w,u,d),eu(o,d,l),b&&(h=Gs(a,w,d,null,0,null)|h);break;case Node.COMMENT_NODE:var k=Us.exec(f.textContent||"");if(k){var x=c[parseInt(k[1],10)];nu(i,ms,"",u,d),Ys(e,n,r,u,x,d),tu(o,d,l)}}f=f.nextSibling}return h}function eu(e,t,n){0===n&&e.push(t)}function tu(e,t,n){0===n&&(e.push(~t),e.push(t))}function nu(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function ru(e,t,n){e.push(t<<1|1,n.name,n.value)}function iu(e,t,n){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=$e(),i=Xe(),o=20+e,a=We(r.consts,t),s=rt();r.firstCreatePass&&function(e,t,n,r,i,o){for(var a,s=rt(),u=[],c=[],l=[[]],h=(a=i=function(e,t){if(function(e){return-1===e}(t))return Ks(e);var n=e.indexOf(":".concat(t,"\ufffd"))+2+t.toString().length,r=e.search(new RegExp("\ufffd\\/\\*\\d+:".concat(t,"\ufffd")));return Ks(e.substring(n,r))}(i,o),a.replace(Bs," ")).split(Vs),f=0;f<h.length;f++){var d=h[f];if(0==(1&f))for(var p=Js(d),v=0;v<p.length;v++){var g=p[v];if(0==(1&v)){var y=g;""!==y&&zs(e,s,l[0],u,c,n,y)}else{var m=g;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Ys(e,n,c,t,m,Hs(e,s,l[0],n,u,"",!0).index)}}else{var _=47===d.charCodeAt(0),w=(d.charCodeAt(_?1:0),20+Number.parseInt(d.substring(_?2:1)));if(_)l.shift(),it(rt(),!1);else{var b=Is(e,l[0],w);l.unshift([]),it(b,!0)}}}e.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=ii(r,s===i[6]?null:s,i);!function(e,t,n,r){for(var i=e[11],o=0;o<t.length;o++){var a=t[o++],s=t[o],u=(a&_s.COMMENT)===_s.COMMENT,c=(a&_s.APPEND_EAGERLY)===_s.APPEND_EAGERLY,l=a>>>_s.SHIFT,h=e[l];null===h&&(h=e[l]=u?i.createComment(s):Yr(i,s)),c&&null!==n&&oi(i,n,h,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),dt(!0)})(e,t,n),dt(!1)}function ou(e){return ca(Xe(),ht(),e)&&(Os|=1<<Math.min(Ps,31)),Ps++,ou}function au(e){!function(e,t,n){if(Ps>0){var r=e.data[n];Ds(e,t,Array.isArray(r)?r:r.update,lt()-Ps-1,Os)}Os=0,Ps=0}($e(),Xe(),e+20)}function su(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(var o=0;o<e.length;o++)su(e[o],t,n,r,i);else{var a=$e(),s=Xe(),u=Ko(e)?e:m(e.provide),c=zo(e),l=tt(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Ko(e)||!e.multi){var p=new Mt(c,i,va),v=lu(u,t,i?h:h+d,f);-1===v?(Jt(Wt(l,s),a,u),uu(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=lu(u,t,h+d,f),y=lu(u,t,h,h+d),_=g>=0&&n[g],w=y>=0&&n[y];if(i&&!w||!i&&!_){Jt(Wt(l,s),a,u);var b=function(e,t,n,r,i){var o=new Mt(e,n,va);return o.multi=[],o.index=t,o.componentProviders=0,cu(o,i,r&&!n),o}(i?fu:hu,n.length,i,r,c);!i&&w&&(n[y].providerFactory=b),uu(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),s.push(b)}else uu(a,e,g>-1?g:y,cu(n[i?y:g],c,!i&&r));!i&&r&&w&&n[y].componentProviders++}}}function uu(e,t,n,r){var i=Ko(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function cu(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function lu(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function hu(e,t,n,r){return du(this.multi,[])}function fu(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=an(n,n[1],this.providerFactory.index,r);du(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else du(o,i=[]);return i}function du(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function pu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=$e();if(r.firstCreatePass){var i=Ce(e);su(n,r.data,r.blueprint,i,!0),su(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var vu=function e(){b(this,e)},gu=function(){function e(){b(this,e)}return w(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(h(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),yu=function(){var e=function e(){b(this,e)};return e.NULL=new gu,e}();function mu(){}function _u(e,t){return new bu(je(e,t))}var wu=function(){return _u(tt(),Xe())},bu=function(){var e=function e(t){b(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=wu,e}();function ku(e){return e instanceof bu?e.nativeElement:e}var xu=function e(){b(this,e)},Tu=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=function(){return Su()},e}(),Su=function(){var e=Xe(),t=He(tt().index,e);return function(e){return e[11]}(be(t)?t:e)},Cu=function(){var e=function e(){b(this,e)};return e.\u0275prov=R({token:e,providedIn:"root",factory:function(){return null}}),e}(),Eu=function e(t){b(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Au=new Eu("12.0.2"),Iu=function(){function e(){b(this,e)}return w(e,[{key:"supports",value:function(e){return aa(e)}},{key:"create",value:function(e){return new Ou(e)}}]),e}(),Nu=function(e,t){return t},Ou=function(){function e(t){b(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Nu}return w(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Mu(n,r,i)?t:n,a=Mu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!aa(e))throw new Error("Error trying to diff '".concat(h(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[ia()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Pu(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Du),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Du),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),Pu=function e(t,n){b(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ru=function(){function e(){b(this,e),this._head=null,this._tail=null}return w(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Du=function(){function e(){b(this,e),this.map=new Map}return w(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ru,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Mu(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Lu=function(){function e(){b(this,e)}return w(e,[{key:"supports",value:function(e){return e instanceof Map||sa(e)}},{key:"create",value:function(){return new Fu}}]),e}(),Fu=function(){function e(){b(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return w(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||sa(e)))throw new Error("Error trying to diff '".concat(h(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new qu(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),qu=function e(t){b(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Uu(){return new Zu([new Iu])}var Zu=function(){var e=function(){function e(t){b(this,e),this.factories=t}return w(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Uu())},deps:[[e,new qn,new Fn]]}}}]),e}();return e.\u0275prov=R({token:e,providedIn:"root",factory:Uu}),e}();function ju(){return new Vu([new Lu])}var Vu=function(){var e=function(){function e(t){b(this,e),this.factories=t}return w(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||ju())},deps:[[e,new qn,new Fn]]}}}]),e}();return e.\u0275prov=R({token:e,providedIn:"root",factory:ju}),e}();function Bu(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Ue(o)),ke(o))for(var a=10;a<o.length;a++){var s=o[a],u=s[1].firstChild;null!==u&&Bu(s[1],s,u,r)}var c=n.type;if(8&c)Bu(e,t,n.child,r);else if(32&c)for(var l=Br(n,t),h=void 0;h=l();)r.push(h);else if(16&c){var f=gi(t,n);if(Array.isArray(f))r.push.apply(r,p(f));else{var d=Hr(t[16]);Bu(d[1],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}var Hu=function(){function e(t,n){b(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return w(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Bu(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(ke(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(ei(e,n),wn(t,n))}this._attachedToViewContainer=!1}ti(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){io(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){To(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){So(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){ut(!0);try{So(e,t,n)}finally{ut(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,wi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),zu=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this,e))._view=e,r}return w(n,[{key:"detectChanges",value:function(){Co(this._view)}},{key:"checkNoChanges",value:function(){!function(e){ut(!0);try{Co(e)}finally{ut(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Hu),Gu=function(e){return function(e,t,n){if(Te(e)&&!n){var r=He(e.index,t);return new Hu(r,r)}return 47&e.type?new Hu(t[16],t):null}(tt(),Xe(),16==(16&e))},Wu=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=Gu,e}(),Ku=[new Lu],Yu=new Zu([new Iu]),Qu=new Vu(Ku),Ju=function(){return ec(tt(),Xe())},Xu=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=Ju,e}(),$u=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return w(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=zi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Yi(t,n,e),new Hu(n)}}]),n}(Xu);function ec(e,t){return 4&e.type?new $u(t,e,_u(e,t)):null}var tc=function e(){b(this,e)},nc=function e(){b(this,e)},rc=function(){return uc(tt(),Xe())},ic=function(){var e=function e(){b(this,e)};return e.__NG_ELEMENT_ID__=rc,e}(),oc=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return w(n,[{key:"element",get:function(){return _u(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new cn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Qt(this._hostTNode,this._hostLView);if(jt(e)){var t=Bt(e,this._hostLView),n=Vt(e);return new cn(t[1].data[n+8],t)}return new cn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=ac(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(tc,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(ke(r[3])){var o=this.indexOf(e);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(e))}}var u=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],_n(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,r,c,u);var l=yi(u,c),h=r[11],f=ui(h,c[7]);return null!==f&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,wi(e,r,n,1,i,o)}(i,c[6],h,r,f,l),e.attachToViewContainerRef(),_n(sc(c),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=ac(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=ei(this._lContainer,t);n&&(wn(sc(this._lContainer),t),ti(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=ei(this._lContainer,t);return n&&null!=wn(sc(this._lContainer),t)?new Hu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(ic);function ac(e){return e[8]}function sc(e){return e[8]||(e[8]=[])}function uc(e,t){var n,r=t[e.index];if(ke(r))n=r;else{var i;if(8&e.type)i=Ue(r);else{var o=t[11];i=o.createComment("");var a=je(e,t);oi(o,ui(o,a),i,function(e,t){return Fe(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=n=_o(r,t,i,e),xo(t,n)}return new oc(n,e,t)}var cc={},lc=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this)).ngModule=e,r}return w(n,[{key:"resolveComponentFactory",value:function(e){var t=_e(e);return new dc(t,this.ngModule)}}]),n}(yu);function hc(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var fc=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return qr}}),dc=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Di).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return w(n,[{key:"inputs",get:function(){return hc(this.componentDef.inputs)}},{key:"outputs",get:function(){return hc(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,cc,i);return o!==cc||r===cc?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(xu,qe),u=a.get(Cu,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Fe(e))return e.selectRootElement(t,n===K.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Xr(s.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:qr,clean:Ao,playerHandler:null,flags:0},p=ro(0,null,null,1,0,null,null,null,null,null),v=zi(null,p,d,f,null,null,s,c,u,a);wt(v);try{var g=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Gi(a,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Do(s,u,!0),null!==e&&(Lt(i,e,u),null!==s.classes&&xi(i,e,s.classes),null!==s.styles&&ki(i,e,s.styles)));var c=r.createRenderer(e,t),l=zi(n,no(t),null,t.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Jt(Wt(s,n),a,t.type),lo(a,s),fo(s,n.length,1)),xo(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Lt(c,h,["ng-version",Au.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ii(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,_=y.classes;m&&Lt(c,h,m),_&&_.length>0&&xi(c,h,_.join(" "))}if(o=Ve(p,20),void 0!==t)for(var w=o.projection=[],b=0;b<this.ngContentSelectors.length;b++){var k=t[b];w.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=tt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),po(e,r,t,Ki(e,t,1,null),n));var i=an(t,e,r.directiveStart,r);Nr(i,t);var o=je(r,t);return o&&Nr(o,t),i}(o,n,t);if(r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries){var s=tt();t.contentQueries(1,a,s.directiveStart)}var u=tt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Et(u.index),uo(n[1],u,0,u.directiveStart,u.directiveEnd,t),co(t,a)),a}(g,this.componentDef,v,d,[Jo]),Yi(p,v,null)}finally{St()}return new pc(this.componentType,i,_u(o,v),v,o)}}]),n}(vu),pc=function(e){k(n,e);var t=x(n);function n(e,r,i,o,a){var s;return b(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new zu(o),s.componentType=e,s}return w(n,[{key:"injector",get:function(){return new cn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){b(this,e)}}()),vc=new Map,gc=function(e){k(n,e);var t=x(n);function n(e,r){var i;b(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=S(i),i.destroyCbs=[],i.componentFactoryResolver=new lc(S(i));var o=we(e),a=e[ae]||null;return a&&bs(a),i._bootstrapComponents=Zr(o.bootstrap),i._r3Injector=Vo(e,r,[{provide:tc,useValue:S(i)},{provide:yu,useValue:i.componentFactoryResolver}],h(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return w(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B.Default;return e===Qo||e===tc||e===Lo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(tc),yc=function(e){k(n,e);var t=x(n);function n(e){var r,i,o;return b(this,n),(r=t.call(this)).moduleType=e,null!==we(e)&&(i=e,o=new Set,function e(t){var n=we(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(h(t)," vs ").concat(h(t.name)))}(r,vc.get(r),t),vc.set(r,t));var i,a=g(Zr(n.imports));try{for(a.s();!(i=a.n()).done;){var s=i.value;o.has(s)||(o.add(s),e(s))}}catch(u){a.e(u)}finally{a.f()}}(i)),r}return w(n,[{key:"create",value:function(e){return new gc(this.moduleType,e)}}]),n}(nc);function mc(e,t,n,r){return kc(Xe(),ct(),e,t,n,r)}function _c(e,t,n,r,i){return xc(Xe(),ct(),e,t,n,r,i)}function wc(e,t,n,r,i,o){return Tc(Xe(),ct(),e,t,n,r,i,o)}function bc(e,t){var n=e[t];return n===Mi?void 0:n}function kc(e,t,n,r,i,o){var a=t+n;return ca(e,a,i)?ua(e,a+1,o?r.call(o,i):r(i)):bc(e,a+1)}function xc(e,t,n,r,i,o,a){var s=t+n;return la(e,s,i,o)?ua(e,s+2,a?r.call(a,i,o):r(i,o)):bc(e,s+2)}function Tc(e,t,n,r,i,o,a,s){var u=t+n;return function(e,t,n,r,i){var o=la(e,t,n,r);return ca(e,t+2,i)||o}(e,u,i,o,a)?ua(e,u+3,s?r.call(s,i,o,a):r(i,o,a)):bc(e,u+3)}function Sc(e,t){var n,r=$e(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new T("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Ee(n.type)),a=H(va);try{var s=zt(!1),u=o();return zt(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Xe(),i,u),u}finally{H(a)}}function Cc(e,t,n){var r=e+20,i=Xe(),o=Be(i,r);return Nc(i,Ic(i,r)?kc(i,ct(),t,o.transform,n,o):o.transform(n))}function Ec(e,t,n,r){var i=e+20,o=Xe(),a=Be(o,i);return Nc(o,Ic(o,i)?xc(o,ct(),t,a.transform,n,r,a):a.transform(n,r))}function Ac(e,t,n,r,i){var o=e+20,a=Xe(),s=Be(a,o);return Nc(a,Ic(a,o)?Tc(a,ct(),t,s.transform,n,r,i,s):s.transform(n,r,i))}function Ic(e,t){return e[1].data[t].pure}function Nc(e,t){return oa.isWrapped(t)&&(t=oa.unwrap(t),e[lt()]=Mi),t}function Oc(e){return function(t){setTimeout(e,void 0,t)}}var Pc=function(e){k(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return b(this,n),(e=t.call(this)).__isAsync=r,e}return w(n,[{key:"emit",value:function(e){d(N(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var o,a,s,u=e,c=t||function(){return null},l=r;if(e&&"object"==typeof e){var h=e;u=null===(o=h.next)||void 0===o?void 0:o.bind(h),c=null===(a=h.error)||void 0===a?void 0:a.bind(h),l=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(c=Oc(c),u&&(u=Oc(u)),l&&(l=Oc(l)));var f=d(N(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:l});return e instanceof i.w&&e.add(f),f}}]),n}(r.xQ);function Rc(){return this._results[ia()]()}var Dc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];b(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ia(),r=e.prototype;r[n]||(r[n]=Rc)}return w(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Pc)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){this.dirty=!1;var n=yn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Mc=function(){function e(t){b(this,e),this.queryList=t,this.matches=null}return w(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Lc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];b(this,e),this.queries=t}return w(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Qc(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Fc=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;b(this,e),this.predicate=t,this.flags=n,this.read=r},qc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];b(this,e),this.queries=t}return w(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Uc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;b(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return w(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,Zc(t,i)),this.matchTNodeWithReadOption(e,t,on(t,e,i,!1,!1))}else n===Xu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,on(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===bu||r===ic||r===Xu&&4&t.type)this.addMatch(t.index,-2);else{var i=on(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Zc(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function jc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?_u(e,t):4&e.type?ec(e,t):null}(t,e):-2===n?function(e,t,n){return n===bu?_u(t,e):n===Xu?ec(t,e):n===ic?uc(t,e):void 0}(e,t,r):an(e,e[1],n,t)}function Vc(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:jc(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Bc(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Vc(e,t,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=t[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Bc(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Bc(v[1],v,c,r)}}}return r}function Hc(e){var t=Xe(),n=$e(),r=gt();yt(r+1);var i=Qc(n,r);if(e.dirty&&ze(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?Bc(n,t,r,[]):Vc(n,t,i,r);e.reset(o,ku),e.notifyOnChanges()}return!0}return!1}function zc(e,t,n){var r=$e();r.firstCreatePass&&(Yc(r,new Fc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Kc(r,Xe(),t)}function Gc(e,t,n,r){var i=$e();if(i.firstCreatePass){var o=tt();Yc(i,new Fc(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Kc(i,Xe(),n)}function Wc(){return e=Xe(),t=gt(),e[19].queries[t].queryList;var e,t}function Kc(e,t,n){var r=new Dc(4==(4&n));io(e,t,r,r.destroy),null===t[19]&&(t[19]=new Lc),t[19].queries.push(new Mc(r))}function Yc(e,t,n){null===e.queries&&(e.queries=new qc),e.queries.track(new Uc(t,n))}function Qc(e,t){return e.queries.getByIndex(t)}function Jc(e,t){return ec(e,t)}var Xc=new pn("Application Initializer"),$c=function(){var e=function(){function e(t){var n=this;b(this,e),this.appInits=t,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return w(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(Ta(r))t.push(r);else if(Ca(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(On(Xc,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}(),el=new pn("AppId"),tl={provide:el,useFactory:function(){return"".concat(nl()).concat(nl()).concat(nl())},deps:[]};function nl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var rl=new pn("Platform Initializer"),il=new pn("Platform ID"),ol=new pn("appBootstrapListener"),al=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}(),sl=new pn("LocaleId"),ul=new pn("DefaultCurrencyCode"),cl=function e(t,n){b(this,e),this.ngModuleFactory=t,this.componentFactories=n},ll=function(e){return new yc(e)},hl=ll,fl=function(e){return Promise.resolve(ll(e))},dl=function(e){var t=ll(e),n=Zr(we(e).declarations).reduce(function(e,t){var n=_e(t);return n&&e.push(new dc(n)),e},[]);return new cl(t,n)},pl=dl,vl=function(e){return Promise.resolve(dl(e))},gl=function(){var e=function(){function e(){b(this,e),this.compileModuleSync=hl,this.compileModuleAsync=fl,this.compileModuleAndAllComponentsSync=pl,this.compileModuleAndAllComponentsAsync=vl}return w(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}(),yl=Promise.resolve(0);function ml(e){"undefined"==typeof Zone?yl.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var _l=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=t.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(b(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pc(!1),this.onMicrotaskEmpty=new Pc(!1),this.onStable=new Pc(!1),this.onError=new Pc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=$.requestAnimationFrame,t=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call($,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,kl(e),e.isCheckStableRunning=!0,bl(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),kl(e))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,i,o,a,s){try{return xl(n),e.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Tl(n)}},onInvoke:function(e,t,i,o,a,s,u){try{return xl(n),e.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Tl(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,kl(n),bl(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return w(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,wl,mu,mu);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),wl={};function bl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function kl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function xl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tl(e){e._nesting--,bl(e)}var Sl=function(){function e(){b(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pc,this.onMicrotaskEmpty=new Pc,this.onStable=new Pc,this.onError=new Pc}return w(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Cl=function(){var e=function(){function e(t){var n=this;b(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return w(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){_l.assertNotInAngularZone(),ml(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())ml(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(On(_l))},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}(),El=function(){var e=function(){function e(){b(this,e),this._applications=new Map,Nl.addToWindow(this)}return w(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Nl.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}();function Al(e){Nl=e}var Il,Nl=new(function(){function e(){b(this,e)}return w(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Ol=!0,Pl=!1;function Rl(){return Pl=!0,Ol}function Dl(){if(Pl)throw new Error("Cannot enable prod mode after platform setup.");Ol=!1}var Ml=new pn("AllowMultipleToken"),Ll=function e(t,n){b(this,e),this.name=t,this.token=n};function Fl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new pn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ql();if(!o||o.injector.get(Ml,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:qo,useValue:"platform"});!function(e){if(Il&&!Il.destroyed&&!Il.injector.get(Ml,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Il=e.get(Ul);var t=e.get(rl,null);t&&t.forEach(function(e){return e()})}(Qo.create({providers:a,name:r}))}return function(e){var t=ql();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ql(){return Il&&!Il.destroyed?Il:null}var Ul=function(){var e=function(){function e(t){b(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return w(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===n?new Sl:("zone.js"===n?void 0:n)||new _l({enableLongStackTrace:Rl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:_l,useValue:o}];return o.run(function(){var t=Qo.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Mr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var e=o.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){Vl(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var o=((a=n.injector.get($c)).runInitializers(),a.donePromise.then(function(){return bs(n.injector.get(sl,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return Ta(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Zl({},n);return function(e,t,n){var r=new yc(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(jl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(h(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(On(Qo))},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}();function Zl(e,t){return Array.isArray(t)?t.reduce(Zl,e):Object.assign(Object.assign({},e),t)}var jl=function(){var e=function(){function e(t,n,r,i,u){var c=this;b(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new o.y(function(e){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){e.next(c._stable),e.complete()})}),h=new o.y(function(e){var t;c._zone.runOutsideAngular(function(){t=c._zone.onStable.subscribe(function(){_l.assertNotInAngularZone(),ml(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,e.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){_l.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,a.T)(l,h.pipe((0,s.B)()))}return w(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof vu?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(tc),o=n.create(Qo.NULL,[],t||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Cl,null),u=s&&o.injector.get(El);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Vl(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=g(this._views);try{for(n.s();!(t=n.n()).done;){t.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Vl(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ol,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(On(_l),On(Qo),On(Mr),On(yu),On($c))},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}();function Vl(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Bl=function e(){b(this,e)},Hl=function e(){b(this,e)},zl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Gl=function(){var e=function(){function e(t,n){b(this,e),this._compiler=t,this._config=n||zl}return w(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=l(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n(8255)(i).then(function(e){return e[o]}).then(function(e){return Wl(e,i,o)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=l(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+o]}).then(function(e){return Wl(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(On(gl),On(Hl,8))},e.\u0275prov=R({token:e,factory:e.\u0275fac}),e}();function Wl(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Kl=function(e){return null},Yl=Fl(null,"core",[{provide:il,useValue:"unknown"},{provide:Ul,deps:[Qo]},{provide:El,deps:[]},{provide:al,deps:[]}]),Ql=[{provide:jl,useClass:jl,deps:[_l,Qo,Mr,yu,$c]},{provide:fc,deps:[_l],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:$c,useClass:$c,deps:[[new Fn,Xc]]},{provide:gl,useClass:gl,deps:[]},tl,{provide:Zu,useFactory:function(){return Yu},deps:[]},{provide:Vu,useFactory:function(){return Qu},deps:[]},{provide:sl,useFactory:function(e){return bs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new Ln(sl),new Fn,new qn]]},{provide:ul,useValue:"USD"}],Jl=function(){var e=function e(t){b(this,e)};return e.\u0275fac=function(t){return new(t||e)(On(jl))},e.\u0275mod=pe({type:e}),e.\u0275inj=D({providers:Ql}),e}()},2346:function(e,t,n){"use strict";n.d(t,{hO:function(){return R},xv:function(){return C},Dh:function(){return S},HU:function(){return m},GT:function(){return T},sI:function(){return O},on:function(){return A},ss:function(){return _},pX:function(){return x},yq:function(){return I}});var r=n(8489),i=n(8569),o=n(4019),a=n(2893),s=n(45),u=n(1572),c=n(1858);function l(){}e=n.hmd(e);var d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.N;b(this,e),this.zone=t,this.delegate=n}return w(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule(function(t){var n=this;r.runGuarded(function(){e.apply(n,[t])})},t,n)}}]),e}(),g=function(){function e(t){b(this,e),this.zone=t,this.task=null}return w(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)}),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout(function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)},10)}}]),e}(),m=function e(t){b(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(function(){return new d(Zone.current)}),this.insideAngular=t.run(function(){return new d(Zone.current,i.z)})};function _(e){return function(t){return(t=t.lift(new g(e.ngZone))).pipe((0,a.R)(e.outsideAngular),(0,s.QV)(e.insideAngular))}}var k=["ngOnDestroy"],x=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,o){return n.runOutsideAngular(function(){var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(k.indexOf(o)>-1)return function(){};var a=t.toPromise().then(function(e){var t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(function(e){return n.run(function(){return e})}):n.run(function(){return t})});return new Proxy(function(){},{get:function(e,t){return a[t]},apply:function(e,t,n){return a.then(function(e){var t,i=e&&e.apply(void 0,p(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})}})})}})},T=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype||t).forEach(function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},S=new u.OlP("angularfire2.app.options"),C=new u.OlP("angularfire2.app.nameOrConfig"),E=new u.GfV("6.1.5");function A(t,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.Z.apps.filter(function(e){return e&&e.name===i.name})[0]||n.runOutsideAngular(function(){return c.Z.initializeApp(t,i)});try{JSON.stringify(t)!==JSON.stringify(o.options)&&N("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var I=function(){N("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},N=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(0,u.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,r)};function O(t,n,r,i,o){var a,s=globalThis.\u0275AngularfireInstanceCache.get(t)||[],u=f(a=s)||v(a)||y(a)||h(),c=u[0],l=u.slice(1);if(c){try{o.some(function(e,t){var n=l[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n})&&N("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(e.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return c}var d=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[d].concat(p(o))),d}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var P={provide:function e(){b(this,e)},useFactory:A,deps:[S,u.R0b,[new u.FiY,C]]},R=function(){var e=function(){function e(t){b(this,e),c.Z.registerVersion("angularfire",E.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}return w(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:S,useValue:t},{provide:C,useValue:n}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.LFG(u.Lbi))},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({providers:[P]}),e}()},6934:function(e,t,n){"use strict";var r=n(1062),i=n(5119),o=n(4762),a=n(250),s=n(308);var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function y(e,t){d.set(e,t)}function m(){return v}function _(){return self.grecaptcha}function w(e){if(!g(e).activated)throw f.create("use-before-activation",{appName:e.name})}function b(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:return w(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise(function(n,r){var i=g(e).reCAPTCHAState;t.ready(function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function k(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);y(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var x="https://content-firebaseappcheck.googleapis.com/v1beta",T=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise(function(e){setTimeout(e,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function S(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function C(e,t){var n=e.options;return{url:x+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:t}}}function E(e,t){var n=e.options;return{url:x+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:t}}}var A="firebase-app-check-store",I=null;function N(){return I||(I=new Promise(function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(A,{keyPath:"compositeKey"})}}}catch(c){t(f.create("storage-open",{originalErrorMessage:c.message}))}}))}function O(e){return R(D(e))}function P(e,t){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return[4,N()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),a=i.put({compositeKey:e,value:t}),[2,new Promise(function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})]}})})}function R(e){return o.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,N()];case 1:return t=o.sent(),n=t.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(e),[2,new Promise(function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})]}})})}function D(e){return e.options.appId+"-"+e.name}var M=new s.Logger("@firebase/app-check");function L(e){return o.__awaiter(this,void 0,void 0,function(){var t,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,O(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),M.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}})})}function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return P(D(e),t)}(e,t).catch(function(e){M.warn("Failed to write token to indexeddb. Error: "+e)}):Promise.resolve()}function q(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var U={error:"UNKNOWN_ERROR"};function Z(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,s,u,c,l,h,d,p,v,_,k,x,T;return o.__generator(this,function(A){switch(A.label){case 0:return w(e),r=g(e),s=void 0,(i=r.token)?[3,2]:[4,L(e)];case 1:(u=A.sent())&&H(u)&&(i=u,y(e,o.__assign(o.__assign({},r),{token:i})),B(e,{token:i.token})),A.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:m().enabled?(l=S,h=E,d=[e],[4,q()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([A.sent()])),t])];case 4:return c=A.sent(),[4,F(e,c)];case 5:return A.sent(),y(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return A.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=A.sent(),v=a.issuedAtTime(p.token),_=null!==v&&v<Date.now()&&v>0?1e3*v:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:_}),[3,11];case 8:return[4,b(e).catch(function(e){throw f.create("recaptcha-error")})];case 9:return k=A.sent(),[4,S(C(e,k),t)];case 10:i=A.sent(),A.label=11;case 11:return[3,13];case 12:return x=A.sent(),M.error(x),s=x,[3,13];case 13:return i?[3,14]:(T=function(e){return{token:(t=U,a.base64.encodeString(JSON.stringify(t),!1)),error:e};var t}(s),[3,16]);case 14:return T={token:i.token},y(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 15:A.sent(),A.label=16;case 16:return B(e,T),[2,T]}})})}function j(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new T(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,Z(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,Z(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,t.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}y(e,u)}function V(e,t){var n=g(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function B(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function H(e){return e.expireTimeMillis-Date.now()>0}!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{app:t,activate:function(e,n){return function(e,t,n){var r=g(e);if(r.activated)throw f.create("already-activated",{appName:e.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,y(e,i),i.siteKey&&function(e,t){var n=g(e),r=new a.Deferred;y(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u,c,l=_();return l?l.ready(function(){k(e,t,l,i),r.resolve(l)}):(u=function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready(function(){k(e,t,n,i),r.resolve(n)})},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(e,i.siteKey).catch(function(){})}(t,e,n)},setTokenAutoRefreshEnabled:function(e){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(t,e)},getToken:function(e){return function(e,t,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,Z(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(t,n,e)},onTokenChanged:function(e,r,i){return function(e,t,n,r,i){var o,a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),j(e,t,"EXTERNAL",o,a),function(){return V(e,o)}}(t,n,e,r)},INTERNAL:{delete:function(){for(var e=0,n=g(t).tokenObservers;e<n.length;e++)V(t,n[e].next);return Promise.resolve()}}};var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("app-check-internal").initialize()})),e.INTERNAL.registerComponent(new i.Component("app-check-internal",function(e){return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),{getToken:function(e){return Z(t,n,e)},addTokenListener:function(e){return j(t,n,"INTERNAL",e)},removeTokenListener:function(e){return V(t,e)}};var t,n},"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.2.1")}(l.default),function(){var e=a.getGlobal();if("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var e,t;return o.__generator(this,function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R("debug-token")];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:((r=t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),P("debug-token",r)).catch(function(e){return M.warn("Failed to persist debug token to indexeddb. Error: "+e)}),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r})})}())}}()},1062:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return _}});var r,i,o=n(4762),a=n(250),s=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){f.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.Component(i+"-version",function(){return{library:i,version:t}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!(0,a.contains)(t,e=e||"[DEFAULT]"))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++)t[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,r}(d);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null}).filter(function(e){return e}).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,e)};var m,_=p;(m=_).INTERNAL.registerComponent(new s.Component("platform-logger",function(e){return new v(e)},"PRIVATE")),m.registerVersion("@firebase/app","0.6.29",void 0),m.registerVersion("fire-js",""),t.default=_},9738:function(e,t,n){"use strict";var r=n(1062);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t(function(e,t){i=e,o=t});return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Ra(t,n)})},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t(function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)})},t});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var x=Date.now;function T(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function S(e){return e}function C(e,t,n){this.code=I+e,this.message=t||N[e]||"",this.a=n||null}function E(e){var t=e&&e.code;return t?new C(t.substring(I.length),e.message,e.serverResponse):null}T(C,Error),C.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},C.prototype.toJSON=function(){return this.w()};var A,I="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function L(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function q(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}A=P("__EID__")?"__EID__":void 0,T(D,Error),D.prototype.name="CustomError",T(M,D),M.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Z=new F(function(){return new V},function(e){e.reset()});function j(){var e=mt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function V(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=Z.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},H=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},z=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function K(e,t){return 0<=B(e,t)}function Y(e,t){var n;return(n=0<=(t=B(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Q(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)})}function J(e){return Array.prototype.concat.apply([],arguments)}function X(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,ae=/\x00/g,se=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=s.navigator;if(le){var he=le.userAgent;if(he){$=he;break e}}$=""}function fe(e){return ue($,e)}function de(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ge.length;o++)n=ge[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function me(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===xe&&t||"",this.b=ke}function we(e){return e instanceof _e&&e.constructor===_e&&e.b===ke?e.a:(L("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var be,ke={},xe={};function Te(){if(void 0===be){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){s.console&&s.console.error(n.message)}be=e}else be=e}return be}function Se(e,t){this.a=t===Ne?e:""}function Ce(e){return e instanceof Se&&e.constructor===Se?e.a:(L("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n=we(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Te();return new Se(e=t?t.createScriptURL(e):e,Ne)}(e=n.replace(Ae,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?we(e):encodeURIComponent(String(e))}))}Se.prototype.ta=!0,Se.prototype.sa=function(){return this.a.toString()},Se.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ae=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ne={};function Oe(e,t){this.a=t===qe?e:""}function Pe(e){return e instanceof Oe&&e.constructor===Oe?e.a:(L("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Oe.prototype.ta=!0,Oe.prototype.sa=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Re=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Me=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Le(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e))e=new Oe(e,qe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Re.test(t[1])?new Oe(e,qe):null}return e}function Fe(e){return e instanceof Oe?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Me.test(e)||(e="about:invalid#zClosurez"),new Oe(e,qe))}var qe={},Ue=new Oe("about:invalid#zClosurez",qe);function Ze(e,t,n){this.a=n===je?e:""}Ze.prototype.ta=!0,Ze.prototype.sa=function(){return this.a.toString()},Ze.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var je={};function Ve(e,t,n,r){return e=e instanceof Oe?e:Fe(e),t=t||s,n=n instanceof _e?we(n):n||"",t.open(Pe(e),n,r,void 0)}function Be(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function He(e){return se.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ae,"&#0;"))),e}function ze(e){return ze[" "](e),e}ze[" "]=h;var Ge,We,Ke=fe("Opera"),Ye=fe("Trident")||fe("MSIE"),Qe=fe("Edge"),Je=Qe||Ye,Xe=fe("Gecko")&&!(ue($.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),$e=ue($.toLowerCase(),"webkit")&&!fe("Edge");function et(){var e=s.document;return e?e.documentMode:void 0}e:{var tt="",nt=(We=$,Xe?/rv:([^\);]+)(\)|;)/.exec(We):Qe?/Edge\/([\d\.]+)/.exec(We):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(We):$e?/WebKit\/(\S+)/.exec(We):Ke?/(?:Version)[ \/]?(\S+)/.exec(We):void 0);if(nt&&(tt=nt?nt[1]:""),Ye){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ge=String(rt);break e}}Ge=tt}var it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,function(){for(var t=0,n=ee(String(Ge)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ce(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ce(0==a[2].length,0==s[2].length)||ce(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}var at=s.document&&Ye&&(et()||parseInt(Ge,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(We){}var st=!Ye||9<=Number(at);function ut(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ct(e,t){de(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var lt,ht,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function dt(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}H(a?X(o):o,r)}}}function pt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function vt(e){s.setTimeout(function(){throw e},0)}function gt(e,t){ht||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);ht=function(){e.then(_t)}}else ht=function(){var e=_t;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!fe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(lt||(lt=function(){var e=s.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(e=function(){var e=pt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!fe("Trident")&&!fe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),lt(e)):s.setImmediate(e)}}(),yt||(ht(),yt=!0),mt.add(e,t)}var yt=!1,mt=new U;function _t(){for(var e;e=j();){try{e.a.call(e.b)}catch(t){vt(t)}q(Z,e)}yt=!1}function wt(e,t){if(this.a=bt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,function(e){Dt(n,kt,e)},function(e){if(!(e instanceof jt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Dt(n,xt,e)})}catch(r){Dt(this,xt,r)}}var bt=0,kt=2,xt=3;function Tt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Tt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var St=new F(function(){return new Tt},function(e){e.reset()});function Ct(e,t,n){var r=St.get();return r.g=e,r.b=t,r.f=n,r}function Et(e){if(e instanceof wt)return e;var t=new wt(h);return Dt(t,kt,e),t}function At(e){return new wt(function(t,n){n(e)})}function It(e,t,n){Mt(e,t,n,null)||gt(k(t,e))}function Nt(e){return new wt(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)It(e[o],k(i,o,!0),k(i,o,!1));else t(r)})}function Ot(e,t){if(e.a==bt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==bt&&1==r?Ot(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ft(n),qt(n,i,xt,t)))}e.c=null}else Dt(e,xt,t)}function Pt(e,t){e.b||e.a!=kt&&e.a!=xt||Lt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Rt(e,t,n,r){var i=Ct(null,null,null);return i.a=new wt(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof jt?o(t):e(i)}catch(a){o(a)}}:o}),i.a.c=e,Pt(e,i),i.a}function Dt(e,t,n){e.a==bt&&(e===n&&(t=xt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Lt(e),t!=xt||n instanceof jt||function(e,t){e.g=!0,gt(function(){e.g&&Zt.call(null,t)})}(e,n)))}function Mt(e,t,n,r){if(e instanceof wt)return Pt(e,Ct(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(i,e))},o)}catch(s){o(s)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Lt(e){e.h||(e.h=!0,gt(e.gc,e))}function Ft(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function qt(e,t,n,r){if(n==xt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Ut(t,n,r);else try{t.c?t.g.call(t.f):Ut(t,n,r)}catch(i){Zt.call(null,i)}q(St,t)}function Ut(e,t,n){t==kt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}wt.prototype.then=function(e,t,n){return Rt(this,p(e)?e:null,p(t)?t:null,n)},wt.prototype.$goog_Thenable=!0,(e=wt.prototype).oa=function(e,t){return(e=Ct(e,e,t)).c=!0,Pt(this,e),this},e.o=function(e,t){return Rt(this,null,e,t)},e.cancel=function(e){if(this.a==bt){var t=new jt(e);gt(function(){Ot(this,t)},this)}},e.$c=function(e){this.a=bt,Dt(this,kt,e)},e.ad=function(e){this.a=bt,Dt(this,xt,e)},e.gc=function(){for(var e;e=Ft(this);)qt(this,e,this.a,this.i);this.h=!1};var Zt=vt;function jt(e){D.call(this,e)}function Vt(){0!=Bt&&(Ht[g(this)]=this),this.ya=this.ya,this.pa=this.pa}T(jt,D),jt.prototype.name="cancel";var Bt=0,Ht={};function zt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Bt)){var t=g(e);if(0!=Bt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Vt.prototype.ya=!1,Vt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Wt=!Ye||9<=Number(at),Kt=Ye&&!ot("9"),Yt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Xe){e:{try{ze(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Jt,Qt);var Xt=Gt({2:"touch",3:"pen",4:"mouse"});Jt.prototype.preventDefault=function(){Jt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Jt.prototype.g=function(){return this.a};var $t="closure_listenable_"+(1e6*Math.random()|0),en=0;function tn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++en,this.wa=this.Qa=!1}function nn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function rn(e){this.src=e,this.a={},this.b=0}function on(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(nn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function an(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=an(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new tn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function cn(e,t,n,r,i){if(r&&r.once)hn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=wn(n),e&&e[$t]?kn(e,t,n,v(r)?!!r.capture:!!r,i):ln(e,t,n,!1,r,i)}function ln(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=mn(e);if(s||(e[sn]=s=new rn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=yn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=wn(n),e&&e[$t]?xn(e,t,n,v(r)?!!r.capture:!!r,i):ln(e,t,n,!0,r,i)}function fn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=wn(n),e&&e[$t]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=an(o=e.a[t],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=mn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=an(t,n,r,i)),(n=-1<e?t[e]:null)&&dn(n))}function dn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[$t])on(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mn(t))?(on(n,e),0==n.b&&(n.src=null,t[sn]=null)):nn(e)}}}function pn(e){return e in un?un[e]:un[e]="on"+e}function vn(e,t,n,r){var i=!0;if((e=mn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&dn(e),n.call(r,t)}function yn(e,t){if(e.wa)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Jt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=vn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=vn(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Jt(t,this))}function mn(e){return(e=e[sn])instanceof rn?e:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return p(e)?e:(e[_n]||(e[_n]=function(t){return e.handleEvent(t)}),e[_n])}function bn(){Vt.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function kn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function xn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Tn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&on(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(e,t,n){if(p(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function Cn(e){var t=null;return new wt(function(n,r){-1==(t=Sn(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw s.clearTimeout(t),e})}function En(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function An(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function In(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof In)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];On(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)On(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)}T(bn,Vt),bn.prototype[$t]=!0,bn.prototype.addEventListener=function(e,t,n,r){cn(this,e,t,n,r)},bn.prototype.removeEventListener=function(e,t,n,r){fn(this,e,t,n,r)},bn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;ye(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Tn(a,r,!0,e)&&i}if(i=Tn(a=e.b=n,r,!0,e)&&i,i=Tn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Tn(a=e.b=t[o],r,!1,e)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)nn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=In.prototype).X=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return On(this.b,e)?this.b[e]:t},e.set=function(e,t){On(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Rn?(this.i=void 0!==t?t:e.i,Dn(this,e.c),this.l=e.l,this.a=e.a,Mn(this,e.g),this.f=e.f,Ln(this,tr(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Dn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),Mn(this,n[4]),this.f=jn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!t,this.b=new Yn(null,this.i))}function Dn(e,t,n){e.c=n?jn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Ln(e,t,n){t instanceof Yn?(e.b=t,function(e,t){t&&!e.f&&(Qn(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),er(this,n,e))},e)),e.f=t}(e.b,e.i)):(n||(t=Vn(t,Wn)),e.b=new Yn(t,e.i))}function Fn(e,t,n){e.b.set(t,n)}function qn(e,t){return e.b.get(t)}function Un(e){return e instanceof Rn?new Rn(e):new Rn(e,void 0)}function Zn(e,t,n,r){var i=new Rn(null,void 0);return e&&Dn(i,e),t&&(i.a=t),n&&Mn(i,n),r&&(i.f=r),i}function jn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Bn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Bn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Vn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Vn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Vn(n,Kn)),e.join("")},Rn.prototype.resolve=function(e){var t=new Rn(this),n=!!e.c;n?Dn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Mn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Ln(t,tr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qn(e){e.a||(e.a=new In,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Jn(e){var t=An(e);if(void 0===t)throw Error("Keys are undefined");var n=new Yn(null,void 0);e=En(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?er(n,i,o):n.add(i,o)}return n}function Xn(e,t){Qn(e),t=nr(e,t),On(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,On((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function $n(e,t){return Qn(e),t=nr(e,t),On(e.a.b,t)}function er(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(nr(e,t),X(n)),e.b+=n.length)}function tr(e){var t=new Yn;return t.c=e.c,e.a&&(t.a=new In(e.a),t.b=e.b),t}function nr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function rr(e){var t=[];return or(new ir,e,t),t.join("")}function ir(){}function or(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),or(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&"function"!=typeof(o=t[r])&&(n.push(i),ur(r,n),n.push(":"),or(e,o,n),i=",");return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":ur(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Yn.prototype).add=function(e,t){Qn(this),this.c=null,e=nr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Qn(this),this.a.forEach(function(n,r){H(n,function(n){e.call(t,n,r,this)},this)},this)},e.Y=function(){Qn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Qn(this);var t=[];if("string"==typeof e)$n(this,e)&&(t=J(t,this.a.get(nr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},e.set=function(e,t){return Qn(this),this.c=null,$n(this,e=nr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(e,t){t.push('"',e.replace(sr,function(e){var t=ar[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ar[e]=t),t}),'"')}function cr(){var e=Ar();return Ye&&!!at&&11==at||/Edge\/\d+/.test(e)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(e,t){t=t||s.window;var n="about:blank";e&&(n=Pe(Le(e)||Ue)),t.location.href=n}function fr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<fr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function dr(e){return!!((e=(e||Ar()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function pr(e){e=e||s.window;try{e.close()}catch(t){}}function vr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Sr(Ar())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Le(void 0!==n.href?n.href:String(n))||Ue,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(me(a=pt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Fe(t),a.href=Pe(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ve("",r,n,a),e=Pe(t),a&&(Je&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+He(e)+'">',e=new Ze(e=(r=Te())?r.createHTML(e):e,null,je),r=a.document)&&(r.write(function(e){return e instanceof Ze&&e.constructor===Ze?e.a:(L("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ve(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function mr(){var e=null;return new wt(function(t){"complete"==s.document.readyState?t():(e=function(){t()},hn(window,"load",e))}).o(function(t){throw fn(window,"load",e),t})}function _r(e){return e=e||Ar(),!("file:"!==Rr()&&"ionic:"!==Rr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var e=s.window;try{return!(!e||e==e.top)}catch(t){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function kr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function xr(){var e=kr();return"ReactNative"===e||"Node"===e}var Tr="Firefox";function Sr(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?Tr:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Cr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Er(e,t){t=t||[];var n,r=[],i={};for(n in Cr)i[Cr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Sr(i=Ar()):"Worker"===r&&(r=Sr(i=Ar())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Ar(){return s.navigator&&s.navigator.userAgent||""}function Ir(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Nr(){try{var e=s.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!cr()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Or(){return(Pr()||"chrome-extension:"===Rr()||_r())&&!xr()&&Nr()&&!br()}function Pr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function Dr(e){return!dr(e=e||Ar())&&Sr(e)!=Tr}function Mr(e){return void 0===e?null:rr(e)}function Lr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Fr(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function Ur(e){return"Safari"!=Sr(e=e||Ar())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Zr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function jr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Ar(),t=kr(),this.b=dr(e)||"ReactNative"===t}function Vr(){var e=s.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Br(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Hr(){return!(!Ir("fireauth.oauthhelper",s)&&!Ir("fireauth.iframe",s))}jr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!=typeof e.onLine||!Pr()&&"chrome-extension:"!==Rr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Wr(e){Gr[e]||(Gr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Kr.abcd}catch(We){zr=!1}function Yr(e,t,n){zr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Qr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Yr(e,n,t[n])}function Jr(e){var t={};return Qr(t,e),t}function Xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Yr(t,n,Xr(e[n]));return t}function $r(e){var t=e&&(e[ii]?"phone":null);if(!(t&&e&&e[ri]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",e[ri]),Yr(this,"displayName",e[ti]||null);var n=null;e[ni]&&(n=new Date(e[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",t)}function ei(e){try{var t=new oi(e)}catch(n){t=null}return t}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(e){$r.call(this,e),Yr(this,"phoneNumber",e[ii])}function ai(e){var t={},n=e[li],r=e[fi],i=e[di];if(e=ei(e[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!e)throw Error("Invalid checkActionCode response!");i==ci?(t[vi]=n||null,t[yi]=n||null,t[pi]=r):(t[vi]=r||null,t[yi]=r||null,t[pi]=n||null),t[gi]=e||null,Yr(this,_i,i),Yr(this,mi,Xr(t))}T(oi,$r),oi.prototype.w=function(){var e=oi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",yi="previousEmail",mi="data",_i="operation";function wi(e){var t=qn(e=Un(e),bi)||null,n=qn(e,ki)||null,r=qn(e,Si)||null;if(r=r&&Ei[r]||null,!t||!n||!r)throw new C("argument-error",bi+", "+ki+"and "+Si+" are required in a valid action code URL.");Qr(this,{apiKey:t,operation:r,code:n,continueUrl:qn(e,xi)||null,languageCode:qn(e,Ti)||null,tenantId:qn(e,Ci)||null})}var bi="apiKey",ki="oobCode",xi="continueUrl",Ti="languageCode",Si="mode",Ci="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ai(e){try{return new wi(e)}catch(t){return null}}function Ii(e){var t=e[Di];if(void 0===t)throw new C("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new C("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ni];if(n&&"object"==typeof n){t=n[Fi];var r=n[Mi];if(n=n[Li],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new C("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(t=e[Ri])&&"object"==typeof t){if("string"==typeof(t=t[qi])&&t.length)this.f=t;else if(void 0!==t)throw new C("argument-error",qi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new C("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(t=e[Pi])&&"boolean"!=typeof t)throw new C("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Oi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new C("argument-error",Oi+" property must be a non empty string when specified.");this.i=e||null}var Ni="android",Oi="dynamicLinkDomain",Pi="handleCodeInApp",Ri="iOS",Di="url",Mi="installApp",Li="minimumVersion",Fi="packageName",qi="bundleId";function Ui(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Zi=null;function ji(e){var t=Bi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Vi(e){try{return new ji(e)}catch(t){return null}}function Bi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Zi){Zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Zi[o]&&(Zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t.push(e)}),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}ji.prototype.T=function(){return this.f},ji.prototype.l=function(){return this.c},ji.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:zi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:zi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:zi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Hi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wi(e){for(var t in Gi)if(Gi[t].fa==e)return Gi[t];return null}function Ki(e){var t={};t["facebook.com"]=$i,t["google.com"]=to,t["github.com"]=eo,t["twitter.com"]=no;var n=e&&e[Qi];try{if(n)return t[n]?new t[n](e):new Xi(e);if(void 0!==e[Yi])return new Ji(e)}catch(r){}return null}var Yi="idToken",Qi="providerId";function Ji(e){var t=e[Qi];if(!t&&e[Yi]){var n=Vi(e[Yi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Yr(this,"providerId",t),Yr(this,"isNewUser",n)}function Xi(e){Ji.call(this,e),Yr(this,"profile",Xr((e=Fr(e.rawUserInfo||"{}"))||{}))}function $i(e){if(Xi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(e){if(Xi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function to(e){if(Xi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(e){if(Xi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",e.screenName||null)}function ro(e){var t=Un(e),n=qn(t,"link"),r=qn(Un(n),"link");return t=qn(t,"deep_link_id"),qn(Un(t),"link")||t||r||n||e}function io(e,t){if(!e&&!t)throw new C("internal-error","Internal assert: no raw session string available");if(e&&t)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?oo:ao}T(Xi,Ji),T($i,Xi),T(eo,Xi),T(to,Xi),T(no,Xi);var oo="enroll",ao="signin";function so(){}function uo(e,t){return e.then(function(e){if(e[Ya]){var n=Vi(e[Ya]);if(!n||t!=n.i)throw new C("user-mismatch");return e}throw new C("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==I+"user-not-found"?new C("user-mismatch"):e})}function co(e,t){if(!t)throw new C("internal-error","failed to construct a credential");this.a=t,Yr(this,"providerId",e),Yr(this,"signInMethod",e)}function lo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function ho(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new co(e.providerId,e.pendingToken)}catch(t){}return null}function fo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Yr(this,"idToken",t.idToken),t.accessToken&&Yr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Yr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Yr(this,"accessToken",t.oauthToken),Yr(this,"secret",t.oauthTokenSecret)}Yr(this,"providerId",e),Yr(this,"signInMethod",n)}function po(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Jn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function vo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new fo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function go(e,t){this.Qc=t||[],Qr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Wi(e)||{}).Ja||null,this.pb=null}function yo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function mo(e){go.call(this,e,zi),this.a=[]}function _o(){mo.call(this,"facebook.com")}function wo(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new _o).credential({accessToken:t})}function bo(){mo.call(this,"github.com")}function ko(e){if(!e)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new bo).credential({accessToken:t})}function xo(){mo.call(this,"google.com"),this.Ca("profile")}function To(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new xo).credential({idToken:n,accessToken:t})}function So(){go.call(this,"twitter.com",Hi)}function Co(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Eo(e,t,n){this.a=e,this.f=t,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new Eo(e.email,e.password,e.signInMethod):null}function Io(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function No(e,t){if(!(t=Oo(t)))throw new C("argument-error","Invalid email link!");return new Eo(e,t.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(e){return(e=Ai(e=ro(e)))&&e.operation===ui?e:null}function Po(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new C("internal-error");this.a=e,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Ro(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new Po(t)}return null}function Do(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Mo(e){try{this.a=e||r.default.auth()}catch(t){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(e,t){if(!e)throw new C("missing-verification-id");if(!t)throw new C("missing-verification-code");return new Po({fb:e,eb:t})}function Fo(e){if(e.temporaryProof&&e.phoneNumber)return new Po({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return To(o,n);case"facebook.com":return wo(n);case"github.com":return ko(n);case"twitter.com":return Co(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new co(t,a):new fo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new mo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function qo(e){if(!e.isOAuthProvider)throw new C("invalid-oauth-provider")}function Uo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Zo(e){return(e=e||{}).type?new Uo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&E(e.error),e.postBody,e.tenantId):null}function jo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return Et(this.a?this.a:this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(e){return gs(e,lo(this))},co.prototype.b=function(e,t){var n=lo(this);return n.idToken=t,ys(e,n)},co.prototype.c=function(e,t){return uo(ms(e,lo(this)),t)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(e){return gs(e,po(this))},fo.prototype.b=function(e,t){var n=po(this);return n.idToken=t,ys(e,n)},fo.prototype.c=function(e,t){return uo(ms(e,po(this)),t)},fo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Jb=ve(e),this},T(yo,go),T(mo,go),mo.prototype.Ca=function(e){return K(this.a,e)||this.a.push(e),this},mo.prototype.Rb=function(){return X(this.a)},mo.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},T(_o,mo),Yr(_o,"PROVIDER_ID","facebook.com"),Yr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(bo,mo),Yr(bo,"PROVIDER_ID","github.com"),Yr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),T(xo,mo),Yr(xo,"PROVIDER_ID","google.com"),Yr(xo,"GOOGLE_SIGN_IN_METHOD","google.com"),T(So,go),Yr(So,"PROVIDER_ID","twitter.com"),Yr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?$s(e,Cs,{email:this.a,oobCode:this.f}):$s(e,Ks,{email:this.a,password:this.f})},Eo.prototype.b=function(e,t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?$s(e,Es,{idToken:t,email:this.a,oobCode:this.f}):$s(e,Zs,{idToken:t,email:this.a,password:this.f})},Eo.prototype.c=function(e,t){return uo(this.ka(e),t)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Io,{PROVIDER_ID:"password"}),Qr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(e){return e.gb(Do(this))},Po.prototype.b=function(e,t){var n=Do(this);return n.idToken=t,$s(e,Qs,n)},Po.prototype.c=function(e,t){var n=Do(this);return n.operation="REAUTH",uo(e=$s(e,Js,n),t)},Po.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Mo.prototype.gb=function(e,t){var n=this.a.a;return Et(t.verify()).then(function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=v(e)?e.session:null,o=v(e)?e.phoneNumber:e;return(i&&i.type==oo?i.Ha().then(function(e){return function(e,t){return $s(e,Vs,t).then(function(e){return e.phoneSessionInfo.sessionInfo})}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(t){return function(e,t){return $s(e,Bs,t).then(function(e){return e.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(e,t){return $s(e,qs,t)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Mo,{PROVIDER_ID:"phone"}),Qr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Bo=null;function Ho(e){var t="unauthorized-domain",n=void 0,r=Un(e);e=r.a,"chrome-extension"==(r=r.c)?n=Be("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Be("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",C.call(this,t,n)}function zo(e,t,n){C.call(this,e,n),(e=t||{}).Kb&&Yr(this,"email",e.Kb),e.ea&&Yr(this,"phoneNumber",e.ea),e.credential&&Yr(this,"credential",e.credential),e.$b&&Yr(this,"tenantId",e.$b)}function Go(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Fo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new C(t,e.message||void 0);return new zo(t,n,e.message)}return null}function Wo(){}function Ko(){}function Yo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Qo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Xo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function $o(e,t,n){this.reset(e,t,n,void 0,void 0)}function ea(e){this.f=e,this.b=this.c=this.a=null}function ta(e,t){this.name=e,this.value=t}T(Ho,C),T(zo,C),zo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ye(e,t),e},zo.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,T(Ko,Wo),Ko.prototype.a=function(){var e=Yo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Ko.prototype.b=function(){var e={};return Yo(this)&&(e[0]=!0,e[1]=!0),e},Vo=new Ko,T(Qo,Wo),Qo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(e=Jo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Xo(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(e,t,n,r,i){r||x(),delete this.a},ta.prototype.toString=function(){return this.name};var na=new ta("SEVERE",1e3),ra=new ta("WARNING",900),ia=new ta("CONFIG",700),oa=new ta("FINE",500);function aa(e){return e.c?e.c:e.a?aa(e.a):(L("Root logger has no level set."),null)}ea.prototype.log=function(e,t,n){if(e.value>=aa(this).value)for(p(t)&&(t=t()),e=new $o(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var sa={},ua=null;function ca(e){var t;if(ua||(ua=new ea(""),sa[""]=ua,ua.c=ia),!(t=sa[e])){t=new ea(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ca(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,sa[e]=t}return t}function la(e,t){e&&e.log(oa,t,void 0)}function ha(e){this.f=e}function fa(e){bn.call(this),this.u=e,this.h=void 0,this.readyState=da,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ca("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ha,Wo),ha.prototype.a=function(){return new fa(this.f)},ha.prototype.b=function(e){return function(){return e}}({}),T(fa,bn);var da=0;function pa(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function va(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ga(e)}function ga(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ya(e){bn.call(this),this.headers=new In,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ma,this.u=this.S=!1}(e=fa.prototype).open=function(e,t){if(this.readyState!=da)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ga(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this)),this.readyState=da},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,pa(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?va(this):ga(this),3==this.readyState&&pa(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,va(this))},e.sc=function(e){this.a&&(this.response=e,va(this))},e.Va=function(e){var t=this.i;t&&t.log(ra,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&va(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ra,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ra,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),T(ya,bn);var ma="";ya.prototype.b=ca("goog.net.XhrIo");var _a=/^https?$/i,wa=["POST","PUT"];function ba(e){return"content-type"==e.toLowerCase()}function ka(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,xa(e),Sa(e)}function xa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ta(e){if(e.c&&void 0!==a)if(e.C[1]&&4==Ea(e)&&2==Aa(e))la(e.b,Ia(e,"Local request error detected and ignored"));else if(e.i&&4==Ea(e))Sn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ea(e)){la(e.b,Ia(e,"Request complete")),e.c=!1;try{var t,n=Aa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Pn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!_a.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ea(e)?e.a.statusText:""}catch(l){la(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+Aa(e)+"]",xa(e)}}finally{Sa(e)}}}function Sa(e,t){if(e.a){Ca(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(na,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ca(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ea(e){return e.a?e.a.readyState:0}function Aa(e){try{return 2<Ea(e)?e.a.status:-1}catch(t){return-1}}function Ia(e,t){return t+" ["+e.P+" "+e.l+" "+Aa(e)+"]"}function Na(e){var t=ja;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Oa(e,t,n){e.a=!0,e.c=n,e.f=!t,Ma(e)}function Pa(e){if(e.a){if(!e.v)throw new La(e);e.v=!1}}function Ra(e,t,n,r){e.g.push([t,n,r]),e.a&&Ma(e)}function Da(e){return W(e.g,function(e){return p(e[1])})}function Ma(e){if(e.h&&e.a&&Da(e)){var t=e.h,n=Ua[t];n&&(s.clearTimeout(n.a),delete Ua[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"==typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Da(e)||(n=!0)}}e.c=t,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),t instanceof Na?(Ra(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new qa(t),Ua[t.a]=t,e.h=t.a)}function La(){D.call(this)}function Fa(){D.call(this)}function qa(e){this.a=s.setTimeout(b(this.c,this),0),this.b=e}(e=ya.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",la(this.b,Ia(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(la(this.b,Ia(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Sa(this,!0)),ya.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ta(this):this.Jc())},e.Jc=function(){Ta(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return la(this.b,"Can not get response: "+t.message),null}},Na.prototype.cancel=function(e){if(this.a)this.c instanceof Na&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Fa(this),Pa(this),Oa(this,!1,e))}},Na.prototype.m=function(e,t){this.i=!1,Oa(this,e,t)},Na.prototype.then=function(e,t,n){var r,i,o=new wt(function(e,t){r=e,i=t});return Ra(this,r,function(e){e instanceof Fa?o.cancel():i(e)}),o.then(e,t,n)},Na.prototype.$goog_Thenable=!0,T(La,D),La.prototype.message="Deferred has already fired",La.prototype.name="AlreadyCalledError",T(Fa,D),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function Za(e){var t={},n=t.document||document,r=Ce(e).toString(),i=pt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Na(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Va(i,!0);var e=new za(Ha,"Timeout reached for loading script "+r);Pa(a),Oa(a,!1,e)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Va(i,t.xd||!1,u),Pa(a),Oa(a,!0,null))},i.onerror=function(){Va(i,!0,u);var e=new za(Ba,"Error while loading script "+r);Pa(a),Oa(a,!1,e)},ye(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ct(i,o),function(e,t){me(e,"HTMLScriptElement"),e.src=Ce(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function ja(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Va(e,!0,this.Ma)}}function Va(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Ba=0,Ha=1;function za(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function Ga(e){this.f=e}function Wa(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Qa,this.g=ve(e.secureTokenHeaders||Ja),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Xa,this.a=ve(e.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!br())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new ha(self):xr()?new Ga(n):new Qo,this.b=null}T(za,D),T(Ga,Wo),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Ka,Ya="idToken",Qa=new jr(3e4,6e4),Ja={"Content-Type":"application/x-www-form-urlencoded"},Xa=new jr(3e4,6e4),$a={"Content-Type":"application/json"};function es(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ts(e,t){t&&(e.l=ns("https://securetoken.googleapis.com/v1/token",t),e.h=ns("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ns("https://identitytoolkit.googleapis.com/v2/",t))}function ns(e,t){return e=Un(e),t=Un(t.url),e.f=e.a+e.f,Dn(e,t.c),e.a=t.a,Mn(e,t.g),e.toString()}function rs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function is(e,t,n,r,i,o,a){(function(){var e=Ar();return!((e="Chrome"!=Sr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ye&&at&&!(9<at))})()||br()?e=b(e.u,e):(Ka||(Ka=new wt(function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(s[as]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ra(e,null,t,void 0)}(Za(Ee(os,{onload:as})),function(){t(Error("CORS_UNSUPPORTED"))}))}(e,t)})),e=b(e.s,e)),e(t,n,r,i,o,a)}Wa.prototype.T=function(){return this.b},Wa.prototype.u=function(e,t,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ya(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}kn(a,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return la(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)}),xn(a,"ready",function(){u&&clearTimeout(u),zt(this)}),xn(a,"timeout",function(){u&&clearTimeout(u),zt(this),t&&t(null)}),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Vo.a(),e.C=function(e){return e.c||(e.c=e.b())}(e.D?e.D:Vo),e.a.onreadystatechange=b(e.Wb,e);try{la(e.b,Ia(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return la(e.b,Ia(e,"Error opening Xhr: "+a.message)),void ka(e,a)}t=r||"";var o=new In(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)H(e,t,void 0);else for(var n=An(e),r=En(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,function(e,t){o.set(t,e)}),i=function(e){e:{for(var t=ba,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!K(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ca(e),0<e.g&&(e.u=function(e){return Ye&&ot(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),la(e.b,Ia(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=Sn(e.Ma,e.g,e)),la(e.b,Ia(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){la(e.b,Ia(e,"Send error: "+a.message)),ka(e,a)}}(a,e,n,r,i)};var os=new _e(xe,"https://apis.google.com/js/client.js?onload=%{onload}"),as="__fcb"+Math.floor(1e6*Math.random()).toString();function ss(e){if("string"!=typeof(e=e.email)||!yr.test(e))throw new C("invalid-email")}function us(e){"email"in e&&ss(e)}function cs(e){if(!e[Ya]){if(e.mfaPendingCredential)throw new C("multi-factor-auth-required",null,ve(e));throw new C("internal-error")}}function ls(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new C("internal-error")}else{if(!e.sessionInfo)throw new C("missing-verification-id");if(!e.code)throw new C("missing-verification-code")}}Wa.prototype.s=function(e,t,n,r,i){var o=this;Ka.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Wa.prototype.Ab=function(){return $s(this,js,{})},Wa.prototype.Cb=function(e,t){return $s(this,Us,{idToken:e,email:t})},Wa.prototype.Db=function(e,t){return $s(this,Zs,{idToken:e,password:t})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fs(e){if(!e.phoneVerificationInfo)throw new C("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new C("missing-verification-code")}function ds(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new C("internal-error")}function ps(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&$n(e=new Yn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function vs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Go(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Go(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Go(e)):e.errorMessage&&(t=eu(e.errorMessage)),t)throw t;cs(e)}function gs(e,t){return t.returnIdpCredential=!0,$s(e,Hs,t)}function ys(e,t){return t.returnIdpCredential=!0,$s(e,Gs,t)}function ms(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,$s(e,zs,t)}function _s(e){if(!e.oobCode)throw new C("invalid-action-code")}(e=Wa.prototype).Eb=function(e,t){var n={idToken:e},r=[];return de(hs,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),$s(this,Us,n)},e.wb=function(e,t){return ye(e={requestType:"PASSWORD_RESET",email:e},t),$s(this,Ds,e)},e.xb=function(e,t){return ye(e={requestType:"EMAIL_SIGNIN",email:e},t),$s(this,Os,e)},e.vb=function(e,t){return ye(e={requestType:"VERIFY_EMAIL",idToken:e},t),$s(this,Ps,e)},e.Fb=function(e,t,n){return ye(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),$s(this,Rs,e)},e.gb=function(e){return $s(this,Ys,e)},e.ob=function(e,t){return $s(this,Fs,{oobCode:e,newPassword:t})},e.Sa=function(e){return $s(this,bs,{oobCode:e})},e.kb=function(e){return $s(this,ws,{oobCode:e})};var ws={endpoint:"setAccountInfo",A:_s,Z:"email",B:!0},bs={endpoint:"resetPassword",A:_s,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new C("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(e){if(ss(e),!e.password)throw new C("weak-password")},G:cs,V:!0,B:!0},xs={endpoint:"createAuthUri",B:!0},Ts={endpoint:"deleteAccount",O:["idToken"]},Ss={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new C("internal-error")}},Cs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ss,G:cs,V:!0,B:!0},Es={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ss,G:cs,V:!0},As={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fs,G:cs,B:!0,Na:!0},Is={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fs,G:cs,B:!0,Na:!0},Ns={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new C("internal-error");ss(e)},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new C("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new C("internal-error");ss(e)},Z:"email",B:!0},Ms={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ls={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new C("internal-error")}},Fs={endpoint:"resetPassword",A:_s,Z:"email",B:!0},qs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Us={endpoint:"setAccountInfo",O:["idToken"],A:us,V:!0},Zs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(us(e),!e.password)throw new C("weak-password")},G:cs,V:!0},js={endpoint:"signupNewUser",G:cs,V:!0,B:!0},Vs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new C("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Bs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Hs={endpoint:"verifyAssertion",A:ds,Za:ps,G:vs,V:!0,B:!0},zs={endpoint:"verifyAssertion",A:ds,Za:ps,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new C("user-not-found");if(e.errorMessage)throw eu(e.errorMessage);cs(e)},V:!0,B:!0},Gs={endpoint:"verifyAssertion",A:function(e){if(ds(e),!e.idToken)throw new C("internal-error")},Za:ps,G:vs,V:!0},Ws={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new C("invalid-custom-token")},G:cs,V:!0,B:!0},Ks={endpoint:"verifyPassword",A:function(e){if(ss(e),!e.password)throw new C("wrong-password")},G:cs,V:!0,B:!0},Ys={endpoint:"verifyPhoneNumber",A:ls,G:cs,B:!0},Qs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new C("internal-error");ls(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Go(e);cs(e)}},Js={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ls,G:cs,B:!0},Xs={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Ya]^!!e.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function $s(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return At(new C("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Et(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,a){var s=Un(t+n);Fn(s,"key",e.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new wt(function(t,n){is(e,s.toString(),function(e){e?e.error?n(tu(e,o||{})):t(e):n(new C("network-request-failed"))},r,u?void 0:rr(Lr(i)),e.a,e.v.get())})}(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new C("internal-error");return r[t.Z]})}function eu(e){return tu({error:{errors:[{message:e}],code:400,message:e}})}function tu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ye(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],t);return!t&&e&&(t=Mr(e)),new C("internal-error",t)}function nu(e){this.b=e,this.a=null,this.sb=function(e){return(au||(au=new wt(function(e,t){function n(){Zr(),Ir("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Zr(),t(Error("Network Error"))},timeout:iu.get()})}if(Ir("gapi.iframes.Iframe"))e();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ir("gapi.load")?n():t(Error("Network Error"))},Et(Za(r=Ee(ru,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw au=null,e}))).then(function(){return new wt(function(t,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ou.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ru=new _e(xe,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new jr(3e4,6e4),ou=new jr(5e3,15e3),au=null;function su(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Zn((e=Un(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Zn("https",this.l,null,"/__/auth/iframe"),this.a=e,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(e){try{return r.default.app(e).auth().Ga()}catch(t){return[]}}function lu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(e){var t=lr();return function(e){return $s(e,Ms,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Un(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Un(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Ho(lr())})}function fu(e){return e.m||(e.m=mr().then(function(){if(!e.u){var t=e.c,n=e.i,r=cu(e.b),i=new su(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=X(r||[]),e.u=i.toString()}e.v=new nu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Zo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Et(n)}return n.status="ERROR",Et(n)})}(e)})),e.m}function du(e){return e.l||(e.C=e.c?Er(e.c,cu(e.b)):null,e.l=new Wa(e.g,P(e.i),e.C),e.f&&ts(e.l,e.f)),e.l}function pu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new uu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ve(u||null),e.f=c,e.zb(l).toString()}function vu(e){if(this.a=e||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gu(e){this.b=e,this.a={},this.f=b(this.c,this)}su.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},uu.prototype.zb=function(e){return this.h=e,this},uu.prototype.toString=function(){if(this.v){var e=Un(this.v.url);e=Zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Zn("https",this.u,null,"/__/auth/handler");if(Fn(e,"apiKey",this.s),Fn(e,"appName",this.c),Fn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.default.app(this.c).auth().la()}catch(u){n=null}for(var i in t.pb=n,Fn(e,"providerId",this.a.providerId),t=Lr((n=this.a).Jb))t[i]=t[i].toString();i=n.Qc,t=ve(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),pe(t)||Fn(e,"customParameters",Mr(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(e,"scopes",n.join(",")),this.l?Fn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Fn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Fn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!qn(e,s)&&Fn(e,s,this.b[s]);return this.h?Fn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Fn(e,"eid",this.f):Xn(e.b,"eid"),(s=cu(this.c)).length&&Fn(e,"fw",s.join(",")),e.toString()},(e=lu.prototype).Pb=function(e,t,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(e){var t={type:"webStorageSupport"};return fu(e).then(function(){return function(e,t){return e.sb.then(function(){return new wt(function(n){e.a.send(t.type,t,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.v,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&pr(e),t(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(e){return new wt(function(t){return function n(){Cn(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return Cn(n).then(function(){t(r)})})},e.Yb=function(){var e=Ar();return!Dr(e)&&!Ur(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return At(new C("popup-blocked"));if(a&&!Dr())return this.ma().o(function(t){pr(e),i(t)}),r(),Et();this.a||(this.a=hu(du(this)));var u=this;return this.a.then(function(){var t=u.ma().o(function(t){throw pr(e),i(t),t});return r(),t}).then(function(){qo(n),a||hr(pu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e})},e.Ob=function(e,t,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then(function(){qo(t),hr(pu(i.s,i.g,i.b,e,t,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e})},e.ma=function(){var e=this;return fu(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new C("network-request-failed")})},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Q(this.h,function(t){return t==e})},(e=vu.prototype).get=function(e){return Et(this.a.getItem(e)).then(function(e){return e&&Fr(e)})},e.set=function(e,t){return Et(this.a.setItem(e,Mr(t)))},e.U=function(e){return Et(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var yu,mu=[];function _u(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function wu(e){this.a=e}function bu(e){this.c=e,this.b=!1,this.a=[]}function ku(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return At(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new wt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),e.a.push(c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return xu(e,c),t}).o(function(t){throw xu(e,c),t})}function xu(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Q(e.a,function(e){return e==t})}}function Tu(){if(!Au())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;br()&&self?(this.v=function(){var e=br()?self:null;if(H(mu,function(n){n.b==e&&(t=n)}),!t){var t=new gu(e);mu.push(t)}return t}(),_u(this.v,"keyChanged",function(t,n){return Ru(e).then(function(t){return 0<t.length&&H(e.a,function(e){e(t)}),{keyProcessed:K(t,n.key)}})}),_u(this.v,"ping",function(){return Et(["keyChanged"])})):function(){var e=s.navigator;return e&&e.serviceWorker?Et().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):Et(null)}().then(function(t){(e.h=t)&&(e.g=new bu(new wu(t)),ku(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&K(t[0].value,"keyChanged")&&(e.s=!0)}).o(function(){}))})}function Su(e){return new wt(function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new wt(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return Su(e)}).then(function(e){t(e)}).o(function(e){n(e)})}})}function Cu(e){return e.i||(e.i=Su(e)),e.i}function Eu(e,t){var n=0;return new wt(function r(i,o){Cu(e).then(t).then(i).o(function(t){if(!(3<++n))return Cu(e).then(function(t){return t.close(),e.i=void 0,r(i,o)}).o(function(e){o(e)});o(t)})})}function Au(){try{return!!s.indexedDB}catch(We){return!1}}function Iu(e){return e.objectStore("firebaseLocalStorage")}function Nu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new wt(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function Pu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?ku(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):Et()}function Ru(e){return Cu(e).then(function(e){var t=Iu(Nu(e,!1));return t.getAll?Ou(t.getAll()):new wt(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=fr(e.c,n),e.c=n}return r})}function Du(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Mu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Et().then(function(){if(Au()){var e=qr(),r="__sak"+e;return yu||(yu=new Tu),(n=yu).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){H(t.a,function(t){t(e)})}),e})}function Lu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var e="Node"==kr();if(!(e=qu()||e&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==kr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=qu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function qu(){try{var e=s.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Uu(){this.type="nullStorage"}function Zu(){if(!function(){var e="Node"==kr();if(!(e=ju()||e&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==kr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=ju()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ju(){try{var e=s.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Vu(){var e={};e.Browser=zu,e.Node=Gu,e.ReactNative=Wu,e.Worker=Ku,this.a=e[kr()]}gu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];H(r,function(t){i.push(Et().then(function(){return t(e.origin,e.data.data)}))}),Nt(i).then(function(r){var i=[];H(r,function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),H(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},wu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},bu.prototype.close=function(){for(;0<this.a.length;)xu(this,this.a[0]);this.b=!0},(e=Tu.prototype).set=function(e,t){var n=this,r=!1;return Eu(this,function(t){return Ou((t=Iu(Nu(t,!0))).get(e))}).then(function(i){return Eu(n,function(o){if(o=Iu(Nu(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))})}).then(function(){return n.c[e]=t,Pu(n,e)}).oa(function(){r&&n.b--})},e.get=function(e){return Eu(this,function(t){return Ou(Iu(Nu(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.U=function(e){var t=this,n=!1;return Eu(this,function(r){return n=!0,t.b++,Ou(Iu(Nu(r,!0)).delete(e))}).then(function(){return delete t.c[e],Pu(t,e)}).oa(function(){n&&t.b--})},e.ca=function(e){0==this.a.length&&function(e){Du(e),function t(){e.f=setTimeout(function(){e.l=Ru(e).then(function(t){0<t.length&&H(e.a,function(e){e(t)})}).then(function(){t()}).o(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()}(this),this.a.push(e)},e.ia=function(e){Q(this.a,function(t){return t==e}),0==this.a.length&&Du(this)},(e=Mu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.U=function(e){return this.b.then(function(t){return t.U(e)})},e.ca=function(e){this.a.push(e)},e.ia=function(e){Q(this.a,function(t){return t==e})},(e=Lu.prototype).get=function(e){return Et(this.a[e])},e.set=function(e,t){return this.a[e]=t,Et()},e.U=function(e){return delete this.a[e],Et()},e.ca=function(){},e.ia=function(){},(e=Fu.prototype).get=function(e){var t=this;return Et().then(function(){return Fr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Et().then(function(){var r=Mr(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return Et().then(function(){t.a.removeItem(e)})},e.ca=function(e){s.window&&cn(s.window,"storage",e)},e.ia=function(e){s.window&&fn(s.window,"storage",e)},(e=Uu.prototype).get=function(){return Et(null)},e.set=function(){return Et()},e.U=function(){return Et()},e.ca=function(){},e.ia=function(){},(e=Zu.prototype).get=function(e){var t=this;return Et().then(function(){return Fr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Et().then(function(){var r=Mr(t);null===r?n.U(e):n.a.setItem(e,r)})},e.U=function(e){var t=this;return Et().then(function(){t.a.removeItem(e)})},e.ca=function(){},e.ia=function(){};var Bu,Hu,zu={F:Fu,cb:Zu},Gu={F:Fu,cb:Zu},Wu={F:vu,cb:Uu},Ku={F:Fu,cb:Uu},Yu={rd:"local",NONE:"none",td:"session"};function Qu(){var e=!(Ur(Ar())||!wr()),t=Dr(),n=Nr();this.m=e,this.h=t,this.l=n,this.a={},Bu||(Bu=new Vu),e=Bu;try{this.g=!cr()&&Hr()||!s.indexedDB?new e.a.F:new Mu(br()?new Lu:new e.a.F)}catch(r){this.g=new Lu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Lu}this.v=new Lu,this.f=b(this.Zb,this),this.b={}}function Ju(){return Hu||(Hu=new Qu),Hu}function Xu(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function $u(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ec(e,t,n){return n=$u(t,n),"local"==t.F&&(e.b[n]=null),Xu(e,t.F).U(n)}function tc(e){e.c&&(clearInterval(e.c),e.c=null)}function nc(e){this.a=e,this.b=Ju()}(e=Qu.prototype).get=function(e,t){return Xu(this,e.F).get($u(e,t))},e.set=function(e,t,n){var r=$u(e,n),i=this,o=Xu(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},e.addListener=function(e,t,n){e=$u(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),pe(this.a)&&(Xu(this,"local").ca(this.f),this.h||(cr()||!Hr())&&s.indexedDB||!this.l||function(e){tc(e),e.c=setInterval(function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Jt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=$u(e,t),this.a[e]&&(Q(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(Xu(this,"local").ia(this.f),tc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Xu(this,"local").ia(this.f):tc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.nb(t))},Ye&&at&&10==at&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else H(e,b(this.nb,this))},e.nb=function(e){this.a[e]&&H(this.a[e],function(e){e()})};var rc,ic={name:"authEvent",F:"local"};function oc(){this.a=Ju()}function ac(e,t){this.b=sc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=s.Int32Array?new Int32Array(pc):pc),this.reset()}T(ac,function(){this.b=-1});for(var sc=64,uc=sc-1,cc=[],lc=0;lc<uc;lc++)cc[lc]=0;var hc=J(128,cc);function fc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|rc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function dc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(fc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(fc(e),i=0)}}e.c=i,e.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vc(){ac.call(this,8,gc)}T(vc,ac);var gc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new oc,this.g=new nc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(e){return new C("invalid-cordova-configuration",e)}function _c(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function wc(e){return e.f||(e.f=e.ma().then(function(){return new wt(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){r=!0,i&&i.cancel(),bc(e).then(function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=ro(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(qn(o=Un(i),"firebaseError")||null))?E(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(e,i)})}var n=new Uo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Cn(500).then(function(){return bc(e).then(function(){r||_c(e,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ir("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Bo||(Bo=new jo),function(e){var t=Bo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Ir("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)})})),e.f}function bc(e){var t=null;return function(e){return e.b.get(ic,e.a).then(function(e){return Zo(e)})}(e.g).then(function(n){return t=n,ec((n=e.g).b,ic,n.a)}).then(function(){return t})}function kc(e){this.a=e,this.b=Ju()}(e=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?mr().then(function(){return new wt(function(e,t){var n=s.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ir("universalLinks.subscribe",s))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",s))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",s))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",s))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})},e.Pb=function(e,t){return t(new C("operation-not-supported-in-this-environment")),Et()},e.Nb=function(){return At(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return At(new C("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Et().then(function(){return qo(t),wc(i)}).then(function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Uo(t,r,null,o,new C("no-auth-event"),null,i),u=Ir("BuildInfo.packageName",s);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Ir("BuildInfo.displayName",s),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return At(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(e){var t=new vc;dc(t,e),e=[];var n=8*t.g;dc(t,hc,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(fc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}(o),l.sessionId=o;var h=pu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(ic,a.w(),t)}).then(function(){var t=Ir("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof t)throw new C("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",s)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",s)))throw new C("invalid-cordova-configuration");t=Ar(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,e,t,n,r)}).then(function(){return new wt(function(e,t){u=function(){var t=Ir("cordova.plugins.browsertab.close",s);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Vr()&&c()},o.addEventListener("resume",c=function(){a||(a=Cn(2e3).then(function(){t(new C("redirect-cancelled-by-user"))}))},!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(e){return bc(i).then(function(){throw e})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null})},e.Ea=function(e){this.b.push(e),wc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Uo("unknown",null,null,null,new C("no-auth-event")),e(t))})},e.Ta=function(e){Q(this.b,function(t){return t==e})};var xc={name:"pendingRedirect",F:"session"};function Tc(e){return ec(e.b,xc,e.a)}function Sc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Zc,this.C=new zc,this.g=new kc(qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Cc(this.D,this.v,this.m,A,this.J)}function Cc(e,t,n,i,o){var a=r.default.SDK_VERSION||null;return _r()?new yc(e,t,n,a,i,o):new lu(e,t,n,a,i,o)}function Ec(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function Ac(e){e.a.Yb()&&Ec(e).o(function(t){var n=new Uo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dc(t)&&e.s(n)}),e.a.Ub()||jc(e.b)}function Ic(e,t){K(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(xc,e.a).then(function(e){return"pending"==e})}(e.g).then(function(t){t?Tc(e.g).then(function(){Ec(e).o(function(t){var n=new Uo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Dc(t)&&e.s(n)})}):Ac(e)}).o(function(){Ac(e)})}function Nc(e,t){Q(e.h,function(e){return e==t})}Sc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Cc(this.D,this.v,this.m,null,this.J),this.i={}},Sc.prototype.s=function(e){if(!e)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return jc(this.b),t};var Oc=new jr(2e3,1e4),Pc=new jr(3e4,6e4);function Rc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},i,o,a)}function Dc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Mc(e,t,n,r,i){var o;return function(e){return e.b.set(xc,"pending",e.a)}(e.g).then(function(){return e.a.Ob(t,n,r,i).o(function(t){if(Dc(t))throw new C("operation-not-supported-in-this-environment");return o=t,Tc(e.g).then(function(){throw o})}).then(function(){return e.a.ac()?new wt(function(){}):Tc(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function Lc(e,t,n,r,i){return e.a.Pb(r,function(e){t.na(n,null,e,i)},Oc.get())}Sc.prototype.ra=function(){return this.b.ra()};var Fc={};function qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Uc(e,t,n,r){var i=qc(t,n,r);return Fc[i]||(Fc[i]=new Sc(e,t,n,r)),Fc[i]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function jc(e){e.g||(e.g=!0,Hc(e,!1,null,null))}function Vc(e){e.g&&!e.i&&Hc(e,!1,null,null)}function Bc(e,t){if(e.b=function(){return Et(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Hc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return At(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Bc(e,n):Bc(e,{user:null}),e.f=[],e.c=[]}function zc(){}function Gc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Wc(e,t){this.a=t,Yr(this,"verificationId",e)}function Kc(e,t,n,r){return new Mo(e).gb(t,n).then(function(e){return new Wc(e,r)})}function Yc(e){var t=Bi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:e,expirationTime:Br(1e3*t.exp),authTime:Br(1e3*t.auth_time),issuedAtTime:Br(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Qc(e,t,n){var r=t&&t[Xc];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new io(null,r),this.b=[];var i=this;H(t[Jc]||[],function(e){(e=ei(e))&&i.b.push(e)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Hc(this,!0,null,e.a),Et()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then(function(t){Hc(e,s,t,null)}).o(function(t){Hc(e,s,null,t)})}(this,e,t):At(new C("invalid-auth-event")):(Hc(this,!1,null,null),Et())}else At(new C("invalid-auth-event"))},Zc.prototype.ra=function(){var e=this;return new wt(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new C("timeout");e.a&&e.a.cancel(),e.a=Cn(Pc.get()).then(function(){e.b||(e.g=!0,Hc(e,!0,null,t))})}(e))})},zc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Et()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):At(new C("invalid-auth-event"))}else At(new C("invalid-auth-event"))},Wc.prototype.confirm=function(e){return e=Lo(this.verificationId,e),this.a(e)};var Jc="mfaInfo",Xc="mfaPendingCredential";function $c(e,t,n,r){C.call(this,"multi-factor-auth-required",r,t),this.b=new Qc(e,t,n),Yr(this,"resolver",this.b)}function el(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new $c(t,e.serverResponse,n,e.message)}catch(r){}return null}function tl(){}function nl(e){Yr(this,"factorId",e.fa),this.a=e}function rl(e){if(nl.call(this,e),this.a.fa!=Mo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function ol(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&H(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[ri]=e.uid),e.displayName&&(r[ti]=e.displayName),e.enrollmentTime&&(r[ni]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ii]=e.phoneNumber);try{t=new oi(r)}catch(i){}e=t}else e=null;e&&n.push(e)}),al(this,n)}function al(e,t){e.b=t,Yr(e,"enrolledFactors",t)}function sl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then(function(){return function(){var e=s.document,t=null;return Vr()||!e?Et():new wt(function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return e.h()}).then(function(){ul(e,!0)}).o(function(t){e.i(t)&&ul(e,!1)})}function cl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function ll(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function hl(e,t){e.b=Vi(t[Ya]||""),e.a=t.refreshToken,ll(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function fl(e,t){this.a=e||null,this.b=t||null,Qr(this,{lastSignInTime:Br(t||null),creationTime:Br(e||null)})}function dl(e,t,n,r,i,o){Qr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function pl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.default.SDK_VERSION?Er(r.default.SDK_VERSION):null;this.a=new Wa(this.l,P(A),i),(this.u=e.emulatorConfig||null)&&ts(this.a,this.u),this.h=new cl(this.a),xl(this,t[Ya]),hl(this.h,t),Yr(this,"refreshToken",this.h.a),Cl(this,n||{}),bn.call(this),this.P=!1,this.s&&Or()&&(this.b=Uc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new sl(function(){return e.I(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0})}(this),this.ba=b(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){vl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){ml(o,e.f)},this.ja=null,this.S=new ol(this,n),Yr(this,"multiFactor",this.S)}function vl(e,t){e.u=t,ts(e.a,t),e.b&&(t=e.b,e.b=Uc(e.s,e.l,e.m,e.u),e.P&&(Nc(t,e),Ic(e.b,e)))}function gl(e,t){e.qa&&fn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&cn(t,"languageCodeChanged",e.Pa)}function yl(e,t){e.$&&fn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&cn(t,"emulatorConfigChanged",e.Ba)}function ml(e,t){e.aa=t,rs(e.a,r.default.SDK_VERSION?Er(r.default.SDK_VERSION,e.aa):null)}function _l(e,t){e.ja&&fn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&cn(t,"frameworkChanged",e.Oa)}function wl(e){try{return r.default.app(e.m).auth()}catch(t){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function bl(e){e.J||e.D.b||(e.D.start(),fn(e,"tokenChanged",e.ba),cn(e,"tokenChanged",e.ba))}function kl(e){fn(e,"tokenChanged",e.ba),e.D.stop()}function xl(e,t){e.Aa=t,Yr(e,"_lat",t)}function Tl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Nt(t).then(function(){return e})}function Sl(e){e.b&&!e.P&&(e.P=!0,Ic(e.b,e))}function Cl(e,t){Qr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new fl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function El(){}function Al(e){return Et().then(function(){if(e.J)throw new C("app-deleted")})}function Il(e){return G(e.providerData,function(e){return e.providerId})}function Nl(e,t){t&&(Ol(e,t.providerId),e.providerData.push(t))}function Ol(e,t){Q(e.providerData,function(e){return e.providerId==t})}function Pl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Yr(e,t,n)}function Rl(e,t){e!=t&&(Qr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Yr(e,"metadata",t.metadata?function(e){return new fl(e.a,e.b)}(t.metadata):new fl),H(t.providerData,function(t){Nl(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Yr(e,"refreshToken",e.h.a),al(e.S,t.S.b))}function Dl(e){return e.I().then(function(t){var n=e.isAnonymous;return function(e,t){return $s(e.a,Ns,{idToken:t}).then(b(e.Kc,e))}(e,t).then(function(){return n||Pl(e,"isAnonymous",!1),t})})}function Ml(e,t){t[Ya]&&e.Aa!=t[Ya]&&(hl(e.h,t),e.dispatchEvent(new il("tokenChanged")),xl(e,t[Ya]),Pl(e,"refreshToken",e.h.a))}function Ll(e,t){return Dl(e).then(function(){if(K(Il(e),t))return Tl(e).then(function(){throw new C("provider-already-linked")})})}function Fl(e,t,n){return Jr({user:e,credential:Fo(t),additionalUserInfo:t=Ki(t),operationType:n})}function ql(e,t){return Ml(e,t),e.reload().then(function(){return e})}function Ul(e,t,n,i,o){if(!Or())return At(new C("operation-not-supported-in-this-environment"));if(e.i&&!o)return At(e.i);var a=Wi(n.providerId),s=qr(e.uid+":::"),u=null;(!Dr()||wr())&&e.s&&n.isOAuthProvider&&(u=pu(e.s,e.l,e.m,t,n,null,s,r.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=vr(u,a&&a.va,a&&a.ua);return i=i().then(function(){if(jl(e),!o)return e.I().then(function(){})}).then(function(){return Rc(e.b,c,t,n,s,!!u,e.tenantId)}).then(function(){return new wt(function(n,r){e.na(t,null,new C("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Lc(e.b,e,t,c,s)})}).then(function(e){return c&&pr(c),e?Jr(e):null}).o(function(e){throw c&&pr(c),e}),Vl(e,i,o)}function Zl(e,t,n,r,i){if(!Or())return At(new C("operation-not-supported-in-this-environment"));if(e.i&&!i)return At(e.i);var o=null,a=qr(e.uid+":::");return r=r().then(function(){if(jl(e),!i)return e.I().then(function(){})}).then(function(){return e.ga=a,Tl(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set(zl,e.w(),t.a)),t}).then(function(){return Mc(e.b,t,n,a,e.tenantId)}).o(function(t){if(o=t,e.ha)return Gl(e.ha);throw o}).then(function(){if(o)throw o}),Vl(e,r,i)}function jl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Vl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),At(e.i)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new il("userInvalidated")),e.i=t),t})}(e,t,n);return e.N.push(r),r.oa(function(){Y(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=el(t.w(),wl(e),b(e.jc,e))),n||t})}function Bl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Ya]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new pl(t,n,e);return e.providerData&&H(e.providerData,function(e){e&&Nl(i,Jr(e))}),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Hl(e){this.a=e,this.b=Ju()}Qc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=ve(t.f);return delete n[Jc],delete n[Xc],ye(n,e),t.g(n)})},T($c,C),tl.prototype.tb=function(e,t,n){return t.type==oo?function(e,t,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ye(n,{phoneVerificationInfo:Do(e.a)}),$s(t,As,n)})}(this,e,t,n):function(e,t,n){return n.Ha().then(function(n){return ye(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(e.a)}),$s(t,Is,n)})}(this,e,t)},T(nl,tl),T(rl,nl),T(il,Qt),(e=ol.prototype).yc=function(e){al(this,function(e){var t=[];return H(e.mfaInfo||[],function(e){(e=ei(e))&&t.push(e)}),t}(e.hd))},e.Sb=function(){return this.a.I().then(function(e){return new io(e,null)})},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return Ml(n.a,e),n.a.reload()})},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return $s(r,Xs,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=z(t.b,function(e){return e.uid!=n});return al(t,r),Ml(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},e.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(e){return e.w()})}}},sl.prototype.start=function(){this.a=this.c,ul(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},cl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?At(new C("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new wt(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?is(e,e.l+"?key="+encodeURIComponent(e.c),function(e){e?e.error?r(tu(e)):e.access_token&&e.refresh_token?n(e):r(new C("internal-error")):r(new C("network-request-failed"))},"POST",Jn(t).toString(),e.g,e.m.get()):r(new C("internal-error"))})}(e.f,t).then(function(t){return e.b=Vi(t.access_token),e.a=t.refresh_token,ll(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(pl,bn),pl.prototype.xa=function(e){this.za=e,es(this.a,e)},pl.prototype.la=function(){return this.za},pl.prototype.Ga=function(){return X(this.aa)},pl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(pl.prototype,"providerId","firebase"),(e=pl.prototype).reload=function(){var e=this;return Vl(this,Al(this).then(function(){return Dl(e).then(function(){return Tl(e)}).then(El)}))},e.oc=function(e){return this.I(e).then(function(e){return new Yc(e)})},e.I=function(e){var t=this;return Vl(this,Al(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new C("internal-error");return e.accessToken!=t.Aa&&(xl(t,e.accessToken),t.dispatchEvent(new il("tokenChanged"))),Pl(t,"refreshToken",e.refreshToken),e.accessToken}))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new C("internal-error");Cl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,function(e){return new dl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)Nl(this,t[n]);Pl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:e}))},e.Lc=function(e){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Vl(this,e.c(this.a,this.uid).then(function(e){return Ml(t,e),n=Fl(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.Cc=function(e){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Vl(this,Ll(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=Fl(t,e,"link"),ql(t,e)}).then(function(){return n}))},e.Dc=function(e,t){var n=this;return Vl(this,Ll(this,"phone").then(function(){return Kc(wl(n),e,t,b(n.rb,n))}))},e.Mc=function(e,t){var n=this;return Vl(this,Et().then(function(){return Kc(wl(n),e,t,b(n.ub,n))}),!0)},e.Cb=function(e){var t=this;return Vl(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return Ml(t,e),t.reload()}))},e.ed=function(e){var t=this;return Vl(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return Ml(t,e),t.reload()}))},e.Db=function(e){var t=this;return Vl(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return Ml(t,e),t.reload()}))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Al(this);var t=this;return Vl(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return Ml(t,e),Pl(t,"displayName",e.displayName||null),Pl(t,"photoURL",e.photoUrl||null),H(t.providerData,function(e){"password"===e.providerId&&(Yr(e,"displayName",t.displayName),Yr(e,"photoURL",t.photoURL))}),Tl(t)}).then(El))},e.cd=function(e){var t=this;return Vl(this,Dl(this).then(function(n){return K(Il(t),e)?function(e,t,n){return $s(e,Ss,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then(function(e){var n={};return H(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),H(Il(t),function(e){n[e]||Ol(t,e)}),n[Mo.PROVIDER_ID]||Yr(t,"phoneNumber",null),Tl(t)}):Tl(t).then(function(){throw new C("no-such-provider")})}))},e.delete=function(){var e=this;return Vl(this,this.I().then(function(t){return $s(e.a,Ts,{idToken:t})}).then(function(){e.dispatchEvent(new il("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");gl(e,null),yl(e,null),_l(e,null),e.N=[],e.J=!0,kl(e),Yr(e,"refreshToken",null),e.b&&Nc(e.b,e)})},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Mb,this):null},e.Ec=function(e){var t=this;return Ul(this,"linkViaPopup",e,function(){return Ll(t,e.providerId).then(function(){return Tl(t)})},!1)},e.Nc=function(e){return Ul(this,"reauthViaPopup",e,function(){return Et()},!0)},e.Fc=function(e){var t=this;return Zl(this,"linkViaRedirect",e,function(){return Ll(t,e.providerId)},!1)},e.Oc=function(e){return Zl(this,"reauthViaRedirect",e,function(){return Et()},!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,this.I().then(function(n){return ys(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return o=Fl(i,e,"link"),ql(i,e)}).then(function(){return o}))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,Et().then(function(){return uo(ms(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)}).then(function(e){return o=Fl(i,e,"reauthenticate"),Ml(i,e),i.i=null,i.reload()}).then(function(){return o}),!0)},e.vb=function(e){var t=this,n=null;return Vl(this,this.I().then(function(t){return n=t,void 0===e||pe(e)?{}:Ui(new Ii(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.Fb=function(e,t){var n=this,r=null;return Vl(this,this.I().then(function(e){return r=e,void 0===t||pe(t)?{}:Ui(new Ii(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},e.jc=function(e){var t=null,n=this;return Vl(this,e=uo(Et(e),n.uid).then(function(e){return t=Fl(n,e,"reauthenticate"),Ml(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ye(e,this.metadata.w()),H(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),ye(e,this.S.w()),e};var zl={name:"redirectUser",F:"session"};function Gl(e){return ec(e.b,zl,e.a)}function Wl(e){this.a=e,this.b=Ju(),this.c=null,this.f=function(e){var t=Ql("local"),n=Ql("session"),r=Ql("none");return function(e,t,n){var r=$u(t,n),i=Xu(e,t.F);return e.get(t,n).then(function(o){var a=null;try{a=Fr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(e.b,t,e.a).then(function(){return e.b.get(n,e.a)}).then(function(i){return i?n:e.b.get(r,e.a).then(function(n){return n?r:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(Yl,e.a).then(function(e){return e?Ql(e):t})})})}).then(function(t){return e.c=t,Kl(e,t.F)}).o(function(){e.c||(e.c=t)})}(this),this.b.addListener(Ql("local"),this.a,b(this.g,this))}function Kl(e,t){var n,r=[];for(n in Yu)Yu[n]!==t&&r.push(ec(e.b,Ql(Yu[n]),e.a));return r.push(ec(e.b,Yl,e.a)),function(e){return new wt(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)It(e[s],k(o,s),a);else t(i)})}(r)}Wl.prototype.g=function(){var e=this,t=Ql("local");eh(this,function(){return Et().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return Kl(e,"local").then(function(){e.c=t})})})};var Yl={name:"persistence",F:"session"};function Ql(e){return{name:"authUser",F:e}}function Jl(e,t){return eh(e,function(){return e.b.set(e.c,t.w(),e.a)})}function Xl(e){return eh(e,function(){return ec(e.b,e.c,e.a)})}function $l(e,t,n){return eh(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Bl(e||{})})})}function eh(e,t){return e.f=e.f.then(t,t),e.f}function th(e){if(this.l=!1,Yr(this,"settings",new Gc),Yr(this,"app",e),!ch(this).options||!ch(this).options.apiKey)throw new C("invalid-api-key");e=r.default.SDK_VERSION?Er(r.default.SDK_VERSION):null,this.a=new Wa(ch(this).options&&ch(this).options.apiKey,P(A),e),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(b(this.Ac,this)),sh(this,null),this.i=new Wl(ch(this).options.apiKey+":"+ch(this).name),this.D=new Hl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(e){var t=ch(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(zl,e.a).then(function(e){return e&&t&&(e.authDomain=t),Bl(e||{})})}(e.D,ch(e).options.authDomain).then(function(t){return(e.m=t)&&(t.ha=e.D),Gl(e.D)});return dh(e,t)}(e).then(function(){return $l(e.i,t,e.R)}).then(function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then(function(){return Jl(e.i,t).then(function(){return t})}).o(function(n){return"auth/network-request-failed"==n.code?t:Xl(e.i)})):null}).then(function(t){sh(e,t||null)});return dh(e,n)}(this)),this.h=dh(this,function(e){return e.$.then(function(){return ah(e)}).o(function(){}).then(function(){if(!e.l)return e.ja()}).o(function(){}).then(function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Ql("local"),t.a,e.ja)}})}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(e){var t=ch(e).options.authDomain,n=ch(e).options.apiKey;t&&Or()&&(e.Oa=e.$.then(function(){if(!e.l){if(e.b=Uc(t,n,ch(e).name,e.R),Ic(e.b,e),lh(e)&&Sl(lh(e)),e.m){Sl(e.m);var r=e.m;r.xa(e.la()),gl(r,e),ml(r=e.m,e.J),_l(r,e),vl(r=e.m,e.R),yl(r,e),e.m=null}return e.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Un(this.R.url);e=Jr({protocol:e.c,host:e.a,port:e.g,options:Jr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function nh(e){Qt.call(this,"languageCodeChanged"),this.h=e}function rh(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function ih(e){Qt.call(this,"frameworkChanged"),this.f=e}function oh(e){return e.Oa||At(new C("auth-domain-config-required"))}function ah(e){if(!Or())return At(new C("operation-not-supported-in-this-environment"));var t=oh(e).then(function(){return e.b.ra()}).then(function(e){return e?Jr(e):null});return dh(e,t)}function sh(e,t){lh(e)&&(function(e,t){Q(e.W,function(e){return e==t})}(lh(e),e.Ba),fn(lh(e),"tokenChanged",e.qa),fn(lh(e),"userDeleted",e.za),fn(lh(e),"userInvalidated",e.Aa),kl(lh(e))),t&&(t.W.push(e.Ba),cn(t,"tokenChanged",e.qa),cn(t,"userDeleted",e.za),cn(t,"userInvalidated",e.Aa),0<e.u&&bl(t)),Yr(e,"currentUser",t),t&&(t.xa(e.la()),gl(t,e),ml(t,e.J),_l(t,e),vl(t,e.R),yl(t,e))}function uh(e,t){var n=null,r=null;return dh(e,t.then(function(t){return n=Fo(t),r=Ki(t),function(e,t){var n={};return n.apiKey=ch(e).options.apiKey,n.authDomain=ch(e).options.authDomain,n.appName=ch(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then(function(){return function(e,t,n,r){var i=new pl(e,t);return n&&(i.ha=n),r&&ml(i,r),i.reload().then(function(){return i})}(n,t,e.D,e.Ga())}).then(function(t){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(sh(e,t),Sl(t),e.da(t))}).then(function(){fh(e)})}(e,t)},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=el(t.w(),e,b(e.kc,e))),n||t}).then(function(){return Jr({user:lh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(e){return e.app}function lh(e){return e.currentUser}function hh(e){return lh(e)&&lh(e)._lat||null}function fh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](hh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](hh(e))}}function dh(e,t){return e.P.push(t),t.oa(function(){Y(e.P,t)}),t}function ph(){}function vh(){this.a={},this.b=1e12}Wl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");e:{for(r in Yu)if(Yu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(kr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Au()&&"none"!==e)throw n;break;default:if(!Nr()&&"none"!==e)throw n}}(e),eh(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,Kl(n,e)}).then(function(){if(n.c=Ql(e),t)return n.b.set(n.c,t,n.a)}):Et()})},T(th,bn),T(nh,Qt),T(rh,Qt),T(ih,Qt),(e=th.prototype).yb=function(e){return dh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,es(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&mr().then(function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)})})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ts(this.a,this.R),this.dispatchEvent(new rh(this.R))}},e.Gc=function(e){this.J.push(e),rs(this.a,r.default.SDK_VERSION?Er(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},e.Ga=function(){return X(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,gs(i.a,o))})},e.Xc=function(e){if(!Or())return At(new C("operation-not-supported-in-this-environment"));var t=this,n=Wi(e.providerId),i=qr(),o=null;(!Dr()||wr())&&ch(this).options.authDomain&&e.isOAuthProvider&&(o=pu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",e,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=vr(o,n&&n.va,n&&n.ua);return dh(this,n=oh(this).then(function(n){return Rc(n,a,"signInViaPopup",e,i,!!o,t.T())}).then(function(){return new wt(function(e,n){t.na("signInViaPopup",null,new C("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Lc(t.b,t,"signInViaPopup",a,i)})}).then(function(e){return a&&pr(a),e?Jr(e):null}).o(function(e){throw a&&pr(a),e}))},e.Yc=function(e){if(!Or())return At(new C("operation-not-supported-in-this-environment"));var t=this;return dh(this,oh(this).then(function(){return function(e){return eh(e,function(){return e.b.set(Yl,e.c.F,e.a)})}(t.i)}).then(function(){return Mc(t.b,"signInViaRedirect",e,void 0,t.T())}))},e.ra=function(){var e=this;return ah(this).then(function(t){return e.b&&Vc(e.b.b),t}).o(function(t){throw e.b&&Vc(e.b.b),t})},e.dd=function(e){if(!e)return At(new C("null-user"));if(this.S!=e.tenantId)return At(new C("tenant-id-mismatch"));var t=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Ya]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new pl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&ml(t,r),Rl(t,e),t}(e,n,t.D,t.Ga());return dh(this,this.h.then(function(){if(ch(t).options.apiKey!=e.l)return r.reload()}).then(function(){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(sh(t,r),Sl(r),t.da(r))}).then(function(){fh(t)}))},e.Bb=function(){var e=this;return dh(this,this.h.then(function(){return e.b&&Vc(e.b.b),lh(e)?(sh(e,null),Xl(e.i).then(function(){fh(e)})):Et()}))},e.Zc=function(){var e=this;return $l(this.i,ch(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=lh(e)&&t){n=lh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(lh(e),t),lh(e).I();(lh(e)||t)&&(sh(e,t),t&&(Sl(t),t.ha=e.D),e.b&&Ic(e.b,e),fh(e))}})},e.da=function(e){return Jl(this.i,e)},e.mc=function(){fh(this),this.da(lh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then(function(){return uh(t,Et(e))})},e.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(lh(t))})},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),dh(e,e.h.then(function(){!e.l&&K(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(hh(e)))}))}(this,function(){e.next(lh(t))})},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(lh(r)):"function"==typeof e.next&&e.next(lh(r))}),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof e?e(lh(r)):"function"==typeof e.next&&e.next(lh(r))}),this.ib(e,t,n)},e.nc=function(e){var t=this;return dh(this,this.h.then(function(){return lh(t)?lh(t).I(e).then(function(e){return{accessToken:e}}):null}))},e.Tc=function(e){var t=this;return this.h.then(function(){return uh(t,$s(t.a,Ws,{token:e}))}).then(function(e){var n=e.user;return Pl(n,"isAnonymous",!1),t.da(n),e})},e.Uc=function(e,t){var n=this;return this.h.then(function(){return uh(n,$s(n.a,Ks,{email:e,password:t}))})},e.dc=function(e,t){var n=this;return this.h.then(function(){return uh(n,$s(n.a,ks,{email:e,password:t}))})},e.ab=function(e){var t=this;return this.h.then(function(){return uh(t,e.ka(t.a))})},e.Sc=function(e){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then(function(){var t=lh(e);if(t&&t.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(e,e.a.Ab()).then(function(t){var n=t.user;return Pl(n,"isAnonymous",!0),e.da(n),t})})},e.getUid=function(){return lh(this)&&lh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&lh(this)&&bl(lh(this))},e.Pc=function(e){var t=this;H(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&kl(lh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),dh(this,this.h.then(function(){t.l||K(t.s,e)&&e(hh(t))}))},e.removeAuthTokenListener=function(e){Q(this.s,function(t){return t==e})},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(Ql("local"),e.a,this.ja),this.b&&(Nc(this.b,this),Vc(this.b.b)),Promise.resolve()},e.hc=function(e){return dh(this,function(e,t){return $s(e,xs,{identifier:t,continueUri:Pr()?lr():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.a,e))},e.Bc=function(e){return!!Oo(e)},e.xb=function(e,t){var n=this;return dh(this,Et().then(function(){var e=new Ii(t);if(!e.c)throw new C("argument-error",Pi+" must be true when sending sign in link to email");return Ui(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},e.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},e.ob=function(e,t){return dh(this,this.a.ob(e,t).then(function(){}))},e.Sa=function(e){return dh(this,this.a.Sa(e).then(function(e){return new ai(e)}))},e.kb=function(e){return dh(this,this.a.kb(e).then(function(){}))},e.wb=function(e,t){var n=this;return dh(this,Et().then(function(){return void 0===t||pe(t)?{}:Ui(new Ii(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},e.Wc=function(e,t){return dh(this,Kc(this,e,t,b(this.ab,this)))},e.Vc=function(e,t){var n=this;return dh(this,Et().then(function(){var r=t||lr(),i=No(e,r);if(!(r=Oo(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function yh(e,t){return(t=mh(t))&&e.a[t]||null}function mh(e){return(e=void 0===e?1e12:e)?e.toString():null}function _h(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ut(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function bh(){}function kh(){}vh.prototype.render=function(e,t){return this.a[this.b.toString()]=new _h(e,t),this.b++},vh.prototype.reset=function(e){var t=yh(this,e);e=mh(e),t&&e&&(t.delete(),delete this.a[e])},vh.prototype.getResponse=function(e){return(e=yh(this,e))?e.getResponse():null},vh.prototype.execute=function(e){(e=yh(this,e))&&e.execute()},_h.prototype.getResponse=function(){return wh(this),this.b},_h.prototype.execute=function(){wh(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()},6e4)},500))},_h.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Yr(bh,"FACTOR_ID","phone"),kh.prototype.g=function(){return gh||(gh=new vh),Et(gh)},kh.prototype.c=function(){};var xh=null;function Th(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new _e(xe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ch=new jr(3e4,6e4);Th.prototype.g=function(e){var t=this;return new wt(function(n,r){var i=setTimeout(function(){r(new C("network-request-failed"))},Ch.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete s[t.a]},Et(Za(Ee(Sh,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Th.prototype.c=function(){this.b--};var Eh=null;function Ah(e,t,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(xh||(xh=new kh),a=xh):(Eh||(Eh=new Th),a=Eh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Oh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!s.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ut(t)||!this.i&&ut(t).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wa(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ih];this.a[Ih]=function(e){if(Rh(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=Ir(c,s);"function"==typeof t&&t(e)}};var l=this.a[Nh];this.a[Nh]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=Ir(l,s);"function"==typeof e&&e()}}}var Ih="callback",Nh="expired-callback",Oh="sitekey",Ph="size";function Rh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Dh(e,t){return e.h.push(t),t.oa(function(){Y(e.h,t)}),t}function Mh(e){if(e.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lh(e,t,n){var i=!1;try{this.b=n||r.default.app()}catch(s){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.default.SDK_VERSION?Er(r.default.SDK_VERSION,a):null,Ah.call(this,n,e,t,function(){try{var e=o.b.auth().la()}catch(t){e=null}return e},a,P(A),i)}function Fh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=qh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=qh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new C("argument-error",e+" failed: "+r)}(e=Ah.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Dh(this,Et().then(function(){if(Pr()&&!br())return mr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,$s(e.s,Ls,{})}).then(function(t){e.a[Oh]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},e.render=function(){Mh(this);var e=this;return Dh(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=ut(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!st&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',He(a.name),'"'),a.type){o.push(' type="',He(a.type),'"');var s={};ye(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ct(o,a)),2<r.length&&dt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){Mh(this);var e=this;return Dh(this,this.render().then(function(t){return new wt(function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push(function t(r){r&&(function(e,t){Q(e.l,function(e){return e==t})}(e,t),n(r))}),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){Mh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Mh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ut(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},T(Lh,Ah);var qh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Zh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function jh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function Vh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Bh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Hh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){return!!t&&!(!t.ka||e&&t.providerId!==e)}}}function zh(e,t){return v(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Gh(e){return v(e)&&"string"==typeof e.uid}function Wh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Kh(e,t){for(var n in t){var r=t[n].name;e[r]=Jh(r,e[n],t[n].j)}}function Yh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k(function(e){return this[e]},n),set:k(function(e,t,n,r){Fh(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function Qh(e,t,n,r){e[t]=Jh(t,n,r)}function Jh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Fh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Kh(th.prototype,{kb:{name:"applyActionCode",j:[Uh("code")]},Sa:{name:"checkActionCode",j:[Uh("code")]},ob:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Wh(jh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Wh(jh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Uh("email"),Wh(jh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Uh("email"),jh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Wh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof pl)}},Bh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),jh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Yh(th.prototype,{lc:{name:"languageCode",lb:Wh(Uh(),Bh(),"languageCode")},ti:{name:"tenantId",lb:Wh(Uh(),Bh(),"tenantId")}}),(th.Persistence=Yu).LOCAL="local",th.Persistence.SESSION="session",th.Persistence.NONE="none",Kh(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},rb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},ub:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Wh(jh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Cb:{name:"updateEmail",j:[Uh("email")]},Db:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Eb:{name:"updateProfile",j:[jh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Wh(jh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(wt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Zh("appVerificationDisabledForTesting")}}),Kh(Wc.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Qh(so,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[vo,Ao,Ro,ho],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[Wh(Uh(),jh(),"json")]),Qh(Io,"credential",function(e,t){return new Eo(e,t)},[Uh("email"),Uh("password")]),Kh(Eo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(_o.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),Qh(_o,"credential",wo,[Wh(Uh(),jh(),"token")]),Qh(Io,"credentialWithLink",No,[Uh("email"),Uh("emailLink")]),Kh(bo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),Qh(bo,"credential",ko,[Wh(Uh(),jh(),"token")]),Kh(xo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),Qh(xo,"credential",To,[Wh(Uh(),Wh(jh(),Bh()),"idToken"),Wh(Uh(),Bh(),"accessToken",!0)]),Kh(So.prototype,{Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),Qh(So,"credential",Co,[Wh(Uh(),jh(),"token"),Uh("secret",!0)]),Kh(mo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Wh(Uh(),Wh(jh(),Bh()),"optionsOrIdToken"),Wh(Uh(),Bh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[jh("customOAuthParameters")]}}),Kh(fo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(co.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(Mo,"credential",Lo,[Uh("verificationId"),Uh("verificationCode")]),Kh(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[Wh(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?zh(e.session,oo)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?zh(e.session,ao)&&Gh(e.multiFactorHint):e.session&&e.multiFactorUid?zh(e.session,ao)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Kh(Po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(C.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(zo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Ho.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh($c.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Kh(Qc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),Kh(ol.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[Wh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},Uh(),"multiFactorInfoIdentifier")]}}),Kh(Lh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(wi,"parseLink",Ai,[Uh("link")]),Qh(bh,"assertion",function(e){return new rl(e)},[Hh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:th,AuthCredential:so,Error:C};Qh(e,"EmailAuthProvider",Io,[]),Qh(e,"FacebookAuthProvider",_o,[]),Qh(e,"GithubAuthProvider",bo,[]),Qh(e,"GoogleAuthProvider",xo,[]),Qh(e,"TwitterAuthProvider",So,[]),Qh(e,"OAuthProvider",mo,[Uh("providerId")]),Qh(e,"SAMLAuthProvider",yo,[Uh("providerId")]),Qh(e,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof th)}}]),Qh(e,"RecaptchaVerifier",Lh,[Wh(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),jh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.default.app.App)}}]),Qh(e,"ActionCodeURL",wi,[]),Qh(e,"PhoneMultiFactorGenerator",bh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new th(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},5119:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return s},Provider:function(){return a}});var r=n(4762),i=n(250),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.__read)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.__read)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},2107:function(e,t,n){"use strict";var r=n(1062),i=n(5119),o=n(250),a=n(4762),s=n(308);e=n.hmd(e);var u="";function c(e){u=e}var l,h=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h(t)}}catch(n){}return new f},p=d("localStorage"),v=d("sessionStorage"),g=new s.Logger("@firebase/database"),y=(l=1,function(){return l++}),m=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},_=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=e.apply(null,a):r+="object"==typeof a?(0,o.stringify)(a):a,r+=" "}return r},w=null,b=!0,k=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.LogLevel.VERBOSE,w=g.log.bind(g),t&&v.set("logging_enabled",!0)):"function"==typeof e?w=e:(w=null,v.remove("logging_enabled"))},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===b&&(b=!1,null===w&&!0===v.get("logging_enabled")&&k(!0)),w){var n=_.apply(null,e);w(n)}},T=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];x.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw g.error(n),new Error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.warn(n)},A=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",N="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===I||t===N)return-1;if(t===I||e===N)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},D=function e(t){if("object"!=typeof t||null===t)return(0,o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+"}"},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var F=function(e){var t,n,r,i,a;(0,o.assert)(!A(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},q=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(q.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Z=function(e){try{e()}catch(t){setTimeout(function(){throw E("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},j=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(function(e){return n.appCheck=e})}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){E('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),B=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(e){return r.auth_=e})}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(x("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';E(e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},e}(),H=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},e}();function W(e,t,n){var r;if((0,o.assert)("string"==typeof t,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),"websocket"===t)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return L(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}var K=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),Y={},Q={};function J(e){var t=e.toString();return Y[t]||(Y[t]=new K),Y[t]}var X=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Z(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),$=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(e),this.stats_=J(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),W(t,"long_polling",e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new X(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new ee(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!((0,o.isNodeSdk)()||!e.forceAllow_&&(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ee=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){x("frame writing exception"),u.stack&&x(u.stack),x(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||x("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(t+=n,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){x("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},e}(),te=null;"undefined"!=typeof MozWebSocket?te=MozWebSocket:"undefined"!=typeof WebSocket&&(te=WebSocket);var ne=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=J(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),W(e,"websocket",i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new te(this.connURL,[],r)}else this.mySock=new te(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==te&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),re=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[$,ne]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ne&&ne.isAvailable(),o=i&&!ne.previouslyFailed();if(t.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ne];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),ie=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new re(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=j(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),j(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):j(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),oe=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ae=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),se=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ae),ue=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ce(){return new ue("")}function le(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function he(e){return e.pieces_.length-e.pieceNum_}function fe(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ue(e.pieces_,t)}function de(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pe(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function ve(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ue(t,0)}function ge(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ue)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ue(n,0)}function ye(e){return e.pieceNum_>=e.pieces_.length}function me(e,t){var n=le(e),r=le(t);if(null===n)return t;if(n===r)return me(fe(e),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function _e(e,t){for(var n=pe(e,0),r=pe(t,0),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function we(e,t){if(he(e)!==he(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function be(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(he(e)>he(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ke=function(e,t){this.errorPrefix_=t,this.parts_=pe(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);xe(this)};function xe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Te(e))}function Te(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Se,Ce,Ee=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ae),Ae=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=T("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ee.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&se.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){"ok"!==e.s&&t.log_("reportStats","Error sending stats: "+e.d)})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,s,u,c,l,h,f,d,p,v,g=this;return(0,a.__generator)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=a.__read.apply(void 0,[y.sent(),2]),d=f[0],p=f[1],u?x("getToken() completed but was canceled"):(x("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new ie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,function(e){E(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},s)),[3,4];case 3:return v=y.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&E(v),l()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(e){x("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){x("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return D(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ue(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){x("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){x("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=se.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(oe),Ie=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ne=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Ie(I,e),r=new Ie(I,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Ie.MIN},e}(),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Se},set:function(e){Se=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(N,Se)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ie(e,Se)},t.prototype.toString=function(){return".key"},t}(Ne),Pe=new Oe,Re=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),De=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Le.EMPTY_NODE,this.right=null!=o?o:Le.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Le.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Le.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Me=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new De(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Le=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,De.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,De.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Re(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Re(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Re(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Me,e}();function Fe(e,t){return O(e.name,t.name)}function qe(e,t){return O(e,t)}var Ue,Ze,je,Ve,Be,He=function(e){return"number"==typeof e?"number:"+F(e):"string:"+e},ze=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Ce||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Ce||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ge=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ze(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ue},set:function(e){Ue=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return ye(t)?this:".priority"===le(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=le(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===he(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+He(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?F(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),We=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return new Ie(N,new Ge("[PRIORITY-POST]",je))},t.prototype.makePost=function(e,t){var n=Ze(e);return new Ie(t,new Ge("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ne)),Ke=Math.log(2),Ye=function(){function e(e){this.count=parseInt(Math.log(e+1)/Ke,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Qe=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new De(a,o.node,De.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new De(a,o.node,De.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new De(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,De.BLACK):(s(h,De.BLACK),s(h,De.RED))}return o}(new Ye(e.length));return new Le(r||t,o)},Je={},Xe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(Je&&We,"ChildrenNode.ts has not been loaded"),Ve=Ve||new e({".priority":Je},{".priority":We})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Le?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==Pe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Ie.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Qe(i,t.getCompare()):Je;var l=t.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=t;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===Je){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Ie.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),Qe(s,a.getCompare())}return Je}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Ie(t.name,l))),h.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,function(e){if(e===Je)return e;var r=n.get(t.name);return r?e.remove(new Ie(t.name,r)):e}),this.indexSet_)},e}(),$e=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ze(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Be||(Be=new e(new Le(qe),null,Xe.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Be},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Be:t},e.prototype.getChild=function(e){var t=le(e);return null===t?this:this.getImmediateChild(t).getChild(fe(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Ie(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Be:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=le(e);if(null===n)return t;(0,o.assert)(".priority"!==le(e)||1===he(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(fe(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(We,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+He(this.getPriority().val())+":"),this.forEachChild(We,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ie(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Ie(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===et?-1:0},e.prototype.withIndex=function(t){if(t===Pe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Pe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(We),r=t.getIterator(We),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Pe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),et=new(function(e){function t(){return e.call(this,new Le(qe),$e.EMPTY_NODE,Xe.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return $e.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}($e));function tt(e,t){if(void 0===t&&(t=null),null===e)return $e.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ge(e,tt(t));if(e instanceof Array){var n=$e.EMPTY_NODE;return L(e,function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=tt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(tt(t))}var r=[],i=!1;if(L(e,function(e,t){if("."!==e.substring(0,1)){var n=tt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ie(e,n)))}}),0===r.length)return $e.EMPTY_NODE;var a=Qe(r,Fe,function(e){return e.name},qe);if(i){var s=Qe(r,We.getCompare());return new $e(a,tt(t),new Xe({".priority":s},{".priority":We}))}return new $e(a,tt(t),Xe.Default)}Object.defineProperties(Ie,{MIN:{value:new Ie(I,$e.EMPTY_NODE)},MAX:{value:new Ie(N,et)}}),Oe.__EMPTY_NODE=$e.EMPTY_NODE,Ge.__childrenNodeConstructor=$e,Ce=et,je=et,Ze=tt;var nt,rt,it=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!ye(t)&&".priority"!==le(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=tt(e),r=$e.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ie(t,r)},t.prototype.maxPost=function(){var e=$e.EMPTY_NODE.updateChild(this.indexPath_,et);return new Ie(N,e)},t.prototype.toString=function(){return pe(this.indexPath_,0).join("/")},t}(Ne),ot=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Ie.MIN},t.prototype.maxPost=function(){return Ie.MAX},t.prototype.makePost=function(e,t){var n=tt(e);return new Ie(t,n)},t.prototype.toString=function(){return".value"},t}(Ne)),at="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",st=(nt=0,rt=[],function(e){var t,n=e===nt;nt=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=at.charAt(e%64),e=Math.floor(e/64);(0,o.assert)(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===rt[t];t--)rt[t]=0;rt[t]++}else for(t=0;t<12;t++)rt[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=at.charAt(rt[t]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),ut=function(e){if("2147483647"===e)return"-";var t=U(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=at.charAt(at.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ct=function(e){if("-2147483648"===e)return I;var t=U(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=at.charAt(at.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function lt(e){return{type:"value",snapshotNode:e}}function ht(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ft(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function dt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var pt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(ft(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(ht(t,n)):a.trackChildChange(dt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(We,function(e,r){t.hasChild(e)||n.trackChildChange(ft(e,r))}),t.isLeafNode()||t.forEachChild(We,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(dt(t,r,i))}else n.trackChildChange(ht(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?$e.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),vt=function(){function e(t){this.indexedFilter_=new pt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Ie(t,n))||(n=$e.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=$e.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority($e.EMPTY_NODE);var i=this;return t.forEachChild(We,function(e,t){i.matches(new Ie(e,t))||(r=r.updateImmediateChild(e,$e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),gt=function(){function e(e){this.rangedFilter_=new vt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ie(t,n))||(n=$e.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=$e.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=$e.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority($e.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,$e.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Ie(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(dt(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(ft(t,f));var v=u.updateImmediateChild(t,$e.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ht(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(ft(l.name,l.node)),i.trackChildChange(ht(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,$e.EMPTY_NODE)):e},e}(),yt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===We},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function mt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _t(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function wt(e,t){var n=e.copy();return n.index_=t,n}function bt(e){var t,n={};return e.isDefault()||(e.index_===We?t="$priority":e.index_===ot?t="$value":e.index_===Pe?t="$key":((0,o.assert)(e.index_ instanceof it,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function kt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==We&&(t.i=e.index_.toString()),t}var xt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=T("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=bt(e._queryParams);this.restRequest_(s+".json",l,function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=bt(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.jsonEval)(h.responseText)}catch(t){E("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&E("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},t}(oe),Tt=function(){function e(){this.rootNode_=$e.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function St(){return{value:null,children:new Map}}function Ct(e,t,n){if(ye(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=le(t);e.children.has(r)||e.children.set(r,St()),Ct(e.children.get(r),t=fe(t),n)}}function Et(e,t){if(ye(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(We,function(t,n){Ct(e,new ue(t),n)}),Et(e,t)}if(e.children.size>0){var r=le(t);return t=fe(t),e.children.has(r)&&Et(e.children.get(r),t)&&e.children.delete(r),0===e.children.size}return!0}function At(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){At(r,new ue(t.toString()+"/"+e),n)})}var It=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&L(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Nt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new It(e);var n=1e4+2e4*Math.random();j(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),j(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Ot=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function Pt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Rt,Dt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ot.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(ye(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ue(t));return new e(ce(),n,this.revert)}return(0,o.assert)(le(this.path)===t,"operationForChild called for unrelated child."),new e(fe(this.path),this.affectedTree,this.revert)},e}(),Mt=function(){function e(e,t){this.source=e,this.path=t,this.type=Ot.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,ce()):new e(this.source,fe(this.path))},e}(),Lt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ot.OVERWRITE}return e.prototype.operationForChild=function(t){return ye(this.path)?new e(this.source,ce(),this.snap.getImmediateChild(t)):new e(this.source,fe(this.path),this.snap)},e}(),Ft=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ot.MERGE}return e.prototype.operationForChild=function(t){if(ye(this.path)){var n=this.children.subtree(new ue(t));return n.isEmpty()?null:n.value?new Lt(this.source,ce(),n.value):new e(this.source,ce(),n)}return(0,o.assert)(le(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,fe(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),qt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;var t=le(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ut=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Zt(e,t,n,r,i,a){var s=r.filter(function(e){return e.type===n});s.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),s.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function jt(e,t){return{eventCache:e,serverCache:t}}function Vt(e,t,n,r){return jt(new qt(t,n,r),e.serverCache)}function Bt(e,t,n,r){return jt(e.eventCache,new qt(t,n,r))}function Ht(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function zt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Gt=function(){function e(e,t){void 0===t&&(Rt||(Rt=new Le(P)),t=Rt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,function(e,t){n=n.set(new ue(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ce(),value:this.value};if(ye(e))return null;var n=le(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(fe(e),t);return null!=i?{path:ge(new ue(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(ye(t))return this;var n=le(t),r=this.children.get(n);return null!==r?r.subtree(fe(t)):new e(null)},e.prototype.set=function(t,n){if(ye(t))return new e(n,this.children);var r=le(t),i=(this.children.get(r)||new e(null)).set(fe(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(ye(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=le(t),r=this.children.get(n);if(r){var i=r.remove(fe(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(ye(e))return this.value;var t=le(e),n=this.children.get(t);return n?n.get(fe(e)):null},e.prototype.setTree=function(t,n){if(ye(t))return n;var r,i=le(t),o=(this.children.get(i)||new e(null)).setTree(fe(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(ce(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(ge(e,r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ce(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ye(e))return null;var i=le(e),o=this.children.get(i);return o?o.findOnPath_(fe(e),ge(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ce(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(ye(t))return this;this.value&&r(n,this.value);var i=le(t),o=this.children.get(i);return o?o.foreachOnPath_(fe(t),ge(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ce(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(ge(e,n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e}(),Wt=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Gt(null))},e}();function Kt(e,t,n){if(ye(t))return new Wt(new Gt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=me(i,t);return o=o.updateChild(a,n),new Wt(e.writeTree_.set(i,o))}var s=new Gt(n),u=e.writeTree_.setTree(t,s);return new Wt(u)}function Yt(e,t,n){var r=e;return L(n,function(e,n){r=Kt(r,ge(t,e),n)}),r}function Qt(e,t){if(ye(t))return Wt.empty();var n=e.writeTree_.setTree(t,new Gt(null));return new Wt(n)}function Jt(e,t){return null!=Xt(e,t)}function Xt(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(me(n.path,t)):null}function $t(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(We,function(e,n){t.push(new Ie(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Ie(e,n.value))}),t}function en(e,t){if(ye(t))return e;var n=Xt(e,t);return new Wt(null!=n?new Gt(n):e.writeTree_.subtree(t))}function tn(e){return e.writeTree_.isEmpty()}function nn(e,t){return rn(ce(),e.writeTree_,t)}function rn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=rn(ge(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ge(e,".priority"),r)),n}function on(e,t){return gn(t,e)}function an(e,t){if(e.snap)return be(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&be(ge(e.path,n),t))return!0;return!1}function sn(e){return e.visible}function un(e,t,n){for(var r=Wt.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)be(n,s)?r=Kt(r,u=me(n,s),a.snap):be(s,n)&&(u=me(s,n),r=Kt(r,ce(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(be(n,s))r=Yt(r,u=me(n,s),a.children);else if(be(s,n))if(ye(u=me(s,n)))r=Yt(r,ce(),a.children);else{var c=(0,o.safeGet)(a.children,le(u));if(c){var l=c.getChild(fe(u));r=Kt(r,ce(),l)}}}}}return r}function cn(e,t,n,r,i){if(r||i){var o=en(e.visibleWrites,t);return!i&&tn(o)?n:i||null!=n||Jt(o,ce())?nn(un(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(be(e.path,t)||be(t,e.path))},t),n||$e.EMPTY_NODE):null}var a=Xt(e.visibleWrites,t);if(null!=a)return a;var s=en(e.visibleWrites,t);return tn(s)?n:null!=n||Jt(s,ce())?nn(s,n||$e.EMPTY_NODE):null}function ln(e,t,n,r){return cn(e.writeTree,e.treePath,t,n,r)}function hn(e,t){return function(e,t,n){var r=$e.EMPTY_NODE,i=Xt(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(We,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var o=en(e.visibleWrites,t);return n.forEachChild(We,function(e,t){var n=nn(en(o,new ue(e)),t);r=r.updateImmediateChild(e,n)}),$t(o).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return $t(en(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function fn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ge(t,n);if(Jt(e.visibleWrites,a))return null;var s=en(e.visibleWrites,a);return tn(s)?i.getChild(n):nn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function dn(e,t){return function(e,t){return Xt(e.visibleWrites,t)}(e.writeTree,ge(e.treePath,t))}function pn(e,t,n){return function(e,t,n,r){var i=ge(t,n),o=Xt(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?nn(en(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function vn(e,t){return gn(ge(e.treePath,t),e.writeTree)}function gn(e,t){return{treePath:e,writeTree:t}}var yn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,dt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,ft(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ht(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,dt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),mn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),_n=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:zt(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=en(e.visibleWrites,t),c=Xt(u,ce());if(null!=c)s=c;else{if(null==n)return[];s=nn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]},e}();function wn(e,t,n,r,i,a){var s=t.eventCache;if(null!=dn(r,n))return t;var u=void 0,c=void 0;if(ye(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=zt(t),h=hn(r,l instanceof $e?l:$e.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=ln(r,zt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=le(n);if(".priority"===d){(0,o.assert)(1===he(n),"Can't have a priority with additional path components");var p=s.getNode(),v=fn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=fe(n),y=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=fn(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=pn(r,d,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),d,y,g,i,a):s.getNode()}}return Vt(t,u,s.isFullyInitialized()||ye(n),e.filter.filtersNodes())}function bn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(ye(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=le(n);if(!c.isCompleteForPath(n)&&he(n)>1)return t;var d=fe(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,mn,null)}var v=Bt(t,u,c.isFullyInitialized()||ye(n),l.filtersNodes());return wn(e,v,n,i,new _n(i,v,o),s)}function kn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new _n(i,t,o);if(ye(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Vt(t,u,!0,e.filter.filtersNodes());else{var h=le(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Vt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=fe(n),d=c.getNode().getImmediateChild(h),p=void 0;if(ye(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===de(f)&&v.getChild(ve(f)).isEmpty()?v:v.updateChild(f,r):$e.EMPTY_NODE}s=d.equals(p)?t:Vt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function xn(e,t){return e.eventCache.isCompleteForChild(t)}function Tn(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Sn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=ye(n)?r:new Gt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Tn(0,t.serverCache.getNode().getImmediateChild(n),r);c=bn(e,c,new ue(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Tn(0,t.serverCache.getNode().getImmediateChild(n),r);c=bn(e,c,new ue(n),h,i,o,a,s)}}),c}var Cn,En=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new pt(r.getIndex()),o=(n=r).loadsAllData()?new pt(n.getIndex()):n.hasLimit()?new gt(n):new vt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode($e.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode($e.EMPTY_NODE,s.getNode(),null),l=new qt(u,a.isFullyInitialized(),i.filtersNodes()),h=new qt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=jt(h,l),this.eventGenerator_=new Ut(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function An(e,t){var n=zt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ye(t)&&!n.getImmediateChild(le(t)).isEmpty())?n.getChild(t):null}function In(e){return 0===e.eventRegistrations_.length}function Nn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function On(e,t,n,r){t.type===Ot.MERGE&&null!==t.source.queryId&&((0,o.assert)(zt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Ht(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=function(e,t,n,r,i){var a,s,u=new yn;if(n.type===Ot.OVERWRITE){var c=n;c.source.fromUser?a=kn(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!ye(c.path),a=bn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Ot.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach(function(r,u){var c=ge(n,r);xn(t,le(c))&&(s=kn(e,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=ge(n,r);xn(t,le(c))||(s=kn(e,s,c,u,i,o,a))}),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Sn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Ot.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=dn(r,n))return t;var u=new _n(r,t,i),c=t.eventCache.getNode(),l=void 0;if(ye(n)||".priority"===le(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=ln(r,zt(t));else{var f=t.serverCache.getNode();(0,o.assert)(f instanceof $e,"serverChildren would be complete if leaf node"),h=hn(r,f)}l=e.filter.updateFullNode(c,h=h,a)}else{var d=le(n),p=pn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,fe(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,$e.EMPTY_NODE,fe(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ln(r,zt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=dn(r,ce()),Vt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=dn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ye(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return bn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(ye(n)){var c=new Gt(null);return u.getNode().forEachChild(Pe,function(e,t){c=c.set(new ue(e),t)}),Sn(e,t,n,c,i,o,s,a)}return t}var l=new Gt(null);return r.foreach(function(e,t){var r=ge(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))}),Sn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ot.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache;return wn(e,Bt(t,o.getNode(),o.isFullyInitialized()||ye(n),o.isFiltered()),n,r,mn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ht(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(lt(Ht(t)))}}(t,a,f),{viewCache:a,changes:f}}(e.processor_,s,t,n,r);return i=e.processor_,(0,o.assert)((a=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Pn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Pn(e,t,n,r){return function(e,t,n,r){var i=[],o=[];return t.forEach(function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),Zt(e,i,"child_removed",t,r,n),Zt(e,i,"child_added",t,r,n),Zt(e,i,"child_moved",o,r,n),Zt(e,i,"child_changed",t,r,n),Zt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}var Rn,Dn=function(){this.views=new Map};function Mn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),On(c,t,n,r)}var l=[];try{for(var h=(0,a.__values)(e.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(On(c=f.value,t,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Ln(e,t,n,r,i){var o=e.views.get(t._queryIdentifier);if(!o){var a=ln(n,i?r:null),s=!1;a?s=!0:r instanceof $e?(a=hn(n,r),s=!1):(a=$e.EMPTY_NODE,s=!1);var u=jt(new qt(a,s,!1),new qt(r,i,!1));return new En(t,u)}return o}function Fn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function qn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next())i=i||An(s.value,t)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Un(e,t){return t._queryParams.loadsAllData()?Vn(e):e.views.get(t._queryIdentifier)}function Zn(e,t){return null!=Un(e,t)}function jn(e){return null!=Vn(e)}function Vn(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Bn=1,Hn=function(e){this.listenProvider_=e,this.syncPointTree_=new Gt(null),this.pendingWriteTree_={visibleWrites:Wt.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function zn(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Kt(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Jn(e,new Lt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Gn(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&an(u,r.path)?i=!1:be(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(e){e.visibleWrites=un(e.allWrites,sn,ce()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Qt(e.visibleWrites,r.path):L(r.children,function(t){e.visibleWrites=Qt(e.visibleWrites,ge(r.path,t))}),!0))}(e.pendingWriteTree_,t)){var i=new Gt(null);return null!=r.snap?i=i.set(ce(),!0):L(r.children,function(e){i=i.set(new ue(e),!0)}),Jn(e,new Dt(r.path,i,n))}return[]}function Wn(e,t,n){return Jn(e,new Lt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Kn(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),u=[];if(s&&("default"===t._queryIdentifier||Zn(s,t))){var c=function(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=jn(e);if("default"===u)try{for(var f=(0,a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=(0,a.__read)(d.value,2),g=v[0];l=l.concat(Nn(p=v[1],n,r)),In(p)&&(e.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(p=e.views.get(u))&&(l=l.concat(Nn(p,n,r)),In(p)&&(e.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!jn(e)&&c.push(new((0,o.assert)(Cn,"Reference.ts has not been loaded"),Cn)(t._repo,t._path)),{removed:c,events:l}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(e){return e._queryParams.loadsAllData()}),f=e.syncPointTree_.findOnPath(i,function(e,t){return jn(t)});if(h&&!f){var d=e.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(e){return e.fold(function(e,t,n){if(t&&jn(t))return[Vn(t)];var r=[];return t&&(r=Fn(t)),L(n,function(e,t){r=r.concat(t)}),r})}(d),v=0;v<p.length;++v){var g=p[v],y=g.query,m=er(e,g);e.listenProvider_.startListening(ar(y),tr(e,y),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?e.listenProvider_.stopListening(ar(t),null):l.forEach(function(t){var n=e.queryToTagMap.get(nr(t));e.listenProvider_.stopListening(ar(t),n)})),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=nr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return u}function Yn(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,function(e,t){var n=me(e,r);i=i||qn(t,n),a=a||jn(t)});var s,u=e.syncPointTree_.get(r);u?(a=a||jn(u),i=i||qn(u,ce())):(u=new Dn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=$e.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=qn(t,ce());n&&(i=i.updateImmediateChild(e,n))}));var c=Zn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=nr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Bn++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=function(e,t,n,r,i,o){var a=Ln(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(We,function(e,t){r.push(ht(e,t))}),n.isFullyInitialized()&&r.push(lt(n.getNode())),Pn(e,r,n.getNode(),t)}(a,n)}(u,t,n,on(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Un(u,t);f=f.concat(function(e,t,n){var r=t._path,i=tr(e,t),a=er(e,n),s=e.listenProvider_.startListening(ar(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!jn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!ye(e)&&t&&jn(t))return[Vn(t).query];var r=[];return t&&(r=r.concat(Fn(t).map(function(e){return e.query}))),L(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(ar(h),tr(e,h))}return s}(e,t,d))}return f}function Qn(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=qn(n,me(e,t));if(r)return r});return cn(r,t,i,n,!0)}function Jn(e,t){return Xn(t,e.syncPointTree_,null,on(e.pendingWriteTree_,ce()))}function Xn(e,t,n,r){if(ye(e.path))return $n(e,t,n,r);var i=t.get(ce());null==n&&null!=i&&(n=qn(i,ce()));var o=[],a=le(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=vn(r,a);o=o.concat(Xn(s,u,c,l))}return i&&(o=o.concat(Mn(i,e,r,n))),o}function $n(e,t,n,r){var i=t.get(ce());null==n&&null!=i&&(n=qn(i,ce()));var o=[];return t.children.inorderTraversal(function(t,i){var a=n?n.getImmediateChild(t):null,s=vn(r,t),u=e.operationForChild(t);u&&(o=o.concat($n(u,i,a,s)))}),i&&(o=o.concat(Mn(i,e,r,n))),o}function er(e,t){var n=t.query,r=tr(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||$e.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=rr(e,n);if(r){var i=ir(r),o=i.path,a=i.queryId,s=me(o,t);return or(e,o,new Mt(Pt(a),s))}return[]}(e,n._path,r):function(e,t){return Jn(e,new Mt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Kn(e,n,null,i)}}}function tr(e,t){var n=nr(t);return e.queryToTagMap.get(n)}function nr(e){return e._path.toString()+"$"+e._queryIdentifier}function rr(e,t){return e.tagToQueryMap.get(t)}function ir(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ue(e.substr(0,t))}}function or(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Mn(r,n,on(e.pendingWriteTree_,t),null)}function ar(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Rn,"Reference.ts has not been loaded"),Rn)(e._repo,e._path):e}var sr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),ur=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ge(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Qn(this.syncTree_,this.path_)},e}(),cr=function(e,t,n){return e&&"object"==typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?lr(e[".sv"],t,n):"object"==typeof e[".sv"]?hr(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},lr=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+e)}},hr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},fr=function(e,t,n,r){return pr(t,new ur(n,e),r)},dr=function(e,t,n){return pr(e,new sr(t),n)};function pr(e,t,n){var r,i=e.getPriority().val(),o=cr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=cr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ge(s,tt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ge(o))),u.forEachChild(We,function(e,i){var o=pr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))}),r}var vr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function gr(e,t){for(var n=t instanceof ue?t:new ue(t),r=e,i=le(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new vr(i,r,a),i=le(n=fe(n))}return r}function yr(e){return e.node.value}function mr(e,t){e.node.value=t,xr(e)}function _r(e){return e.node.childCount>0}function wr(e,t){L(e.node.children,function(n,r){t(new vr(n,e,r))})}function br(e,t,n,r){n&&!r&&t(e),wr(e,function(e){br(e,t,!0,r)}),n&&r&&t(e)}function kr(e){return new ue(null===e.parent?e.name:kr(e.parent)+"/"+e.name)}function xr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===yr(e)&&!_r(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,xr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,xr(e))}(e.parent,e.name,e)}var Tr=/[\[\].#$\/\u0000-\u001F\u007F]/,Sr=/[\[\].#$\u0000-\u001F\u007F]/,Cr=function(e){return"string"==typeof e&&0!==e.length&&!Tr.test(e)},Er=function(e){return"string"==typeof e&&0!==e.length&&!Sr.test(e)},Ar=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!A(e)||e&&"object"==typeof e&&(0,o.contains)(e,".sv")},Ir=function(e,t,n,r){r&&void 0===t||Nr((0,o.errorPrefix)(e,"value"),t,n)},Nr=function e(t,n,r){var i=r instanceof ue?new ke(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Te(i));if("function"==typeof n)throw new Error(t+"contains a function "+Te(i)+" with contents = "+n.toString());if(A(n))throw new Error(t+"contains "+n.toString()+" "+Te(i));if("string"==typeof n&&n.length>10485760/3&&(0,o.stringLength)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Te(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(L(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Cr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Te(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),xe(e)}(i,n),e(t,r,i),c=(u=i).parts_.pop(),u.byteLength_-=(0,o.stringLength)(c),u.parts_.length>0&&(u.byteLength_-=1)}),a&&s)throw new Error(t+' contains ".value" child '+Te(i)+" in addition to actual children.")}},Or=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(t,function(e,t){var r=new ue(e);if(Nr(i,t,ge(n,r)),".priority"===de(r)&&!Ar(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=pe(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Cr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(_e);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&be(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Pr=function(e,t,n){if(!n||void 0!==t){if(A(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ar(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dr=function(e,t,n,r){if(!(r&&void 0===n||Cr(n)))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Mr=function(e,t,n,r){if(!(r&&void 0===n||Er(n)))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lr=function(e,t){if(".info"===le(t))throw new Error(e+" failed = Can't modify data under /.info/")},Fr=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Cr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Er(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},qr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},Ur=function(){this.eventLists_=[],this.recursionDepth_=0};function Zr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||we(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function jr(e,t,n){Zr(e,n),Br(e,function(e){return we(e,t)})}function Vr(e,t,n){Zr(e,n),Br(e,function(e){return be(e,t)||be(t,e)})}function Br(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(Hr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Hr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&x("event: "+n.toString()),Z(r)}}}var zr=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ur,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=St(),this.transactionQueueTree_=new vr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Gr(e){var t=e.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Wr(e){return(t=(t={timestamp:Gr(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Kr(e,t,n,r,i){e.dataUpdateCount++;var a=new ue(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,function(e){return tt(e)});s=function(e,t,n,r){var i=rr(e,r);if(i){var o=ir(i),a=o.path,s=o.queryId,u=me(a,t),c=Gt.fromObject(n);return or(e,a,new Ft(Pt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=tt(n);s=function(e,t,n,r){var i=rr(e,r);if(null!=i){var o=ir(i),a=o.path,s=o.queryId,u=me(a,t);return or(e,a,new Lt(Pt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,function(e){return tt(e)});s=function(e,t,n){var r=Gt.fromObject(n);return Jn(e,new Ft({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=tt(n);s=Wn(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=si(e,a)),Vr(e.eventQueue_,f,s)}function Yr(e,t){Qr(e,"connected",t),!1===t&&function(e){ri(e,"onDisconnectEvents");var t=Wr(e),n=St();At(e.onDisconnect_,ce(),function(r,i){var o=fr(r,i,e.serverSyncTree_,t);Ct(n,r,o)});var r=[];At(n,ce(),function(t,n){r=r.concat(Wn(e.serverSyncTree_,t,n));var i=fi(e,t);si(e,i)}),e.onDisconnect_=St(),Vr(e.eventQueue_,ce(),r)}(e)}function Qr(e,t,n){var r=new ue("/.info/"+t),i=tt(n);e.infoData_.updateSnapshot(r,i);var o=Wn(e.infoSyncTree_,r,i);Vr(e.eventQueue_,r,o)}function Jr(e){return e.nextWriteId_++}function Xr(e,t,n,r,i){ri(e,"set",{path:t.toString(),value:n,priority:r});var o=Wr(e),a=tt(n,r),s=Qn(e.serverSyncTree_,t),u=dr(a,s,o),c=Jr(e),l=zn(e.serverSyncTree_,t,u,c,!0);Zr(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),function(n,r){var o="ok"===n;o||E("set at "+t+" failed: "+n);var a=Gn(e.serverSyncTree_,c,!o);Vr(e.eventQueue_,t,a),ii(0,i,n,r)});var h=fi(e,t);si(e,h),Vr(e.eventQueue_,h,[])}function $r(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&Et(e.onDisconnect_,t),ii(0,n,r,i)})}function ei(e,t,n,r){var i=tt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(n,o){"ok"===n&&Ct(e.onDisconnect_,t,i),ii(0,r,n,o)})}function ti(e,t,n){var r;r=".info"===le(t._path)?Kn(e.infoSyncTree_,t,n):Kn(e.serverSyncTree_,t,n),jr(e.eventQueue_,t._path,r)}function ni(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}function ri(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),x.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function ii(e,t,n,r){t&&Z(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}})}function oi(e,t,n){return Qn(e.serverSyncTree_,t,n)||$e.EMPTY_NODE}function ai(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||hi(e,t),yr(t)){var n=ci(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),i=oi(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=me(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,function(r){ri(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Gn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},s=0;s<n.length;s++)a(s);for(hi(e,gr(e.transactionQueueTree_,t)),ai(e,e.transactionQueueTree_),Vr(e.eventQueue_,t,i),s=0;s<o.length;s++)Z(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(E("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;si(e,t)}},s)}(e,kr(t),n)}else _r(t)&&wr(t,function(t){ai(e,t)})}function si(e,t){var n=ui(e,t),r=kr(n);return function(e,t,n){if(0!==t.length){for(var r=[],i=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),s=function(s){var u,c=t[s],l=me(n,c.path),h=!1;if((0,o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Gn(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Gn(e.serverSyncTree_,c.currentWriteId,!0));else{var f=oi(e,c.path,a);c.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){Nr("transaction failed: Data returned ",d,c.path);var p=tt(d);"object"==typeof d&&null!=d&&(0,o.contains)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Wr(e),y=dr(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=Jr(e),a.splice(a.indexOf(v),1),i=(i=i.concat(zn(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Gn(e.serverSyncTree_,v,!0))}else h=!0,u="nodata",i=i.concat(Gn(e.serverSyncTree_,c.currentWriteId,!0))}Vr(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&r.push("nodata"===u?function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)}:function(){return t[s].onComplete(new Error(u),!1,null)}))},u=0;u<t.length;u++)s(u);for(hi(e,e.transactionQueueTree_),u=0;u<r.length;u++)Z(r[u]);ai(e,e.transactionQueueTree_)}}(e,ci(e,n),r),r}function ui(e,t){var n,r=e.transactionQueueTree_;for(n=le(t);null!==n&&void 0===yr(r);)r=gr(r,n),n=le(t=fe(t));return r}function ci(e,t){var n=[];return li(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function li(e,t,n){var r=yr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);wr(t,function(t){li(e,t,n)})}function hi(e,t){var n=yr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,mr(t,n.length>0?n:void 0)}wr(t,function(t){hi(e,t)})}function fi(e,t){var n=kr(ui(e,t)),r=gr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){di(e,t)}),di(e,r),br(r,function(t){di(e,t)}),n}function di(e,t){var n=yr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Gn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?mr(t,void 0):n.length=a+1,Vr(e.eventQueue_,kr(t),i),s=0;s<r.length;s++)Z(r[s])}}var pi=function(e,t){var n=vi(e),r=n.namespace;return"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,t,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ue(n.pathString)}},vi=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):E("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},gi=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),yi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),mi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),_i=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return $r(this._repo,this._path,e.wrapCallback(function(){})),e.promise},e.prototype.remove=function(){Lr("OnDisconnect.remove",this._path);var e=new o.Deferred;return ei(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},e.prototype.set=function(e){Lr("OnDisconnect.set",this._path),Ir("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return ei(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e.prototype.setWithPriority=function(e,t){Lr("OnDisconnect.setWithPriority",this._path),Ir("OnDisconnect.setWithPriority",e,this._path,!1),Pr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=tt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(n,r){"ok"===n&&Ct(e.onDisconnect_,t,o),ii(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(function(){})),n.promise},e.prototype.update=function(e){Lr("OnDisconnect.update",this._path),Or("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return x("onDisconnect().update() called with empty data.  Don't do anything."),void ii(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=tt(r);Ct(e.onDisconnect_,ge(t,n),i)}),ii(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e}(),wi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return ye(this._path)?null:de(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ti(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=kt(this._queryParams),t=D(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return kt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=we(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function bi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ki(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Pe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===We){if(null!=t&&!Ar(t)||null!=n&&!Ar(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof it||e.getIndex()===ot,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ti=function(e){function t(t,n){return e.call(this,t,n,new yt,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=ve(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(wi),Si=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ue(t),r=Ai(this.ref,t);return new e(this._node.getChild(n),r,We)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return t(new e(i,Ai(n.ref,r),We))})},e.prototype.hasChild=function(e){var t=new ue(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ci(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Ai(e._root,t):e._root}function Ei(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=pi(t,e._repo.repoInfo_.nodeAdmin);Fr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ci(e,n.path.toString())}function Ai(e,t){var n;return null===le((e=(0,o.getModularInstance)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mr("child","path",n,!1)):Mr("child","path",t,!1),new Ti(e._repo,ge(e._path,t))}function Ii(e,t){e=(0,o.getModularInstance)(e),Lr("push",e._path),Ir("push",t,e._path,!0);var n,r=Gr(e._repo),i=st(r),a=Ai(e,i),s=Ai(e,i);return n=null!=t?Oi(s,t).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ni(e){return Lr("remove",e._path),Oi(e,null)}function Oi(e,t){e=(0,o.getModularInstance)(e),Lr("set",e._path),Ir("set",t,e._path,!1);var n=new o.Deferred;return Xr(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function Pi(e,t){e=(0,o.getModularInstance)(e),Lr("setPriority",e._path),Pr("setPriority",t,!1);var n=new o.Deferred;return Xr(e._repo,ge(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function Ri(e,t,n){if(Lr("setWithPriority",e._path),Ir("setWithPriority",t,e._path,!1),Pr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return Xr(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function Di(e,t){Or("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){ri(e,"update",{path:t.toString(),value:n});var i=!0,a=Wr(e),s={};if(L(n,function(n,r){i=!1,s[n]=fr(ge(t,n),tt(r),e.serverSyncTree_,a)}),i)x("update() called with empty data.  Don't do anything."),ii(0,r,"ok",void 0);else{var u=Jr(e),c=function(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Yt(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Gt.fromObject(n);return Jn(e,new Ft({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,u);Zr(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(n,i){var o="ok"===n;o||E("update at "+t+" failed: "+n);var a=Gn(e.serverSyncTree_,u,!o),s=a.length>0?si(e,t):t;Vr(e.eventQueue_,s,a),ii(0,r,n,i)}),L(n,function(n){var r=fi(e,ge(t,n));si(e,r)}),Vr(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}var Mi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new gi("value",this,new Si(e.snapshotNode,new Ti(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new yi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Li=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return this.eventType===("children_removed"===t?"child_removed":t)},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new yi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Ai(new Ti(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new gi(e.type,this,new Si(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Fi(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){ti(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new mi(n,o||void 0),c="value"===t?new Mi(u):new Li(t,u);return function(e,t,n){var r;r=".info"===le(t._path)?Yn(e.infoSyncTree_,t,n):Yn(e.serverSyncTree_,t,n),jr(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ti(e._repo,e,c)}}function qi(e,t,n,r){return Fi(e,"value",t,n,r)}function Ui(e,t,n,r){return Fi(e,"child_added",t,n,r)}function Zi(e,t,n,r){return Fi(e,"child_changed",t,n,r)}function ji(e,t,n,r){return Fi(e,"child_moved",t,n,r)}function Vi(e,t,n,r){return Fi(e,"child_removed",t,n,r)}function Bi(e,t,n){var r=null,i=n?new mi(n):null;"value"===t?r=new Mi(i):t&&(r=new Li(t,i)),ti(e._repo,e,r)}var Hi=function(){},zi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ir("endAt",this._value,e._path,!0);var t=_t(e._queryParams,this._value,this._key);if(xi(t),ki(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wi(e._repo,e._path,t,e._orderByCalled)},t}(Hi);function Gi(e,t){return Dr("endAt","key",t,!0),new zi(e,t)}var Wi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ir("endBefore",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Pe?("string"==typeof n&&(n=ct(n)),i=_t(t,n,r)):i=_t(t,n,null==r?I:ct(r)),i.endBeforeSet_=!0,i);if(xi(o),ki(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wi(e._repo,e._path,o,e._orderByCalled)},t}(Hi);function Ki(e,t){return Dr("endBefore","key",t,!0),new Wi(e,t)}var Yi=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ir("startAt",this._value,e._path,!0);var t=mt(e._queryParams,this._value,this._key);if(xi(t),ki(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wi(e._repo,e._path,t,e._orderByCalled)},t}(Hi);function Qi(e,t){return void 0===e&&(e=null),Dr("startAt","key",t,!0),new Yi(e,t)}var Ji=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ir("startAfter",this._value,e._path,!1);var t,n,r,i,o=(n=this._value,r=this._key,(t=e._queryParams).index_===Pe?("string"==typeof n&&(n=ut(n)),i=mt(t,n,r)):i=mt(t,n,null==r?N:ut(r)),i.startAfterSet_=!0,i);if(xi(o),ki(o),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wi(e._repo,e._path,o,e._orderByCalled)},t}(Hi);function Xi(e,t){return Dr("startAfter","key",t,!0),new Ji(e,t)}var $i=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="l",n),e._orderByCalled);var t,n},t}(Hi);function eo(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $i(e)}var to=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wi(e._repo,e._path,(t=this._limit,(n=e._queryParams.copy()).limitSet_=!0,n.limit_=t,n.viewFrom_="r",n),e._orderByCalled);var t,n},t}(Hi);function no(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new to(e)}var ro=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByChild");var t=new ue(this._path);if(ye(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new it(t),r=wt(e._queryParams,n);return ki(r),new wi(e._repo,e._path,r,!0)},t}(Hi);function io(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mr("orderByChild","path",e,!1),new ro(e)}var oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByKey");var t=wt(e._queryParams,Pe);return ki(t),new wi(e._repo,e._path,t,!0)},t}(Hi);function ao(){return new oo}var so=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByPriority");var t=wt(e._queryParams,We);return ki(t),new wi(e._repo,e._path,t,!0)},t}(Hi);function uo(){return new so}var co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){bi(e,"orderByValue");var t=wt(e._queryParams,ot);return ki(t),new wi(e._repo,e._path,t,!0)},t}(Hi);function lo(){return new co}var ho,fo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Ir("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zi(this._value,this._key)._apply(new Yi(this._value,this._key)._apply(e))},t}(Hi);function po(e,t){return Dr("equalTo","key",t,!0),new fo(e,t)}function vo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}ho=Ti,(0,o.assert)(!Cn,"__referenceConstructor has already been defined"),Cn=ho,function(e){(0,o.assert)(!Rn,"__referenceConstructor has already been defined"),Rn=e}(Ti);var go={},yo=!1;function mo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),x("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=pi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=pi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new H(H.OWNER):new B(e.name,e.options,t);Fr("Invalid Firebase Database URL",s),ye(s.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=go[t.name];i||(go[t.name]=i={});var o=i[e.toURLString()];return o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zr(e,yo,n,r),i[e.toURLString()]=o,o}(u,e,l,new V(e.name,n));return new _o(h,e)}var _o=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){if(e.stats_=J(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xt(e.repoInfo_,function(t,n,r,i){Kr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return Yr(e,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}e.persistentConnection_=new Ae(e.repoInfo_,t,function(t,n,r,i){Kr(e,t,n,r,i)},function(t){Yr(e,t)},function(t){!function(e,t){L(t,function(t,n){Qr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i;e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=(r=function(){return new Nt(e.stats_,e.server_)},i=e.repoInfo_.toString(),Q[i]||(Q[i]=r()),Q[i]),e.infoData_=new Tt,e.infoSyncTree_=new Hn({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Wn(e.infoSyncTree_,t._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Qr(e,"connected",!1),e.serverSyncTree_=new Hn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var o=i(n,r);Vr(e.eventQueue_,t._path,o)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ti(this._repo,ce())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,(n=go[t=this.app.name])&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),ni(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function wo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),ni(e._repo)}function bo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume("repo_interrupt")}var ko={".sv":"timestamp"},xo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function To(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Lr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=qi(e,function(){});return function(t,n,r,i,s,u){ri(t,"transaction on "+n);var c={path:n,update:r,onComplete:function(t,n,r){var i=null;t?a.reject(t):(i=new Si(r,new Ti(e._repo,e._path),We),a.resolve(new xo(n,i)))},status:null,order:y(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=oi(t,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Nr("transaction failed: Data returned ",h,c.path),c.status=0;var f=gr(t.transactionQueueTree_,n),d=yr(f)||[];d.push(c),mr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.contains)(h,".priority")?(p=(0,o.safeGet)(h,".priority"),(0,o.assert)(Ar(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Qn(t.serverSyncTree_,n)||$e.EMPTY_NODE).getPriority().val();var v=Wr(t),g=tt(h,p),m=dr(g,l,v);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=m,c.currentWriteId=Jr(t);var _=zn(t.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);Vr(t.eventQueue_,n,_),ai(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,i),a.promise}var So=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},e}(),Co=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Eo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Mr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Mr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Io(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ao=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Eo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return qi(this._delegate,c,l),n;case"child_added":return Ui(this._delegate,c,l),n;case"child_removed":return Vi(this._delegate,c,l),n;case"child_changed":return Zi(this._delegate,c,l),n;case"child_moved":return ji(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Rr("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Bi(this._delegate,e,r)}else Bi(this._delegate,e)},e.prototype.get=function(){var e=this;return function(e){return function(e,t){var n=function(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(e,t){var i=me(e,n);r=r||qn(t,i)});var i=e.syncPointTree_.get(n);i?r=r||qn(i,ce()):(i=new Dn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new qt(r,!0,!1):null;return Ht(Ln(i,t,on(e.pendingWriteTree_,t._path),o?a.getNode():$e.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(function(n){var r=tt(n).withIndex(t._queryParams.getIndex()),i=Wn(e.serverSyncTree_,t._path,r);return jr(e.eventQueue_,t._path,i),Promise.resolve(r)},function(n){return ri(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))})}((e=(0,o.getModularInstance)(e))._repo,e).then(function(t){return new Si(t,new Ti(e._repo,e._path),e._queryParams.getIndex())})}(this._delegate).then(function(t){return new Eo(e.database,t)})},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Eo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Ui(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Vi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Zi(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ji(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,vo(this._delegate,eo(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,vo(this._delegate,no(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,vo(this._delegate,io(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,vo(this._delegate,ao()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,vo(this._delegate,uo()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,vo(this._delegate,lo()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,vo(this._delegate,Qi(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,vo(this._delegate,Xi(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,vo(this._delegate,Gi(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,vo(this._delegate,Ki(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,vo(this._delegate,po(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Io(this.database,new Ti(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Io=function(e){function t(t,n){var r=e.call(this,t,new wi(n._repo,n._path,new yt,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Ai(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=Oi(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Di(this._delegate,e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ri(this._delegate,e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Ni(this._delegate);return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),qr("Reference.transaction","applyLocally",n,!0);var i=To(this._delegate,e,{applyLocally:n}).then(function(e){return new Co(e.committed,new Eo(r.database,e.snapshot))});return t&&i.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=Pi(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Ii(this._delegate,e),a=i.then(function(e){return new t(r.database,e)});n&&a.then(function(){return n(null)},function(e){return n(e)});var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Lr("Reference.onDisconnect",this._delegate._path),new So(new _i(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ao),No=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new H(s)}!function(e,t,n,r){e.repoInfo_=new G(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Io){var t=Ei(this._delegate,e.toString());return new Io(this,t)}return t=Ci(this._delegate,e),new Io(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Ei(this._delegate,e);return new Io(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),wo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),bo(this._delegate)},e.ServerValue={TIMESTAMP:ko,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}(),Oo=Object.freeze({__proto__:null,forceLongPolling:function(){ne.forceDisallow(),$.forceAllow()},forceWebSockets:function(){$.forceDisallow()},isWebSocketsAvailable:function(){return ne.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new It(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(e,t){return Math.max(t.length,e)},0);L(n,function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)})}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){e.stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;c(e.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new No(mo(t,u,void 0,n,s),t),namespace:o}}}),Po=Ae;Ae.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ae.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Ro=Object.freeze({__proto__:null,DataConnection:Po,RealTimeConnection:ie,hijackHash:function(e){var t=Ae.prototype.put;return Ae.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ae.prototype.put=t}},ConnectionTarget:G,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){yo=e}(e)}}),Do=No.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new No(mo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Io,Query:Ao,Database:No,DataSnapshot:Eo,enableLogging:k,INTERNAL:Oo,ServerValue:Do,TEST_ACCESS:Ro}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.9"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},308:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return s},Logger:function(){return f},setLogLevel:function(){return d},setUserLogHandler:function(){return p}});var o,a=[],s=((o={})[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT",o),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),h=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=l[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=h,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?u[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){a.forEach(function(t){t.setLogLevel(e)})}function p(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=u[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},250:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return d},ErrorFactory:function(){return O},FirebaseError:function(){return N},MAX_VALUE_MILLIS:function(){return ue},RANDOM_FACTOR:function(){return ce},Sha1:function(){return Q},areCookiesEnabled:function(){return A},assert:function(){return o},assertionError:function(){return a},async:function(){return $},base64:function(){return u},base64Decode:function(){return l},base64Encode:function(){return c},calculateBackoffMillis:function(){return le},contains:function(){return j},createMockUserToken:function(){return p},createSubscribe:function(){return J},decode:function(){return L},deepCopy:function(){return h},deepEqual:function(){return z},deepExtend:function(){return f},errorPrefix:function(){return ne},extractQuerystring:function(){return Y},getGlobal:function(){return I},getModularInstance:function(){return fe},getUA:function(){return v},isAdmin:function(){return Z},isBrowser:function(){return m},isBrowserExtension:function(){return _},isElectron:function(){return b},isEmpty:function(){return B},isIE:function(){return k},isIndexedDBAvailable:function(){return C},isMobileCordova:function(){return g},isNode:function(){return y},isNodeSdk:function(){return T},isReactNative:function(){return w},isSafari:function(){return S},isUWP:function(){return x},isValidFormat:function(){return U},isValidTimestamp:function(){return F},issuedAtTime:function(){return q},jsonEval:function(){return D},map:function(){return H},ordinal:function(){return he},querystring:function(){return W},querystringDecode:function(){return K},safeGet:function(){return V},stringLength:function(){return se},stringToByteArray:function(){return ae},stringify:function(){return M},validateArgCount:function(){return te},validateCallback:function(){return ie},validateContextObject:function(){return oe},validateIndexedDBOpenable:function(){return E},validateNamespace:function(){return re}});var r=n(4762),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function m(){return"object"==typeof self&&self.self===self}function _(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return v().indexOf("Electron/")>=0}function k(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return v().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function E(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})}function A(){return!(!navigator||!navigator.cookieEnabled)}function I(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var N=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?P(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new N(i,s,r);return u},e}();function P(e,t){return e.replace(R,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var R=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},q=function(e){var t=L(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},U=function(e){var t=L(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},Z=function(e){var t=L(e).claims;return"object"==typeof t&&!0===t.admin};function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function B(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var a=e[l],s=t[l];if(G(a)&&G(s)){if(!z(a,s))return!1}else if(a!==s)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function G(e){return null!==e&&"object"==typeof e}function W(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function K(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function Y(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Q=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function J(e,t){var n=new X(e,t);return n.subscribe.bind(n)}var X=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=ee),void 0===r.error&&(r.error=ee),void 0===r.complete&&(r.complete=ee);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function $(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}}function ee(){}var te=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ne(e,t){return e+" failed: "+t+" argument "}function re(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(ne(e,"namespace")+"must be a valid firebase namespace.")}function ie(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(ne(e,t)+"must be a valid function.")}function oe(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(ne(e,t)+"must be a valid context object.")}var ae=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ue=144e5,ce=.5;function le(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(ce*r*(Math.random()-.5)*2);return Math.min(ue,r+i)}function he(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):""+e}function fe(e){return e&&e._delegate?e._delegate:e}},1858:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.default}});var r=n(1062);r.default.registerVersion("firebase","8.8.1","app"),r.default.SDK_VERSION="8.8.1"},2087:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,o=new Promise(function(o,a){n(i=e[t].apply(e,r)).then(o,a)});return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function o(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function a(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},8861:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(653),i=n(878),o=n(8318),a=function(){var e=function(){function e(t,n,r){b(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return w(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return e=this.error,new o.y(function(t){return t.error(e)});case"C":return(0,r.c)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},8318:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(6673),i=n(5331),o=n(7498),a=n(6197),s=n(3392),u=n(1484),c=function(){var e=function(){function e(t){b(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return w(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var a=this.operator,s=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}(e,t,n);if(s.add(a?a.call(s,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.v.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.L?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=l(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:a.L,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0===(r=t).length?s.y:1===r.length?r[0]:function(e){return r.reduce(function(e,t){return t(e)},e)})(this);var r}},{key:"toPromise",value:function(e){var t=this;return new(e=l(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(1484),i=n(4294),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},5959:function(e,t,n){"use strict";n.d(t,{Yc:function(){return c},xQ:function(){return l}});var r=n(8318),i=n(6673),o=n(7570),a=n(3895),s=n(9291),u=n(5331),c=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).destination=e,r}return n}(i.L),l=function(){var e=function(e){k(n,e);var t=x(n);function n(){var e;return b(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return w(n,[{key:u.b,value:function(){return new c(this)}},{key:"lift",value:function(e){var t=new h(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new a.N;return d(N(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.isStopped?(e.complete(),o.w.EMPTY):(this.observers.push(e),new s.W(this,e))}},{key:"asObservable",value:function(){var e=new r.y;return e.source=this,e}}]),n}(r.y);return e.create=function(e,t){return new h(e,t)},e}(),h=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).destination=e,i.source=r,i}return w(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.w.EMPTY}}]),n}(l)},9291:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return w(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n(7570).w)},6673:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(5024),i=n(7498),o=n(7570),a=n(5331),s=n(1484),u=n(4294),c=function(e){k(n,e);var t=x(n);function n(e,r,o){var a;switch(b(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.c;break;case 1:if(!e){a.destination=i.c;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(S(a))):(a.syncErrorThrowable=!0,a.destination=new l(S(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new l(S(a),e,r,o)}return a}return w(n,[{key:a.b,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,d(N(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(o.w),l=function(e){k(n,e);var t=x(n);function n(e,o,a,s){var u,c;b(this,n),(u=t.call(this))._parentSubscriber=e;var l=S(u);return(0,r.m)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.c&&(l=Object.create(o),(0,r.m)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(S(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return w(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},7570:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var r=n(8470),i=n(2056),o=n(5024),a=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),s=function(){var e,t=function(){function e(t){b(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return w(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if((0,o.m)(c)){s&&(this._unsubscribe=void 0);try{c.call(this)}catch(v){t=v instanceof a?u(v.errors):[v]}}if((0,r.k)(l))for(var f=-1,d=l.length;++f<d;){var p=l[f];if((0,i.K)(p))try{p.unsubscribe()}catch(v){t=t||[],v instanceof a?t=t.concat(u(v.errors)):t.push(v)}}if(t)throw new a(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return t.EMPTY=((e=new t).closed=!0,e),t}();function u(e){return e.reduce(function(e,t){return e.concat(t instanceof a?t.errors:t)},[])}},1484:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:function(e,t,n){"use strict";n.d(t,{IY:function(){return a},Ds:function(){return s},ft:function(){return u}});var r=n(6673),i=n(8318),o=n(6015),a=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this)).parent=e,r}return w(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.L),s=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.L);function u(e,t){if(!t.closed){if(e instanceof i.y)return e.subscribe(t);var n;try{n=(0,o.s)(e)(t)}catch(r){t.error(r)}return n}}},2875:function(e,t,n){"use strict";n.d(t,{c:function(){return u},N:function(){return c}});var r,i=n(5959),o=n(8318),a=n(7570),s=n(1564),u=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return w(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.w).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.w.EMPTY)),e}},{key:"refCount",value:function(){return(0,s.x)()(this)}}]),n}(o.y),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).connectable=r,i}return w(n,[{key:"_error",value:function(e){this._unsubscribe(),d(N(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),d(N(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(i.Yc)},653:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return o}});var r=n(8318),i=new r.y(function(e){return e.complete()});function o(e){return e?function(e){return new r.y(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},9764:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(8318),i=n(6015),o=n(7570),a=n(6197),s=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[a.L]}(e))return function(e,t){return new r.y(function(n){var r=new o.w;return r.add(t.schedule(function(){var i=e[a.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(function(n){var r=new o.w;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if((0,l.z)(e))return(0,s.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(function(n){var r,i=new o.w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[u.hZ](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(8318),i=n(625),o=n(2570);function a(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},1906:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(8318),i=n(6163),o=n(7471),a=n(9342);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return(0,i.K)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof c&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(s)((0,a.n)(t,u))}},878:function(e,t,n){"use strict";n.d(t,{of:function(){return a}});var r=n(6163),i=n(9342),o=n(2570);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return(0,r.K)(a)?(t.pop(),(0,o.r)(t,a)):(0,i.n)(t)}},9996:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}var o=function(){function e(t,n){b(this,e),this.project=t,this.thisArg=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))}}]),e}(),a=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||S(o),o}return w(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.L)},7471:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(3982),i=n(3392);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,r.zg)(i.y,e)}},3982:function(e,t,n){"use strict";n.d(t,{zg:function(){return a}});var r=n(9996),i=n(9764),o=n(6882);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(o){return o.pipe(a(function(n,o){return(0,i.D)(e(n,o)).pipe((0,r.U)(function(e,r){return t(n,e,o,r)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new s(e,n))})}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;b(this,e),this.project=t,this.concurrent=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}]),e}(),u=function(e){k(n,e);var t=x(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return b(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return w(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new o.IY(this),n=this.destination;n.add(t);var r=(0,o.ft)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.Ds)},45:function(e,t,n){"use strict";n.d(t,{QV:function(){return o},ht:function(){return s}});var r=n(6673),i=n(8861);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this.scheduler=t,this.delay=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))}}]),e}(),s=function(e){k(n,e);var t=x(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return w(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(i.P.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(i.P.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.L),u=function e(t,n){b(this,e),this.notification=t,this.destination=n}},1564:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(6673);function i(){return function(e){return e.lift(new o(e))}}var o=function(){function e(t){b(this,e),this.connectable=t}return w(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),a=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).connectable=r,i}return w(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.L)},1055:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var r=n(2875),i=n(1564),o=n(5959);function a(){return new o.xQ}function s(){return function(e){return(0,i.x)()((t=a,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},2893:function(e,t,n){"use strict";n.d(t,{R:function(){return v}});var r=n(8318),i=1,o=Promise.resolve(),a={};function s(e){return e in a&&(delete a[e],!0)}var u=function(e){var t=i++;return a[t]=!0,o.then(function(){return s(t)&&e()}),t},c=function(e){s(e)},l=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return w(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?d(N(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return d(N(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(n(8277).o),h=new(function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n(1098).v))(l),f=n(2293),p=function(e){k(n,e);var t=x(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return b(this,n),(r=t.call(this)).source=e,r.delayTime=i,r.scheduler=o,(!(0,f.k)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=h),r}return w(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.y);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new g(e,t))}}var g=function(){function e(t,n){b(this,e),this.scheduler=t,this.delay=n}return w(e,[{key:"call",value:function(e,t){return new p(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},4019:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(6673),i=n(6054),o=n(5024);function a(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){b(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){k(n,e);var t=x(n);function n(e,r,a,s){var u;return b(this,n),(u=t.call(this,e))._tapNext=i.Z,u._tapError=i.Z,u._tapComplete=i.Z,u._tapError=a||i.Z,u._tapComplete=s||i.Z,(0,o.m)(r)?(u._context=S(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.Z,u._tapError=r.error||i.Z,u._tapComplete=r.complete||i.Z),u}return w(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.L)},2570:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(8318),i=n(7570);function o(e,t){return new r.y(function(n){var r=new i.w,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return w(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){k(n,e);var t=x(n);function n(e,r){return b(this,n),t.call(this)}return w(n,[{key:"schedule",value:function(e){return this}}]),n}(n(7570).w))},1098:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;b(this,e),this.SchedulerAction=t,this.now=n}return w(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),i=function(e){k(n,e);var t=x(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return b(this,n),(i=t.call(this,e,function(){return n.delegate&&n.delegate!==S(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return w(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):d(N(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(r)},8569:function(e,t,n){"use strict";n.d(t,{z:function(){return i},P:function(){return o}});var r=n(8277),i=new(n(1098).v)(r.o),o=i},8489:function(e,t,n){"use strict";n.d(t,{c:function(){return o},N:function(){return i}});var r=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return w(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?d(N(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?d(N(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?d(N(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n(8277).o),i=new(function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(n(1098).v))(r),o=i},5686:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6197:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},5331:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},3895:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},4294:function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,{z:function(){return r}})},3392:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},8470:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},9653:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},5024:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},2293:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(8470);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},2056:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},5168:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},6163:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},6054:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},6015:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(625),i=n(4294),o=n(5686),a=n(6197),s=n(9653),u=n(5168),c=n(2056),l=function(e){if(e&&"function"==typeof e[a.L])return l=e,function(e){var t=l[a.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,s.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,function(e){return n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.z),e};if(e&&"function"==typeof e[o.hZ])return t=e,function(e){for(var n=t[o.hZ]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,l,h=(0,c.K)(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},625:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},8447:function(h,f,v){"use strict";var y=v(1572),m=null;function _(){return m}var C=new y.OlP("DocumentToken"),E=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,y.Yz7)({factory:A,token:e,providedIn:"platform"}),e}();function A(){return(0,y.LFG)(O)}var I=new y.OlP("Location Initialized"),O=function(){var e=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this))._doc=e,r._init(),r}return w(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return _().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=_().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=_().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){P()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){P()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(E);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=(0,y.Yz7)({factory:R,token:e,providedIn:"platform"}),e}();function P(){return!!window.history.pushState}function R(){return new O((0,y.LFG)(C))}function D(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function M(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function L(e){return e&&"?"!==e[0]?"?"+e:e}var F=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,y.Yz7)({factory:q,token:e,providedIn:"root"}),e}();function q(e){var t=(0,y.LFG)(C).location;return new Z((0,y.LFG)(E),t&&t.origin||"")}var U=new y.OlP("appBaseHref"),Z=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r){var i;if(b(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,T(i)}return w(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return D(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+L(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+L(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+L(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(F);return e.\u0275fac=function(t){return new(t||e)(y.LFG(E),y.LFG(U,8))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),j=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return w(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=D(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+L(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+L(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(F);return e.\u0275fac=function(t){return new(t||e)(y.LFG(E),y.LFG(U,8))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),V=function(){var e=function(){function e(t,n){var r=this;b(this,e),this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=M(H(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return w(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+L(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,H(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+L(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+L(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(F),y.LFG(E))},e.normalizeQueryParams=L,e.joinWithSlash=D,e.stripTrailingSlash=M,e.\u0275prov=(0,y.Yz7)({factory:B,token:e,providedIn:"root"}),e}();function B(){return new V((0,y.LFG)(F),(0,y.LFG)(E))}function H(e){return e.replace(/\/index.html$/,"")}var z=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),G=y.kL8,W=function e(){b(this,e)},K=function(){var e=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this)).locale=e,r}return w(n,[{key:"getPluralCategory",value:function(e,t){switch(G(t||this.locale)(e)){case z.Zero:return"zero";case z.One:return"one";case z.Two:return"two";case z.Few:return"few";case z.Many:return"many";default:return"other"}}}]),n}(W);return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.soG))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}();function Y(e,t){t=encodeURIComponent(t);var n,r=g(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=l(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var Q=function(){var e=function(){function e(t,n,r,i){b(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return w(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,y.AaK)(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),J=function(){function e(t,n,r,i){b(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return w(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),X=function(){var e=function(){function e(t,n,r){b(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return w(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(PS){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new J(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new $(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new $(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),$=function e(t,n){b(this,e),this.record=t,this.view=n},ee=function(){var e=function(){function e(t,n){b(this,e),this._viewContainer=t,this._context=new te,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return w(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){ne("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){ne("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.s_b),y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),te=function e(){b(this,e),this.$implicit=null,this.ngIf=null};function ne(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat((0,y.AaK)(t),"'."))}var re=function(){var e=function(){function e(t){b(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return w(e,[{key:"ngOnChanges",value:function(e){if(e.ngTemplateOutlet){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.s_b))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[y.TTD]}),e}(),ie=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"transform",value:function(t,n,r){if(null==t)return null;if(!this.supports(t))throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat((0,y.AaK)(e),"'"))}(e,t);return t.slice(n,r)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=y.Yjl({name:"slice",type:e,pure:!1}),e}(),oe=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[{provide:W,useClass:K}]}),e}();function ae(e){return"server"===e}var se=function(){var e=function e(){b(this,e)};return e.\u0275prov=(0,y.Yz7)({token:e,providedIn:"root",factory:function(){return new ue((0,y.LFG)(C),window)}}),e}(),ue=function(){function e(t,n){b(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return w(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=ce(this.window.history)||ce(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(PS){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(PS){return!1}}}]),e}();function ce(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var le,he=function e(){b(this,e)},fe=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(de=de||document.querySelector("base"))?de.getAttribute("href"):null;return null==t?null:function(e){(le=le||document.createElement("a")).setAttribute("href",e);var t=le.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){de=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return Y(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,m||(m=e)}}]),n}(function(e){k(n,e);var t=x(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(function(){return function e(){b(this,e)}}())),de=null,pe=new y.OlP("TRANSITION_ID"),ve=[{provide:y.ip1,useFactory:function(e,t,n){return function(){n.get(y.CZH).donePromise.then(function(){var n=_();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[pe,C,y.zs3],multi:!0}],ge=function(){function e(){b(this,e)}return w(e,[{key:"addToWindow",value:function(e){y.dqk.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},y.dqk.getAllAngularTestabilities=function(){return e.getAllTestabilities()},y.dqk.getAllAngularRootElements=function(){return e.getAllRootElements()},y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(function(e){var t=y.dqk.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?_().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,y.VLi)(new e)}}]),e}(),ye=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),me=new y.OlP("EventManagerPlugins"),_e=function(){var e=function(){function e(t,n){var r=this;b(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return w(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(me),y.LFG(y.R0b))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),we=function(){function e(t){b(this,e),this._doc=t}return w(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=_().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),be=function(){var e=function(){function e(){b(this,e),this._stylesSet=new Set}return w(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),ke=function(){var e=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return w(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(xe),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(xe)})}}]),n}(be);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}();function xe(e){_().remove(e)}var Te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Se=/%COMP%/g;function Ce(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Ce(e,i,n):(i=i.replace(Se,e),n.push(i))}return n}function Ee(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Ae=function(){var e=function(){function e(t,n,r){b(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ie(t)}return w(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case y.ifc.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Ne(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case y.ifc.ShadowDom:return new Oe(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Ce(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(_e),y.LFG(ke),y.LFG(y.AFp))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Ie=function(){function e(t){b(this,e),this.eventManager=t,this.data=Object.create(null)}return w(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Te[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Te[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Te[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(y.JOm.DashCase|y.JOm.Important)?e.style.setProperty(t,n,r&y.JOm.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&y.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ee(n)):this.eventManager.addEventListener(e,t,Ee(n))}}]),e}(),Ne=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;b(this,n),(a=t.call(this,e)).component=i;var s=Ce(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(Se,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(Se,o+"-"+i.id),a}return w(n,[{key:"applyToHost",value:function(e){d(N(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=d(N(n.prototype),"createElement",this).call(this,e,t);return d(N(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ie),Oe=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;b(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=Ce(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return w(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return d(N(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return d(N(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return d(N(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(d(N(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Ie),Pe=function(){var e=function(e){k(n,e);var t=x(n);function n(e){return b(this,n),t.call(this,e)}return w(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(we);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Re=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Me={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Le={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Fe=function(){var e=function(e){k(n,e);var t=x(n);function n(e){return b(this,n),t.call(this,e)}return w(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return _().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Re.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Me.hasOwnProperty(t)&&(t=Me[t]))}return De[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Re.forEach(function(r){r!=n&&(0,Le[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(we);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),qe=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,y.Yz7)({factory:function(){return(0,y.LFG)(Ze)},token:e,providedIn:"root"}),e}();function Ue(e){return new Ze(e.get(C))}var Ze=function(){var e=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this))._doc=e,r}return w(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case y.q3G.NONE:return t;case y.q3G.HTML:return(0,y.qzn)(t,"HTML")?(0,y.z3N)(t):(0,y.EiD)(this._doc,String(t)).toString();case y.q3G.STYLE:return(0,y.qzn)(t,"Style")?(0,y.z3N)(t):t;case y.q3G.SCRIPT:if((0,y.qzn)(t,"Script"))return(0,y.z3N)(t);throw new Error("unsafe value used in a script context");case y.q3G.URL:return(0,y.yhl)(t),(0,y.qzn)(t,"URL")?(0,y.z3N)(t):(0,y.mCW)(String(t));case y.q3G.RESOURCE_URL:if((0,y.qzn)(t,"ResourceURL"))return(0,y.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return(0,y.JVY)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return(0,y.L6k)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return(0,y.eBb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return(0,y.LAX)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return(0,y.pB0)(e)}}]),n}(qe);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=(0,y.Yz7)({factory:function(){return Ue((0,y.LFG)(y.gxx))},token:e,providedIn:"root"}),e}(),je=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function(){fe.makeCurrent(),ge.init()},multi:!0},{provide:C,useFactory:function(){return(0,y.RDi)(document),document},deps:[]}]),Ve=[[],{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function(){return new y.qLn},deps:[]},{provide:me,useClass:Pe,multi:!0,deps:[C,y.R0b,y.Lbi]},{provide:me,useClass:Fe,multi:!0,deps:[C]},[],{provide:Ae,useClass:Ae,deps:[_e,ke,y.AFp]},{provide:y.FYo,useExisting:Ae},{provide:be,useExisting:ke},{provide:ke,useClass:ke,deps:[C]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:_e,useClass:_e,deps:[me,y.R0b]},{provide:he,useClass:ye,deps:[]},[]],Be=function(){var e=function(){function e(t){if(b(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return w(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:y.AFp,useValue:t.appId},{provide:pe,useExisting:y.AFp},ve]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(e,12))},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:Ve,imports:[oe,y.hGG]}),e}();"undefined"!=typeof window&&window;var He=function e(){b(this,e)};function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function We(e){return{type:6,styles:e,offset:null}}function Ke(e,t,n){return{type:0,name:e,styles:t,options:n}}function Ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Qe(e){Promise.resolve(null).then(e)}var Je=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;b(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return w(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Qe(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),Xe=function(){function e(t){var n=this;b(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Qe(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==a&&n._onFinish()}),e.onDestroy(function(){++i==a&&n._onDestroy()}),e.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return w(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}();function $e(){return"undefined"!=typeof window&&void 0!==window.document}function et(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tt(e){switch(e.length){case 0:return new Je;case 1:return e[0];default:return new Xe(e)}}function nt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(e){var n=e.offset,r=n==u,l=r&&c||{};Object.keys(e).forEach(function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function rt(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&it(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&it(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&it(n,"destroy",e))})}}function it(e,t,n){var r=n.totalTime,i=ot(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function ot(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function at(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function st(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var ut=function(e,t){return!1},ct=function(e,t){return!1},lt=function(e,t,n){return[]},ht=et();(ht||"undefined"!=typeof Element)&&(ut=$e()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},ct=function(){if(ht||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:ct}(),lt=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),o=0;o<i.length;o++)r.push(i[o]);else{var a=e.querySelector(t);a&&r.push(a)}return r});var ft=null,dt=!1;function pt(e){ft||(ft=("undefined"!=typeof document?document.body:null)||{},dt=!!ft.style&&"WebkitAppearance"in ft.style);var t=!0;return ft.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in ft.style)&&dt)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in ft.style),t}var vt=ct,gt=ut,yt=lt;function mt(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var _t=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"validateStyleProperty",value:function(e){return pt(e)}},{key:"matchesElement",value:function(e,t){return vt(e,t)}},{key:"containsElement",value:function(e,t){return gt(e,t)}},{key:"query",value:function(e,t,n){return yt(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new Je(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),wt=function(){var e=function e(){b(this,e)};return e.NOOP=new _t,e}();function bt(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kt(parseFloat(t[1]),t[2])}function kt(e,t){switch(t){case"s":return 1e3*e;default:return e}}function xt(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=kt(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=kt(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function St(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else Tt(e,n);return n}function Ct(e,t,n){return n?t+":"+n+";":""}function Et(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=Ct(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Ct(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function At(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=Lt(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),et()&&Et(e))}function It(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=Lt(t);e.style[n]=""}),et()&&Et(e))}function Nt(e){return Array.isArray(e)?1==e.length?e[0]:Ge(e):e}var Ot=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pt(e){var t=[];if("string"==typeof e){for(var n;n=Ot.exec(e);)t.push(n[1]);Ot.lastIndex=0}return t}function Rt(e,t,n){var r=e.toString(),i=r.replace(Ot,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function Dt(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Mt=/-+([a-z0-9])/g;function Lt(e){return e.replace(Mt,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function Ft(e,t){return 0===e||0===t}function qt(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach(function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var a=function(){var n=t[s];o.forEach(function(t){n[t]=Zt(e,t)})},s=1;s<t.length;s++)a()}return t}function Ut(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function Zt(e,t){return window.getComputedStyle(e)[t]}var jt=new Set(["true","1"]),Vt=new Set(["false","0"]);function Bt(e,t){var n=jt.has(e)||Vt.has(e),r=jt.has(t)||Vt.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?jt.has(e):Vt.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?jt.has(t):Vt.has(t)),a&&s}}var Ht=new RegExp("s*:selfs*,?","g");function zt(e,t,n){return new Gt(e).build(t,n)}var Gt=function(){function e(t){b(this,e),this._driver=t}return w(e,[{key:"build",value:function(e,t){var n=new Wt(t);return this._resetContextStyleTimingState(n),Ut(this,Nt(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,o.push(n.visitState(s,t))}),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,a.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(e){if(Kt(e)){var t=e;Object.keys(t).forEach(function(e){Pt(t[e]).forEach(function(e){o.hasOwnProperty(e)||i.add(e)})})}}),i.size){var a=Dt(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=Ut(this,Nt(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(Bt(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(Bt(s,o))}(e,i,r)}):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Yt(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return Ut(n,e,t)}),options:Yt(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map(function(e){t.currentTime=r;var o=Ut(n,e,t);return i=Math.max(i,t.currentTime),o});return t.currentTime=i,{type:3,steps:o,options:Yt(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Qt(xt(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=Qt(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Qt((n=n||xt(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:We({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=We(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(Kt(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a=t.collectedStyles[t.currentQuerySelector],s=a[r],u=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),u=!1),o=s.startTime),u&&(a[r]={startTime:o,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=Pt(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=e.steps.map(function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(Kt(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(Kt(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach(function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Ut(this,Nt(e.animation),t),options:Yt(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Yt(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yt(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=l(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(Ht,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(e){return".ng-trigger-"+e.substr(1)}).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,at(t.collectedStyles,t.currentQuerySelector,{});var s=Ut(this,Nt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Yt(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:xt(e.timings,t.errors,!0);return{type:12,animation:Ut(this,Nt(e.animation),t),timings:n,options:null}}}]),e}(),Wt=function e(t){b(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Kt(e){return!Array.isArray(e)&&"object"==typeof e}function Yt(e){var t;return e?(e=Tt(e)).params&&(e.params=(t=e.params)?Tt(t):null):e={},e}function Qt(e,t,n){return{duration:e,delay:t,easing:n}}function Jt(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Xt=function(){function e(){b(this,e),this._map=new Map}return w(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,p(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),$t=new RegExp(":enter","g"),en=new RegExp(":leave","g");function tn(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new nn).buildKeyframes(e,t,n,r,i,o,a,s,u,c)}var nn=function(){function e(){b(this,e)}return w(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Xt;var l=new on(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Ut(this,n,l);var h=l.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[Jt(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?bt(n.duration):null,o=null!=n.delay?bt(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Ut(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rn);var a=bt(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(function(e){return Ut(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?bt(e.options.delay):0;e.steps.forEach(function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Ut(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return xt(t.params?Rt(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?bt(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rn);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),Ut(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Ut(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),rn={},on=function(){function e(t,n,r,i,o,a,s,u){b(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new an(this._driver,n,0),s.push(this.currentTimeline)}return w(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=bt(r.duration)),null!=r.delay&&(i.delay=bt(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(e){t&&a.hasOwnProperty(e)||(a[e]=Rt(o[e],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=rn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new sn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace($t,"."+this._enterClassName)).replace(en,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,p(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),an=function(){function e(t,n,r,i){b(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return w(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]="*"}):St(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(a).forEach(function(e){var t=Rt(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=St(o,!0);Object.keys(s).forEach(function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)}),r||(s.offset=a/e.duration),i.push(s)});var o=t.size?Dt(t.values()):[],a=n.size?Dt(n.values()):[];if(r){var s=i[0],u=Tt(s);s.offset=0,u.offset=1,i=[s,u]}return Jt(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),sn=function(e){k(n,e);var t=x(n);function n(e,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return b(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return w(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=St(e[0],!1);u.offset=0,o.push(u);var c=St(e[0],!1);c.offset=un(s),o.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=St(e[h],!1);f.offset=un((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return Jt(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(an);function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var cn=function e(){b(this,e)},ln=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"normalizePropertyName",value:function(e,t){return Lt(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(hn[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(cn),hn=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function fn(e,t,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var dn={},pn=function(){function e(t,n,r){b(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return w(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||dn,f=this.buildStyles(n,a&&a.params||dn,l),d=s&&s.params||dn,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},w=c?[]:tn(e,t,this.ast.animation,i,o,f,p,_,u,l),b=0;if(w.forEach(function(e){b=Math.max(e.duration+e.delay,b)}),l.length)return fn(t,this._triggerName,n,r,m,f,p,[],[],g,y,b,l);w.forEach(function(e){var n=e.element,r=at(g,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=at(y,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&v.add(n)});var k=Dt(v.values());return fn(t,this._triggerName,n,r,m,f,p,w,k,g,y,b)}}]),e}(),vn=function(){function e(t,n){b(this,e),this.styles=t,this.defaultParams=n}return w(e,[{key:"buildStyles",value:function(e,t){var n={},r=Tt(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach(function(e){var o=i[e];o.length>1&&(o=Rt(o,r,t)),n[e]=o})}}),n}}]),e}(),gn=function(){function e(t,n){var r=this;b(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(e){r.states[e.name]=new vn(e.style,e.options&&e.options.params||{})}),yn(this.states,"true","1"),yn(this.states,"false","0"),n.transitions.forEach(function(e){r.transitionFactories.push(new pn(t,e,r.states))}),this.fallbackTransition=new pn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return w(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function yn(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var mn=new Xt,_n=function(){function e(t,n,r){b(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return w(e,[{key:"register",value:function(e,t){var n=[],r=zt(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=nt(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=tn(this._driver,t,a,"ng-enter","ng-leave",{},{},i,mn,o)).forEach(function(e){var t=at(s,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,"*")})});var u=tt(n.map(function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=u,u.onDestroy(function(){return r.destroy(e)}),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=ot(t,"","","");return rt(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),wn=[],bn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";b(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=Tt(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return w(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),Tn=new xn("void"),Sn=function(){function e(t,n,r){b(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Pn(n,this._hostClassName)}return w(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=at(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=at(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Pn(e,"ng-trigger"),Pn(e,"ng-trigger-"+t),u[t]=Tn),function(){o._engine.afterFlush(function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new En(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Pn(e,"ng-trigger"),Pn(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new xn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=Tn),"void"===c.value||u.value!==c.value){var l=at(this._engine.playersByElement,e,[]);l.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=o.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(Pn(e,"ng-animate-queued"),a.onStart(function(){Rn(e,"ng-animate-queued")})),a.onDone(function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){It(e,p),At(e,v)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach(function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&tt(a).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=t._triggers[o].fallbackTransition,s=r[o]||Tn,u=new xn("void"),c=new En(t.id,o,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==bn||(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Pn(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach(function(t){if(t.name==r.triggerName){var n=ot(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,rt(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),Cn=function(){function e(t,n,r){b(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return w(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new Sn(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(An(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(An(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pn(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Rn(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(An(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return An(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return tt(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=bn,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Pn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?tt(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Xt,i=[],o=new Map,a=[],s=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(function(e){l.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)l.add(t[r])});var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=On(f,this.collectedEnterElements),v=new Map,g=0;d.forEach(function(e,t){var n="ng-enter"+g++;v.set(t,n),e.forEach(function(e){return Pn(e,n)})});for(var y=[],m=new Set,_=new Set,w=0;w<this.collectedLeaveElements.length;w++){var b=this.collectedLeaveElements[w],k=b.__ng_removed;k&&k.setForRemoval&&(y.push(b),m.add(b),k.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach(function(e){return m.add(e)}):_.add(b))}var x=new Map,T=On(f,Array.from(m));T.forEach(function(e,t){var n="ng-leave"+g++;x.set(t,n),e.forEach(function(e){return Pn(e,n)})}),e.push(function(){d.forEach(function(e,t){var n=v.get(t);e.forEach(function(e){return Rn(e,n)})}),T.forEach(function(e,t){var n=x.get(t);e.forEach(function(e){return Rn(e,n)})}),y.forEach(function(e){n.processLeaveNode(e)})});for(var S=[],C=[],E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach(function(e){var t=e.player,o=e.element;if(S.push(t),n.collectedEnterElements.length){var l=o.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=x.get(o),p=v.get(o),g=n._buildInstruction(e,r,p,d,f);if(g.errors&&g.errors.length)C.push(g);else{if(f)return t.onStart(function(){return It(o,g.fromStyles)}),t.onDestroy(function(){return At(o,g.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return It(o,g.fromStyles)}),t.onDestroy(function(){return At(o,g.toStyles)}),void i.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(o,g.timelines),a.push({instruction:g,player:t,element:o}),g.queriedElements.forEach(function(e){return at(s,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(C.length){var A=[];C.forEach(function(e){A.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return A.push("- ".concat(e,"\n"))})}),S.forEach(function(e){return e.destroy()}),this.reportError(A)}var I=new Map,N=new Map;a.forEach(function(e){var t=e.element;r.has(t)&&(N.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){at(I,t,[]).push(e),e.destroy()})});var O=y.filter(function(e){return Ln(e,u,c)}),P=new Map;Nn(P,this.driver,_,c,"*").forEach(function(e){Ln(e,u,c)&&O.push(e)});var R=new Map;d.forEach(function(e,t){Nn(R,n.driver,new Set(e),u,"!")}),O.forEach(function(e){var t=P.get(e),n=R.get(e);P.set(e,Object.assign(Object.assign({},t),n))});var D=[],M=[],L={};a.forEach(function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(l.has(t))return a.onDestroy(function(){return At(t,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=L;if(N.size>1){for(var c=t,h=[];c=c.parentNode;){var f=N.get(c);if(f){u=f;break}h.push(c)}h.forEach(function(e){return N.set(e,u)})}var d=n._buildAnimation(a.namespaceId,s,I,o,R,P);if(a.setRealPlayer(d),u===L)D.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=tt(p)),i.push(a)}}else It(t,s.fromStyles),a.onDestroy(function(){return At(t,s.toStyles)}),M.push(a),l.has(t)&&i.push(a)}),M.forEach(function(e){var t=o.get(e.element);if(t&&t.length){var n=tt(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var F=0;F<y.length;F++){var q=y[F],U=q.__ng_removed;if(Rn(q,"ng-leave"),!U||!U.hasAnimation){var Z=[];if(s.size){var j=s.get(q);j&&j.length&&Z.push.apply(Z,p(j));for(var V=this.driver.query(q,".ng-animating",!0),B=0;B<V.length;B++){var H=s.get(V[B]);H&&H.length&&Z.push.apply(Z,p(H))}}var z=Z.filter(function(e){return!e.destroyed});z.length?Dn(this,q,z):this.processLeaveNode(q)}}return y.length=0,D.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),D}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach(function(e){e.queued||(u||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=g(t.timelines);try{var c=function(){var e=r.value.element,u=e!==o,c=at(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}It(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,c=[],l=new Set,h=new Set,f=t.timelines.map(function(t){var f=t.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Je(t.duration,t.delay);var p,v,g=f!==u,y=(p=(n.get(f)||wn).map(function(e){return e.getRealPlayer()}),v=[],Mn(p,v),v).filter(function(e){return!!e.element&&e.element===f}),m=i.get(f),_=o.get(f),w=nt(0,a._normalizer,0,t.keyframes,m,_),b=a._buildPlayer(t,w,y);if(t.subTimeline&&r&&h.add(f),g){var k=new En(e,s,f);k.setRealPlayer(b),c.push(k)}return b});c.forEach(function(e){at(a.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)})}),l.forEach(function(e){return Pn(e,"ng-animating")});var d=tt(f);return d.onDestroy(function(){l.forEach(function(e){return Rn(e,"ng-animating")}),At(u,t.toStyles)}),h.forEach(function(e){at(r,e,[]).push(d)}),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Je(e.duration,e.delay)}}]),e}(),En=function(){function e(t,n,r){b(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Je,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return w(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return rt(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){at(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function An(e){return e&&1===e.nodeType}function In(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Nn(e,t,n,r,i){var o=[];n.forEach(function(e){return o.push(In(e))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=kn,a.push(r))}),e.set(r,o)});var s=0;return n.forEach(function(e){return In(e,o[s++])}),a}function On(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function o(e){if(!e)return 1;var t=i.get(e);if(t)return t;var a=e.parentNode;return t=n.has(a)?a:r.has(a)?1:o(a),i.set(e,t),t}return t.forEach(function(e){var t=o(e);1!==t&&n.get(t).push(e)}),n}function Pn(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Rn(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Dn(e,t,n){tt(n).onDone(function(){return e.processLeaveNode(t)})}function Mn(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof Xe?Mn(r.players,t):t.push(r)}}function Ln(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var Fn=function(){function e(t,n,r){var i=this;b(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Cn(t,n,r),this._timelineEngine=new _n(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return w(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=zt(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new gn(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=l(st(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=l(st(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function qn(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Zn(t[0]),t.length>1&&(r=Zn(t[t.length-1]))):t&&(n=Zn(t)),n||r?new Un(e,n,r):null}var Un=function(){var e=function(){function e(t,n,r){b(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return w(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&At(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(At(this._element,this._initialStyles),this._endStyles&&(At(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(It(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),At(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Zn(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];jn(i)&&((t=t||{})[i]=e[i])}return t}function jn(e){return"display"===e||"position"===e}var Vn=function(){function e(t,n,r,i,o,a,s){var u=this;b(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return w(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Kn(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),Wn(e,"",t),Gn(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Bn(this._element,this._name,"paused")}},{key:"resume",value:function(){Bn(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Hn(this._element,this._name);this._position=e*this._duration,Wn(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Gn(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=Kn(e,"").split(","),(r=zn(n,t))>=0&&(n.splice(r,1),Wn(e,"",n.join(","))))}}]),e}();function Bn(e,t,n){Wn(e,"PlayState",n,Hn(e,t))}function Hn(e,t){var n=Kn(e,"");return n.indexOf(",")>0?zn(n.split(","),t):zn([n],t)}function zn(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Gn(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Wn(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Kn(e,t){return e.style["animation"+t]||""}var Yn=function(){function e(t,n,r,i,o,a,s,u){b(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return w(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Vn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Zt(e.element,r))})}this.currentSnapshot=t}}]),e}(),Qn=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=mt(r),i}return w(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),d(N(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),d(N(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,d(N(n.prototype),"destroy",this).call(this))}}]),n}(Je),Jn=function(){function e(){b(this,e),this._count=0}return w(e,[{key:"validateStyleProperty",value:function(e){return pt(e)}},{key:"matchesElement",value:function(e,t){return vt(e,t)}},{key:"containsElement",value:function(e,t){return gt(e,t)}},{key:"query",value:function(e,t,n){return yt(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return mt(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(e){return e instanceof Yn}),s={};Ft(n,r)&&a.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=qt(e,t,s));if(0==n)return new Qn(e,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(e,c,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(l);var h=qn(e,t),f=new Yn(e,t,c,n,r,i,u,h);return f.onDestroy(function(){var e;(e=l).parentNode.removeChild(e)}),f}}]),e}(),Xn=function(){function e(t,n,r,i){b(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return w(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Zt(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),$n=function(){function e(){b(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(er().toString()),this._cssKeyframesDriver=new Jn}return w(e,[{key:"validateStyleProperty",value:function(e){return pt(e)}},{key:"matchesElement",value:function(e,t){return vt(e,t)}},{key:"containsElement",value:function(e,t){return gt(e,t)}},{key:"query",value:function(e,t,n){return yt(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(e){return e instanceof Xn});Ft(n,r)&&c.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var l=qn(e,t=qt(e,t=t.map(function(e){return St(e,!1)}),u));return new Xn(e,t,s,l)}}]),e}();function er(){return $e()&&Element.prototype.animate||{}}var tr=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}}),i}return w(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Ge(e):e;return ir(this._renderer,null,t,"register",[n]),new nr(t,this._renderer)}}]),n}(He);return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.FYo),y.LFG(C))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),nr=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return w(n,[{key:"create",value:function(e,t){return new rr(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){b(this,e)}}()),rr=function(){function e(t,n,r,i){b(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return w(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ir(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function ir(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var or=function(){var e=function(){function e(t,n,r){b(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return w(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new ar("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);return t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)}),new sr(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var t=l(e,2);(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.FYo),y.LFG(Fn),y.LFG(y.R0b))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),ar=function(){function e(t,n,r){b(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return w(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),sr=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return w(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=l([r.substring(0,i),r.substr(i+1)],2))[0],c=a[1]),this.engine.listen(this.namespaceId,s,u,c,function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),n}(ar),ur=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r,i){return b(this,n),t.call(this,e.body,r,i)}return w(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(Fn);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C),y.LFG(wt),y.LFG(cn))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),cr=new y.OlP("AnimationModuleType"),lr=[{provide:He,useClass:tr},{provide:cn,useFactory:function(){return new ln}},{provide:Fn,useClass:ur},{provide:y.FYo,useFactory:function(e,t,n){return new or(e,t,n)},deps:[Ae,Fn,y.R0b]}],hr=[{provide:wt,useFactory:function(){return"function"==typeof er()?new $n:new Jn}},{provide:cr,useValue:"BrowserAnimations"}].concat(lr),fr=[{provide:wt,useClass:_t},{provide:cr,useValue:"NoopAnimations"}].concat(lr),dr=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?fr:hr}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:hr,imports:[Be]}),e}(),pr=v(9764),vr=v(8318),gr=v(8470),yr=v(9996),mr=v(2056);function _r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if((0,gr.k)(r))return wr(r,null);if((0,mr.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return wr(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return wr(t=1===t.length&&(0,gr.k)(t[0])?t[0]:t,null).pipe((0,yr.U)(function(e){return o.apply(void 0,p(e))}))}return wr(t,null)}function wr(e,t){return new vr.y(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=(0,pr.D)(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var br=function(){var e=function(){function e(t,n){b(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return w(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Qsj),y.Y36(y.SBq))},e.\u0275dir=y.lG2({type:e}),e}(),kr=function(){var e,t=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(br);return t.\u0275fac=function(n){return(e||(e=y.n5z(t)))(n||t)},t.\u0275dir=y.lG2({type:t,features:[y.qOj]}),t}(),xr=new y.OlP("NgValueAccessor"),Tr={provide:xr,useExisting:(0,y.Gpc)(function(){return Cr}),multi:!0},Sr=new y.OlP("CompositionEventMode"),Cr=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r,i){var o,a;return b(this,n),(o=t.call(this,e,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=_()?_().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return w(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(br);return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Sr,8))},e.\u0275dir=y.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&y.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[y._Bn([Tr]),y.qOj]}),e}(),Er=new y.OlP("NgValidators"),Ar=new y.OlP("NgAsyncValidators");function Ir(e){return null!=e}function Nr(e){var t=(0,y.QGY)(e)?(0,pr.D)(e):e;return(0,y.CqO)(t),t}function Or(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Pr(e,t){return t.map(function(t){return t(e)})}function Rr(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function Dr(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Ir);return 0==t.length?null:function(e){return Or(Pr(e,t))}}(Rr(e)):null}function Mr(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Ir);return 0==t.length?null:function(e){return _r(Pr(e,t).map(Nr)).pipe((0,yr.U)(Or))}}(Rr(e)):null}function Lr(e,t){return null===e?[t]:Array.isArray(e)?[].concat(p(e),[t]):[e,t]}var Fr=function(){var e=function(){function e(){b(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return w(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=Dr(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mr(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=y.lG2({type:e}),e}(),qr=function(){var e,t=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Fr);return t.\u0275fac=function(n){return(e||(e=y.n5z(t)))(n||t)},t.\u0275dir=y.lG2({type:t,features:[y.qOj]}),t}(),Ur=function(e){k(n,e);var t=x(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(Fr),Zr=function(){function e(t){b(this,e),this._cd=t}return w(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}(),jr=function(){var e=function(e){k(n,e);var t=x(n);function n(e){return b(this,n),t.call(this,e)}return n}(Zr);return e.\u0275fac=function(t){return new(t||e)(y.Y36(Ur,2))},e.\u0275dir=y.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&y.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[y.qOj]}),e}(),Vr=function(){var e=function(e){k(n,e);var t=x(n);function n(e){return b(this,n),t.call(this,e)}return n}(Zr);return e.\u0275fac=function(t){return new(t||e)(y.Y36(qr,10))},e.\u0275dir=y.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&y.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[y.qOj]}),e}();function Br(e,t){zr(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Gr(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Gr(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function Hr(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zr(e,t){var n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Lr(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Lr(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};Hr(t._rawValidators,i),Hr(t._rawAsyncValidators,i)}function Gr(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Wr(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Kr(e){return(Xr(e)?e.validators:e)||null}function Yr(e){return Array.isArray(e)?Dr(e):e||null}function Qr(e,t){return(Xr(t)?t.asyncValidators:e)||null}function Jr(e){return Array.isArray(e)?Mr(e):e||null}function Xr(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var $r=function(){function e(t,n){b(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Yr(this._rawValidators),this._composedAsyncValidatorFn=Jr(this._rawAsyncValidators)}return w(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Yr(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Jr(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=Nr(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof ti?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ni&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Xr(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),ei=function(e){k(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return b(this,n),(e=t.call(this,Kr(i),Qr(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),e}return w(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){Wr(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){Wr(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}($r),ti=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,Kr(r),Qr(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return w(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof ei?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}($r),ni=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,Kr(r),Qr(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return w(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof ei?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=g(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}($r),ri={provide:qr,useExisting:(0,y.Gpc)(function(){return oi})},ii=Promise.resolve(null),oi=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new y.vpe,i.form=new ti({},Dr(e),Mr(r)),i}return w(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;ii.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Br(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ii.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Wr(t._directives,e)})}},{key:"addFormGroup",value:function(e){var t=this;ii.then(function(){var n=t._findContainer(e.path),r=new ti({});(function(e,t){zr(e,t)})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(e){var t=this;ii.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ii.then(function(){n.form.get(e.path).setValue(t)})}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(qr);return e.\u0275fac=function(t){return new(t||e)(y.Y36(Er,10),y.Y36(Ar,10))},e.\u0275dir=y.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&y.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([ri]),y.qOj]}),e}(),ai={provide:Ur,useExisting:(0,y.Gpc)(function(){return ui})},si=Promise.resolve(null),ui=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this)).control=new ei,a._registered=!1,a.update=new y.vpe,a._parent=e,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===Cr?n=e:Object.getPrototypeOf(e.constructor)===kr?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,o),a}return w(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?[].concat(p(this._parent.path),[this.name]):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Br(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;si.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;si.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(Ur);return e.\u0275fac=function(t){return new(t||e)(y.Y36(qr,9),y.Y36(Er,10),y.Y36(Ar,10),y.Y36(xr,10))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([ai]),y.qOj,y.TTD]}),e}(),ci=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=y.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),li={provide:xr,useExisting:(0,y.Gpc)(function(){return hi}),multi:!0},hi=function(){var e,t=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}}]),n}(kr);return t.\u0275fac=function(n){return(e||(e=y.n5z(t)))(n||t)},t.\u0275dir=y.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&y.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[y._Bn([li]),y.qOj]}),t}(),fi=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),di=new y.OlP("NgModelWithFormControlWarning"),pi={provide:Er,useExisting:(0,y.Gpc)(function(){return vi}),multi:!0},vi=function(){var e=function(){function e(){b(this,e),this._required=!1}return w(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!="".concat(e),this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?function(e){return null==(t=e.value)||0===t.length?{required:!0}:null;var t}(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=y.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&y.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[y._Bn([pi])]}),e}(),gi=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[fi]]}),e}(),yi=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[gi]}),e}(),mi=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:di,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[gi]}),e}(),_i=v(878),wi=v(3982);function bi(e,t){return(0,wi.zg)(e,t,1)}var ki=v(6673);function xi(e,t){return function(n){return n.lift(new Ti(e,t))}}var Ti=function(){function e(t,n){b(this,e),this.predicate=t,this.thisArg=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Si(e,this.predicate,this.thisArg))}}]),e}(),Si=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return w(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(ki.L),Ci=function e(){b(this,e)},Ei=function e(){b(this,e)},Ai=function(){function e(t){var n=this;b(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return w(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,p(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),Ii=function(){function e(){b(this,e)}return w(e,[{key:"encodeKey",value:function(e){return Ni(e)}},{key:"encodeValue",value:function(e){return Ni(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Ni(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Oi(e){return"".concat(e)}var Pi=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(b(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Ii,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),i=l(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return w(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(Oi(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(Oi(t.value));-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),Ri=function(){function e(){b(this,e),this.map=new Map}return w(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function Di(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Mi(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Li(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Fi=function(){function e(t,n,r,i){var o;if(b(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ai),this.context||(this.context=new Ri),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Pi,this.urlWithParams=n}return w(e,[{key:"serializeBody",value:function(){return null===this.body?null:Di(this.body)||Mi(this.body)||Li(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Li(this.body)?null:Mi(this.body)?this.body.type||null:Di(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,h=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l)),new e(r,i,a,{params:l,headers:c,context:h,reportProgress:u,responseType:o,withCredentials:s})}}]),e}(),qi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),Ui=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";b(this,e),this.headers=t.headers||new Ai,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},Zi=function(e){k(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this,n),(e=t.call(this,r)).type=qi.ResponseHeader,e}return w(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Ui),ji=function(e){k(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(this,n),(e=t.call(this,r)).type=qi.Response,e.body=void 0!==r.body?r.body:null,e}return w(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Ui),Vi=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(Ui);function Bi(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Hi=function(){var e=function(){function e(t){b(this,e),this.handler=t}return w(e,[{key:"request",value:function(e,t){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof Fi?n=e:(r=a.headers instanceof Ai?a.headers:new Ai(a.headers),a.params&&(i=a.params instanceof Pi?a.params:new Pi({fromObject:a.params})),n=new Fi(e,t,void 0!==a.body?a.body:null,{headers:r,context:a.context,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=(0,_i.of)(n).pipe(bi(function(e){return o.handler.handle(e)}));if(e instanceof Fi||"events"===a.observe)return s;var u=s.pipe(xi(function(e){return e instanceof ji}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe((0,yr.U)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe((0,yr.U)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe((0,yr.U)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe((0,yr.U)(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Pi).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Bi(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Bi(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Bi(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(Ci))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),zi=function(){function e(t,n){b(this,e),this.next=t,this.interceptor=n}return w(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Gi=new y.OlP("HTTP_INTERCEPTORS"),Wi=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Ki=/^\)\]\}',?\n/,Yi=function(){var e=function(){function e(t){b(this,e),this.xhrFactory=t}return w(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vr.y(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Ai(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Zi({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(Ki,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new ji({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Vi({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u().url,i=new Vi({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:qi.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:qi.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:qi.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(he))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Qi=new y.OlP("XSRF_COOKIE_NAME"),Ji=new y.OlP("XSRF_HEADER_NAME"),Xi=function e(){b(this,e)},$i=function(){var e=function(){function e(t,n,r){b(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return w(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Y(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(C),y.LFG(y.Lbi),y.LFG(Qi))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),eo=function(){var e=function(){function e(t,n){b(this,e),this.tokenService=t,this.headerName=n}return w(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(Xi),y.LFG(Ji))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),to=function(){var e=function(){function e(t,n){b(this,e),this.backend=t,this.injector=n,this.chain=null}return w(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Gi,[]);this.chain=t.reduceRight(function(e,t){return new zi(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(Ei),y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),no=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:eo,useClass:Wi}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Qi,useValue:t.cookieName}:[],t.headerName?{provide:Ji,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[eo,{provide:Gi,useExisting:eo,multi:!0},{provide:Xi,useClass:$i},{provide:Qi,useValue:"XSRF-TOKEN"},{provide:Ji,useValue:"X-XSRF-TOKEN"}]}),e}(),ro=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[Hi,{provide:Ci,useClass:to},Yi,{provide:Ei,useExisting:Yi}],imports:[[no.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}(),io=v(5959),oo=v(3895),ao=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this))._value=e,r}return w(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=d(N(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new oo.N;return this._value}},{key:"next",value:function(e){d(N(n.prototype),"next",this).call(this,this._value=e)}}]),n}(io.xQ),so=v(6163),uo=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(ki.L),co=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return w(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(ki.L),lo=v(6015);function ho(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new co(e,n,r);if(!i.closed)return t instanceof vr.y?t.subscribe(i):(0,lo.s)(t)(i)}var fo=v(9342),po={},vo=function(){function e(t){b(this,e),this.resultSelector=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new go(e,this.resultSelector))}}]),e}(),go=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return w(n,[{key:"_next",value:function(e){this.values.push(po),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(ho(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===po?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(uo),yo=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),mo=v(7471);function _o(){return(0,mo.J)(1)(_i.of.apply(void 0,arguments))}var wo=v(653);function bo(e){return new vr.y(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,pr.D)(n):(0,wo.c)()).subscribe(t)})}var ko=v(2875),xo=v(6882);function To(e,t){return"function"==typeof t?function(n){return n.pipe(To(function(n,r){return(0,pr.D)(e(n,r)).pipe((0,yr.U)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new So(e))}}var So=function(){function e(t){b(this,e),this.project=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Co(e,this.project))}}]),e}(),Co=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return w(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new xo.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,xo.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||d(N(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&d(N(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(xo.Ds),Eo=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function Ao(e){return function(t){return 0===e?(0,wo.c)():t.lift(new Io(e))}}var Io=function(){function e(t){if(b(this,e),this.total=t,this.total<0)throw new Eo}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new No(e,this.total))}}]),e}(),No=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return w(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(ki.L);function Oo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return(0,so.K)(r)?(t.pop(),function(e){return _o(t,e,r)}):function(e){return _o(t,e)}}function Po(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ro(e,t,n))}}var Ro=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Do(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Do=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return w(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(ki.L);function Mo(e){return function(t){var n=new Lo(e),r=t.lift(n);return n.caught=r}}var Lo=function(){function e(t){b(this,e),this.selector=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Fo(e,this.selector,this.caught))}}]),e}(),Fo=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return w(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void d(N(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new xo.IY(this);this.add(r);var i=(0,xo.ft)(t,r);i!==r&&this.add(i)}}}]),n}(xo.Ds);function qo(e){return function(t){return 0===e?(0,wo.c)():t.lift(new Uo(e))}}var Uo=function(){function e(t){if(b(this,e),this.total=t,this.total<0)throw new Eo}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Zo(e,this.total))}}]),e}(),Zo=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return w(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(ki.L);function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ho;return function(t){return t.lift(new Vo(e))}}var Vo=function(){function e(t){b(this,e),this.errorFactory=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Bo(e,this.errorFactory))}}]),e}(),Bo=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return w(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(KC){e=KC}this.destination.error(e)}}]),n}(ki.L);function Ho(){return new yo}function zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Go(e))}}var Go=function(){function e(t){b(this,e),this.defaultValue=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Wo(e,this.defaultValue))}}]),e}(),Wo=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return w(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(ki.L),Ko=v(3392);function Yo(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?xi(function(t,n){return e(t,n,r)}):Ko.y,Ao(1),n?zo(t):jo(function(){return new yo}))}}var Qo=v(4019),Jo=v(1564),Xo=v(7570),$o=function(){function e(t){b(this,e),this.callback=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new ea(e,this.callback))}}]),e}(),ea=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).add(new Xo.w(r)),i}return n}(ki.L),ta=function e(t,n){b(this,e),this.id=t,this.url=n},na=function(e){k(n,e);var t=x(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return b(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return w(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ta),ra=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return w(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ta),ia=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e,r)).reason=i,o}return w(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ta),oa=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e,r)).error=i,o}return w(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ta),aa=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return w(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ta),sa=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return w(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ta),ua=function(e){k(n,e);var t=x(n);function n(e,r,i,o,a){var s;return b(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return w(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ta),ca=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return w(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ta),la=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return w(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ta),ha=function(){function e(t){b(this,e),this.route=t}return w(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),fa=function(){function e(t){b(this,e),this.route=t}return w(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),da=function(){function e(t){b(this,e),this.snapshot=t}return w(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),pa=function(){function e(t){b(this,e),this.snapshot=t}return w(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),va=function(){function e(t){b(this,e),this.snapshot=t}return w(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ga=function(){function e(t){b(this,e),this.snapshot=t}return w(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ya=function(){function e(t,n,r){b(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return w(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),ma=function(){function e(t){b(this,e),this.params=t||{}}return w(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function _a(e){return new ma(e)}function wa(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ba(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ka(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!xa(e[n=r[o]],t[n]))return!1;return!0}function xa(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=p(e).sort(),r=p(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Ta(e){return Array.prototype.concat.apply([],e)}function Sa(e){return e.length>0?e[e.length-1]:null}function Ca(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ea(e){return(0,y.CqO)(e)?e:(0,y.QGY)(e)?(0,pr.D)(Promise.resolve(e)):(0,_i.of)(e)}var Aa={exact:function e(t,n,r){if(!Fa(t.segments,n.segments))return!1;if(!Ra(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Oa},Ia={exact:function(e,t){return ka(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return xa(e[n],t[n])})},ignored:function(){return!0}};function Na(e,t,n){return Aa[n.paths](e.root,t.root,n.matrixParams)&&Ia[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Oa(e,t,n){return Pa(e,t,t.segments,n)}function Pa(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!!Fa(i,n)&&!t.hasChildren()&&!!Ra(i,n,r)}if(e.segments.length===n.length){if(!Fa(e.segments,n))return!1;if(!Ra(e.segments,n,r))return!1;for(var o in t.children){if(!e.children[o])return!1;if(!Oa(e.children[o],t.children[o],r))return!1}return!0}var a=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Fa(e.segments,a)&&!!Ra(e.segments,a,r)&&!!e.children.primary&&Pa(e.children.primary,t,s,r)}function Ra(e,t,n){return t.every(function(t,r){return Ia[n](e[r].parameters,t.parameters)})}var Da=function(){function e(t,n,r){b(this,e),this.root=t,this.queryParams=n,this.fragment=r}return w(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Za.serialize(this)}}]),e}(),Ma=function(){function e(t,n){var r=this;b(this,e),this.segments=t,this.children=n,this.parent=null,Ca(n,function(e,t){return e.parent=r})}return w(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return ja(this)}}]),e}(),La=function(){function e(t,n){b(this,e),this.path=t,this.parameters=n}return w(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=_a(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ka(this)}}]),e}();function Fa(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var qa=function e(){b(this,e)},Ua=function(){function e(){b(this,e)}return w(e,[{key:"parse",value:function(e){var t=new $a(e);return new Da(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"/".concat(Va(e.root,!0)).concat((n=e.queryParams,r=Object.keys(n).map(function(e){var t=n[e];return Array.isArray(t)?t.map(function(t){return"".concat(Ha(e),"=").concat(Ha(t))}).join("&"):"".concat(Ha(e),"=").concat(Ha(t))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Za=new Ua;function ja(e){return e.segments.map(function(e){return Ka(e)}).join("/")}function Va(e,t){if(!e.hasChildren())return ja(e);if(t){var n=e.children.primary?Va(e.children.primary,!1):"",r=[];return Ca(e.children,function(e,t){"primary"!==t&&r.push("".concat(t,":").concat(Va(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return Ca(e.children,function(e,r){"primary"===r&&(n=n.concat(t(e,r)))}),Ca(e.children,function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return"primary"===n?[Va(e.children.primary,!1)]:["".concat(n,":").concat(Va(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(ja(e),"/").concat(i[0]):"".concat(ja(e),"/(").concat(i.join("//"),")")}function Ba(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ha(e){return Ba(e).replace(/%3B/gi,";")}function za(e){return Ba(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ga(e){return decodeURIComponent(e)}function Wa(e){return Ga(e.replace(/\+/g,"%20"))}function Ka(e){return"".concat(za(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(za(e),"=").concat(za(t[e]))}).join("")));var t}var Ya=/^[^\/()?;=#]+/;function Qa(e){var t=e.match(Ya);return t?t[0]:""}var Ja=/^[^=?&#]+/,Xa=/^[^?&#]+/,$a=function(){function e(t){b(this,e),this.url=t,this.remaining=t}return w(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ma([],{}):new Ma([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ma(e,t)),n}},{key:"parseSegment",value:function(){var e=Qa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new La(Ga(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Qa(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Qa(this.remaining);r&&(n=r,this.capture(n))}e[Ga(t)]=Ga(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Ja);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Xa);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Wa(t),o=Wa(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Qa(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Ma([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),es=function(){function e(t){b(this,e),this._root=t}return w(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=ts(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=ts(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=ns(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return ns(e,this._root).map(function(e){return e.value})}}]),e}();function ts(e,t){if(e===t.value)return t;var n,r=g(t.children);try{for(r.s();!(n=r.n()).done;){var i=ts(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function ns(e,t){if(e===t.value)return[t];var n,r=g(t.children);try{for(r.s();!(n=r.n()).done;){var i=ns(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var rs=function(){function e(t,n){b(this,e),this.value=t,this.children=n}return w(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function is(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var os=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).snapshot=r,hs(S(i),e),i}return w(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(es);function as(e,t){var n=function(e,t){var n=new cs([],{},{},"",{},"primary",t,null,e.root,-1,{});return new ls("",new rs(n,[]))}(e,t),r=new ao([new La("",{})]),i=new ao({}),o=new ao({}),a=new ao({}),s=new ao(""),u=new ss(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new os(new rs(u,[]),n)}var ss=function(){function e(t,n,r,i,o,a,s,u){b(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return w(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,yr.U)(function(e){return _a(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yr.U)(function(e){return _a(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var cs=function(){function e(t,n,r,i,o,a,s,u,c,l,h){b(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return w(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=_a(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=_a(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),ls=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,r)).url=e,hs(S(i),r),i}return w(n,[{key:"toString",value:function(){return fs(this._root)}}]),n}(es);function hs(e,t){t.value._routerState=e,t.children.forEach(function(t){return hs(e,t)})}function fs(e){var t=e.children.length>0?" { ".concat(e.children.map(fs).join(", ")," } "):"";return"".concat(e.value).concat(t)}function ds(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ka(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ka(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!ka(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ka(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ps(e,t){return ka(e.params,t.params)&&function(e,t){return Fa(e,t)&&e.every(function(e,n){return ka(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||ps(e.parent,t.parent))}function vs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=g(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return vs(e,t,o)}}catch(a){i.e(a)}finally{i.f()}return vs(e,t)})}(e,t,n);return new rs(r,i)}if(e.shouldAttach(t.value)){var o=e.retrieve(t.value);if(null!==o){var a=o.route;return gs(t,a),a}}var s,u=new ss(new ao((s=t.value).url),new ao(s.params),new ao(s.queryParams),new ao(s.fragment),new ao(s.data),s.outlet,s.component,s),c=t.children.map(function(t){return vs(e,t)});return new rs(u,c)}function gs(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)gs(e.children[n],t.children[n])}function ys(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ms(e){return"object"==typeof e&&null!=e&&e.outlets}function _s(e,t,n,r,i){var o={};return r&&Ca(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new Da(n.root===e?t:ws(n.root,e,t),o,i)}function ws(e,t,n){var r={};return Ca(e.children,function(e,i){r[i]=e===t?n:ws(e,t,n)}),new Ma(e.segments,r)}var bs=function(){function e(t,n,r){if(b(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ys(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(ms);if(i&&i!==Sa(r))throw new Error("{outlets:{}} has to be the last command")}return w(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),ks=function e(t,n,r){b(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function xs(e,t,n){if(e||(e=new Ma([],{})),0===e.segments.length&&e.hasChildren())return Ts(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=n[r];if(ms(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!As(u,c,a))return o;r+=2}else{if(!As(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Ma(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Ma(e.segments.slice(r.pathIndex),e.children),Ts(o,0,i)}return r.match&&0===i.length?new Ma(e.segments,{}):r.match&&!e.hasChildren()?Ss(e,t,n):r.match?Ts(e,0,i):Ss(e,t,n)}function Ts(e,t,n){if(0===n.length)return new Ma(e.segments,{});var r=function(e){return ms(e[0])?e[0].outlets:{primary:e}}(n),i={};return Ca(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=xs(e.children[r],t,n))}),Ca(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new Ma(e.segments,i)}function Ss(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(ms(o)){var a=Cs(o.outlets);return new Ma(r,a)}if(0===i&&ys(n[0]))r.push(new La(e.segments[t].path,Es(n[0]))),i++;else{var s=ms(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&ys(u)?(r.push(new La(s,Es(u))),i+=2):(r.push(new La(s,{})),i++)}}return new Ma(r,{})}function Cs(e){var t={};return Ca(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ss(new Ma([],{}),0,e))}),t}function Es(e){var t={};return Ca(e,function(e,n){return t[n]="".concat(e)}),t}function As(e,t,n){return e==n.path&&ka(t,n.parameters)}var Is=function(){function e(t,n,r,i){b(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return w(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ds(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=is(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),Ca(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=is(e),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=is(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new ga(e.value.snapshot))}),e.children.length&&this.forwardEvent(new pa(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(ds(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ns(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Ns(e){ds(e.value),e.children.forEach(Ns)}var Os=function e(t,n){b(this,e),this.routes=t,this.module=n};function Ps(e){return"function"==typeof e}function Rs(e){return e instanceof Da}var Ds=Symbol("INITIAL_VALUE");function Ms(){return To(function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i;return(0,so.K)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&(0,gr.k)(t[0])&&(t=t[0]),(0,fo.n)(t,i).lift(new vo(r))}(e.map(function(e){return e.pipe(Ao(1),Oo(Ds))})).pipe(Po(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==Ds)return e;if(r===Ds&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Rs(r))return r}return e},e)},Ds),xi(function(e){return e!==Ds}),(0,yr.U)(function(e){return Rs(e)?e:!0===e}),Ao(1))})}var Ls=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=y.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&y._UZ(0,"router-outlet")},directives:function(){return[Ou]},encapsulation:2}),e}();function Fs(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];qs(r,Us(t,r))}}function qs(e,t){e.children&&Fs(e.children,t)}function Us(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Zs(e){var t=e.children&&e.children.map(Zs),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ls),n}function js(e){return e.outlet||"primary"}function Vs(e,t){var n=e.filter(function(e){return js(e)===t});return n.push.apply(n,p(e.filter(function(e){return js(e)!==t}))),n}var Bs={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Hs(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Bs):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||ba)(n,e,t);if(!i)return Object.assign({},Bs);var o={};Ca(i.posParams,function(e,t){o[t]=e.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function zs(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return Gs(e,t,n)&&"primary"!==js(n)})}(e,n,r)){var o=new Ma(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=g(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==js(s)){var u=new Ma([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[js(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(e,t,r,new Ma(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return Gs(e,t,n)})}(e,n,r)){var a=new Ma(e.segments,function(e,t,n,r,i,o){var a,s={},u=g(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Gs(e,n,c)&&!i[js(c)]){var l=new Ma([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[js(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Ma(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Gs(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ws(e,t,n,r){return!!(js(e)===r||"primary"!==r&&Gs(t,n,e))&&("**"===e.path||Hs(t,e,n).matched)}function Ks(e,t,n){return 0===t.length&&!e.children[n]}var Ys=function e(t){b(this,e),this.segmentGroup=t||null},Qs=function e(t){b(this,e),this.urlTree=t};function Js(e){return new vr.y(function(t){return t.error(new Ys(e))})}function Xs(e){return new vr.y(function(t){return t.error(new Qs(e))})}function $s(e){return new vr.y(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var eu=function(){function e(t,n,r,i,o){b(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(y.h0i)}return w(e,[{key:"apply",value:function(){var e=this,t=zs(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ma(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe((0,yr.U)(function(t){return e.createUrlTree(tu(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Mo(function(t){if(t instanceof Qs)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Ys)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe((0,yr.U)(function(n){return t.createUrlTree(tu(n),e.queryParams,e.fragment)})).pipe(Mo(function(e){if(e instanceof Ys)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Ma([],{primary:e}):e;return new Da(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,yr.U)(function(e){return new Ma([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return(0,pr.D)(i).pipe(bi(function(i){var o=n.children[i],a=Vs(t,i);return r.expandSegmentGroup(e,a,o,i).pipe((0,yr.U)(function(e){return{segment:e,outlet:i}}))}),Po(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?xi(function(t,n){return e(t,n,r)}):Ko.y,qo(1),n?zo(t):jo(function(){return new yo}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return(0,pr.D)(n).pipe(bi(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Mo(function(e){if(e instanceof Ys)return(0,_i.of)(null);throw e}))}),Yo(function(e){return!!e}),Mo(function(e,n){if(e instanceof yo||"EmptyError"===e.name){if(Ks(t,r,i))return(0,_i.of)(new Ma([],{}));throw new Ys(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return Ws(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Js(t):Js(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xs(o):this.lineralizeSegments(n,o).pipe((0,wi.zg)(function(n){var o=new Ma(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Hs(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Js(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Xs(f):this.lineralizeSegments(r,f).pipe((0,wi.zg)(function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,_i.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,yr.U)(function(e){return n._loadedConfig=e,new Ma(r,{})})):(0,_i.of)(new Ma(r,{}));var a=Hs(t,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Js(t);var l=r.slice(c);return this.getChildConfig(e,n,r).pipe((0,wi.zg)(function(e){var r=e.module,a=e.routes,s=zs(t,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new Ma(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe((0,yr.U)(function(e){return new Ma(u,e)}));if(0===a.length&&0===h.length)return(0,_i.of)(new Ma(u,{}));var d=js(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe((0,yr.U)(function(e){return new Ma(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?(0,_i.of)(new Os(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,_i.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,wi.zg)(function(n){return n?r.configLoader.load(e.injector,t).pipe((0,yr.U)(function(e){return t._loadedConfig=e,e})):function(e){return new vr.y(function(t){return t.error(wa("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):(0,_i.of)(new Os([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;if(!i||0===i.length)return(0,_i.of)(!0);var o=i.map(function(r){var i,o=e.get(r);if(function(e){return e&&Ps(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Ps(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Ea(i)});return(0,_i.of)(o).pipe(Ms(),(0,Qo.b)(function(e){if(Rs(e)){var t=wa('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),(0,yr.U)(function(e){return!0===e}))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,_i.of)(n);if(r.numberOfChildren>1||!r.children.primary)return $s(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Da(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Ca(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Ca(t.children,function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)}),new Ma(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function tu(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=tu(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Ma(e.segments.concat(t.segments),t.children)}return e}(new Ma(e.segments,t))}var nu=function e(t){b(this,e),this.path=t,this.route=this.path[this.path.length-1]},ru=function e(t,n){b(this,e),this.component=t,this.route=n};function iu(e,t,n){var r=e._root;return au(r,t?t._root:null,n,[r.value])}function ou(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function au(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=is(t);return e.children.forEach(function(e){!function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Fa(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fa(e.url,t.url)||!ka(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ps(e,t)||!ka(e.queryParams,t.queryParams);case"paramsChange":default:return!ps(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new nu(r)):(o.data=a.data,o._resolvedData=a._resolvedData),au(e,t,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ru(s.outlet.component,a))}else a&&su(t,s,i),i.canActivateChecks.push(new nu(r)),au(e,null,o.component?s?s.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Ca(o,function(e,t){return su(e,n.getContext(t),i)}),i}function su(e,t,n){var r=is(e),i=e.value;Ca(r,function(e,r){su(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new ru(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var uu=function e(){b(this,e)};function cu(e){return new vr.y(function(t){return t.error(e)})}var lu=function(){function e(t,n,r,i,o,a){b(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return w(e,[{key:"recognize",value:function(){var e=zs(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary");if(null===t)return null;var n=new cs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new rs(n,t),i=new ls(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=us(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],a=t.children[o],s=Vs(e,o),u=this.processSegmentGroup(s,a,o);if(null===u)return null;n.push.apply(n,p(u))}var c=hu(n);return c.sort(function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,r){var i,o=g(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.processSegmentAgainstRoute(a,t,n,r);if(null!==s)return s}}catch(u){o.e(u)}finally{o.f()}return Ks(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!Ws(e,t,n,r))return null;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Sa(n).parameters:{};i=new cs(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pu(e),js(e),e.component,e,fu(t),du(t)+n.length,vu(e))}else{var u=Hs(t,e,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new cs(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pu(e),js(e),e.component,e,fu(t),du(t)+o.length,vu(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=zs(t,o,a,c.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new rs(i,d)]}if(0===c.length&&0===f.length)return[new rs(i,[])];var p=js(e)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new rs(i,v)]}}]),e}();function hu(e){var t,n=[],r=new Set,i=g(e);try{var o=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var o=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==o?((e=o.children).push.apply(e,p(i.children)),r.add(o)):n.push(i)};for(i.s();!(t=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}var a,s=g(r);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=hu(u.children);n.push(new rs(u.value,c))}}catch(l){s.e(l)}finally{s.f()}return n.filter(function(e){return!r.has(e)})}function fu(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function du(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function pu(e){return e.data||{}}function vu(e){return e.resolve||{}}function gu(e){return To(function(t){var n=e(t);return n?(0,pr.D)(n).pipe((0,yr.U)(function(){return t})):(0,_i.of)(t)})}var yu=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(function(){function e(){b(this,e)}return w(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),mu=new y.OlP("ROUTES"),_u=function(){function e(t,n,r,i){b(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return w(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe((0,yr.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Os(Ta(i.injector.get(mu,void 0,y.XFs.Self|y.XFs.Optional)).map(Zs),i)}),Mo(function(e){throw t._loader$=void 0,e}));return t._loader$=new ko.c(r,function(){return new io.xQ}).pipe((0,Jo.x)()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?(0,pr.D)(this.loader.load(e)):Ea(e()).pipe((0,wi.zg)(function(e){return e instanceof y.YKP?(0,_i.of)(e):(0,pr.D)(t.compiler.compileModuleAsync(e))}))}}]),e}(),wu=function e(){b(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new bu,this.attachRef=null},bu=function(){function e(){b(this,e),this.contexts=new Map}return w(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new wu,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),ku=function(){function e(){b(this,e)}return w(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function xu(e){throw e}function Tu(e,t,n){return t.parse("/")}function Su(e,t){return(0,_i.of)(null)}var Cu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Eu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Au=function(){var e=function(){function e(t,n,r,i,o,a,s,u){var c=this;b(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new io.xQ,this.errorHandler=xu,this.malformedUriErrorHandler=Tu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Su,afterPreactivation:Su},this.urlHandlingStrategy=new ku,this.routeReuseStrategy=new yu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(y.h0i),this.console=o.get(y.c2e);var l=o.get(y.R0b);this.isNgZoneEnabled=l instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Da(new Ma([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _u(a,s,function(e){return c.triggerEvent(new ha(e))},function(e){return c.triggerEvent(new fa(e))}),this.routerState=as(this.currentUrlTree,this.rootComponentType),this.transitions=new ao({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return w(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(xi(function(e){return 0!==e.id}),(0,yr.U)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),To(function(e){var r,i,o,a,s=!1,u=!1;return(0,_i.of)(e).pipe((0,Qo.b)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),To(function(e){var r=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||r)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,_i.of)(e).pipe(To(function(e){var r=t.transitions.getValue();return n.next(new na(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?wo.E:Promise.resolve(e)}),function(e,t,n,r){return To(function(i){return function(e,t,n,r,i){return new eu(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,yr.U)(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),(0,Qo.b)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,i,o){return(0,wi.zg)(function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new lu(e,t,n,r,i,o).recognize();return null===a?cu(new uu):(0,_i.of)(a)}catch(KC){return cu(KC)}}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe((0,yr.U)(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var a})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),(0,Qo.b)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var r=new aa(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(r&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var i=e.id,o=e.extractedUrl,a=e.source,s=e.restoredState,u=e.extras,c=new na(i,t.serializeUrl(o),a,s);n.next(c);var l=as(o,t.rootComponentType).snapshot;return(0,_i.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:o,extras:Object.assign(Object.assign({},u),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),wo.E}),gu(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),(0,Qo.b)(function(e){var n=new sa(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(0,yr.U)(function(e){return Object.assign(Object.assign({},e),{guards:iu(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return(0,wi.zg)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?(0,_i.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,pr.D)(e).pipe((0,wi.zg)(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,_i.of)(!0);var a=o.map(function(o){var a,s=ou(o,t,i);if(function(e){return e&&Ps(e.canDeactivate)}(s))a=Ea(s.canDeactivate(e,t,n,r));else{if(!Ps(s))throw new Error("Invalid CanDeactivate guard");a=Ea(s(e,t,n,r))}return a.pipe(Yo())});return(0,_i.of)(a).pipe(Ms())}(e.component,e.route,n,t,r)}),Yo(function(e){return!0!==e},!0))}(s,r,i,e).pipe((0,wi.zg)(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,pr.D)(t).pipe(bi(function(t){return _o(function(e,t){return null!==e&&t&&t(new da(e)),(0,_i.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new va(e)),(0,_i.of)(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return bo(function(){var i=t.guards.map(function(i){var o,a=ou(i,t.node,n);if(function(e){return e&&Ps(e.canActivateChild)}(a))o=Ea(a.canActivateChild(r,e));else{if(!Ps(a))throw new Error("Invalid CanActivateChild guard");o=Ea(a(r,e))}return o.pipe(Yo())});return(0,_i.of)(i).pipe(Ms())})});return(0,_i.of)(i).pipe(Ms())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,_i.of)(!0);var i=r.map(function(r){return bo(function(){var i,o=ou(r,t,n);if(function(e){return e&&Ps(e.canActivate)}(o))i=Ea(o.canActivate(t,e));else{if(!Ps(o))throw new Error("Invalid CanActivate guard");i=Ea(o(t,e))}return i.pipe(Yo())})});return(0,_i.of)(i).pipe(Ms())}(e,t.route,n))}),Yo(function(e){return!0!==e},!0))}(r,a,e,t):(0,_i.of)(n)}),(0,yr.U)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),(0,Qo.b)(function(e){if(Rs(e.guardsResult)){var n=wa('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new ua(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),xi(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new ia(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),gu(function(e){if(e.guards.canActivateChecks.length)return(0,_i.of)(e).pipe((0,Qo.b)(function(e){var n=new ca(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),To(function(e){var r,i,o=!1;return(0,_i.of)(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,(0,wi.zg)(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return(0,_i.of)(e);var o=0;return(0,pr.D)(n).pipe(bi(function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return(0,_i.of)({});var o={};return(0,pr.D)(i).pipe((0,wi.zg)(function(i){return function(e,t,n,r){var i=ou(e,t,r);return Ea(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,Qo.b)(function(e){o[i]=e}))}),qo(1),(0,wi.zg)(function(){return Object.keys(o).length===i.length?(0,_i.of)(o):wo.E}))}(e._resolve,e,t,r).pipe((0,yr.U)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),us(e,n).resolve),null}))}(e.route,t,r,i)}),(0,Qo.b)(function(){return o++}),qo(1),(0,wi.zg)(function(t){return o===n.length?(0,_i.of)(e):wo.E}))})),(0,Qo.b)({next:function(){return o=!0},complete:function(){if(!o){var r=new ia(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),(0,Qo.b)(function(e){var n=new la(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),gu(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),(0,yr.U)(function(e){var n=function(e,t,n){var r=vs(e,t._root,n?n._root:void 0);return new os(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),(0,Qo.b)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},(0,yr.U)(function(e){return new Is(o,e.targetRouterState,e.currentRouterState,a).activate(i),e})),(0,Qo.b)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new ia(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new $o(r))}),Mo(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Rs(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new ia(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new oa(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(fm){e.reject(fm)}}var s;return wo.E}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Fs(e),this.config=e.map(Zs),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,a=t.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return _s(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new bs(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ca(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(p(e),[{outlets:o}])}if(r.segmentPath)return[].concat(p(e),[r.segmentPath])}return"string"!=typeof r?[].concat(p(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(p(e),[r])},[]);return new bs(n,t,r)}(n);if(o.toRoot())return _s(t.root,new Ma([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new ks(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new ks(r,r===t.root,0)}var i=ys(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ks(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?Ts(a.segmentGroup,a.index,o.commands):xs(a.segmentGroup,a.index,o.commands);return _s(a.segmentGroup,s,t,r,i)}(s,this.currentUrlTree,e,c,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Rs(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(KC){t=this.malformedUriErrorHandler(KC,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},Cu):!1===t?Object.assign({},Eu):t,Rs(e))return Na(this.currentUrlTree,e,n);var r=this.parseUrl(e);return Na(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new ra(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==t&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(e,t){o=e,a=t});var h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.DyG),y.LFG(qa),y.LFG(bu),y.LFG(V),y.LFG(y.zs3),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(void 0))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Iu=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new io.xQ,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return w(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:Nu(this.skipLocationChange),replaceUrl:Nu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nu(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(Au),y.Y36(ss),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq))},e.\u0275dir=y.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&y.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[y.TTD]}),e}();function Nu(e){return""===e||!!e}var Ou=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return w(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Pu(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(bu),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},e.\u0275dir=y.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),Pu=function(){function e(t,n,r){b(this,e),this.route=t,this.childContexts=n,this.parent=r}return w(e,[{key:"get",value:function(e,t){return e===ss?this.route:e===bu?this.childContexts:this.parent.get(e,t)}}]),e}(),Ru=function e(){b(this,e)},Du=function(){function e(){b(this,e)}return w(e,[{key:"preload",value:function(e,t){return(0,_i.of)(null)}}]),e}(),Mu=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new _u(n,r,function(e){return t.triggerEvent(new ha(e))},function(e){return t.triggerEvent(new fa(e))})}return w(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(xi(function(e){return e instanceof ra}),bi(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(y.h0i);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return(0,pr.D)(r).pipe((0,mo.J)(),(0,yr.U)(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?(0,_i.of)(t._loadedConfig):n.loader.load(e.injector,t)).pipe((0,wi.zg)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(Au),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Ru))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Lu=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return w(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof na?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ra&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof ya&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new ya(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(Au),y.LFG(se),y.LFG(void 0))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),Fu=new y.OlP("ROUTER_CONFIGURATION"),qu=new y.OlP("ROUTER_FORROOT_GUARD"),Uu=[V,{provide:qa,useClass:Ua},{provide:Au,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Au(null,e,t,n,r,i,o,Ta(a));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[qa,bu,V,y.zs3,y.v3s,y.Sil,mu,Fu,[function(){return function e(){b(this,e)}}(),new y.FiY],[function(){return function e(){b(this,e)}}(),new y.FiY]]},bu,{provide:ss,useFactory:function(e){return e.routerState.root},deps:[Au]},{provide:y.v3s,useClass:y.EAV},Mu,Du,function(){function e(){b(this,e)}return w(e,[{key:"preload",value:function(e,t){return t().pipe(Mo(function(){return(0,_i.of)(null)}))}}]),e}(),{provide:Fu,useValue:{enableTracing:!1}}];function Zu(){return new y.PXZ("Router",Au)}var ju=function(){var e=function(){function e(t,n){b(this,e)}return w(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Uu,zu(t),{provide:qu,useFactory:Hu,deps:[[Au,new y.FiY,new y.tp0]]},{provide:Fu,useValue:n||{}},{provide:F,useFactory:Bu,deps:[E,[new y.tBr(U),new y.FiY],Fu]},{provide:Lu,useFactory:Vu,deps:[Au,se,Fu]},{provide:Ru,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Du},{provide:y.PXZ,multi:!0,useFactory:Zu},[Gu,{provide:y.ip1,multi:!0,useFactory:Wu,deps:[Gu]},{provide:Yu,useFactory:Ku,deps:[Gu]},{provide:y.tb,multi:!0,useExisting:Yu}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[zu(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(qu,8),y.LFG(Au,8))},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}();function Vu(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Lu(e,t,n)}function Bu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new j(e,t):new Z(e,t)}function Hu(e){return"guarded"}function zu(e){return[{provide:y.deG,multi:!0,useValue:e},{provide:mu,multi:!0,useValue:e}]}var Gu=function(){var e=function(){function e(t){b(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new io.xQ}return w(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(I,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Au),i=e.injector.get(Fu);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?(0,_i.of)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Fu),n=this.injector.get(Mu),r=this.injector.get(Lu),i=this.injector.get(Au),o=this.injector.get(y.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.zs3))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}();function Wu(e){return e.appInitializer.bind(e)}function Ku(e){return e.bootstrapListener.bind(e)}var Yu=new y.OlP("Router Initializer"),Qu=v(4762),Ju=new y.OlP("config"),Xu=new y.OlP("NEW_CONFIG"),$u=new y.OlP("INITIAL_CONFIG"),ec={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},tc=["Hh:m0:s0","Hh:m0","m0:s0"],nc=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"],rc=function(){var e=function(){function e(t){var n=this;b(this,e),this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=function(e,t,r,i){var o=e.split(r),a=o.length>1?"".concat(r).concat(o[1]):"",s=o[0],u=n.separatorLimit.replace(/\s/g,"");u&&+u&&(s="-"===s[0]?"-".concat(s.slice(1,s.length).slice(0,u.length)):s.slice(0,u.length));for(var c=/(\d+)(\d{3})/;t&&c.test(s);)s=s.replace(c,"$1"+t+"$2");return void 0===i?s+a:0===i?s:s+a.substr(0,i+1)},this.percentage=function(e){return Number(e)>=0&&Number(e)<=100},this.getPrecision=function(e){var t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=function(e){for(var t,r,i,o=(null===(t=n.suffix)||void 0===t?void 0:t.length)-1;o>=0;o--){var a=n.suffix.substr(o,null===(r=n.suffix)||void 0===r?void 0:r.length);if(e.includes(a)&&(o-1<0||!e.includes(n.suffix.substr(o-1,null===(i=n.suffix)||void 0===i?void 0:i.length))))return e.replace(a,"")}return e},this.checkInputPrecision=function(e,t,r){if(t<1/0){var i=new RegExp(n._charToRegExpExpression(r)+"\\d{".concat(t,"}.*$")),o=e.match(i);o&&o[0].length-1>t&&(e=e.substring(0,e.length-(o[0].length-1-t))),0===t&&e.endsWith(r)&&(e=e.substring(0,e.length-1))}return e},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}return w(e,[{key:"applyMaskWithPattern",value:function(e,t){var n=l(t,2),r=n[0],i=n[1];return this.customPattern=i,this.applyMask(e,r)}},{key:"applyMask",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};if(null==e||void 0===t)return"";var s=0,u="",c=!1,l=!1,h=1,f=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&(null==e?void 0:e.length)>0&&(e=this.checkAndRemoveSuffix(e));var d=e.toString().split("");"IP"===t&&(this.ipError=!!(d.filter(function(e){return"."===e}).length<3&&d.length<7),t="099.099.099.099");for(var p=[],v=0;v<e.length;v++)e[v].match("\\d")&&p.push(e[v]);if("CPF_CNPJ"===t&&(this.cpfCnpjError=!(11===p.length||14===p.length),t=p.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);var g=this.getPrecision(t);e=this.checkInputPrecision(e,g,this.decimalMarker)}if(e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))){var y=e.substring(0,e.indexOf(".")-1);e="".concat(y).concat(e.substring(e.indexOf("."),e.length))}u=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker&&!o?e.slice(1,e.length):e;var m=this._charToRegExpExpression(this.thousandSeparator),_=this._charToRegExpExpression(this.decimalMarker),w='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(m,"").replace(_,""),b=new RegExp("["+w+"]");e.match(b)&&(e=e.substring(0,e.length-1));var k=this.getPrecision(t),x=(e=this.checkInputPrecision(e,k,this.decimalMarker)).replace(new RegExp(m,"g"),""),T=(u=this._formatWithSeparators(x,this.thousandSeparator,this.decimalMarker,k)).indexOf(",")-e.indexOf(","),S=u.length-e.length;if(S>0&&","!==u[r]){l=!0;var C=0;do{this._shift.add(r+C),C++}while(C<S)}else 0!==T&&r>0&&!(u.indexOf(",")>=r&&r>3)||!(u.indexOf(".")>=r&&r>3)&&S<=0?(this._shift.clear(),l=!0,h=S,this._shift.add(r+=S)):this._shift.clear()}else for(var E=0,A=d[0];E<d.length&&s!==t.length;A=d[++E])if(this._checkSymbolMask(A,t[s])&&"?"===t[s+1])u+=A,s+=2;else if("*"===t[s+1]&&c&&this._checkSymbolMask(A,t[s+2]))u+=A,s+=3,c=!1;else if(this._checkSymbolMask(A,t[s])&&"*"===t[s+1])u+=A,c=!0;else if("?"===t[s+1]&&this._checkSymbolMask(A,t[s+2]))u+=A,s+=3;else if(this._checkSymbolMask(A,t[s])){if("H"===t[s]&&Number(A)>2){s+=1,this._shiftStep(t,s,d.length),E--,this.leadZeroDateTime&&(u+="0");continue}if("h"===t[s]&&"2"===u&&Number(A)>3){s+=1,E--;continue}if("m"===t[s]&&Number(A)>5){s+=1,this._shiftStep(t,s,d.length),E--,this.leadZeroDateTime&&(u+="0");continue}if("s"===t[s]&&Number(A)>5){s+=1,this._shiftStep(t,s,d.length),E--,this.leadZeroDateTime&&(u+="0");continue}var I=31;if("d"===t[s]&&(Number(A)>3&&this.leadZeroDateTime||Number(e.slice(s,s+2))>I||"/"===e[s+1])){s+=1,this._shiftStep(t,s,d.length),E--,this.leadZeroDateTime&&(u+="0");continue}if("M"===t[s]){var N=12,O=0===s&&(Number(A)>2||Number(e.slice(s,s+2))>N||"/"===e[s+1]),P=e.slice(s-3,s-1).includes("/")&&("/"===e[s-2]&&Number(e.slice(s-1,s+1))>N&&"/"!==e[s]||"/"===e[s]||"/"===e[s-3]&&Number(e.slice(s-2,s))>N&&"/"!==e[s-1]||"/"===e[s-1]),R=Number(e.slice(s-3,s-1))<=I&&!e.slice(s-3,s-1).includes("/")&&"/"===e[s-1]&&(Number(e.slice(s,s+2))>N||"/"===e[s+1]),D=Number(e.slice(s-3,s-1))>I&&!e.slice(s-3,s-1).includes("/")&&!e.slice(s-2,s).includes("/")&&Number(e.slice(s-2,s))>N,M=Number(e.slice(s-3,s-1))<=I&&!e.slice(s-3,s-1).includes("/")&&"/"!==e[s-1]&&Number(e.slice(s-1,s+1))>N;if(Number(A)>1&&this.leadZeroDateTime||O||P||R||D||M){s+=1,this._shiftStep(t,s,d.length),E--,this.leadZeroDateTime&&(u+="0");continue}}u+=A,s++}else-1!==this.maskSpecialCharacters.indexOf(t[s])?(u+=t[s],s++,this._shiftStep(t,s,d.length),E--):this.maskSpecialCharacters.indexOf(A)>-1&&this.maskAvailablePatterns[t[s]]&&this.maskAvailablePatterns[t[s]].optional?(d[s]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&(u+=d[s]),s++,E--):"*"===this.maskExpression[s+1]&&this._findSpecialChar(this.maskExpression[s+2])&&this._findSpecialChar(A)===this.maskExpression[s+2]&&c||"?"===this.maskExpression[s+1]&&this._findSpecialChar(this.maskExpression[s+2])&&this._findSpecialChar(A)===this.maskExpression[s+2]&&c?(s+=3,u+=A):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(A)<0&&A!==this.placeHolderCharacter&&(f=!0);u.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(u+=t[t.length-1]);for(var L=r+1;this._shift.has(L);)h++,L++;var F=i?s:this._shift.has(r)?h:0;f&&F--,a(F,l),h<0&&this._shift.clear();var q=!1;o&&(q=d.every(function(e){return n.maskSpecialCharacters.includes(e)}));var U="".concat(this.prefix).concat(q?"":u).concat(this.suffix);return 0===u.length&&(U="".concat(this.prefix).concat(u)),U}},{key:"_findSpecialChar",value:function(e){return this.maskSpecialCharacters.find(function(t){return t===e})}},{key:"_checkSymbolMask",value:function(e,t){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)}},{key:"_stripToDecimal",value:function(e){var t=this;return e.split("").filter(function(e,n){return e.match("^-?\\d")||e.match("\\s")||"."===e||","===e||"-"===e&&0===n&&t.allowNegativeNumbers}).join("")}},{key:"_charToRegExpExpression",value:function(e){if(e){return" "===e?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?"\\"+e:e}return e}},{key:"_shiftStep",value:function(e,t,n){var r=/[*?]/g.test(e.slice(0,t))?n:t;this._shift.add(r+this.prefix.length||0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(Ju))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),ic=function(){var e=function(e){k(n,e);var t=x(n);function n(e,r,i,o){var a;return b(this,n),(a=t.call(this,r)).document=e,a._config=r,a._elementRef=i,a._renderer=o,a.maskExpression="",a.isNumberValue=!1,a.placeHolderCharacter="_",a.maskIsShown="",a.selStart=null,a.selEnd=null,a.writingValue=!1,a.maskChanged=!1,a.onChange=function(e){},a}return w(n,[{key:"applyMask",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;var u=e&&"number"==typeof this.selStart?e[this.selStart]:"",c="";if(this.hiddenInput&&!this.writingValue){var l=this.actualValue.split("");""!==e&&l.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>l.length?l.splice(this.selStart,0,u):e.length<l.length&&(l.length-e.length==1?l.splice(this.selStart-1,1):l.splice(this.selStart,this.selEnd-this.selStart))):l=[],c=this.actualValue.length&&l.length<=e.length?this.shiftTypedSymbols(l.join("")):e}c=Boolean(c)&&c.length?c:e;var h=d(N(n.prototype),"applyMask",this).call(this,c,t,i,o,a,s);if(this.actualValue=this.getActualValue(h),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(function(e){return e!==r.decimalMarker})),this.formControlResult(h),!this.showMaskTyped)return this.hiddenInput&&h&&h.length?this.hideInput(h,this.maskExpression):h;var f=h.length,p=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){var v=this._numberSkipedSymbols(h);return h+p.slice(f+v)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?h+p:h+p.slice(f)}},{key:"_numberSkipedSymbols",value:function(e){for(var t=/(^|\D)(\d\D)/g,n=t.exec(e),r=0;null!=n;)r+=1,n=t.exec(e);return r}},{key:"applyValueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=this._elementRef.nativeElement;i.value=this.applyMask(i.value,this.maskExpression,e,t,n,r),i!==this.document.activeElement&&this.clearIfNotMatchFn()}},{key:"hideInput",value:function(e,t){var n=this;return e.split("").map(function(e,r){return n.maskAvailablePatterns&&n.maskAvailablePatterns[t[r]]&&n.maskAvailablePatterns[t[r]].symbol?n.maskAvailablePatterns[t[r]].symbol:e}).join("")}},{key:"getActualValue",value:function(e){var t=this,n=e.split("").filter(function(e,n){return t._checkSymbolMask(e,t.maskExpression[n])||t.maskSpecialCharacters.includes(t.maskExpression[n])&&e===t.maskExpression[n]});return n.join("")===e?n.join(""):e}},{key:"shiftTypedSymbols",value:function(e){var t=this,n="";return(e&&e.split("").map(function(r,i){if(t.maskSpecialCharacters.includes(e[i+1])&&e[i+1]!==t.maskExpression[i+1])return n=r,e[i+1];if(n.length){var o=n;return n="",o}return r})||[]).join("")}},{key:"showMaskInInput",value:function(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}},{key:"clearIfNotMatchFn",value:function(){var e=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}},{key:"formElementProperty",set:function(e){var t=this,n=l(e,2),r=n[0],i=n[1];Promise.resolve().then(function(){return t._renderer.setProperty(t._elementRef.nativeElement,r,i)})}},{key:"checkSpecialCharAmount",value:function(e){var t=this;return e.split("").filter(function(e){return t._findSpecialChar(e)}).length}},{key:"removeMask",value:function(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}},{key:"_checkForIp",value:function(e){if("#"===e)return"".concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter);for(var t=[],n=0;n<e.length;n++)e[n].match("\\d")&&t.push(e[n]);return t.length<=3?"".concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter):t.length>3&&t.length<=6?"".concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter):t.length>6&&t.length<=9?this.placeHolderCharacter:""}},{key:"_checkForCpfCnpj",value:function(e){var t="".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,"-").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter),n="".concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,".").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,"/").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter).concat(this.placeHolderCharacter,"-").concat(this.placeHolderCharacter).concat(this.placeHolderCharacter);if("#"===e)return t;for(var r=[],i=0;i<e.length;i++)e[i].match("\\d")&&r.push(e[i]);return r.length<=3?t.slice(r.length,t.length):r.length>3&&r.length<=6?t.slice(r.length+1,t.length):r.length>6&&r.length<=9?t.slice(r.length+2,t.length):r.length>9&&r.length<11?t.slice(r.length+3,t.length):11===r.length?"":12===r.length?n.slice(17===e.length?16:15,n.length):r.length>12&&r.length<=14?n.slice(r.length+4,n.length):""}},{key:"formControlResult",value:function(e){this.writingValue||this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e))}},{key:"_toNumber",value:function(e){if(!this.isNumberValue||""===e)return e;var t=Number(e);return Number.isNaN(t)?e:t}},{key:"_removeMask",value:function(e,t){return e?e.replace(this._regExpForRemove(t),""):e}},{key:"_removePrefix",value:function(e){return this.prefix&&e?e.replace(this.prefix,""):e}},{key:"_removeSuffix",value:function(e){return this.suffix&&e?e.replace(this.suffix,""):e}},{key:"_retrieveSeparatorValue",value:function(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}},{key:"_regExpForRemove",value:function(e){return new RegExp(e.map(function(e){return"\\".concat(e)}).join("|"),"gi")}},{key:"_checkSymbols",value:function(e){if(""===e)return e;var t=this._retrieveSeparatorPrecision(this.maskExpression),n=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&(n=n.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,n):Number(n):n}},{key:"_retrieveSeparatorPrecision",value:function(e){var t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}},{key:"_checkPrecision",value:function(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}]),n}(rc);return e.\u0275fac=function(t){return new(t||e)(y.LFG(C),y.LFG(Ju),y.LFG(y.SBq),y.LFG(y.Qsj))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),oc=function(){var e=function(){function e(t,n,r){b(this,e),this.document=t,this._maskService=n,this._config=r,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=function(e){},this.onTouch=function(){}}return w(e,[{key:"ngOnChanges",value:function(e){var t=e.maskExpression,n=e.specialCharacters,r=e.patterns,i=e.prefix,o=e.suffix,a=e.thousandSeparator,s=e.decimalMarker,u=e.dropSpecialCharacters,c=e.hiddenInput,l=e.showMaskTyped,h=e.placeHolderCharacter,f=e.shownMaskExpression,d=e.showTemplate,p=e.clearIfNotMatch,v=e.validation,g=e.separatorLimit,y=e.allowNegativeNumbers,m=e.leadZeroDateTime;if(t&&(t.currentValue===t.previousValue||t.firstChange||(this._maskService.maskChanged=!0),this._maskValue=t.currentValue||"",t.currentValue&&t.currentValue.split("||").length>1&&(this._maskExpressionArray=t.currentValue.split("||").sort(function(e,t){return e.length-t.length}),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0])),n){if(!n.currentValue||!Array.isArray(n.currentValue))return;this._maskService.maskSpecialCharacters=n.currentValue||[]}r&&r.currentValue&&(this._maskService.maskAvailablePatterns=r.currentValue),i&&(this._maskService.prefix=i.currentValue),o&&(this._maskService.suffix=o.currentValue),a&&(this._maskService.thousandSeparator=a.currentValue),s&&(this._maskService.decimalMarker=s.currentValue),u&&(this._maskService.dropSpecialCharacters=u.currentValue),c&&(this._maskService.hiddenInput=c.currentValue),l&&(this._maskService.showMaskTyped=l.currentValue),h&&(this._maskService.placeHolderCharacter=h.currentValue),f&&(this._maskService.shownMaskExpression=f.currentValue),d&&(this._maskService.showTemplate=d.currentValue),p&&(this._maskService.clearIfNotMatch=p.currentValue),v&&(this._maskService.validation=v.currentValue),g&&(this._maskService.separatorLimit=g.currentValue),y&&(this._maskService.allowNegativeNumbers=y.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(function(e){return"-"!==e}))),m&&(this._maskService.leadZeroDateTime=m.currentValue),this._applyMask()}},{key:"validate",value:function(e){var t=this,n=e.value;if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(n);if(this._maskService.cpfCnpjError)return this._createValidationError(n);if(this._maskValue.startsWith("separator"))return null;if(nc.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(tc.includes(this._maskValue))return this._validateTime(n);if(n&&n.toString().length>=1){var r=0,i=function(e){if(t._maskService.maskAvailablePatterns[e].optional&&!0===t._maskService.maskAvailablePatterns[e].optional){if(t._maskValue.indexOf(e)!==t._maskValue.lastIndexOf(e)?r+=t._maskValue.split("").filter(function(t){return t===e}).join("").length:-1!==t._maskValue.indexOf(e)&&r++,-1!==t._maskValue.indexOf(e)&&n.toString().length>=t._maskValue.indexOf(e))return{v:null};if(r===t._maskValue.length)return{v:null}}};for(var o in this._maskService.maskAvailablePatterns){var a=i(o);if("object"==typeof a)return a.v}if(1===this._maskValue.indexOf("{")&&n.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&n.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&n.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(n);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){var s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-r:this._maskValue.length-r;if(n.toString().length<s)return this._createValidationError(n)}}return null}},{key:"onPaste",value:function(){this._justPasted=!0}},{key:"onInput",value:function(e){var t=this,n=e.target;if(this._inputValue=n.value,this._setMask(),this._maskValue){var r=1===n.selectionStart?n.selectionStart+this._maskService.prefix.length:n.selectionStart,i=0,o=!1;if(this._maskService.applyValueChanges(r,this._justPasted,"Backspace"===this._code||"Delete"===this._code,function(e,n){t._justPasted=!1,i=e,o=n}),this.document.activeElement===n){this._position=1===this._position&&1===this._inputValue.length?null:this._position;var a=this._position?this._inputValue.length+r+i:r+("Backspace"!==this._code||o?i:0);a>this._getActualInputLength()&&(a=this._getActualInputLength()),a<0&&(a=0),n.setSelectionRange(a,a),this._position=null}}else this.onChange(n.value)}},{key:"onBlur",value:function(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}},{key:"onFocus",value:function(e){if(this._maskValue){var t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));var n=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==n&&(t.value=n),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}}},{key:"onKeyDown",value:function(e){var t;if(this._maskValue){this._code=e.code?e.code:e.key;var n=e.target;if(this._inputValue=n.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===n.value.length&&(n.selectionStart=n.selectionEnd),8===e.keyCode&&0!==n.selectionStart)if(this.specialCharacters=(null===(t=this.specialCharacters)||void 0===t?void 0:t.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&n.selectionStart<=this.prefix.length)n.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==n.selectionStart&&1!==n.selectionStart)for(;this.specialCharacters.includes(this._inputValue[n.selectionStart-1].toString())&&(this.prefix.length>=1&&n.selectionStart>this.prefix.length||0===this.prefix.length);)n.setSelectionRange(n.selectionStart-1,n.selectionStart-1);this.suffixCheckOnPressDelete(e.keyCode,n)}this.suffixCheckOnPressDelete(e.keyCode,n),this._maskService.prefix.length&&n.selectionStart<=this._maskService.prefix.length&&n.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();var r=n.selectionStart;8!==e.keyCode||n.readOnly||0!==r||n.selectionEnd!==n.value.length||0===n.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<n.selectionStart?n.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey)&&(n.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=n.selectionStart,this._maskService.selEnd=n.selectionEnd}}},{key:"writeValue",value:function(e){return(0,Qu.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&this.setDisabledState(Boolean(e.disable)),e=e.value),void 0===e&&(e=""),"number"==typeof e&&(e=String(e),e="."!==this.decimalMarker?e.replace(".",this.decimalMarker):e,this._maskService.isNumberValue=!0),this._inputValue=e,this._setMask(),e&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(e,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",e],this._inputValue=e;case 1:case"end":return t.stop()}},t,this)}))}},{key:"registerOnChange",value:function(e){this.onChange=e,this._maskService.onChange=this.onChange}},{key:"registerOnTouched",value:function(e){this.onTouch=e}},{key:"suffixCheckOnPressDelete",value:function(e,t){46===e&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===e&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===t.selectionStart&&t.setSelectionRange(t.selectionStart-1,t.selectionStart-1))}},{key:"setDisabledState",value:function(e){this._maskService.formElementProperty=["disabled",e]}},{key:"_repeatPatternSymbols",value:function(e){var t=this;return e.match(/{[0-9]+}/)&&e.split("").reduce(function(n,r,i){if(t._start="{"===r?i:t._start,"}"!==r)return t._maskService._findSpecialChar(r)?n+r:n;t._end=i;var o=Number(e.slice(t._start+1,t._end));return n+new Array(o+1).join(e[t._start-1])},"")||e}},{key:"_applyMask",value:function(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}},{key:"_validateTime",value:function(e){var t=this._maskValue.split("").filter(function(e){return":"!==e}).length;return e&&(0==+e[e.length-1]&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}},{key:"_getActualInputLength",value:function(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}},{key:"_createValidationError",value:function(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}},{key:"_setMask",value:function(){var e=this;this._maskExpressionArray.length>0&&this._maskExpressionArray.some(function(t){var n,r,i=(null===(n=e._maskService.removeMask(e._inputValue))||void 0===n?void 0:n.length)<=(null===(r=e._maskService.removeMask(t))||void 0===r?void 0:r.length);if(e._inputValue&&i)return e._maskValue=t,e.maskExpression=t,e._maskService.maskExpression=t,i;e._maskValue=e._maskExpressionArray[e._maskExpressionArray.length-1],e.maskExpression=e._maskExpressionArray[e._maskExpressionArray.length-1],e._maskService.maskExpression=e._maskExpressionArray[e._maskExpressionArray.length-1]})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(C),y.Y36(ic),y.Y36(Ju))},e.\u0275dir=y.lG2({type:e,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&y.NdJ("paste",function(){return t.onPaste()})("input",function(e){return t.onInput(e)})("blur",function(){return t.onBlur()})("click",function(e){return t.onFocus(e)})("keydown",function(e){return t.onKeyDown(e)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[y._Bn([{provide:xr,useExisting:(0,y.Gpc)(function(){return e}),multi:!0},{provide:Er,useExisting:(0,y.Gpc)(function(){return e}),multi:!0},ic]),y.TTD]}),e}(),ac=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:Xu,useValue:t},{provide:$u,useValue:ec},{provide:Ju,useFactory:sc,deps:[$u,Xu]},rc]}}},{key:"forChild",value:function(){return{ngModule:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}();function sc(e,t){return Object.assign(Object.assign({},e),t instanceof Function?t():t)}var uc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};uc.KeyboardEvent||(uc.KeyboardEvent=function(e,t){});var cc=v(5024);function lc(e,t,n,r){return(0,cc.m)(n)&&(r=n,n=void 0),r?lc(e,t,n).pipe((0,yr.U)(function(e){return(0,gr.k)(e)?r.apply(void 0,p(e)):r(e)})):new vr.y(function(r){hc(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function hc(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var a=e;e.addEventListener(t,n,i),o=function(){return a.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var s=e;e.on(t,n),o=function(){return s.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var u=e;e.addListener(t,n),o=function(){return u.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,l=e.length;c<l;c++)hc(e[c],t,n,r,i)}r.add(o)}var fc=v(8569),dc=v(2293);function pc(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var vc=function(){function e(){b(this,e)}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new gc(e))}}]),e}(),gc=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return w(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=ho(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)}}]),n}(uo);v(6054);var yc=v(5686);function mc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return"function"==typeof r&&t.pop(),(0,fo.n)(t,void 0).lift(new _c(r))}var _c=function(){function e(t){b(this,e),this.resultSelector=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new wc(e,this.resultSelector))}}]),e}(),wc=function(e){k(n,e);var t=x(n);function n(e,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return b(this,n),(i=t.call(this,e)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return w(n,[{key:"_next",value:function(e){var t=this.iterators;(0,gr.k)(e)?t.push(new kc(e)):t.push("function"==typeof e[yc.hZ]?new bc(e[yc.hZ]()):new xc(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<t;s++){var u=e[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(ki.L),bc=function(){function e(t){b(this,e),this.iterator=t,this.nextResult=t.next()}return w(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return Boolean(e&&e.done)}}]),e}(),kc=function(){function e(t){b(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return w(e,[{key:yc.hZ,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),xc=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return w(n,[{key:yc.hZ,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e){this.buffer.push(e),this.parent.checkIterators()}},{key:"subscribe",value:function(){return(0,xo.ft)(this.observable,new xo.IY(this))}}]),n}(xo.Ds),Tc=v(1906);function Sc(e){return function(t){return t.lift(new Cc(e))}}var Cc=function(){function e(t){b(this,e),this.notifier=t}return w(e,[{key:"call",value:function(e,t){var n=new Ec(e),r=(0,xo.ft)(this.notifier,new xo.IY(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),Ec=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).seenValue=!1,r}return w(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(xo.Ds);function Ac(e,t){return function(n){return n.lift(new Ic(e,t))}}var Ic=function(){function e(t,n){b(this,e),this.compare=t,this.keySelector=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Nc(e,this.compare,this.keySelector))}}]),e}(),Nc=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return w(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(ki.L);function Oc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Pc(t,n))}}var Pc=function(){function e(t,n){b(this,e),this.observables=t,this.project=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Rc(e,this.observables,this.project))}}]),e}(),Rc=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;b(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(ho(S(o),r[u],void 0,u));return o}return w(n,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(p(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(uo);v(8861);var Dc=function(){function e(t){b(this,e),this.total=t}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new Mc(e,this.total))}}]),e}(),Mc=function(e){k(n,e);var t=x(n);function n(e,r){var i;return b(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return w(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(ki.L);v(1055);var Lc=["*"],Fc=["dialog"],qc=["ngbNavOutlet",""];function Uc(e,t){}var Zc=function(e){return{$implicit:e}};function jc(e,t){if(1&e&&(y.TgZ(0,"div",2),y.YNc(1,Uc,0,0,"ng-template",3),y.qZA()),2&e){var n=y.oxw().$implicit,r=y.oxw();y.Q6J("item",n)("nav",r.nav)("role",r.paneRole),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",y.VKq(5,Zc,n.active||r.isPanelTransitioning(n)))}}function Vc(e,t){if(1&e&&y.YNc(0,jc,2,7,"div",1),2&e){var n=t.$implicit,r=y.oxw();y.Q6J("ngIf",n.isPanelInDom()||r.isPanelTransitioning(n))}}function Bc(e,t){1&e&&(y.TgZ(0,"span",9),y.SDv(1,10),y.qZA())}function Hc(e,t){1&e&&(y.TgZ(0,"span",9),y.SDv(1,11),y.qZA())}function zc(e,t){1&e&&(y.TgZ(0,"span",9),y.SDv(1,12),y.qZA())}function Gc(e,t){1&e&&(y.TgZ(0,"span",9),y.SDv(1,13),y.qZA())}function Wc(e,t){1&e&&y._uU(0,"...")}function Kc(e,t){1&e&&(y.TgZ(0,"span",15),y._uU(1,"(current)"),y.qZA())}function Yc(e,t){if(1&e&&(y._uU(0),y.YNc(1,Kc,2,0,"span",14)),2&e){var n=t.$implicit,r=t.currentPage;y.hij(" ",n," "),y.xp6(1),y.Q6J("ngIf",n===r)}}function Qc(e,t){}var Jc=function(e){return{disabled:!0,currentPage:e}};function Xc(e,t){if(1&e&&(y.TgZ(0,"a",20),y.YNc(1,Qc,0,0,"ng-template",8),y.qZA()),2&e){var n=y.oxw(2).$implicit,r=y.oxw(),i=y.MAs(9);y.xp6(1),y.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",y.VKq(2,Jc,n))}}function $c(e,t){}var el=function(e,t,n){return{disabled:e,$implicit:t,currentPage:n}};function tl(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",21),y.NdJ("click",function(e){y.CHM(n);var t=y.oxw().$implicit;return y.oxw(2).selectPage(t),e.preventDefault()}),y.YNc(1,$c,0,0,"ng-template",8),y.qZA()}if(2&e){var r=y.oxw().$implicit,i=y.oxw(),o=i.disabled,a=i.$implicit,s=y.oxw(),u=y.MAs(11);y.uIk("tabindex",o?"-1":null)("aria-disabled",o?"true":null),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==s.tplNumber?null:s.tplNumber.templateRef)||u)("ngTemplateOutletContext",y.kEZ(4,el,o,r,a))}}function nl(e,t){if(1&e&&(y.TgZ(0,"li",17),y.YNc(1,Xc,2,4,"a",18),y.YNc(2,tl,2,8,"a",19),y.qZA()),2&e){var n=t.$implicit,r=y.oxw(),i=r.$implicit,o=r.disabled,a=y.oxw();y.ekj("active",n===i)("disabled",a.isEllipsis(n)||o),y.uIk("aria-current",n===i?"page":null),y.xp6(1),y.Q6J("ngIf",a.isEllipsis(n)),y.xp6(1),y.Q6J("ngIf",!a.isEllipsis(n))}}function rl(e,t){1&e&&y.YNc(0,nl,3,7,"li",16),2&e&&y.Q6J("ngForOf",t.pages)}function il(e,t){}var ol=function(e,t){return{disabled:e,currentPage:t}};function al(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",17),y.TgZ(1,"a",22),y.NdJ("click",function(e){return y.CHM(n),y.oxw().selectPage(1),e.preventDefault()}),y.YNc(2,il,0,0,"ng-template",8),y.qZA(),y.qZA()}if(2&e){var r=y.oxw(),i=y.MAs(1);y.ekj("disabled",r.previousDisabled()),y.xp6(1),y.uIk("tabindex",r.previousDisabled()?"-1":null)("aria-disabled",r.previousDisabled()?"true":null),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==r.tplFirst?null:r.tplFirst.templateRef)||i)("ngTemplateOutletContext",y.WLB(6,ol,r.previousDisabled(),r.page))}}function sl(e,t){}var ul=function(e){return{disabled:e}};function cl(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",17),y.TgZ(1,"a",23),y.NdJ("click",function(e){y.CHM(n);var t=y.oxw();return t.selectPage(t.page-1),e.preventDefault()}),y.YNc(2,sl,0,0,"ng-template",8),y.qZA(),y.qZA()}if(2&e){var r=y.oxw(),i=y.MAs(3);y.ekj("disabled",r.previousDisabled()),y.xp6(1),y.uIk("tabindex",r.previousDisabled()?"-1":null)("aria-disabled",r.previousDisabled()?"true":null),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==r.tplPrevious?null:r.tplPrevious.templateRef)||i)("ngTemplateOutletContext",y.VKq(6,ul,r.previousDisabled()))}}function ll(e,t){}function hl(e,t){}function fl(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",17),y.TgZ(1,"a",24),y.NdJ("click",function(e){y.CHM(n);var t=y.oxw();return t.selectPage(t.page+1),e.preventDefault()}),y.YNc(2,hl,0,0,"ng-template",8),y.qZA(),y.qZA()}if(2&e){var r=y.oxw(),i=y.MAs(5);y.ekj("disabled",r.nextDisabled()),y.xp6(1),y.uIk("tabindex",r.nextDisabled()?"-1":null)("aria-disabled",r.nextDisabled()?"true":null),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==r.tplNext?null:r.tplNext.templateRef)||i)("ngTemplateOutletContext",y.WLB(6,ol,r.nextDisabled(),r.page))}}function dl(e,t){}function pl(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",17),y.TgZ(1,"a",25),y.NdJ("click",function(e){y.CHM(n);var t=y.oxw();return t.selectPage(t.pageCount),e.preventDefault()}),y.YNc(2,dl,0,0,"ng-template",8),y.qZA(),y.qZA()}if(2&e){var r=y.oxw(),i=y.MAs(7);y.ekj("disabled",r.nextDisabled()),y.xp6(1),y.uIk("tabindex",r.nextDisabled()?"-1":null)("aria-disabled",r.nextDisabled()?"true":null),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==r.tplLast?null:r.tplLast.templateRef)||i)("ngTemplateOutletContext",y.WLB(6,ol,r.nextDisabled(),r.page))}}var vl=function(e,t,n){return{$implicit:e,pages:t,disabled:n}};function gl(e){return!isNaN(function(e){return parseInt("".concat(e),10)}(e))}function yl(e){return null!=e}function ml(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var _l=!0,wl=5,bl=function(){var e=function e(){b(this,e),this.animation=_l};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),kl=function(){},xl=wl,Tl=new Map,Sl=function(e,t,n,r){var i=r.context||{},o=Tl.get(t);if(o)switch(r.runningTransition){case"continue":return wo.E;case"stop":e.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),Tl.delete(t)}var a=n(t,r.animation,i)||kl;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(function(){return a()}),(0,_i.of)(void 0).pipe(function(e){return function(t){return new vr.y(function(n){return t.subscribe(function(t){return e.run(function(){return n.next(t)})},function(t){return e.run(function(){return n.error(t)})},function(){return e.run(function(){return n.complete()})})})}}(e));var s=new io.xQ,u=new io.xQ,c=s.pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return _o(e,_i.of.apply(void 0,t))}}(!0));Tl.set(t,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var l=function(e){var t=window.getComputedStyle(e),n=t.transitionDelay,r=t.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(t);return e.runOutsideAngular(function(){var n=lc(t,"transitionend").pipe(Sc(c),xi(function(e){return e.target===t}));(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!(0,gr.k)(t[0]))return t[0];t=t[0]}return(0,fo.n)(t,void 0).lift(new vc)})(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return(0,dc.k)(t)?r=Number(t)<1?1:Number(t):(0,so.K)(t)&&(n=t),(0,so.K)(n)||(n=fc.P),new vr.y(function(t){var i=(0,dc.k)(e)?e:+e-n.now();return n.schedule(pc,i,{index:0,period:r,subscriber:t})})}(l+xl).pipe(Sc(c)),n,u).pipe(Sc(c)).subscribe(function(){Tl.delete(t),e.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},Cl=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),El=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),Al=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),Il=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),Nl=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),Ol=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var Pl=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Rl(e){var t=Array.from(e.querySelectorAll(Pl)).filter(function(e){return-1!==e.tabIndex});return[t[0],t[t.length-1]]}new(function(){function e(){b(this,e)}return w(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(e,t,n,r){var i=l(n.split("-"),2),o=i[0],a=void 0===o?"top":o,s=i[1],u=void 0===s?"center":s,c=r?this.offset(e,!1):this.position(e,!1),h=this.getAllStyles(t),f=parseFloat(h.marginTop),d=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),g=0,y=0;switch(a){case"top":g=c.top-(t.offsetHeight+f+d);break;case"bottom":g=c.top+c.height;break;case"left":y=c.left-(t.offsetWidth+p+v);break;case"right":y=c.left+c.width}switch(u){case"top":g=c.top;break;case"bottom":g=c.top+c.height-t.offsetHeight;break;case"left":y=c.left;break;case"right":y=c.left+c.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?y=c.left+c.width/2-t.offsetWidth/2:g=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(y),"px, ").concat(Math.round(g),"px)");var m=t.getBoundingClientRect(),_=document.documentElement,w=window.innerHeight||_.clientHeight,b=window.innerWidth||_.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=w}}]),e}()),new Date(1882,10,12),new Date(2174,10,25);var Dl=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe,yi]]}),e}(),Ml=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),Ll=function(){var e=function(){function e(t){b(this,e),this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}return w(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(bl))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(bl))},token:e,providedIn:"root"}),e}(),Fl=function e(t,n,r){b(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},ql=function(){},Ul=function(){var e=function(){function e(t){b(this,e),this._document=t}return w(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):ql}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(C))},token:e,providedIn:"root"}),e}(),Zl=function(){var e=function(){function e(t,n){b(this,e),this._el=t,this._zone=n}return w(e,[{key:"ngOnInit",value:function(){var e=this;this._zone.onStable.asObservable().pipe(Ao(1)).subscribe(function(){Sl(e._zone,e._el.nativeElement,function(e,t){t&&ml(e),e.classList.add("show")},{animation:e.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return Sl(this._zone,this._el.nativeElement,function(e){return e.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.SBq),y.Y36(y.R0b))},e.\u0275cmp=y.Xpm({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(y.Tol("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),y.ekj("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}(),jl=function(){function e(){b(this,e)}return w(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),Vl=function(){function e(t,n,r,i){var o=this;b(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new io.xQ,this._dismissed=new io.xQ,this._hidden=new io.xQ,t.instance.dismissEvent.subscribe(function(e){o.dismiss(e)}),this.result=new Promise(function(e,t){o._resolve=e,o._reject=t}),this.result.then(null,function(){})}return w(e,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Sc(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Sc(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&t._dismiss(e)},function(){}):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this,t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,_i.of)(void 0);t.subscribe(function(){var t=e._windowCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._windowCmptRef.destroy(),e._contentRef&&e._contentRef.viewRef&&e._contentRef.viewRef.destroy(),e._windowCmptRef=null,e._contentRef=null}),n.subscribe(function(){if(e._backdropCmptRef){var t=e._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),e._backdropCmptRef.destroy(),e._backdropCmptRef=null}}),mc(t,n).subscribe(function(){e._hidden.next(),e._hidden.complete()})}}]),e}(),Bl=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),Hl=function(){var e=function(){function e(t,n,r){b(this,e),this._document=t,this._elRef=n,this._zone=r,this._closed$=new io.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new y.vpe,this.shown=new io.xQ,this.hidden=new io.xQ}return w(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){var e=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ao(1)).subscribe(function(){e._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var e=this,t=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=mc(Sl(this._zone,t,function(){return t.classList.remove("show")},n),Sl(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){e.hidden.next(),e.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var e=this,t={animation:this.animation,runningTransition:"continue"};mc(Sl(this._zone,this._elRef.nativeElement,function(e,t){t&&ml(e),e.classList.add("show")},t),Sl(this._zone,this._dialogEl.nativeElement,function(){},t)).subscribe(function(){e.shown.next(),e.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var e=this,t=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){lc(t,"keydown").pipe(Sc(e._closed$),xi(function(e){return e.which===Ol.Escape})).subscribe(function(t){e.keyboard?requestAnimationFrame(function(){t.defaultPrevented||e._zone.run(function(){return e.dismiss(Bl.ESC)})}):"static"===e.backdrop&&e._bumpBackdrop()});var n=!1;lc(e._dialogEl.nativeElement,"mousedown").pipe(Sc(e._closed$),(0,Qo.b)(function(){return n=!1}),To(function(){return lc(t,"mouseup").pipe(Sc(e._closed$),Ao(1))}),xi(function(e){var n=e.target;return t===n})).subscribe(function(){n=!0}),lc(t,"click").pipe(Sc(e._closed$)).subscribe(function(r){var i=r.target;t===i&&("static"===e.backdrop?e._bumpBackdrop():!0!==e.backdrop||n||e._zone.run(function(){return e.dismiss(Bl.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var e=this._elRef.nativeElement;if(!e.contains(document.activeElement)){var t=e.querySelector("[ngbAutofocus]"),n=Rl(e)[0];(t||n||e).focus()}}},{key:"_restoreFocus",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return e.focus()}),t._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&Sl(this._zone,this._elRef.nativeElement,function(e){var t=e.classList;return t.add("modal-static"),function(){return t.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(C),y.Y36(y.SBq),y.Y36(y.R0b))},e.\u0275cmp=y.Xpm({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;(1&e&&y.Gf(Fc,7),2&e)&&(y.iGM(n=y.CRH())&&(t._dialogEl=n.first))},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(y.uIk("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),y.Tol("modal d-block"+(t.windowClass?" "+t.windowClass:"")),y.ekj("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Lc,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(y.F$t(),y.TgZ(0,"div",0,1),y.TgZ(2,"div",2),y.Hsn(3),y.qZA(),y.qZA()),2&e&&y.Tol("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e}(),zl=function(){var e=function(){function e(t,n,r,i,o,a){var s=this;b(this,e),this._applicationRef=t,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new io.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new y.vpe,this._activeWindowCmptHasChanged.subscribe(function(){if(s._windowCmpts.length){var e=s._windowCmpts[s._windowCmpts.length-1];(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s._ngZone.runOutsideAngular(function(){var e=lc(t,"focusin").pipe(Sc(n),(0,yr.U)(function(e){return e.target}));lc(t,"keydown").pipe(Sc(n),xi(function(e){return e.which===Ol.Tab}),Oc(e)).subscribe(function(e){var n=l(e,2),r=n[0],i=n[1],o=l(Rl(t),2),a=o[0],s=o[1];i!==a&&i!==t||!r.shiftKey||(s.focus(),r.preventDefault()),i!==s||r.shiftKey||(a.focus(),r.preventDefault())}),r&&lc(t,"click").pipe(Sc(n),Oc(e),(0,yr.U)(function(e){return e[1]})).subscribe(function(e){return e.focus()})})})(0,e.location.nativeElement,s._activeWindowCmptHasChanged),s._revertAriaHidden(),s._setAriaHidden(e.location.nativeElement)}})}return w(e,[{key:"open",value:function(e,t,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:yl(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new jl,l=this._getContentRef(e,r.injector||t,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,l),d=new Vl(f,l,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),c.close=function(e){d.close(e)},c.dismiss=function(e){d.dismiss(e)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(e){this._modalRefs.forEach(function(t){return t.dismiss(e)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(Zl).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(Hl).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach(function(n){yl(t[n])&&(e[n]=t[n])})}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach(function(n){yl(t[n])&&(e[n]=t[n])})}},{key:"_getContentRef",value:function(e,t,n,r,i){return n?n instanceof y.Rgc?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,i):new Fl([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Fl([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new Fl([[t]])}},{key:"_createFromComponent",value:function(e,t,n,r,i){var o=e.resolveComponentFactory(n),a=y.zs3.create({providers:[{provide:jl,useValue:r}],parent:t}),s=o.create(a),u=s.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new Fl([[u]],s.hostView,s)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&(t._modalRefs.splice(n,1),t._activeInstances.emit(t._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(y.z2F),y.LFG(y.zs3),y.LFG(C),y.LFG(Ul),y.LFG(y.FYo),y.LFG(y.R0b))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(y.z2F),(0,y.LFG)(y.gxx),(0,y.LFG)(C),(0,y.LFG)(Ul),(0,y.LFG)(y.FYo),(0,y.LFG)(y.R0b))},token:e,providedIn:"root"}),e}(),Gl=function(){var e=function(){function e(t,n,r,i){b(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=i}return w(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(y._Vd),y.LFG(y.zs3),y.LFG(zl),y.LFG(Ll))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(y._Vd),(0,y.LFG)(y.gxx),(0,y.LFG)(zl),(0,y.LFG)(Ll))},token:e,providedIn:"root"}),e}(),Wl=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[Gl]}),e}(),Kl=function(){var e=function(){function e(t){b(this,e),this._ngbConfig=t,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}return w(e,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(e){this._animation=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(bl))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(bl))},token:e,providedIn:"root"}),e}(),Yl=function(e){return yl(e)&&""!==e},Ql=0,Jl=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbNavContent",""]]}),e}(),Xl=function(){var e=function(){function e(t,n){b(this,e),this.elementRef=n,this.disabled=!1,this.shown=new y.vpe,this.hidden=new y.vpe,this._nav=t}return w(e,[{key:"ngAfterContentChecked",value:function(){this.contentTpl=this.contentTpls.first}},{key:"ngOnInit",value:function(){yl(this.domId)||(this.domId="ngb-nav-"+Ql++)}},{key:"active",get:function(){return this._nav.activeId===this.id}},{key:"id",get:function(){return Yl(this._id)?this._id:this.domId}},{key:"panelDomId",get:function(){return"".concat(this.domId,"-panel")}},{key:"isPanelInDom",value:function(){return(yl(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36((0,y.Gpc)(function(){return $l})),y.Y36(y.SBq))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(e,t,n){var r;(1&e&&y.Suo(n,Jl,4),2&e)&&(y.iGM(r=y.CRH())&&(t.contentTpls=r))},hostVars:2,hostBindings:function(e,t){2&e&&y.ekj("nav-item",!0)},inputs:{disabled:"disabled",domId:"domId",destroyOnHide:"destroyOnHide",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),e}(),$l=function(){var e=function(){function e(t,n,r,i){b(this,e),this.role=t,this._cd=r,this._document=i,this.activeIdChange=new y.vpe,this.shown=new y.vpe,this.hidden=new y.vpe,this.destroy$=new io.xQ,this.navItemChange$=new io.xQ,this.navChange=new y.vpe,this.animation=n.animation,this.destroyOnHide=n.destroyOnHide,this.orientation=n.orientation,this.roles=n.roles,this.keyboard=n.keyboard}return w(e,[{key:"click",value:function(e){e.disabled||this._updateActiveId(e.id)}},{key:"onKeyDown",value:function(e){var t=this;if("tablist"===this.roles&&this.keyboard){var n=e.which,r=this.links.filter(function(e){return!e.navItem.disabled}),i=r.length,o=-1;if(r.forEach(function(e,n){e.elRef.nativeElement===t._document.activeElement&&(o=n)}),i){switch(n){case Ol.ArrowLeft:if("vertical"===this.orientation)return;o=(o-1+i)%i;break;case Ol.ArrowRight:if("vertical"===this.orientation)return;o=(o+1)%i;break;case Ol.ArrowDown:if("horizontal"===this.orientation)return;o=(o+1)%i;break;case Ol.ArrowUp:if("horizontal"===this.orientation)return;o=(o-1+i)%i;break;case Ol.Home:o=0;break;case Ol.End:o=i-1}"changeWithArrows"===this.keyboard&&this.select(r[o].navItem.id),r[o].elRef.nativeElement.focus(),e.preventDefault()}}}},{key:"select",value:function(e){this._updateActiveId(e,!1)}},{key:"ngAfterContentInit",value:function(){var e=this;if(!yl(this.activeId)){var t=this.items.first?this.items.first.id:null;Yl(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe(Sc(this.destroy$)).subscribe(function(){return e._notifyItemChanged(e.activeId)})}},{key:"ngOnChanges",value:function(e){var t=e.activeId;t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"_updateActiveId",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.activeId!==e){var n=!1;t&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:function(){n=!0}}),n||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}},{key:"_notifyItemChanged",value:function(e){this.navItemChange$.next(this._getItemById(e))}},{key:"_getItemById",value:function(e){return this.items&&this.items.find(function(t){return t.id===e})||null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.$8M("role"),y.Y36(Kl),y.Y36(y.sBO),y.Y36(C))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngbNav",""]],contentQueries:function(e,t,n){var r;(1&e&&(y.Suo(n,Xl,4),y.Suo(n,eh,5)),2&e)&&(y.iGM(r=y.CRH())&&(t.items=r),y.iGM(r=y.CRH())&&(t.links=r))},hostVars:6,hostBindings:function(e,t){1&e&&y.NdJ("keydown.arrowLeft",function(e){return t.onKeyDown(e)})("keydown.arrowRight",function(e){return t.onKeyDown(e)})("keydown.arrowDown",function(e){return t.onKeyDown(e)})("keydown.arrowUp",function(e){return t.onKeyDown(e)})("keydown.Home",function(e){return t.onKeyDown(e)})("keydown.End",function(e){return t.onKeyDown(e)}),2&e&&(y.uIk("aria-orientation","vertical"===t.orientation&&"tablist"===t.roles?"vertical":void 0)("role",t.role?t.role:t.roles?"tablist":void 0),y.ekj("nav",!0)("flex-column","vertical"===t.orientation))},inputs:{animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard",activeId:"activeId"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[y.TTD]}),e}(),eh=function(){var e=function(){function e(t,n,r,i){b(this,e),this.role=t,this.navItem=n,this.nav=r,this.elRef=i}return w(e,[{key:"hasNavItemClass",value:function(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.$8M("role"),y.Y36(Xl),y.Y36($l),y.Y36(y.SBq))},e.\u0275dir=y.lG2({type:e,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,t){1&e&&y.NdJ("click",function(e){return t.nav.click(t.navItem),e.preventDefault()}),2&e&&(y.Ikx("id",t.navItem.domId),y.uIk("role",t.role?t.role:t.nav.roles?"tab":void 0)("tabindex",t.navItem.disabled?-1:void 0)("aria-controls",t.navItem.isPanelInDom()?t.navItem.panelDomId:null)("aria-selected",t.navItem.active)("aria-disabled",t.navItem.disabled),y.ekj("nav-link",!0)("nav-item",t.hasNavItemClass())("active",t.navItem.active)("disabled",t.navItem.disabled))}}),e}(),th=function(e){var t=e.classList;return t.remove("show"),function(){return t.remove("active")}},nh=function(e,t){t&&ml(e),e.classList.add("show")},rh=function(){var e=function e(t){b(this,e),this.elRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.SBq))},e.\u0275dir=y.lG2({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(e,t){2&e&&(y.Ikx("id",t.item.panelDomId),y.uIk("role",t.role?t.role:t.nav.roles?"tabpanel":void 0)("aria-labelledby",t.item.domId),y.ekj("fade",t.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),e}(),ih=function(){var e=function(){function e(t,n){b(this,e),this._cd=t,this._ngZone=n,this._activePane=null}return w(e,[{key:"isPanelTransitioning",value:function(e){var t;return(null===(t=this._activePane)||void 0===t?void 0:t.item)===e}},{key:"ngAfterViewInit",value:function(){var e,t=this;this._updateActivePane(),this.nav.navItemChange$.pipe(Sc(this.nav.destroy$),Oo((null===(e=this._activePane)||void 0===e?void 0:e.item)||null),Ac(),function(e){return e.lift(new Dc(1))}).subscribe(function(e){var n={animation:t.nav.animation,runningTransition:"stop"};t._cd.detectChanges(),t._activePane?Sl(t._ngZone,t._activePane.elRef.nativeElement,th,n).subscribe(function(){var r,i=null===(r=t._activePane)||void 0===r?void 0:r.item;t._activePane=t._getPaneForItem(e),t._cd.markForCheck(),t._activePane&&(t._activePane.elRef.nativeElement.classList.add("active"),Sl(t._ngZone,t._activePane.elRef.nativeElement,nh,n).subscribe(function(){e&&(e.shown.emit(),t.nav.shown.emit(e.id))})),i&&(i.hidden.emit(),t.nav.hidden.emit(i.id))}):t._updateActivePane()})}},{key:"_updateActivePane",value:function(){var e,t;this._activePane=this._getActivePane(),null===(e=this._activePane)||void 0===e||e.elRef.nativeElement.classList.add("show"),null===(t=this._activePane)||void 0===t||t.elRef.nativeElement.classList.add("active")}},{key:"_getPaneForItem",value:function(e){return this._panes&&this._panes.find(function(t){return t.item===e})||null}},{key:"_getActivePane",value:function(){return this._panes&&this._panes.find(function(e){return e.item.active})||null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.sBO),y.Y36(y.R0b))},e.\u0275cmp=y.Xpm({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(e,t){var n;(1&e&&y.Gf(rh,5),2&e)&&(y.iGM(n=y.CRH())&&(t._panes=n))},hostVars:2,hostBindings:function(e,t){2&e&&y.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},attrs:qc,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&y.YNc(0,Vc,1,1,"ng-template",0),2&e&&y.Q6J("ngForOf",t.nav.items)},directives:[X,ee,rh,re],encapsulation:2,changeDetection:0}),e}(),oh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),ah=function(){var e=function e(){b(this,e),this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),sh=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),e}(),uh=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationFirst",""]]}),e}(),ch=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationLast",""]]}),e}(),lh=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationNext",""]]}),e}(),hh=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationNumber",""]]}),e}(),fh=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]]}),e}(),dh=function(){var e=function e(t){b(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.Rgc))},e.\u0275dir=y.lG2({type:e,selectors:[["ng-template","ngbPaginationPages",""]]}),e}(),ph=function(){var u=function(){function e(t){b(this,e),this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new y.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}return w(e,[{key:"hasPrevious",value:function(){return this.page>1}},{key:"hasNext",value:function(){return this.page<this.pageCount}},{key:"nextDisabled",value:function(){return!this.hasNext()||this.disabled}},{key:"previousDisabled",value:function(){return!this.hasPrevious()||this.disabled}},{key:"selectPage",value:function(e){this._updatePages(e)}},{key:"ngOnChanges",value:function(e){this._updatePages(this.page)}},{key:"isEllipsis",value:function(e){return-1===e}},{key:"_applyEllipses",value:function(e,t){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),t<this.pageCount&&(t<this.pageCount-2?this.pages.push(-1):t===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}},{key:"_applyRotation",value:function(){var e=0,t=this.pageCount,n=Math.floor(this.maxSize/2);return this.page<=n?t=this.maxSize:this.pageCount-this.page<n?e=this.pageCount-this.maxSize:(e=this.page-n-1,t=this.page+(this.maxSize%2==0?n-1:n)),[e,t]}},{key:"_applyPagination",value:function(){var e=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[e,e+this.maxSize]}},{key:"_setPageInRange",value:function(e){var t=this.page;this.page=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.max(Math.min(e,t),n)}(e,this.pageCount,1),this.page!==t&&gl(this.collectionSize)&&this.pageChange.emit(this.page)}},{key:"_updatePages",value:function(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),gl(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(var t=1;t<=this.pageCount;t++)this.pages.push(t);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){var n,r,i=this.pageCount;r=(n=l(this.rotate?this._applyRotation():this._applyPagination(),2))[0],i=n[1],this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}]),e}();return u.\u0275fac=function(e){return new(e||u)(y.Y36(ah))},u.\u0275cmp=y.Xpm({type:u,selectors:[["ngb-pagination"]],contentQueries:function(e,t,n){var r;(1&e&&(y.Suo(n,sh,5),y.Suo(n,uh,5),y.Suo(n,ch,5),y.Suo(n,lh,5),y.Suo(n,hh,5),y.Suo(n,fh,5),y.Suo(n,dh,5)),2&e)&&(y.iGM(r=y.CRH())&&(t.tplEllipsis=r.first),y.iGM(r=y.CRH())&&(t.tplFirst=r.first),y.iGM(r=y.CRH())&&(t.tplLast=r.first),y.iGM(r=y.CRH())&&(t.tplNext=r.first),y.iGM(r=y.CRH())&&(t.tplNumber=r.first),y.iGM(r=y.CRH())&&(t.tplPrevious=r.first),y.iGM(r=y.CRH())&&(t.tplPages=r.first))},hostAttrs:["role","navigation"],inputs:{page:"page",disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",maxSize:"maxSize",pageSize:"pageSize",rotate:"rotate",size:"size",collectionSize:"collectionSize"},outputs:{pageChange:"pageChange"},features:[y.TTD],decls:20,vars:12,consts:function(){return[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],$localize(e||(e=c([":@@ngb.pagination.first\u241f656506dfd46380956a655f919f1498d018f75ca0\u241f6867721956102594380:\xab\xab"]))),$localize(t||(t=c([":@@ngb.pagination.previous\u241f6e52b6ee77a4848d899dd21b591c6fd499e3aef3\u241f6479320895410098858:\xab"]))),$localize(n||(n=c([":@@ngb.pagination.next\u241fba9cbb4ff311464308a3627e4f1c3345d9fe6d7d\u241f5458177150283468089:\xbb"]))),$localize(r||(r=c([":@@ngb.pagination.last\u241f49f27a460bc97e7e00be5b37098bfa79884fc7d9\u241f5277020320267646988:\xbb\xbb"]))),["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",$localize(i||(i=c([":@@ngb.pagination.first-aria\u241ff2f852318759c6396b5d3d17031d53817d7b38cc\u241f2241508602425256033:First"]))),"href","",1,"page-link",3,"click"],["aria-label",$localize(o||(o=c([":@@ngb.pagination.previous-aria\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]))),"href","",1,"page-link",3,"click"],["aria-label",$localize(a||(a=c([":@@ngb.pagination.next-aria\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]))),"href","",1,"page-link",3,"click"],["aria-label",$localize(s||(s=c([":@@ngb.pagination.last-aria\u241f5c729788ba138508aca1bec050b610f7bf81db3e\u241f4882268002141858767:Last"]))),"href","",1,"page-link",3,"click"]]},template:function(e,t){if(1&e&&(y.YNc(0,Bc,2,0,"ng-template",null,0,y.W1O),y.YNc(2,Hc,2,0,"ng-template",null,1,y.W1O),y.YNc(4,zc,2,0,"ng-template",null,2,y.W1O),y.YNc(6,Gc,2,0,"ng-template",null,3,y.W1O),y.YNc(8,Wc,1,0,"ng-template",null,4,y.W1O),y.YNc(10,Yc,2,2,"ng-template",null,5,y.W1O),y.YNc(12,rl,1,1,"ng-template",null,6,y.W1O),y.TgZ(14,"ul"),y.YNc(15,al,3,9,"li",7),y.YNc(16,cl,3,8,"li",7),y.YNc(17,ll,0,0,"ng-template",8),y.YNc(18,fl,3,9,"li",7),y.YNc(19,pl,3,9,"li",7),y.qZA()),2&e){var n=y.MAs(13);y.xp6(14),y.Tol("pagination"+(t.size?" pagination-"+t.size:"")),y.xp6(1),y.Q6J("ngIf",t.boundaryLinks),y.xp6(1),y.Q6J("ngIf",t.directionLinks),y.xp6(1),y.Q6J("ngTemplateOutlet",(null==t.tplPages?null:t.tplPages.templateRef)||n)("ngTemplateOutletContext",y.kEZ(8,vl,t.page,t.pages,t.disabled)),y.xp6(1),y.Q6J("ngIf",t.directionLinks),y.xp6(1),y.Q6J("ngIf",t.boundaryLinks)}},directives:[ee,re,X],encapsulation:2,changeDetection:0}),u}(),vh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),gh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),yh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),mh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),_h=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),wh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),bh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}();new y.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});var kh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),xh=[Cl,El,Al,Il,Nl,Dl,Ml,Wl,oh,vh,gh,yh,mh,_h,wh,bh,kh],Th=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[xh,Cl,El,Al,Il,Nl,Dl,Ml,Wl,oh,vh,gh,yh,mh,_h,wh,bh,kh]}),e}(),Sh=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}();function Ch(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function Eh(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function Ah(e,t){if(1&e&&(y.TgZ(0,"span"),y._uU(1),y.qZA()),2&e){var n=y.oxw();y.xp6(1),y.Oqu(n._placeholder)}}function Ih(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"span",14),y._uU(1),y.TgZ(2,"a",15),y.NdJ("click",function(e){var t=y.CHM(n).$implicit;return y.oxw().onItemClick(e,t)}),y._uU(3,"x"),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit,i=t.index,o=y.oxw();y.Q6J("hidden",i>o._settings.itemsShowLimit-1),y.xp6(1),y.hij(" ",r.text," ")}}function Nh(e,t){if(1&e&&(y.TgZ(0,"span",16),y._uU(1),y.qZA()),2&e){var n=y.oxw();y.xp6(1),y.hij("+",n.itemShowRemaining(),"")}}function Oh(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",17),y.NdJ("click",function(){return y.CHM(n),y.oxw().toggleSelectAll()}),y._UZ(1,"input",18),y.TgZ(2,"div"),y._uU(3),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(1),y.Q6J("checked",r.isAllItemsSelected())("disabled",r.disabled||r.isLimitSelectionReached()),y.xp6(2),y.Oqu(r.isAllItemsSelected()?r._settings.unSelectAllText:r._settings.selectAllText)}}function Ph(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",19),y.TgZ(1,"input",20),y.NdJ("ngModelChange",function(e){return y.CHM(n),y.oxw().filter.text=e})("ngModelChange",function(e){return y.CHM(n),y.oxw().onFilterTextChange(e)}),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(1),y.Q6J("readOnly",r.disabled)("placeholder",r._settings.searchPlaceholderText)("ngModel",r.filter.text)}}function Rh(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"li",21),y.NdJ("click",function(e){var t=y.CHM(n).$implicit;return y.oxw().onItemClick(e,t)}),y._UZ(1,"input",22),y.TgZ(2,"div"),y._uU(3),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit,i=y.oxw();y.xp6(1),y.Q6J("checked",i.isSelected(r))("disabled",i.disabled||i.isLimitSelectionReached()&&!i.isSelected(r)||r.isDisabled),y.uIk("aria-label",r.text),y.xp6(2),y.Oqu(r.text)}}function Dh(e,t){if(1&e&&(y.TgZ(0,"li",23),y.TgZ(1,"h5"),y._uU(2),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n._settings.noDataAvailablePlaceholderText)}}var Mh,Lh=function(e){return{"dropdown-multiselect--active":e}},Fh=function e(t){b(this,e),"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.isDisabled=t.isDisabled)},qh=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"transform",value:function(e,t){var n=this;return e&&t?e.filter(function(e){return n.applyFilter(e,t)}):e}},{key:"applyFilter",value:function(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=y.Yjl({name:"multiSelectFilter",type:e,pure:!1}),e}(),Uh={provide:xr,useExisting:(0,y.Gpc)(function(){return jh}),multi:!0},Zh=function(){},jh=function(){var e=function(){function e(t){b(this,e),this.listFilterPipe=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new Fh(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new y.vpe,this.onDropDownClose=new y.vpe,this.onSelect=new y.vpe,this.onDeSelect=new y.vpe,this.onSelectAll=new y.vpe,this.onDeSelectAll=new y.vpe,this.onTouchedCallback=Zh,this.onChangeCallback=Zh}return w(e,[{key:"placeholder",set:function(e){this._placeholder=e||"Select"}},{key:"settings",set:function(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}},{key:"data",set:function(e){var t=this;if(e){var n=e[0];this._sourceDataType=typeof n,this._sourceDataFields=this.getFields(n),this._data=e.map(function(e){return new Fh("string"==typeof e||"number"==typeof e?e:{id:e[t._settings.idField],text:e[t._settings.textField],isDisabled:e[t._settings.disabledField]})})}else this._data=[]}},{key:"onFilterTextChange",value:function(e){this.onFilterChange.emit(e)}},{key:"onItemClick",value:function(e,t){if(this.disabled||t.isDisabled)return!1;var n=this.isSelected(t),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(t):r&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}},{key:"writeValue",value:function(e){var t=this;if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){var n=e[0];this.selectedItems=[new Fh("string"==typeof n||"number"==typeof n?n:{id:n[this._settings.idField],text:n[this._settings.textField],isDisabled:n[this._settings.disabledField]})]}}catch(KC){}else{var r=e.map(function(e){return new Fh("string"==typeof e||"number"==typeof e?e:{id:e[t._settings.idField],text:e[t._settings.textField],isDisabled:e[t._settings.disabledField]})});this.selectedItems=this._settings.limitSelection>0?r.splice(0,this._settings.limitSelection):r}else this.selectedItems=[];this.onChangeCallback(e)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"onTouched",value:function(){this.closeDropdown(),this.onTouchedCallback()}},{key:"trackByFn",value:function(e,t){return t.id}},{key:"isSelected",value:function(e){var t=!1;return this.selectedItems.forEach(function(n){e.id===n.id&&(t=!0)}),t}},{key:"isLimitSelectionReached",value:function(){return this._settings.limitSelection===this.selectedItems.length}},{key:"isAllItemsSelected",value:function(){var e=this.listFilterPipe.transform(this._data,this.filter),t=e.filter(function(e){return e.isDisabled}).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&e.length===this.selectedItems.length+t}},{key:"showButton",value:function(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}},{key:"itemShowRemaining",value:function(){return this.selectedItems.length-this._settings.itemsShowLimit}},{key:"addSelected",value:function(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}},{key:"removeSelected",value:function(e){var t=this;this.selectedItems.forEach(function(n){e.id===n.id&&t.selectedItems.splice(t.selectedItems.indexOf(n),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}},{key:"emittedValue",value:function(e){var t=this,n=[];if(Array.isArray(e))e.map(function(e){n.push(t.objectify(e))});else if(e)return this.objectify(e);return n}},{key:"objectify",value:function(e){if("object"===this._sourceDataType){var t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}},{key:"toggleDropdown",value:function(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}},{key:"closeDropdown",value:function(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}},{key:"toggleSelectAll",value:function(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(function(e){return!e.isDisabled}).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}},{key:"getFields",value:function(e){var t=[];if("object"!=typeof e)return t;for(var n in e)t.push(n);return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(qh))},e.\u0275cmp=y.Xpm({type:e,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&y.NdJ("blur",function(){return t.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[y._Bn([Uh])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 6px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.NdJ("blur",function(){return t.onTouched()})("clickOutside",function(){return t.closeDropdown()}),y.TgZ(1,"div"),y.TgZ(2,"span",1),y.NdJ("click",function(e){return t.toggleDropdown(e)}),y.YNc(3,Ah,2,1,"span",2),y.YNc(4,Ih,4,2,"span",3),y.TgZ(5,"span",4),y.YNc(6,Nh,2,1,"span",5),y._UZ(7,"span",6),y.qZA(),y.qZA(),y.qZA(),y.TgZ(8,"div",7),y.TgZ(9,"ul",8),y.YNc(10,Oh,4,3,"li",9),y.YNc(11,Ph,2,3,"li",10),y.qZA(),y.TgZ(12,"ul",11),y.YNc(13,Rh,4,4,"li",12),y.ALo(14,"multiSelectFilter"),y.YNc(15,Dh,3,1,"li",13),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(1),y.ekj("disabled",t.disabled),y.xp6(2),y.Q6J("ngIf",0==t.selectedItems.length),y.xp6(1),y.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),y.xp6(1),y.Q6J("ngClass",y.VKq(17,Lh,t._settings.defaultOpen)),y.xp6(1),y.Q6J("ngIf",t.itemShowRemaining()>0),y.xp6(2),y.Q6J("hidden",!t._settings.defaultOpen),y.xp6(2),y.Q6J("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),y.xp6(1),y.Q6J("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),y.xp6(1),y.Udp("max-height",t._settings.maxHeight+"px"),y.xp6(1),y.Q6J("ngForOf",y.xi3(14,14,t._data,t.filter)),y.xp6(2),y.Q6J("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[Vh,ee,X,Q,Cr,jr,ui]},pipes:function(){return[qh]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),e=Ch([Eh("design:paramtypes",[qh])],e)}(),Vh=function(){var e=function(){function e(t){b(this,e),this._elementRef=t,this.clickOutside=new y.vpe}return w(e,[{key:"onClick",value:function(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(y.SBq))},e.\u0275dir=y.lG2({type:e,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&y.NdJ("click",function(e){return t.onClick(e,e.target)},!1,y.evT)},outputs:{clickOutside:"clickOutside"}}),e=Ch([Eh("design:paramtypes",[y.SBq])],e)}(),Bh=function(){var e=Mh=function(){function e(){b(this,e)}return w(e,null,[{key:"forRoot",value:function(){return{ngModule:Mh}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[qh],imports:[[oe,yi]]}),e}(),Hh=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}();function zh(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function Gh(e,t){return function(n,r){t(n,r,e)}}var Wh=["toast-component",""];function Kh(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(n),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA(),y.qZA()}}function Yh(e,t){if(1&e&&(y.ynx(0),y._uU(1),y.BQk()),2&e){var n=y.oxw(2);y.xp6(1),y.hij("[",n.duplicatesCount+1,"]")}}function Qh(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,Yh,2,1,"ng-container",4),y.qZA()),2&e){var n=y.oxw();y.Tol(n.options.titleClass),y.uIk("aria-label",n.title),y.xp6(1),y.hij(" ",n.title," "),y.xp6(1),y.Q6J("ngIf",n.duplicatesCount)}}function Jh(e,t){if(1&e&&y._UZ(0,"div",7),2&e){var n=y.oxw();y.Tol(n.options.messageClass),y.Q6J("innerHTML",n.message,y.oJD)}}function Xh(e,t){if(1&e&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&e){var n=y.oxw();y.Tol(n.options.messageClass),y.uIk("aria-label",n.message),y.xp6(1),y.hij(" ",n.message," ")}}function $h(e,t){if(1&e&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&e){var n=y.oxw();y.xp6(1),y.Udp("width",n.width+"%")}}function ef(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",5),y.NdJ("click",function(){return y.CHM(n),y.oxw().remove()}),y.TgZ(1,"span",6),y._uU(2,"\xd7"),y.qZA(),y.qZA()}}function tf(e,t){if(1&e&&(y.ynx(0),y._uU(1),y.BQk()),2&e){var n=y.oxw(2);y.xp6(1),y.hij("[",n.duplicatesCount+1,"]")}}function nf(e,t){if(1&e&&(y.TgZ(0,"div"),y._uU(1),y.YNc(2,tf,2,1,"ng-container",4),y.qZA()),2&e){var n=y.oxw();y.Tol(n.options.titleClass),y.uIk("aria-label",n.title),y.xp6(1),y.hij(" ",n.title," "),y.xp6(1),y.Q6J("ngIf",n.duplicatesCount)}}function rf(e,t){if(1&e&&y._UZ(0,"div",7),2&e){var n=y.oxw();y.Tol(n.options.messageClass),y.Q6J("innerHTML",n.message,y.oJD)}}function of(e,t){if(1&e&&(y.TgZ(0,"div",8),y._uU(1),y.qZA()),2&e){var n=y.oxw();y.Tol(n.options.messageClass),y.uIk("aria-label",n.message),y.xp6(1),y.hij(" ",n.message," ")}}function af(e,t){if(1&e&&(y.TgZ(0,"div"),y._UZ(1,"div",9),y.qZA()),2&e){var n=y.oxw();y.xp6(1),y.Udp("width",n.width+"%")}}var sf,uf=function(){function e(t,n,r,i,o,a){var s=this;b(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new io.xQ,this._onAction=new io.xQ,this.toastRef.afterClosed().subscribe(function(){s._onAction.complete(),s._onTap.complete()})}return w(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),cf={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},lf=new y.OlP("ToastConfig"),hf=function(){function e(t,n){b(this,e),this.component=t,this.injector=n}return w(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),ff=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this))._hostDomElement=e,o._componentFactoryResolver=r,o._appRef=i,o}return w(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(function(){r._appRef.detachView(n.hostView),n.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){b(this,e)}return w(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),df=function(){var e=function(){function e(t){b(this,e),this._document=t}return w(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(C))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(C))},token:e,providedIn:"root"}),e=zh([Gh(0,(0,y.tBr)(C))],e)}(),pf=function(){function e(t){b(this,e),this._portalHost=t}return w(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),vf=function(){var e=function(){function e(t,n,r,i){b(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return w(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new ff(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new pf(this._createPortalHost(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(df),y.LFG(y._Vd),y.LFG(y.z2F),y.LFG(C))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(df),(0,y.LFG)(y._Vd),(0,y.LFG)(y.z2F),(0,y.LFG)(C))},token:e,providedIn:"root"}),e=zh([Gh(3,(0,y.tBr)(C))],e)}(),gf=function(){function e(t){b(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new io.xQ,this._activate=new io.xQ,this._manualClose=new io.xQ,this._resetTimeout=new io.xQ,this._countDuplicate=new io.xQ}return w(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),yf=function(){function e(t,n){b(this,e),this._toastPackage=t,this._parentInjector=n}return w(e,[{key:"get",value:function(e,t,n){return e===uf?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),mf=function(){var e=function(){function e(t,n,r,i,o){b(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return w(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=g(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(e,t,n){var r,i=g(this.toasts);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.message===e)return o.toastRef.onDuplicate(t,n),o}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run(function(){return i._buildNotification(e,t,n,r)}):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,r){if(!r.toastComponent)throw new Error("toastComponent required");var i=this.findDuplicate(t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(t&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=t;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;var s=t;t&&r.enableHtml&&(s=this.sanitizer.sanitize(y.q3G.HTML,t));var u=new gf(a),c=new uf(this.index,r,s,n,e,u),l=new yf(c,this._injector),h=new hf(r.toastComponent,l),f=a.attach(h,this.toastrConfig.newestOnTop);u.componentInstance=f.instance;var d={toastId:this.index,message:t||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(function(){d.toastRef.activate()})),this.toasts.push(d),d}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(lf),y.LFG(vf),y.LFG(y.zs3),y.LFG(qe),y.LFG(y.R0b))},e.\u0275prov=(0,y.Yz7)({factory:function(){return new e((0,y.LFG)(lf),(0,y.LFG)(vf),(0,y.LFG)(y.gxx),(0,y.LFG)(qe),(0,y.LFG)(y.R0b))},token:e,providedIn:"root"}),e=zh([Gh(0,(0,y.tBr)(lf))],e)}(),_f=function(){var e,t=function(){function e(t,n,r){var i=this;b(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){i.duplicatesCount=e})}return w(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(function(){return e.remove()},this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)},+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.timeout=setTimeout(function(){return n.runInsideAngular(e)},t)}):this.timeout=setTimeout(function(){return e()},t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.intervalId=setInterval(function(){return n.runInsideAngular(e)},t)}):this.intervalId=setInterval(function(){return e()},t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run(function(){return e()}):e()}}]),e}();return t.\u0275fac=function(e){return new(e||t)(y.Y36(mf),y.Y36(uf),y.Y36(y.R0b))},t.\u0275cmp=y.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&y.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(y.d8E("@flyInOut",t.state),y.Tol(t.toastClasses),y.Udp("display",t.displayStyle))},attrs:Wh,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(y.YNc(0,Kh,3,0,"button",0),y.YNc(1,Qh,3,5,"div",1),y.YNc(2,Jh,1,3,"div",2),y.YNc(3,Xh,2,4,"div",3),y.YNc(4,$h,2,2,"div",4)),2&e&&(y.Q6J("ngIf",t.options.closeButton),y.xp6(1),y.Q6J("ngIf",t.title),y.xp6(1),y.Q6J("ngIf",t.message&&t.options.enableHtml),y.xp6(1),y.Q6J("ngIf",t.message&&!t.options.enableHtml),y.xp6(1),y.Q6J("ngIf",t.options.progressBar))},directives:[ee],encapsulation:2,data:{animation:[(e=[Ke("inactive",We({opacity:0})),Ke("active",We({opacity:1})),Ke("removed",We({opacity:0})),Ye("inactive => active",ze("{{ easeTime }}ms {{ easing }}")),Ye("active => removed",ze("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:e,options:{}})]}}),t}(),wf=Object.assign(Object.assign({},cf),{toastComponent:_f}),bf=function(){var e=sf=function(){function e(){b(this,e)}return w(e,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:sf,providers:[{provide:lf,useValue:{default:wf,config:e}}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe]]}),e}(),kf=function(){var e=function(){function e(t,n,r){var i=this;b(this,e),this.toastrService=t,this.toastPackage=n,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){i.duplicatesCount=e})}return w(e,[{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(function(){e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(function(){return e.remove()},this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))}},{key:"remove",value:function(){var e=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)}))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10)))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(mf),y.Y36(uf),y.Y36(y.z2F))},e.\u0275cmp=y.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,t){1&e&&y.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(y.Tol(t.toastClasses),y.Udp("display",t.displayStyle))},attrs:Wh,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(y.YNc(0,ef,3,0,"button",0),y.YNc(1,nf,3,5,"div",1),y.YNc(2,rf,1,3,"div",2),y.YNc(3,of,2,4,"div",3),y.YNc(4,af,2,2,"div",4)),2&e&&(y.Q6J("ngIf",t.options.closeButton),y.xp6(1),y.Q6J("ngIf",t.title),y.xp6(1),y.Q6J("ngIf",t.message&&t.options.enableHtml),y.xp6(1),y.Q6J("ngIf",t.message&&!t.options.enableHtml),y.xp6(1),y.Q6J("ngIf",t.options.progressBar))},directives:[ee],encapsulation:2}),e}();Object.assign(Object.assign({},cf),{toastComponent:kf});var xf=function e(t){b(this,e),this.icons=t},Tf=function(){var e=function(){function e(t){if(b(this,e),this.icons=t,!this.icons)throw new Error("No icon provided. Make sure to use 'FeatherModule.pick({ ... })' when importing the module\nRefer to documentation on https://github.com/michaelbazos/angular-feather")}return w(e,null,[{key:"pick",value:function(t){return{ngModule:e,providers:[{provide:xf,multi:!0,useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(xf,8))},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),Sf={Activity:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-activity">\n    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>\n</svg>',Airplay:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-airplay">\n    <path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>\n</svg>',AlertCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>\n</svg>',AlertOctagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>\n</svg>',AlertTriangle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-triangle">\n    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>\n</svg>',AlignCenter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-center">\n    <line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>\n</svg>',AlignJustify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-justify">\n    <line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>\n</svg>',AlignLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-left">\n    <line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>\n</svg>',AlignRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-right">\n    <line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>\n</svg>',Anchor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-anchor">\n    <circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>\n</svg>',Aperture:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-aperture">\n    <circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>\n</svg>',Archive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-archive">\n    <polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>\n</svg>',ArrowDownCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>\n</svg>',ArrowDownLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-left">\n    <line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>\n</svg>',ArrowDownRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-right">\n    <line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>\n</svg>',ArrowDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down">\n    <line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>\n</svg>',ArrowLeftCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-left-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>\n</svg>',ArrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-left">\n    <line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>\n</svg>',ArrowRightCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-right-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',ArrowRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-right">\n    <line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>\n</svg>',ArrowUpCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>\n</svg>',ArrowUpLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-left">\n    <line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>\n</svg>',ArrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-right">\n    <line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>\n</svg>',ArrowUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up">\n    <line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>\n</svg>',AtSign:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-at-sign">\n    <circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>\n</svg>',Award:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-award">\n    <circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>\n</svg>',BarChart2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bar-chart-2">\n    <line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>\n</svg>',BarChart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bar-chart">\n    <line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>\n</svg>',BatteryCharging:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-battery-charging">\n    <path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>\n</svg>',Battery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-battery">\n    <rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>\n</svg>',BellOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bell-off">\n    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Bell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bell">\n    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>\n</svg>',Bluetooth:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bluetooth">\n    <polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>\n</svg>',Bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bold">\n    <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>\n</svg>',BookOpen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-book-open">\n    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>\n</svg>',Book:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-book">\n    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>\n</svg>',Bookmark:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bookmark">\n    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>\n</svg>',Box:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-box">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Briefcase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-briefcase">\n    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>\n</svg>',Calendar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-calendar">\n    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>\n</svg>',CameraOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-camera-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>\n</svg>',Camera:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-camera">\n    <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>\n</svg>',Cast:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cast">\n    <path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>\n</svg>',CheckCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check-circle">\n    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>\n</svg>',CheckSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check-square">\n    <polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>\n</svg>',Check:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check">\n    <polyline points="20 6 9 17 4 12"></polyline>\n</svg>',ChevronDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-down">\n    <polyline points="6 9 12 15 18 9"></polyline>\n</svg>',ChevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-left">\n    <polyline points="15 18 9 12 15 6"></polyline>\n</svg>',ChevronRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-right">\n    <polyline points="9 18 15 12 9 6"></polyline>\n</svg>',ChevronUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-up">\n    <polyline points="18 15 12 9 6 15"></polyline>\n</svg>',ChevronsDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-down">\n    <polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>\n</svg>',ChevronsLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-left">\n    <polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>\n</svg>',ChevronsRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-right">\n    <polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>\n</svg>',ChevronsUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-up">\n    <polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>\n</svg>',Chrome:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chrome">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>\n</svg>',Circle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-circle">\n    <circle cx="12" cy="12" r="10"></circle>\n</svg>',Clipboard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-clipboard">\n    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n</svg>',Clock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-clock">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>\n</svg>',CloudDrizzle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-drizzle">\n    <line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>\n</svg>',CloudLightning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-lightning">\n    <path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>\n</svg>',CloudOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-off">\n    <path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',CloudRain:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-rain">\n    <line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>\n</svg>',CloudSnow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-snow">\n    <path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>\n</svg>',Cloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud">\n    <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>\n</svg>',Code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-code">\n    <polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>\n</svg>',Codepen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-codepen">\n    <polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>\n</svg>',Codesandbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-codesandbox">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Coffee:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-coffee">\n    <path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>\n</svg>',Columns:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-columns">\n    <path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>\n</svg>',Command:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-command">\n    <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>\n</svg>',Compass:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-compass">\n    <circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>\n</svg>',Copy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-copy">\n    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>\n</svg>',CornerDownLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-down-left">\n    <polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>\n</svg>',CornerDownRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-down-right">\n    <polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>\n</svg>',CornerLeftDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-left-down">\n    <polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>\n</svg>',CornerLeftUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-left-up">\n    <polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>\n</svg>',CornerRightDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-right-down">\n    <polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>\n</svg>',CornerRightUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-right-up">\n    <polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>\n</svg>',CornerUpLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-up-left">\n    <polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>\n</svg>',CornerUpRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-up-right">\n    <polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>\n</svg>',Cpu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cpu">\n    <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>\n</svg>',CreditCard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-credit-card">\n    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>\n</svg>',Crop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-crop">\n    <path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>\n</svg>',Crosshair:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-crosshair">\n    <circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>\n</svg>',Database:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-database">\n    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>\n</svg>',Delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-delete">\n    <path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>\n</svg>',Disc:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-disc">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>\n</svg>',DollarSign:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-dollar-sign">\n    <line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>\n</svg>',DownloadCloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-download-cloud">\n    <polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>\n</svg>',Download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-download">\n    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>\n</svg>',Droplet:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-droplet">\n    <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>\n</svg>',Edit2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit-2">\n    <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>\n</svg>',Edit3:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit-3">\n    <path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>\n</svg>',Edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit">\n    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n</svg>',ExternalLink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-external-link">\n    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>\n</svg>',EyeOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-eye-off">\n    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Eye:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-eye">\n    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>\n</svg>',Facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-facebook">\n    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>\n</svg>',FastForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-fast-forward">\n    <polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>\n</svg>',Feather:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-feather">\n    <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>\n</svg>',Figma:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-figma">\n    <path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>\n</svg>',FileMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-minus">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>\n</svg>',FilePlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-plus">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>\n</svg>',FileText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-text">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>\n</svg>',File:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file">\n    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>\n</svg>',Film:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-film">\n    <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>\n</svg>',Filter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-filter">\n    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>\n</svg>',Flag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-flag">\n    <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>\n</svg>',FolderMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder-minus">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>\n</svg>',FolderPlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder-plus">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>\n</svg>',Folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>\n</svg>',Framer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-framer">\n    <path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>\n</svg>',Frown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-frown">\n    <circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Gift:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-gift">\n    <polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>\n</svg>',GitBranch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-branch">\n    <line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>\n</svg>',GitCommit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-commit">\n    <circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>\n</svg>',GitMerge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-merge">\n    <circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>\n</svg>',GitPullRequest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-pull-request">\n    <circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>\n</svg>',Github:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-github">\n    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>\n</svg>',Gitlab:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-gitlab">\n    <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>\n</svg>',Globe:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-globe">\n    <circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>\n</svg>',Grid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-grid">\n    <rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>\n</svg>',HardDrive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hard-drive">\n    <line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>\n</svg>',Hash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hash">\n    <line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>\n</svg>',Headphones:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-headphones">\n    <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>\n</svg>',Heart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-heart">\n    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>\n</svg>',HelpCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-help-circle">\n    <circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>\n</svg>',Hexagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hexagon">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>\n</svg>',Home:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-home">\n    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>\n</svg>',Image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-image">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>\n</svg>',Inbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-inbox">\n    <polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>\n</svg>',Info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-info">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>\n</svg>',Instagram:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-instagram">\n    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>\n</svg>',Italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-italic">\n    <line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>\n</svg>',Key:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-key">\n    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>\n</svg>',Layers:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layers">\n    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>\n</svg>',Layout:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layout">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>\n</svg>',LifeBuoy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-life-buoy">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>\n</svg>',Link2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-link-2">\n    <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-link">\n    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>\n</svg>',Linkedin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-linkedin">\n    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>\n</svg>',List:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-list">\n    <line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>\n</svg>',Loader:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-loader">\n    <line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>\n</svg>',Lock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-lock">\n    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>\n</svg>',LogIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-log-in">\n    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>\n</svg>',LogOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-log-out">\n    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>\n</svg>',Mail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mail">\n    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>\n</svg>',MapPin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-map-pin">\n    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>\n</svg>',Map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-map">\n    <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>\n</svg>',Maximize2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-maximize-2">\n    <polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>\n</svg>',Maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-maximize">\n    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>\n</svg>',Meh:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-meh">\n    <circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-menu">\n    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>\n</svg>',MessageCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-message-circle">\n    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>\n</svg>',MessageSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-message-square">\n    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n</svg>',MicOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mic-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>\n</svg>',Mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mic">\n    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>\n</svg>',Minimize2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minimize-2">\n    <polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>\n</svg>',Minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minimize">\n    <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>\n</svg>',MinusCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',MinusSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Minus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus">\n    <line x1="5" y1="12" x2="19" y2="12"></line>\n</svg>',Monitor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-monitor">\n    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>\n</svg>',Moon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-moon">\n    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>\n</svg>',MoreHorizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-more-horizontal">\n    <circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>\n</svg>',MoreVertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-more-vertical">\n    <circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>\n</svg>',MousePointer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mouse-pointer">\n    <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>\n</svg>',Move:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-move">\n    <polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>\n</svg>',Music:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-music">\n    <path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>\n</svg>',Navigation2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-navigation-2">\n    <polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>\n</svg>',Navigation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-navigation">\n    <polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>\n</svg>',Octagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>\n</svg>',Package:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-package">\n    <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Paperclip:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-paperclip">\n    <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>\n</svg>',PauseCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pause-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>\n</svg>',Pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pause">\n    <rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>\n</svg>',PenTool:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pen-tool">\n    <path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>\n</svg>',Percent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-percent">\n    <line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>\n</svg>',PhoneCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-call">\n    <path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneForwarded:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-forwarded">\n    <polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneIncoming:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-incoming">\n    <polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneMissed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-missed">\n    <line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-off">\n    <path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>\n</svg>',PhoneOutgoing:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-outgoing">\n    <polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',Phone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone">\n    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PieChart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pie-chart">\n    <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>\n</svg>',PlayCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-play-circle">\n    <circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>\n</svg>',Play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-play">\n    <polygon points="5 3 19 12 5 21 5 3"></polygon>\n</svg>',PlusCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',PlusSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus">\n    <line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>\n</svg>',Pocket:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pocket">\n    <path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>\n</svg>',Power:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-power">\n    <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>\n</svg>',Printer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-printer">\n    <polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>\n</svg>',Radio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-radio">\n    <circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>\n</svg>',RefreshCcw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-refresh-ccw">\n    <polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>\n</svg>',RefreshCw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-refresh-cw">\n    <polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>\n</svg>',Repeat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-repeat">\n    <polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>\n</svg>',Rewind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rewind">\n    <polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>\n</svg>',RotateCcw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rotate-ccw">\n    <polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>\n</svg>',RotateCw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rotate-cw">\n    <polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>\n</svg>',Rss:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rss">\n    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>\n</svg>',Save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-save">\n    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>\n</svg>',Scissors:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-scissors">\n    <circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>\n</svg>',Search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-search">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>\n</svg>',Send:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-send">\n    <line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>\n</svg>',Server:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-server">\n    <rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>\n</svg>',Settings:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-settings">\n    <circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>\n</svg>',Share2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-share-2">\n    <circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>\n</svg>',Share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-share">\n    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>\n</svg>',ShieldOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shield-off">\n    <path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Shield:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shield">\n    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>\n</svg>',ShoppingBag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shopping-bag">\n    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>\n</svg>',ShoppingCart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shopping-cart">\n    <circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>\n</svg>',Shuffle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shuffle">\n    <polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>\n</svg>',Sidebar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sidebar">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>\n</svg>',SkipBack:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-skip-back">\n    <polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>\n</svg>',SkipForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-skip-forward">\n    <polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>\n</svg>',Slack:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-slack">\n    <path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>\n</svg>',Slash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-slash">\n    <circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>\n</svg>',Sliders:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sliders">\n    <line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>\n</svg>',Smartphone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-smartphone">\n    <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>\n</svg>',Smile:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-smile">\n    <circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Speaker:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-speaker">\n    <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>\n</svg>',Square:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>\n</svg>',Star:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-star">\n    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>\n</svg>',StopCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-stop-circle">\n    <circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>\n</svg>',Sun:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sun">\n    <circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>\n</svg>',Sunrise:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sunrise">\n    <path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>\n</svg>',Sunset:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sunset">\n    <path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>\n</svg>',Tablet:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tablet">\n    <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>\n</svg>',Tag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tag">\n    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>\n</svg>',Target:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-target">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>\n</svg>',Terminal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-terminal">\n    <polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>\n</svg>',Thermometer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thermometer">\n    <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>\n</svg>',ThumbsDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thumbs-down">\n    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>\n</svg>',ThumbsUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thumbs-up">\n    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>\n</svg>',ToggleLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-toggle-left">\n    <rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>\n</svg>',ToggleRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-toggle-right">\n    <rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>\n</svg>',Tool:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tool">\n    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>\n</svg>',Trash2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trash-2">\n    <polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>\n</svg>',Trash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trash">\n    <polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n</svg>',Trello:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trello">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>\n</svg>',TrendingDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trending-down">\n    <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>\n</svg>',TrendingUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trending-up">\n    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>\n</svg>',Triangle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-triangle">\n    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>\n</svg>',Truck:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-truck">\n    <rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>\n</svg>',Tv:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tv">\n    <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>\n</svg>',Twitch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-twitch">\n    <path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>\n</svg>',Twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-twitter">\n    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>\n</svg>',Type:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-type">\n    <polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>\n</svg>',Umbrella:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-umbrella">\n    <path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>\n</svg>',Underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-underline">\n    <path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>\n</svg>',Unlock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-unlock">\n    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>\n</svg>',UploadCloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-upload-cloud">\n    <polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>\n</svg>',Upload:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-upload">\n    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>\n</svg>',UserCheck:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-check">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>\n</svg>',UserMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-minus">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>\n</svg>',UserPlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-plus">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>\n</svg>',UserX:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-x">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>\n</svg>',User:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user">\n    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>\n</svg>',Users:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-users">\n    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>\n</svg>',VideoOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-video-off">\n    <path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-video">\n    <polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>\n</svg>',Voicemail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-voicemail">\n    <circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>\n</svg>',Volume1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-1">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>\n</svg>',Volume2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-2">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>\n</svg>',VolumeX:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-x">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>\n</svg>',Volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>\n</svg>',Watch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-watch">\n    <circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>\n</svg>',WifiOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wifi-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>\n</svg>',Wifi:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wifi">\n    <path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>\n</svg>',Wind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wind">\n    <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>\n</svg>',XCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>\n</svg>',XOctagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>\n</svg>',XSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>\n</svg>',X:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x">\n    <line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>\n</svg>',Youtube:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-youtube">\n    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>\n</svg>',ZapOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zap-off">\n    <polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Zap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zap">\n    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>\n</svg>',ZoomIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zoom-in">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>\n</svg>',ZoomOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zoom-out">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>\n</svg>'},Cf=v(1062),Ef=(v(9738),v(2107),v(250)),Af=v(308),If=function(e,t){return(If=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Nf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Of,Pf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rf=Rf||{},Df=Pf||self;function Mf(){}function Lf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ff(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qf="closure_uid_"+(1e9*Math.random()>>>0),Uf=0;function Zf(e,t,n){return e.call.apply(e.bind,arguments)}function jf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vf(e,t,n){return(Vf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zf:jf).apply(null,arguments)}function Bf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Hf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function zf(){this.s=this.s,this.o=this.o}var Gf={};zf.prototype.s=!1,zf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,qf)&&e[qf]||(e[qf]=++Uf)}(this);delete Gf[e]}},zf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Wf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Yf(e){return Array.prototype.concat.apply([],arguments)}function Qf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jf(e){return/^[\s\xa0]*$/.test(e)}var Xf,$f=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ed(e,t){return-1!=e.indexOf(t)}function td(e,t){return e<t?-1:e>t?1:0}e:{var nd=Df.navigator;if(nd){var rd=nd.userAgent;if(rd){Xf=rd;break e}}Xf=""}function id(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function od(e){var t={};for(var n in e)t[n]=e[n];return t}var ad="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ad.length;o++)n=ad[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ud(e){return ud[" "](e),e}ud[" "]=Mf;var cd,ld,hd=ed(Xf,"Opera"),fd=ed(Xf,"Trident")||ed(Xf,"MSIE"),dd=ed(Xf,"Edge"),pd=dd||fd,vd=ed(Xf,"Gecko")&&!(ed(Xf.toLowerCase(),"webkit")&&!ed(Xf,"Edge"))&&!(ed(Xf,"Trident")||ed(Xf,"MSIE"))&&!ed(Xf,"Edge"),gd=ed(Xf.toLowerCase(),"webkit")&&!ed(Xf,"Edge");function yd(){var e=Df.document;return e?e.documentMode:void 0}e:{var md="",_d=(ld=Xf,vd?/rv:([^\);]+)(\)|;)/.exec(ld):dd?/Edge\/([\d\.]+)/.exec(ld):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ld):gd?/WebKit\/(\S+)/.exec(ld):hd?/(?:Version)[ \/]?(\S+)/.exec(ld):void 0);if(_d&&(md=_d?_d[1]:""),fd){var wd=yd();if(null!=wd&&wd>parseFloat(md)){cd=String(wd);break e}}cd=md}var bd={},kd=Df.document&&fd&&(yd()||parseInt(cd,10))||void 0,xd=function(){if(!Df.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Df.addEventListener("test",Mf,t),Df.removeEventListener("test",Mf,t)}catch(n){}return e}();function Td(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Sd(e,t){if(Td.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vd){e:{try{ud(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Cd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sd.Z.h.call(this)}}Td.prototype.h=function(){this.defaultPrevented=!0},Hf(Sd,Td);var Cd={2:"touch",3:"pen",4:"mouse"};Sd.prototype.h=function(){Sd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ed="closure_listenable_"+(1e6*Math.random()|0),Ad=0;function Id(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ad,this.ca=this.fa=!1}function Nd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Od(e){this.src=e,this.g={},this.h=0}function Pd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Wf(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Nd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rd(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Od.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Rd(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Id(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Dd="closure_lm_"+(1e6*Math.random()|0),Md={};function Ld(e,t,n,r,i){if(r&&r.once)return qd(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ld(e,t[o],n,r,i);return null}return n=zd(n),e&&e[Ed]?e.N(t,n,Ff(r)?!!r.capture:!!r,i):Fd(e,t,n,!1,r,i)}function Fd(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ff(i)?!!i.capture:!!i,s=Bd(e);if(s||(e[Dd]=s=new Od(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Vd;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xd||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qd(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)qd(e,t[o],n,r,i);return null}return n=zd(n),e&&e[Ed]?e.O(t,n,Ff(r)?!!r.capture:!!r,i):Fd(e,t,n,!0,r,i)}function Ud(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ud(e,t[o],n,r,i);else r=Ff(r)?!!r.capture:!!r,n=zd(n),e&&e[Ed]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Rd(o=e.g[t],n,r,i))&&(Nd(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Bd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rd(t,n,r,i)),(n=-1<e?t[e]:null)&&Zd(n))}function Zd(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ed])Pd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bd(t))?(Pd(n,e),0==n.h&&(n.src=null,t[Dd]=null)):Nd(e)}}}function jd(e){return e in Md?Md[e]:Md[e]="on"+e}function Vd(e,t){if(e.ca)e=!0;else{t=new Sd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zd(e),e=n.call(r,t)}return e}function Bd(e){return(e=e[Dd])instanceof Od?e:null}var Hd="__closure_events_fn_"+(1e9*Math.random()>>>0);function zd(e){return"function"==typeof e?e:(e[Hd]||(e[Hd]=function(t){return e.handleEvent(t)}),e[Hd])}function Gd(){zf.call(this),this.i=new Od(this),this.P=this,this.I=null}function Wd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Td(t,e);else if(t instanceof Td)t.target=t.target||e;else{var i=t;sd(t=new Td(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Kd(a,r,!0,t)&&i}if(i=Kd(a=t.g=e,r,!0,t)&&i,i=Kd(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Kd(a=t.g=n[o],r,!1,t)&&i}function Kd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Pd(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Hf(Gd,zf),Gd.prototype[Ed]=!0,Gd.prototype.removeEventListener=function(e,t,n,r){Ud(this,e,t,n,r)},Gd.prototype.M=function(){if(Gd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nd(n[r]);delete t.g[e],t.h--}}this.I=null},Gd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yd=Df.JSON.stringify;function Qd(){var e=ip,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jd,Xd=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=$d.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),$d=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new ep},function(e){return e.reset()}),ep=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function tp(e){Df.setTimeout(function(){throw e},0)}function np(e,t){Jd||function(){var e=Df.Promise.resolve(void 0);Jd=function(){e.then(op)}}(),rp||(Jd(),rp=!0),ip.add(e,t)}var rp=!1,ip=new Xd;function op(){for(var e;e=Qd();){try{e.h.call(e.g)}catch(n){tp(n)}var t=$d;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rp=!1}function ap(e,t){Gd.call(this),this.h=e||1,this.g=t||Df,this.j=Vf(this.kb,this),this.l=Date.now()}function sp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function up(e,t,n){if("function"==typeof e)n&&(e=Vf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Df.setTimeout(e,t||0)}function cp(e){e.g=up(function(){e.g=null,e.i&&(e.i=!1,cp(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Hf(ap,Gd),(Of=ap.prototype).da=!1,Of.S=null,Of.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wd(this,"tick"),this.da&&(sp(this),this.start()))}},Of.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Of.M=function(){ap.Z.M.call(this),sp(this),delete this.g};var lp=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}If(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:cp(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Df.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(zf);function hp(e){zf.call(this),this.h=e,this.g={}}Hf(hp,zf);var fp=[];function dp(e,t,n,r){Array.isArray(n)||(n&&(fp[0]=n.toString()),n=fp);for(var i=0;i<n.length;i++){var o=Ld(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function pp(e){id(e.g,function(e,t){this.g.hasOwnProperty(t)&&Zd(e)},e),e.g={}}function vp(){this.g=!0}function gp(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Yd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}hp.prototype.M=function(){hp.Z.M.call(this),pp(this)},hp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vp.prototype.Aa=function(){this.g=!1},vp.prototype.info=function(){};var yp={},mp=null;function _p(){return mp=mp||new Gd}function wp(e){Td.call(this,yp.Ma,e)}function bp(e){var t=_p();Wd(t,new wp(t,e))}function kp(e,t){Td.call(this,yp.STAT_EVENT,e),this.stat=t}function xp(e){var t=_p();Wd(t,new kp(t,e))}function Tp(e,t){Td.call(this,yp.Na,e),this.size=t}function Sp(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Df.setTimeout(function(){e()},t)}yp.Ma="serverreachability",Hf(wp,Td),yp.STAT_EVENT="statevent",Hf(kp,Td),yp.Na="timingevent",Hf(Tp,Td);var Cp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ep={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ap(){}function Ip(){}Ap.prototype.h=null;var Np,Op={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pp(){Td.call(this,"d")}function Rp(){Td.call(this,"c")}function Dp(){}function Mp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hp(this),this.P=Fp,this.W=new ap(e=pd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lp}function Lp(){this.i=null,this.g="",this.h=!1}Hf(Pp,Td),Hf(Rp,Td),Hf(Dp,Ap),Dp.prototype.g=function(){return new XMLHttpRequest},Dp.prototype.i=function(){return{}},Np=new Dp;var Fp=45e3,qp={},Up={};function Zp(e,t,n){e.K=1,e.v=cv(rv(t)),e.s=n,e.U=!0,jp(e,null)}function jp(e,t){e.F=Date.now(),zp(e),e.A=rv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),kv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Lp,e.g=xg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new lp(Vf(e.Ia,e,e.g),e.O)),dp(e.V,e.g,"readystatechange",e.gb),t=e.H?od(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),bp(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Vp(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Bp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Hp(e,n))==Up){4==t&&(e.o=4,xp(14),i=!1),gp(e.j,e.m,null,"[Incomplete Response]");break}if(r==qp){e.o=4,xp(15),gp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gp(e.j,e.m,r,null),Qp(e,r)}Vp(e)&&r!=Up&&r!=qp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),vg(t),t.L=!0,xp(11))):(gp(e.j,e.m,n,"[Invalid Chunked Response]"),Yp(e),Kp(e))}function Hp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Up:(n=Number(t.substring(n,r)),isNaN(n)?qp:(r+=1)+n>t.length?Up:(t=t.substr(r,n),e.C=r+n,t))}function zp(e){e.Y=Date.now()+e.P,Gp(e,e.P)}function Gp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sp(Vf(e.eb,e),t)}function Wp(e){e.B&&(Df.clearTimeout(e.B),e.B=null)}function Kp(e){0==e.l.G||e.I||mg(e.l,e)}function Yp(e){Wp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,sp(e.W),pp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Iv(n.i,e)))if(n.I=e.N,!e.J&&Iv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;yg(n),ag(n)}pg(n),xp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Sp(Vf(n.ab,n),6e3));if(1>=Av(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else wg(n,11)}else if((e.J||n.g==e)&&yg(n),!Jf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(ed(l,"spdy")||ed(l,"quic")||ed(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Nv(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,uv(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=kg(r,r.H?r.la:null,r.W),d.J){Ov(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Wp(p),zp(p)),r.g=d}else dg(r);0<n.l.length&&cg(n)}else"stop"!=o[0]&&"close"!=o[0]||wg(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?wg(n,7):og(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}bp(4)}catch(o){}}function Jp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lf(e)||"string"==typeof e)Kf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Lf(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Lf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Xp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $p(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ev(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ev(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ev(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Of=Mp.prototype).setTimeout=function(e){this.P=e},Of.gb=function(e){e=e.target;var t=this.L;t&&3==eg(e)?t.l():this.Ia(e)},Of.Ia=function(e){try{if(e==this.g)e:{var t=eg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||pd||this.g&&(this.h.h||this.g.ga()||tg(this.g)))){this.I||4!=t||7==n||bp(8==n||0>=r?3:2),Wp(this);var i=this.g.ba();this.N=i;t:if(Vp(this)){var o=tg(this.g);e="";var a=o.length,s=4==eg(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yp(this),Kp(this);var u="";break t}this.h.i=new Df.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jf(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,xp(12),Yp(this),Kp(this);break e}gp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qp(this,i)}this.U?(Bp(this,t,u),pd&&this.i&&3==t&&(dp(this.V,this.W,"tick",this.fb),this.W.start())):(gp(this.j,this.m,u,null),Qp(this,u)),4==t&&Yp(this),this.i&&!this.I&&(4==t?mg(this.l,this):(this.i=!1,zp(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,xp(12)):(this.o=0,xp(13)),Yp(this),Kp(this)}}}catch(t){}},Of.fb=function(){if(this.g){var e=eg(this.g),t=this.g.ga();this.C<t.length&&(Wp(this),Bp(this,e,t),this.i&&4!=e&&zp(this))}},Of.cancel=function(){this.I=!0,Yp(this)},Of.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(bp(3),xp(17)),Yp(this),this.o=2,Kp(this)):Gp(this,this.Y-e)},(Of=Xp.prototype).R=function(){$p(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Of.T=function(){return $p(this),this.g.concat()},Of.get=function(e,t){return ev(this.h,e)?this.h[e]:t},Of.set=function(e,t){ev(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Of.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var tv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof nv){this.g=void 0!==t?t:e.g,iv(this,e.j),this.s=e.s,ov(this,e.i),av(this,e.m),this.l=e.l,t=e.h;var n=new mv;n.i=t.i,t.g&&(n.g=new Xp(t.g),n.h=t.h),sv(this,n),this.o=e.o}else e&&(n=String(e).match(tv))?(this.g=!!t,iv(this,n[1]||"",!0),this.s=lv(n[2]||""),ov(this,n[3]||"",!0),av(this,n[4]),this.l=lv(n[5]||"",!0),sv(this,n[6]||"",!0),this.o=lv(n[7]||"")):(this.g=!!t,this.h=new mv(null,this.g))}function rv(e){return new nv(e)}function iv(e,t,n){e.j=n?lv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ov(e,t,n){e.i=n?lv(t,!0):t}function av(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sv(e,t,n){t instanceof mv?(e.h=t,function(e,t){t&&!e.j&&(_v(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(wv(this,t),kv(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=hv(t,gv)),e.h=new mv(t,e.g))}function uv(e,t,n){e.h.set(t,n)}function cv(e){return uv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hv(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,fv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hv(t,dv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hv(t,dv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(hv(n,"/"==n.charAt(0)?vv:pv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hv(n,yv)),e.join("")};var dv=/[#\/\?@]/g,pv=/[#\?:]/g,vv=/[#\?]/g,gv=/[#\?@]/g,yv=/#/g;function mv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _v(e){e.g||(e.g=new Xp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function wv(e,t){_v(e),t=xv(e,t),ev(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ev((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$p(e)))}function bv(e,t){return _v(e),t=xv(e,t),ev(e.g.h,t)}function kv(e,t,n){wv(e,t),0<n.length&&(e.i=null,e.g.set(xv(e,t),Qf(n)),e.h+=n.length)}function xv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Of=mv.prototype).add=function(e,t){_v(this),this.i=null,e=xv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Of.forEach=function(e,t){_v(this),this.g.forEach(function(n,r){Kf(n,function(n){e.call(t,n,r,this)},this)},this)},Of.T=function(){_v(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Of.R=function(e){_v(this);var t=[];if("string"==typeof e)bv(this,e)&&(t=Yf(t,this.g.get(xv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yf(t,e[n])}return t},Of.set=function(e,t){return _v(this),this.i=null,bv(this,e=xv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Of.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Of.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Tv=function(e,t){this.h=e,this.g=t};function Sv(e){this.l=e||Cv,e=Df.PerformanceNavigationTiming?0<(e=Df.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Df.g&&Df.g.Ea&&Df.g.Ea()&&Df.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cv=10;function Ev(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Av(e){return e.h?1:e.g?e.g.size:0}function Iv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Nv(e,t){e.g?e.g.add(t):e.h=t}function Ov(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pv(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=Nf(e.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Qf(e.i)}function Rv(){}function Dv(){this.g=new Rv}function Mv(e,t,n){var r=n||"";try{Jp(e,function(e,n){var i=e;Ff(e)&&(i=Yd(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(KC){throw t.push(r+"type="+encodeURIComponent("_badmap")),KC}}function Lv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Fv(e){this.l=e.$b||null,this.j=e.ib||!1}function qv(e,t){Gd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Uv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sv.prototype.cancel=function(){var e,t;if(this.i=Pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Nf(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Rv.prototype.stringify=function(e){return Df.JSON.stringify(e,void 0)},Rv.prototype.parse=function(e){return Df.JSON.parse(e,void 0)},Hf(Fv,Ap),Fv.prototype.g=function(){return new qv(this.l,this.j)},Fv.prototype.i=function(e){return function(){return e}}({}),Hf(qv,Gd);var Uv=0;function Zv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function jv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vv(e)}function Vv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Of=qv.prototype).open=function(e,t){if(this.readyState!=Uv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vv(this)},Of.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Df).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Of.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jv(this)),this.readyState=Uv},Of.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vv(this)),this.g&&(this.readyState=3,Vv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Df.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Of.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jv(this):Vv(this),3==this.readyState&&Zv(this)}},Of.Ua=function(e){this.g&&(this.response=this.responseText=e,jv(this))},Of.Ta=function(e){this.g&&(this.response=e,jv(this))},Of.ha=function(){this.g&&jv(this)},Of.setRequestHeader=function(e,t){this.v.append(e,t)},Of.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Of.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bv=Df.JSON.parse;function Hv(e){Gd.call(this),this.headers=new Xp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zv,this.K=this.L=!1}Hf(Hv,Gd);var zv="",Gv=/^https?$/i,Wv=["POST","PUT"];function Kv(e){return"content-type"==e.toLowerCase()}function Yv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qv(e),Xv(e)}function Qv(e){e.D||(e.D=!0,Wd(e,"complete"),Wd(e,"error"))}function Jv(e){if(e.h&&void 0!==Rf&&(!e.C[1]||4!=eg(e)||2!=e.ba()))if(e.v&&4==eg(e))up(e.Fa,0,e);else if(Wd(e,"readystatechange"),4==eg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(tv)[1]||null;if(!o&&Df.self&&Df.self.location){var a=Df.self.location.protocol;o=a.substr(0,a.length-1)}i=!Gv.test(o?o.toLowerCase():"")}t=i}if(t)Wd(e,"complete"),Wd(e,"success");else{e.m=6;try{var s=2<eg(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Qv(e)}}finally{Xv(e)}}}function Xv(e,t){if(e.g){$v(e);var n=e.g,r=e.C[0]?Mf:null;e.g=null,e.C=null,t||Wd(e,"ready");try{n.onreadystatechange=r}catch(KC){}}}function $v(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Df.clearTimeout(e.A),e.A=null)}function eg(e){return e.g?e.g.readyState:0}function tg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ng(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return id(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):uv(e,t,n))}function rg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ig(e){this.za=0,this.l=[],this.h=new vp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=rg("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=rg("baseRetryDelayMs",5e3,e),this.$a=rg("retryDelaySeedMs",1e4,e),this.Ya=rg("forwardChannelMaxRetries",2,e),this.ra=rg("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Sv(e&&e.concurrentRequestLimit),this.Ca=new Dv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function og(e){if(sg(e),3==e.G){var t=e.V++,n=rv(e.F);uv(n,"SID",e.J),uv(n,"RID",t),uv(n,"TYPE","terminate"),hg(e,n),(t=new Mp(e,e.h,t,void 0)).K=2,t.v=cv(rv(n)),n=!1,Df.navigator&&Df.navigator.sendBeacon&&(n=Df.navigator.sendBeacon(t.v.toString(),"")),!n&&Df.Image&&((new Image).src=t.v,n=!0),n||(t.g=xg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),zp(t)}bg(e)}function ag(e){e.g&&(vg(e),e.g.cancel(),e.g=null)}function sg(e){ag(e),e.u&&(Df.clearTimeout(e.u),e.u=null),yg(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Df.clearTimeout(e.m),e.m=null)}function ug(e,t){e.l.push(new Tv(e.Za++,t)),3==e.G&&cg(e)}function cg(e){Ev(e.i)||e.m||(e.m=!0,np(e.Ha,e),e.C=0)}function lg(e,t){var n;n=t?t.m:e.V++;var r=rv(e.F);uv(r,"SID",e.J),uv(r,"RID",n),uv(r,"AID",e.U),hg(e,r),e.o&&e.s&&ng(r,e.o,e.s),n=new Mp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=fg(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Nv(e.i,n),Zp(n,r,t)}function hg(e,t){e.j&&Jp({},function(e,n){uv(t,n,e)})}function fg(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vf(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{Mv(l,a,"req"+c+"_")}catch(ny){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function dg(e){e.g||e.u||(e.Y=1,np(e.Ga,e),e.A=0)}function pg(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Sp(Vf(e.Ga,e),_g(e,e.A)),e.A++,0))}function vg(e){null!=e.B&&(Df.clearTimeout(e.B),e.B=null)}function gg(e){e.g=new Mp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=rv(e.oa);uv(t,"RID","rpc"),uv(t,"SID",e.J),uv(t,"CI",e.N?"0":"1"),uv(t,"AID",e.U),hg(e,t),uv(t,"TYPE","xmlhttp"),e.o&&e.s&&ng(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=cv(rv(t)),n.s=null,n.U=!0,jp(n,e)}function yg(e){null!=e.v&&(Df.clearTimeout(e.v),e.v=null)}function mg(e,t){var n=null;if(e.g==t){yg(e),vg(e),e.g=null;var r=2}else{if(!Iv(e.i,t))return;n=t.D,Ov(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Wd(r=_p(),new Tp(r,n,t,i)),cg(e)}else dg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Av(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Sp(Vf(e.Ha,e,t),_g(e,e.C)),e.C++,0)))}(e,t)||2==r&&pg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wg(e,5);break;case 4:wg(e,10);break;case 3:wg(e,6);break;default:wg(e,2)}}function _g(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vf(e.jb,e);n||(n=new nv("//www.google.com/images/cleardot.gif"),Df.location&&"http"==Df.location.protocol||iv(n,"https"),cv(n)),function(e,t){var n=new vp;if(Df.Image){var r=new Image;r.onload=Bf(Lv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bf(Lv,n,r,"TestLoadImage: error",!1,t),r.onabort=Bf(Lv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bf(Lv,n,r,"TestLoadImage: timeout",!1,t),Df.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else xp(2);e.G=0,e.j&&e.j.va(t),bg(e),sg(e)}function bg(e){e.G=0,e.I=-1,e.j&&(0==Pv(e.i).length&&0==e.l.length||(e.i.i.length=0,Qf(e.l),e.l.length=0),e.j.ua())}function kg(e,t,n){var r=function(e){return e instanceof nv?rv(e):new nv(e,void 0)}(n);if(""!=r.i)t&&ov(r,t+"."+r.i),av(r,r.m);else{var i=Df.location;r=function(e,t,n,r){var i=new nv(null,void 0);return e&&iv(i,e),t&&ov(i,t),n&&av(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&id(e.aa,function(e,t){uv(r,t,e)}),n=e.sa,(t=e.D)&&n&&uv(r,t,n),uv(r,"VER",e.ma),hg(e,r),r}function xg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Hv(n&&e.Ba&&!e.qa?new Fv({ib:!0}):e.qa)).L=e.H,t}function Tg(){}function Sg(){if(fd&&!(10<=Number(kd)))throw Error("Environmental error: no available transport.")}function Cg(e,t){Gd.call(this),this.g=new ig(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Ig(this)}function Eg(e){Pp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ag(){Rp.call(this),this.status=1}function Ig(e){this.g=e}(Of=Hv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Np.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Np),this.g.onreadystatechange=Vf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Yv(this,o)}e=n||"";var i=new Xp(this.headers);r&&Jp(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Kv,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Df.FormData&&e instanceof Df.FormData,!(0<=Wf(Wv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$v(this),0<this.B&&((this.K=function(e){return fd&&function(){return e=bd,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=$f(String(cd)).split("."),n=$f("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=td(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||td(0==o[2].length,0==a[2].length)||td(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vf(this.pa,this)):this.A=up(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Yv(this,o)}},Of.pa=function(){void 0!==Rf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wd(this,"timeout"),this.abort(8))},Of.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wd(this,"complete"),Wd(this,"abort"),Xv(this))},Of.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xv(this,!0)),Hv.Z.M.call(this)},Of.Fa=function(){this.s||(this.F||this.v||this.l?Jv(this):this.cb())},Of.cb=function(){Jv(this)},Of.ba=function(){try{return 2<eg(this)?this.g.status:-1}catch(ld){return-1}},Of.ga=function(){try{return this.g?this.g.responseText:""}catch(ld){return""}},Of.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bv(t)}},Of.Da=function(){return this.m},Of.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Of=ig.prototype).ma=8,Of.G=1,Of.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Of.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Mp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?sd(n=od(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=fg(this,t,r),uv(i=rv(this.F),"RID",e),uv(i,"CVER",22),this.D&&uv(i,"X-HTTP-Session-Id",this.D),hg(this,i),this.o&&n&&ng(i,this.o,n),Nv(this.i,t),this.Ra&&uv(i,"TYPE","init"),this.ja?(uv(i,"$req",r),uv(i,"SID","null"),t.$=!0,Zp(t,i,null)):Zp(t,i,r),this.G=2}}else 3==this.G&&(e?lg(this,e):0==this.l.length||Ev(this.i)||lg(this))},Of.Ga=function(){if(this.u=null,gg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Sp(Vf(this.bb,this),e)}},Of.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xp(10),ag(this),gg(this))},Of.ab=function(){null!=this.v&&(this.v=null,ag(this),pg(this),xp(19))},Of.jb=function(e){e?(this.h.info("Successfully pinged google.com"),xp(2)):(this.h.info("Failed to ping google.com"),xp(1))},(Of=Tg.prototype).xa=function(){},Of.wa=function(){},Of.va=function(){},Of.ua=function(){},Of.Oa=function(){},Sg.prototype.g=function(e,t){return new Cg(e,t)},Hf(Cg,Gd),Cg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),np(Vf(e.hb,e,t))),xp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=kg(e,null,e.W),cg(e)},Cg.prototype.close=function(){og(this.g)},Cg.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,ug(this.g,t)}else this.v?((t={}).__data__=Yd(e),ug(this.g,t)):ug(this.g,e)},Cg.prototype.M=function(){this.g.j=null,delete this.j,og(this.g),delete this.g,Cg.Z.M.call(this)},Hf(Eg,Pp),Hf(Ag,Rp),Hf(Ig,Tg),Ig.prototype.xa=function(){Wd(this.g,"a")},Ig.prototype.wa=function(e){Wd(this.g,new Eg(e))},Ig.prototype.va=function(e){Wd(this.g,new Ag(e))},Ig.prototype.ua=function(){Wd(this.g,"b")},Sg.prototype.createWebChannel=Sg.prototype.g,Cg.prototype.send=Cg.prototype.u,Cg.prototype.open=Cg.prototype.m,Cg.prototype.close=Cg.prototype.close,Cp.NO_ERROR=0,Cp.TIMEOUT=8,Cp.HTTP_ERROR=6,Ep.COMPLETE="complete",Ip.EventType=Op,Op.OPEN="a",Op.CLOSE="b",Op.ERROR="c",Op.MESSAGE="d",Gd.prototype.listen=Gd.prototype.N,Hv.prototype.listenOnce=Hv.prototype.O,Hv.prototype.getLastError=Hv.prototype.La,Hv.prototype.getLastErrorCode=Hv.prototype.Da,Hv.prototype.getStatus=Hv.prototype.ba,Hv.prototype.getResponseJson=Hv.prototype.Qa,Hv.prototype.getResponseText=Hv.prototype.ga,Hv.prototype.send=Hv.prototype.ea;var Ng=Cp,Og=Ep,Pg=yp,Rg=Fv,Dg=Ip,Mg=Hv,Lg=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Lg.o=-1;var Fg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qg=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Qu.__extends)(t,e),t}(Error),Ug=new Af.Logger("@firebase/firestore");function Zg(){return Ug.logLevel}function jg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ug.logLevel<=Af.LogLevel.DEBUG){var r=t.map(Hg);Ug.debug.apply(Ug,(0,Qu.__spreadArray)(["Firestore (8.8.1): "+e],r))}}function Vg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ug.logLevel<=Af.LogLevel.ERROR){var r=t.map(Hg);Ug.error.apply(Ug,(0,Qu.__spreadArray)(["Firestore (8.8.1): "+e],r))}}function Bg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ug.logLevel<=Af.LogLevel.WARN){var r=t.map(Hg);Ug.warn.apply(Ug,(0,Qu.__spreadArray)(["Firestore (8.8.1): "+e],r))}}function Hg(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(KC){return e}}function zg(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+e;throw Vg(t),new Error(t)}function Gg(e,t){e||zg()}function Wg(e,t){return e}function Kg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Yg=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Kg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Qg(e,t){return e<t?-1:e>t?1:0}function Jg(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Xg(e){return e+"\0"}var $g=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qg(Fg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qg(Fg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qg(Fg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qg(Fg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Qg(this.nanoseconds,e.nanoseconds):Qg(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ey=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new $g(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function ty(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ny(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ry(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var iy=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&zg(),void 0===n?n=e.length-t:n>e.length-t&&zg(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),oy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new qg(Fg.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(iy),ay=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return ay.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new qg(Fg.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new qg(Fg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qg(Fg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new qg(Fg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(iy),uy=function(){function e(e){this.fields=e,e.sort(sy.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Jg(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),cy=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Qg(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();cy.EMPTY_BYTE_STRING=new cy("");var ly=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hy(e){if(Gg(!!e),"string"==typeof e){var t=0,n=ly.exec(e);if(Gg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fy(e.seconds),nanos:fy(e.nanos)}}function fy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dy(e){return"string"==typeof e?cy.fromBase64String(e):cy.fromUint8Array(e)}function py(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vy(e){var t=e.mapValue.fields.__previous_value__;return py(t)?vy(t):t}function gy(e){var t=hy(e.mapValue.fields.__local_write_time__.timestampValue);return new $g(t.seconds,t.nanos)}function yy(e){return null==e}function my(e){return 0===e&&1/e==-1/0}function _y(e){return"number"==typeof e&&Number.isInteger(e)&&!my(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wy=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(oy.fromString(t))},e.fromName=function(t){return new e(oy.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===oy.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return oy.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new oy(t.slice()))},e}();function by(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?py(e)?4:10:zg()}function ky(e,t){var n=by(e);if(n!==by(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gy(e).isEqual(gy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hy(e.timestampValue),r=hy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dy(e.bytesValue).isEqual(dy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fy(e.geoPointValue.latitude)===fy(t.geoPointValue.latitude)&&fy(e.geoPointValue.longitude)===fy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fy(e.integerValue)===fy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fy(e.doubleValue),r=fy(t.doubleValue);return n===r?my(n)===my(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jg(e.arrayValue.values||[],t.arrayValue.values||[],ky);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ty(n)!==ty(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ky(n[i],r[i])))return!1;return!0}(e,t);default:return zg()}}function xy(e,t){return void 0!==(e.values||[]).find(function(e){return ky(e,t)})}function Ty(e,t){var n=by(e),r=by(t);if(n!==r)return Qg(n,r);switch(n){case 0:return 0;case 1:return Qg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fy(e.integerValue||e.doubleValue),r=fy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sy(e.timestampValue,t.timestampValue);case 4:return Sy(gy(e),gy(t));case 5:return Qg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=dy(e),r=dy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Qg(n[i],r[i]);if(0!==o)return o}return Qg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Qg(fy(e.latitude),fy(t.latitude));return 0!==n?n:Qg(fy(e.longitude),fy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ty(n[i],r[i]);if(o)return o}return Qg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Qg(r[a],o[a]);if(0!==s)return s;var u=Ty(n[r[a]],i[o[a]]);if(0!==u)return u}return Qg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw zg()}}function Sy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Qg(e,t);var n=hy(e),r=hy(t),i=Qg(n.seconds,r.seconds);return 0!==i?i:Qg(n.nanos,r.nanos)}function Cy(e){return Ey(e)}function Ey(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hy(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dy(e.bytesValue).toBase64():"referenceValue"in e?wy.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=Ey(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+Ey(e.fields[o])}return t+"}"}(e.mapValue):zg();var t}function Ay(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Iy(e){return!!e&&"integerValue"in e}function Ny(e){return!!e&&"arrayValue"in e}function Oy(e){return!!e&&"nullValue"in e}function Py(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ry(e){return!!e&&"mapValue"in e}function Dy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ny(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Dy(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dy(e.arrayValue.values[r]);return n}return Object.assign({},e)}var My=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ry(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dy(t)},e.prototype.setAll=function(e){var t=this,n=sy.emptyPath(),r={},i=[];e.forEach(function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Dy(e):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ry(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ky(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ry(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){ny(t,function(t,n){return e[t]=n});for(var r=0,i=n;r<i.length;r++)delete e[i[r]]},e.prototype.clone=function(){return new e(Dy(this.value))},e}();function Ly(e){var t=[];return ny(e.fields,function(e,n){var r=new sy([e]);if(Ry(n)){var i=Ly(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++)t.push(r.child(a[o]))}else t.push(r)}),new uy(t)}var Fy=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ey.min(),My.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,My.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,My.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=My.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=My.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),qy=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Uy(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new qy(e,t,n,r,i,o,a)}function Zy(e){var t=Wg(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Cy(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),yy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$y(t.startAt)),t.endAt&&(n+="|ub:",n+=$y(t.endAt)),t.h=n}return t.h}function jy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!ky(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rm(e.startAt,t.startAt)&&rm(e.endAt,t.endAt)}function Vy(e){return wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var By=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,Qu.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Hy(e,n,r):"array-contains"===n?new Ky(e,r):"in"===n?new Yy(e,r):"not-in"===n?new Qy(e,r):"array-contains-any"===n?new Jy(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new zy(e,n):new Gy(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ty(t,this.value)):null!==t&&by(this.value)===by(t)&&this.m(Ty(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zg()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Hy=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=wy.fromName(r.referenceValue),i}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){var t=wy.comparator(e.key,this.key);return this.m(t)},t}(By),zy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Wy(0,n),r}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(By),Gy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Wy(0,n),r}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(By);function Wy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return wy.fromName(e.referenceValue)})}var Ky=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Ny(t)&&xy(t.arrayValue,this.value)},t}(By),Yy=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&xy(this.value.arrayValue,t)},t}(By),Qy=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){if(xy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!xy(this.value.arrayValue,t)},t}(By),Jy=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,Qu.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return xy(t.value.arrayValue,e)})},t}(By),Xy=function(e,t){this.position=e,this.before=t};function $y(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return Cy(e)}).join(",")}var em=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function tm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?wy.comparator(wy.fromName(a.referenceValue),n.key):Ty(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function rm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ky(e.position[n],t.position[n]))return!1;return!0}var im=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function om(e,t,n,r,i,o,a,s){return new im(e,t,n,r,i,o,a,s)}function am(e){return new im(e)}function sm(e){return!yy(e.limit)&&"F"===e.limitType}function um(e){return!yy(e.limit)&&"L"===e.limitType}function cm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lm(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function hm(e){return null!==e.collectionGroup}function fm(e){var t=Wg(e);if(null===t.p){t.p=[];var n=lm(t),r=cm(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new em(n)),t.p.push(new em(sy.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new em(sy.keyField(),u))}}}return t.p}function dm(e){var t=Wg(e);if(!t.T)if("F"===t.limitType)t.T=Uy(t.path,t.collectionGroup,fm(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=fm(t);r<i.length;r++){var o=i[r];n.push(new em(o.field,"desc"===o.dir?"asc":"desc"))}var a=t.endAt?new Xy(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Xy(t.startAt.position,!t.startAt.before):null;t.T=Uy(t.path,t.collectionGroup,n,t.filters,t.limit,a,s)}return t.T}function pm(e,t,n){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vm(e,t){return jy(dm(e),dm(t))&&e.limitType===t.limitType}function gm(e){return Zy(dm(e))+"|lt:"+e.limitType}function ym(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Cy(t.value);var t}).join(", ")+"]"),yy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+$y(e.startAt)),e.endAt&&(t+=", endAt: "+$y(e.endAt)),"Target("+t+")"}(dm(e))+"; limitType="+e.limitType+")"}function mm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!nm(e.startAt,fm(e),t)||e.endAt&&nm(e.endAt,fm(e),t))}(e,t)}function _m(e){return function(t,n){for(var r=!1,i=0,o=fm(e);i<o.length;i++){var a=o[i],s=wm(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function wm(e,t,n){var r=e.field.isKeyField()?wy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ty(r,i):zg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return zg()}}function bm(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:my(t)?"-0":t}}function km(e){return{integerValue:""+e}}function xm(e,t){return _y(t)?km(t):bm(e,t)}var Tm=function(){this._=void 0};function Sm(e,t,n){return e instanceof Am?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Im?Nm(e,t):e instanceof Om?Pm(e,t):function(e,t){var n=Em(e,t),r=Dm(n)+Dm(e.A);return Iy(n)&&Iy(e.A)?km(r):bm(e.R,r)}(e,t)}function Cm(e,t,n){return e instanceof Im?Nm(e,t):e instanceof Om?Pm(e,t):n}function Em(e,t){return e instanceof Rm?Iy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Am=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t}(Tm),Im=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Qu.__extends)(t,e),t}(Tm);function Nm(e,t){for(var n=Mm(t),r=function(e){n.some(function(t){return ky(t,e)})||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Om=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,Qu.__extends)(t,e),t}(Tm);function Pm(e,t){for(var n=Mm(t),r=function(e){n=n.filter(function(t){return!ky(t,e)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,Qu.__extends)(t,e),t}(Tm);function Dm(e){return fy(e.integerValue||e.doubleValue)}function Mm(e){return Ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lm=function(e,t){this.field=e,this.transform=t},Fm=function(e,t){this.version=e,this.transformResults=t},qm=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Um(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Zm=function(){};function jm(e,t,n){e instanceof Gm?function(e,t,n){var r=e.value.clone(),i=Ym(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wm?function(e,t,n){if(Um(e.precondition,t)){var r=Ym(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Km(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vm(e,t,n){e instanceof Gm?function(e,t,n){if(Um(e.precondition,t)){var r=e.value.clone(),i=Qm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(zm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Wm?function(e,t,n){if(Um(e.precondition,t)){var r=Qm(e.fieldTransforms,n,t),i=t.data;i.setAll(Km(e)),i.setAll(r),t.convertToFoundDocument(zm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Um(e.precondition,t)&&t.convertToNoDocument(ey.min())}(e,t)}function Bm(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Em(o.transform,a||null);null!=s&&(null==n&&(n=My.empty()),n.set(o.field,s))}return n||null}function Hm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jg(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Im&&t instanceof Im||e instanceof Om&&t instanceof Om?Jg(e.elements,t.elements,ky):e instanceof Rm&&t instanceof Rm?ky(e.A,t.A):e instanceof Am&&t instanceof Am}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function zm(e){return e.isFoundDocument()?e.version:ey.min()}var Gm=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Qu.__extends)(t,e),t}(Zm),Wm=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Qu.__extends)(t,e),t}(Zm);function Km(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Ym(e,t,n){var r=new Map;Gg(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Cm(a,s,n[i]))}return r}function Qm(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Sm(s,u,t))}return r}var Jm,Xm,$m=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Qu.__extends)(t,e),t}(Zm),e_=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Qu.__extends)(t,e),t}(Zm),t_=function(e){this.count=e};function n_(e){switch(e){case Fg.OK:return zg();case Fg.CANCELLED:case Fg.UNKNOWN:case Fg.DEADLINE_EXCEEDED:case Fg.RESOURCE_EXHAUSTED:case Fg.INTERNAL:case Fg.UNAVAILABLE:case Fg.UNAUTHENTICATED:return!1;case Fg.INVALID_ARGUMENT:case Fg.NOT_FOUND:case Fg.ALREADY_EXISTS:case Fg.PERMISSION_DENIED:case Fg.FAILED_PRECONDITION:case Fg.ABORTED:case Fg.OUT_OF_RANGE:case Fg.UNIMPLEMENTED:case Fg.DATA_LOSS:return!0;default:return zg()}}function r_(e){if(void 0===e)return Vg("GRPC error has no .code"),Fg.UNKNOWN;switch(e){case Jm.OK:return Fg.OK;case Jm.CANCELLED:return Fg.CANCELLED;case Jm.UNKNOWN:return Fg.UNKNOWN;case Jm.DEADLINE_EXCEEDED:return Fg.DEADLINE_EXCEEDED;case Jm.RESOURCE_EXHAUSTED:return Fg.RESOURCE_EXHAUSTED;case Jm.INTERNAL:return Fg.INTERNAL;case Jm.UNAVAILABLE:return Fg.UNAVAILABLE;case Jm.UNAUTHENTICATED:return Fg.UNAUTHENTICATED;case Jm.INVALID_ARGUMENT:return Fg.INVALID_ARGUMENT;case Jm.NOT_FOUND:return Fg.NOT_FOUND;case Jm.ALREADY_EXISTS:return Fg.ALREADY_EXISTS;case Jm.PERMISSION_DENIED:return Fg.PERMISSION_DENIED;case Jm.FAILED_PRECONDITION:return Fg.FAILED_PRECONDITION;case Jm.ABORTED:return Fg.ABORTED;case Jm.OUT_OF_RANGE:return Fg.OUT_OF_RANGE;case Jm.UNIMPLEMENTED:return Fg.UNIMPLEMENTED;case Jm.DATA_LOSS:return Fg.DATA_LOSS;default:return zg()}}(Xm=Jm||(Jm={}))[Xm.OK=0]="OK",Xm[Xm.CANCELLED=1]="CANCELLED",Xm[Xm.UNKNOWN=2]="UNKNOWN",Xm[Xm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xm[Xm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xm[Xm.NOT_FOUND=5]="NOT_FOUND",Xm[Xm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xm[Xm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xm[Xm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xm[Xm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xm[Xm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xm[Xm.ABORTED=10]="ABORTED",Xm[Xm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xm[Xm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xm[Xm.INTERNAL=13]="INTERNAL",Xm[Xm.UNAVAILABLE=14]="UNAVAILABLE",Xm[Xm.DATA_LOSS=15]="DATA_LOSS";var i_=function(){function e(e,t){this.comparator=e,this.root=t||a_.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,a_.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,a_.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new o_(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new o_(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new o_(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new o_(this.root,e,this.comparator,!0)},e}(),o_=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),a_=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw zg();if(this.right.isRed())throw zg();var e=this.left.check();if(e!==this.right.check())throw zg();return e+(this.isRed()?0:1)},e}();a_.EMPTY=null,a_.RED=!0,a_.BLACK=!1,a_.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw zg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw zg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw zg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw zg()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw zg()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new a_(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var s_=function(){function e(e){this.comparator=e,this.data=new i_(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new u_(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new u_(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),u_=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),c_=new i_(wy.comparator);function l_(){return c_}var h_=new i_(wy.comparator);function f_(){return h_}var d_=new i_(wy.comparator);function p_(){return d_}var v_=new s_(wy.comparator);function g_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=v_,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var y_=new s_(Qg);function m_(){return y_}var __=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,w_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ey.min(),r,m_(),l_(),g_())},e}(),w_=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(cy.EMPTY_BYTE_STRING,n,g_(),g_(),g_())},e}(),b_=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},k_=function(e,t){this.targetId=e,this.V=t},x_=function(e,t,n,r){void 0===n&&(n=cy.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},T_=function(){function e(){this.S=0,this.D=E_(),this.C=cy.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=g_(),t=g_(),n=g_();return this.D.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:zg()}}),new w_(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=E_()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),S_=function(){function e(e){this.W=e,this.G=new Map,this.H=l_(),this.J=C_(),this.Y=new s_(Qg)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:zg()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Vy(i))if(0===n){var o=new wy(i.path);this.tt(t,o,Fy.newNoDocument(o,ey.min()))}else Gg(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,i){var o=t.ot(i);if(o){if(r.current&&Vy(o.target)){var a=new wy(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Fy.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}});var r=g_();this.J.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new __(e,n,this.Y,this.H,r);return this.H=l_(),this.J=C_(),this.Y=new s_(Qg),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new T_,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new s_(Qg),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||jg("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new T_),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function C_(){return new i_(wy.comparator)}function E_(){return new i_(wy.comparator)}var A_={asc:"ASCENDING",desc:"DESCENDING"},I_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N_=function(e,t){this.databaseId=e,this.I=t};function O_(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function P_(e,t){return e.I?t.toBase64():t.toUint8Array()}function R_(e,t){return O_(e,t.toTimestamp())}function D_(e){return Gg(!!e),ey.fromTimestamp(function(e){var t=hy(e);return new $g(t.seconds,t.nanos)}(e))}function M_(e,t){return function(e){return new oy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function L_(e){var t=oy.fromString(e);return Gg(aw(t)),t}function F_(e,t){return M_(e.databaseId,t.path)}function q_(e,t){var n=L_(t);if(n.get(1)!==e.databaseId.projectId)throw new qg(Fg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qg(Fg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wy(V_(n))}function U_(e,t){return M_(e.databaseId,t)}function Z_(e){var t=L_(e);return 4===t.length?oy.emptyPath():V_(t)}function j_(e){return new oy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function V_(e){return Gg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function B_(e,t,n){return{name:F_(e,t),fields:n.value.mapValue.fields}}function H_(e,t,n){var r=q_(e,t.name),i=D_(t.updateTime),o=new My({mapValue:{fields:t.fields}}),a=Fy.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function z_(e,t){var n;if(t instanceof Gm)n={update:B_(e,t.key,t.value)};else if(t instanceof $m)n={delete:F_(e,t.key)};else if(t instanceof Wm)n={update:B_(e,t.key,t.data),updateMask:ow(t.fieldMask)};else{if(!(t instanceof e_))return zg();n={verify:F_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof Am)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Im)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Om)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rm)return{fieldPath:t.field.canonicalString(),increment:n.A};throw zg()}(0,e)})),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:R_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:zg()}(e,t.precondition)),n}function G_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?qm.updateTime(D_(e.updateTime)):void 0!==e.exists?qm.exists(e.exists):qm.none()}(t.currentDocument):qm.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(Gg("REQUEST_TIME"===t.setToServerValue),n=new Am):"appendMissingElements"in t?n=new Im(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Om(t.removeAllFromArray.values||[]):"increment"in t?n=new Rm(e,t.increment):zg();var r=sy.fromServerFormat(t.fieldPath);return new Lm(r,n)}(e,t)}):[];if(t.update){var i=q_(e,t.update.name),o=new My({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){return new uy((e.fieldPaths||[]).map(function(e){return sy.fromServerFormat(e)}))}(t.updateMask);return new Wm(i,o,a,n,r)}return new Gm(i,o,n,r)}if(t.delete){var s=q_(e,t.delete);return new $m(s,n)}if(t.verify){var u=q_(e,t.verify);return new e_(u,n)}return zg()}function W_(e,t){return{documents:[U_(e,t.path)]}}function K_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=U_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=U_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Py(e.value))return{unaryFilter:{field:tw(e.field),op:"IS_NAN"}};if(Oy(e.value))return{unaryFilter:{field:tw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Py(e.value))return{unaryFilter:{field:tw(e.field),op:"IS_NOT_NAN"}};if(Oy(e.value))return{unaryFilter:{field:tw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tw(e.field),op:ew(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:tw(e.field),direction:$_(e.dir)}}(e)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||yy(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=J_(t.startAt)),t.endAt&&(n.structuredQuery.endAt=J_(t.endAt)),n}function Y_(e){var t=Z_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gg(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Q_(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return function(e){return new em(nw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var u=null;n.limit&&(u=function(e){var t;return yy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=X_(n.startAt));var l=null;return n.endAt&&(l=X_(n.endAt)),om(t,i,s,a,u,"F",c,l)}function Q_(e){return e?void 0!==e.unaryFilter?[iw(e)]:void 0!==e.fieldFilter?[rw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return Q_(e)}).reduce(function(e,t){return e.concat(t)}):zg():[]}function J_(e){return{before:e.before,values:e.position}}function X_(e){return new Xy(e.values||[],!!e.before)}function $_(e){return A_[e]}function ew(e){return I_[e]}function tw(e){return{fieldPath:e.canonicalString()}}function nw(e){return sy.fromServerFormat(e.fieldPath)}function rw(e){return By.create(nw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zg()}}(e.fieldFilter.op),e.fieldFilter.value)}function iw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=nw(e.unaryFilter.field);return By.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=nw(e.unaryFilter.field);return By.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nw(e.unaryFilter.field);return By.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nw(e.unaryFilter.field);return By.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zg()}}function ow(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function aw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function sw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=cw(t)),t=uw(e.get(n),t);return cw(t)}function uw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function cw(e){return e+"\x01\x01"}function lw(e){var t=e.length;if(Gg(t>=2),2===t)return Gg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),oy.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&zg(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:zg()}o=a+2}return new oy(r)}var hw=function(e,t){this.seconds=e,this.nanoseconds=t},fw=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};fw.store="owner",fw.key="owner";var dw=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};dw.store="mutationQueues",dw.keyPath="userId";var pw=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pw.store="mutations",pw.keyPath="batchId",pw.userMutationsIndex="userMutationsIndex",pw.userMutationsKeyPath=["userId","batchId"];var vw=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,sw(t)]},e.key=function(e,t,n){return[e,sw(t),n]},e}();vw.store="documentMutations",vw.PLACEHOLDER=new vw;var gw=function(e,t){this.path=e,this.readTime=t},yw=function(e,t){this.path=e,this.version=t},mw=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};mw.store="remoteDocuments",mw.readTimeIndex="readTimeIndex",mw.readTimeIndexPath="readTime",mw.collectionReadTimeIndex="collectionReadTimeIndex",mw.collectionReadTimeIndexPath=["parentPath","readTime"];var _w=function(e){this.byteSize=e};_w.store="remoteDocumentGlobal",_w.key="remoteDocumentGlobalKey";var ww=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ww.store="targets",ww.keyPath="targetId",ww.queryTargetsIndexName="queryTargetsIndex",ww.queryTargetsKeyPath=["canonicalId","targetId"];var bw=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};bw.store="targetDocuments",bw.keyPath=["targetId","path"],bw.documentTargetsIndex="documentTargetsIndex",bw.documentTargetsKeyPath=["path","targetId"];var kw=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kw.key="targetGlobalKey",kw.store="targetGlobal";var xw=function(e,t){this.collectionId=e,this.parent=t};xw.store="collectionParents",xw.keyPath=["collectionId","parent"];var Tw=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Tw.store="clientMetadata",Tw.keyPath="clientId";var Sw=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Sw.store="bundles",Sw.keyPath="bundleId";var Cw=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Cw.store="namedQueries",Cw.keyPath="name";var Ew=(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],[dw.store,pw.store,vw.store,mw.store,ww.store,fw.store,kw.store,bw.store]),[Tw.store])),[_w.store])),[xw.store])),[Sw.store,Cw.store]),Aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iw=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),Nw=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},Ow=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&zg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Pw=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Nw,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Mw(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Zw(t.target.error);n.ft.reject(new Mw(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Mw(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(jg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Fw(t)},e}(),Rw=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,Ef.getUA)())&&Vg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return jg("SimpleDb","Removing database:",e),qw(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,Ef.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(jg("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new Mw(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new qg(Fg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Mw(e,n))},i.onupgradeneeded=function(e){jg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next(function(){jg("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,Qu.__generator)(this,function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,Qu.__generator)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=Pw.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch(function(e){return t.abort(e),Ow.reject(e)}).toPromise(),u={},a.catch(function(){}),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return jg("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Dw=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return qw(this.Pt.delete())},e}(),Mw=function(e){function t(t,n){var r=this;return(r=e.call(this,Fg.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Qu.__extends)(t,e),t}(qg);function Lw(e){return"IndexedDbTransactionError"===e.name}var Fw=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(jg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),qw(n)},e.prototype.add=function(e){return jg("SimpleDb","ADD",this.store.name,e,e),qw(this.store.add(e))},e.prototype.get=function(e){var t=this;return qw(this.store.get(e)).next(function(n){return void 0===n&&(n=null),jg("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return jg("SimpleDb","DELETE",this.store.name,e),qw(this.store.delete(e))},e.prototype.count=function(){return jg("SimpleDb","COUNT",this.store.name),qw(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.Ft=function(e,t){jg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Ow(function(n,r){t.onerror=function(e){var t=Zw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new Ow(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Dw(i),a=t(i.primaryKey,i.value,o);if(a instanceof Ow){var s=a.catch(function(e){return o.done(),Ow.reject(e)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ow.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function qw(e){return new Ow(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Zw(e.target.error);n(t)}})}var Uw=!1;function Zw(e){var t=Rw._t((0,Ef.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new qg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Uw||(Uw=!0,setTimeout(function(){throw r},0)),r}}return e}var jw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,Qu.__extends)(t,e),t}(Iw);function Vw(e,t){var n=Wg(e);return Rw.It(n.Mt,t)}var Bw=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&jm(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Vm(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Vm(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ey.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},g_())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Jg(this.mutations,e.mutations,function(e,t){return Hm(e,t)})&&Jg(this.baseMutations,e.baseMutations,function(e,t){return Hm(e,t)})},e}(),Hw=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Gg(t.mutations.length===r.length);for(var i=p_(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),zw=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ey.min()),void 0===o&&(o=ey.min()),void 0===a&&(a=cy.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Gw=function(e){this.Lt=e};function Ww(e,t){if(t.document)return H_(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=wy.fromSegments(t.noDocument.path),r=Xw(t.noDocument.readTime),i=Fy.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=wy.fromSegments(t.unknownDocument.path);return r=Xw(t.unknownDocument.version),Fy.newUnknownDocument(o,r)}return zg()}function Kw(e,t,n){var r=Yw(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:F_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:O_(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new mw(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Jw(t.version);return a=t.hasCommittedMutations,new mw(null,new gw(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Jw(t.version);return new mw(new yw(c,l),null,null,!0,r,i)}return zg()}function Yw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Qw(e){var t=new $g(e[0],e[1]);return ey.fromTimestamp(t)}function Jw(e){var t=e.toTimestamp();return new hw(t.seconds,t.nanoseconds)}function Xw(e){var t=new $g(e.seconds,e.nanoseconds);return ey.fromTimestamp(t)}function $w(e,t){for(var n=(t.baseMutations||[]).map(function(t){return G_(e.Lt,t)}),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map(function(t){return G_(e.Lt,t)}),o=$g.fromMillis(t.localWriteTimeMs);return new Bw(t.batchId,o,n,i)}function eb(e){var t,n,r=Xw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Xw(e.lastLimboFreeSnapshotVersion):ey.min();return void 0!==e.query.documents?(Gg(1===(n=e.query).documents.length),t=dm(am(Z_(n.documents[0])))):t=function(e){return dm(Y_(e))}(e.query),new zw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cy.fromBase64String(e.resumeToken))}function tb(e,t){var n,r=Jw(t.snapshotVersion),i=Jw(t.lastLimboFreeSnapshotVersion);n=Vy(t.target)?W_(e.Lt,t.target):K_(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ww(t.targetId,Zy(t.target),r,o,t.sequenceNumber,i,n)}function nb(e){var t=Y_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pm(t,t.limit,"L"):t}var rb=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ib(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Xw(t.createTime),version:t.version};var t})},e.prototype.saveBundleMetadata=function(e,t){return ib(e).put({bundleId:(n=t).id,createTime:Jw(D_(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return ob(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:nb(t.bundledQuery),readTime:Xw(t.readTime)};var t})},e.prototype.saveNamedQuery=function(e,t){return ob(e).put(function(e){return{name:e.name,readTime:Jw(D_(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ib(e){return Vw(e,Sw.store)}function ob(e){return Vw(e,Cw.store)}var ab=function(){function e(){this.Bt=new sb}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ow.resolve()},e.prototype.getCollectionParents=function(e,t){return Ow.resolve(this.Bt.getEntries(t))},e}(),sb=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new s_(oy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new s_(oy.comparator)).toArray()},e}(),ub=function(){function e(){this.qt=new sb}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var o={collectionId:r,parent:sw(i)};return cb(e).put(o)}return Ow.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Xg(t),""],!1,!0);return cb(e).Nt(r).next(function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(lw(o.parent))}return n})},e}();function cb(e){return Vw(e,xw.store)}var lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hb=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function fb(e,t,n){var r=e.store(pw.store),i=e.store(vw.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){Gg(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=vw.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ow.waitFor(o).next(function(){return c})}function db(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw zg();t=e.noDocument}return JSON.stringify(t).length}hb.DEFAULT_COLLECTION_PERCENTILE=10,hb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hb.DEFAULT=new hb(41943040,hb.DEFAULT_COLLECTION_PERCENTILE,hb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hb.DISABLED=new hb(-1,0,0);var pb=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Gg(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gb(e).$t({index:pw.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=yb(e),a=gb(e);return a.add({}).next(function(s){Gg("number"==typeof s);for(var u=new Bw(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map(function(t){return z_(e.Lt,t)}),i=n.mutations.map(function(t){return z_(e.Lt,t)});return new pw(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new s_(function(e,t){return Qg(e.canonicalString(),t.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=vw.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,vw.PLACEHOLDER))}return h.forEach(function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),Ow.waitFor(l).next(function(){return u})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return gb(e).get(t).next(function(e){return e?(Gg(e.userId===n.userId),$w(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Ow.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gb(e).$t({index:pw.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Gg(t.batchId>=r),o=$w(n.R,t)),i.done()}).next(function(){return o})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gb(e).$t({index:pw.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gb(e).Nt(pw.userMutationsIndex,n).next(function(e){return e.map(function(e){return $w(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=vw.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return yb(e).$t({range:i},function(r,i,a){var s=r[0],u=r[2],c=lw(r[1]);if(s===n.userId&&t.path.isEqual(c))return gb(e).get(u).next(function(e){if(!e)throw zg();Gg(e.userId===n.userId),o.push($w(n.R,e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new s_(Qg),i=[];return t.forEach(function(t){var o=vw.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=yb(e).$t({range:a},function(e,i,o){var a=e[0],s=e[2],u=lw(e[1]);a===n.userId&&t.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Ow.waitFor(i).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=vw.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new s_(Qg);return yb(e).$t({range:a},function(e,t,o){var a=e[0],u=e[2],c=lw(e[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(e,s)})},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(gb(e).get(t).next(function(e){if(null===e)throw zg();Gg(e.userId===n.userId),r.push($w(n.R,e))}))}),Ow.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return fb(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),Ow.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Ow.resolve();var r=IDBKeyRange.lowerBound(vw.prefixForUser(t.userId)),i=[];return yb(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var o=lw(e[1]);i.push(o)}else r.done()}).next(function(){Gg(0===i.length)})})},e.prototype.containsKey=function(e,t){return vb(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return mb(e).get(this.userId).next(function(e){return e||new dw(t.userId,-1,"")})},e}();function vb(e,t,n){var r=vw.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return yb(e).$t({range:o,kt:!0},function(e,n,r){e[0]===t&&e[1]===i&&(a=!0),r.done()}).next(function(){return a})}function gb(e){return Vw(e,pw.store)}function yb(e){return Vw(e,vw.store)}function mb(e){return Vw(e,dw.store)}var _b=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),wb=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new _b(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return ey.fromTimestamp(new $g(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return bb(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Gg(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return bb(e).$t(function(a,s){var u=eb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))}).next(function(){return Ow.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){return bb(e).$t(function(e,n){var r=eb(n);t(r)})},e.prototype.Xt=function(e){return kb(e).get(kw.key).next(function(e){return Gg(null!==e),e})},e.prototype.Zt=function(e,t){return kb(e).put(kw.key,t)},e.prototype.te=function(e,t){return bb(e).put(tb(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=Zy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return bb(e).$t({range:r,index:ww.queryTargetsIndexName},function(e,n,r){var o=eb(n);jy(t,o.target)&&(i=o,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=xb(e);return t.forEach(function(t){var a=sw(t.path);i.push(o.put(new bw(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))}),Ow.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=xb(e);return Ow.forEach(t,function(t){var o=sw(t.path);return Ow.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=xb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xb(e),i=g_();return r.$t({range:n,kt:!0},function(e,t,n){var r=lw(e[1]),o=new wy(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=sw(t.path),r=IDBKeyRange.bound([n],[Xg(n)],!1,!0),i=0;return xb(e).$t({index:bw.documentTargetsIndex,kt:!0,range:r},function(e,t,n){0!==e[0]&&(i++,n.done())}).next(function(){return i>0})},e.prototype.lt=function(e,t){return bb(e).get(t).next(function(e){return e?eb(e):null})},e}();function bb(e){return Vw(e,ww.store)}function kb(e){return Vw(e,kw.store)}function xb(e){return Vw(e,bw.store)}function Tb(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){if(e.code!==Fg.FAILED_PRECONDITION||e.message!==Aw)throw e;return jg("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Sb(e,t){var n=e[1],r=t[1],i=Qg(e[0],t[0]);return 0===i?Qg(n,r):i}var Cb=function(){function e(e){this.ne=e,this.buffer=new s_(Sb),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Eb=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;jg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Lw(t=n.sent())?(jg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Tb(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),Ab=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Ow.resolve(Lg.o);var r=new Cb(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jg("LruGarbageCollector","Garbage collection skipped; disabled"),Ow.resolve(lb)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(jg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),lb):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>c.params.maximumSequenceNumbersToCollect?(jg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)}).next(function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)}).next(function(e){return u=Date.now(),Zg()<=Af.LogLevel.DEBUG&&jg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Ow.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})},e}(),Ib=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ab(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return Nb(e,n)},e.prototype.removeReference=function(e,t,n){return Nb(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Nb(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return mb(e).Ot(function(r){return vb(e,r,t).next(function(e){return e&&(n=!0),Ow.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,function(a,s){if(s<=t){var u=n._e(e,a).next(function(t){if(!t)return o++,r.getEntry(e,a).next(function(){return r.removeEntry(a),xb(e).delete([0,sw(a.path)])})});i.push(u)}}).next(function(){return Ow.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return o})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Nb(e,t)},e.prototype.we=function(e,t){var n,r=xb(e),i=Lg.o;return r.$t({index:bw.documentTargetsIndex},function(e,r){var o=r.path,a=r.sequenceNumber;0===e[0]?(i!==Lg.o&&t(new wy(lw(n)),i),i=a,n=o):i=Lg.o}).next(function(){i!==Lg.o&&t(new wy(lw(n)),i)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Nb(e,t){return xb(e).put(function(e,t){return new bw(0,sw(e.path),t)}(t,e.currentSequenceNumber))}var Ob=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){ny(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}})},e.prototype.isEmpty=function(){return ry(this.inner)},e}(),Pb=function(){function e(){this.changes=new Ob(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ey.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Fy.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ow.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Rb=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Lb(e).put(Fb(t),n)},e.prototype.removeEntry=function(e,t){var n=Lb(e),r=Fb(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return Lb(e).get(Fb(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return Lb(e).get(Fb(t)).next(function(e){return{document:n.ye(t,e),size:db(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=l_();return this.pe(e,t,function(e,t){var i=n.ye(e,t);r=r.insert(e,i)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=l_(),i=new i_(wy.comparator);return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,db(t))}).next(function(){return{documents:r,Te:i}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Ow.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Lb(e).$t({range:r},function(e,t,r){for(var a=wy.fromSegments(e);o&&wy.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=l_(),o=t.path.length+1,a={};if(n.isEqual(ey.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Yw(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=mw.collectionReadTimeIndex}return Lb(e).$t(a,function(e,n,a){if(e.length===o){var s=Ww(r.R,n);t.path.isPrefixOf(s.key.path)?mm(t,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},e.prototype.newChangeBuffer=function(e){return new Db(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Mb(e).get(_w.key).next(function(e){return Gg(!!e),e})},e.prototype.me=function(e,t){return Mb(e).put(_w.key,t)},e.prototype.ye=function(e,t){if(t){var n=Ww(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ey.min()))return n}return Fy.newInvalidDocument(e)},e}(),Db=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Ob(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return(0,Qu.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new s_(function(e,t){return Qg(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Kw(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=db(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Kw(t.Ie.R,Fy.newNoDocument(o,ey.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))}),i.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),Ow.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(Pb);function Mb(e){return Vw(e,_w.store)}function Lb(e){return Vw(e,mw.store)}function Fb(e){return e.path.toArray()}var qb=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Gg(n<r&&n>=0&&r<=11);var o=new Pw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(fw.store)}(e),function(e){e.createObjectStore(dw.store,{keyPath:dw.keyPath}),e.createObjectStore(pw.store,{keyPath:pw.keyPath,autoIncrement:!0}).createIndex(pw.userMutationsIndex,pw.userMutationsKeyPath,{unique:!0}),e.createObjectStore(vw.store)}(e),Ub(e),function(e){e.createObjectStore(mw.store)}(e));var a=Ow.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(bw.store),e.deleteObjectStore(ww.store),e.deleteObjectStore(kw.store)}(e),Ub(e)),a=a.next(function(){return function(e){var t=e.store(kw.store),n=new kw(0,0,ey.min().toTimestamp(),0);return t.put(kw.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(e,t){return t.store(pw.store).Nt().next(function(n){e.deleteObjectStore(pw.store),e.createObjectStore(pw.store,{keyPath:pw.keyPath,autoIncrement:!0}).createIndex(pw.userMutationsIndex,pw.userMutationsKeyPath,{unique:!0});var r=t.store(pw.store),i=n.map(function(e){return r.put(e)});return Ow.waitFor(i)})}(e,o)})),a=a.next(function(){!function(e){e.createObjectStore(Tw.store,{keyPath:Tw.keyPath})}(e)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(e){e.createObjectStore(_w.store)}(e),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(e,o)})),n<9&&r>=9&&(a=a.next(function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(mw.store);t.createIndex(mw.readTimeIndex,mw.readTimeIndexPath,{unique:!1}),t.createIndex(mw.collectionReadTimeIndex,mw.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(e){e.createObjectStore(Sw.store,{keyPath:Sw.keyPath})}(e),function(e){e.createObjectStore(Cw.store,{keyPath:Cw.keyPath})}(e)})),a},e.prototype.be=function(e){var t=0;return e.store(mw.store).$t(function(e,n){t+=db(n)}).next(function(){var n=new _w(t);return e.store(_w.store).put(_w.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(dw.store),r=e.store(pw.store);return n.Nt().next(function(n){return Ow.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(pw.userMutationsIndex,i).next(function(r){return Ow.forEach(r,function(r){Gg(r.userId===n.userId);var i=$w(t.R,r);return fb(e,n.userId,i).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(bw.store),n=e.store(mw.store);return e.store(kw.store).get(kw.key).next(function(e){var r=[];return n.$t(function(n,i){var o=new oy(n),a=function(e){return[0,sw(e)]}(o);r.push(t.get(a).next(function(n){return n?Ow.resolve():function(n){return t.put(new bw(0,sw(n),e.highestListenSequenceNumber))}(o)}))}).next(function(){return Ow.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(xw.store,{keyPath:xw.keyPath});var n=t.store(xw.store),r=new sb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sw(i)})}};return t.store(mw.store).$t({kt:!0},function(e,t){var n=new oy(e);return i(n.popLast())}).next(function(){return t.store(vw.store).$t({kt:!0},function(e,t){var n=lw(e[1]);return i(n.popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(ww.store);return n.$t(function(e,r){var i=eb(r),o=tb(t.R,i);return n.put(o)})},e}();function Ub(e){e.createObjectStore(bw.store,{keyPath:bw.keyPath}).createIndex(bw.documentTargetsIndex,bw.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ww.store,{keyPath:ww.keyPath}).createIndex(ww.queryTargetsIndexName,ww.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(kw.store)}var Zb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jb=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new qg(Fg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ib(this,i),this.Le=n+"main",this.R=new Gw(u),this.Be=new Rw(this.Le,11,new qb(this.R)),this.qe=new wb(this.referenceDelegate,this.R),this.Ut=new ub,this.Ue=function(e,t){return new Rb(e,t)}(this.R,this.Ut),this.Ke=new rb,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Vg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new qg(Fg.FAILED_PRECONDITION,Zb);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Lg(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,Qu.__awaiter)(t,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return(0,Qu.__awaiter)(t,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Bb(t).put(new Tw(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(Lw(t))return jg("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return Vb(e).get(fw.key).next(function(e){return Ow.resolve(t.tn(e))})},e.prototype.en=function(e){return Bb(e).delete(this.clientId)},e.prototype.nn=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n,r=this;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=Vw(e,Tw.store);return t.Nt().next(function(e){var n=r.rn(e,18e5),i=e.filter(function(e){return-1===n.indexOf(e)});return Ow.forEach(i,function(e){return t.delete(e.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)this.Qe.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Ow.resolve(!0):Vb(e).get(fw.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new qg(Fg.FAILED_PRECONDITION,Zb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Bb(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))})})}).next(function(e){return t.isPrimary!==e&&jg("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fw.store,Tw.store],function(t){var n=new jw(t,Lg.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Bb(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return pb.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,i=this;return jg("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",Ew,function(o){return r=new jw(o,i.Ne?i.Ne.next():Lg.o),"readwrite-primary"===t?i.Je(r).next(function(e){return!!e||i.Ye(r)}).next(function(t){if(!t)throw Vg("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new qg(Fg.FAILED_PRECONDITION,Aw);return n(r)}).next(function(e){return i.Ze(r).next(function(){return e})}):i.dn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return Vb(e).get(fw.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new qg(Fg.FAILED_PRECONDITION,Zb)})},e.prototype.Ze=function(e){var t=new fw(this.clientId,this.allowTabSynchronization,Date.now());return Vb(e).put(fw.key,t)},e.yt=function(){return Rw.yt()},e.prototype.Xe=function(e){var t=this,n=Vb(e);return n.get(fw.key).next(function(e){return t.tn(e)?(jg("IndexedDbPersistence","Releasing primary lease."),n.delete(fw.key)):Ow.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Vg("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),(0,Ef.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return jg("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Vg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Vg("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Vb(e){return Vw(e,fw.store)}function Bb(e){return Vw(e,Tw.store)}function Hb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var zb=function(e,t){this.progress=e,this.wn=t},Gb=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):hm(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new wy(t)).next(function(e){var t=f_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=f_();return this.Ut.getCollectionParents(e,i).next(function(a){return Ow.forEach(a,function(a){var s=function(e,t){return new im(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next(function(e){e.forEach(function(e,t){o=o.insert(e,t)})})}).next(function(){return o})})},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return o.Rn(e,i=t,r).next(function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Fy.newInvalidDocument(c),r=r.insert(c,l)),Vm(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){mm(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=g_(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Wm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),Wb=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=g_(),i=g_(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Kb=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ey.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(o){var a=i.Cn(t,o);return(sm(t)||um(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Zg()<=Af.LogLevel.DEBUG&&jg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ym(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return a.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new s_(_m(e));return t.forEach(function(t,r){mm(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Zg()<=Af.LogLevel.DEBUG&&jg("QueryEngine","Using full collection scan to execute query:",ym(t)),this.Sn.getDocumentsMatchingQuery(e,t,ey.min())},e}(),Yb=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new i_(Qg),this.kn=new Ob(function(e){return Zy(e)},jy),this.$n=ey.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Gb(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Fn)})},e}();function Qb(e,t,n,r){return new Yb(e,t,n,r)}function Jb(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return n=Wg(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var o;return n._n.getAllMutationBatches(e).next(function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Gb(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],a=g_(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=t;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(e,a).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Xb(e,t){var n=Wg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Ow.resolve();return o.forEach(function(e){a=a.next(function(){return r.getEntry(t,e)}).next(function(t){var o=n.docVersions.get(e);Gg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(t,i)})}(n,e,t,i).next(function(){return i.apply(e)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}function $b(e){var t=Wg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function ek(e,t){var n=Wg(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach(function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Gg(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}});var s=l_();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(tk(e,o,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(ey.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next(function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)});a.push(u)}return Ow.waitFor(a).next(function(){return o.apply(e)}).next(function(){return n.Mn.En(e,s)}).next(function(){return s})}).then(function(e){return n.Fn=i,e})}function tk(e,t,n,r,i){var o=g_();return n.forEach(function(e){return o=o.add(e)}),t.getEntries(e,o).next(function(e){var o=l_();return n.forEach(function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ey.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):jg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function nk(e,t){var n=Wg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)})}function rk(e,t){var n=Wg(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.qe.getTargetData(e,t).next(function(i){return i?Ow.resolve(r=i):n.qe.allocateTargetId(e).next(function(i){return r=new zw(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e})}function ik(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:r=Wg(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(e){return r.persistence.referenceDelegate.removeTarget(e,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!Lw(a=s.sent()))throw a;return jg("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function ok(e,t,n){var r=Wg(e),i=ey.min(),o=g_();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=Wg(e),i=r.kn.get(n);return void 0!==i?Ow.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,dm(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(e){o=e})}).next(function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ey.min(),n?o:g_())}).next(function(e){return{documents:e,Bn:o}})})}function ak(e,t){var n=Wg(e),r=Wg(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.lt(e,t).next(function(e){return e?e.target:null})})}function sk(e){var t=Wg(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return function(e,t,n){var r=Wg(e),i=l_(),o=Yw(n),a=Lb(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:mw.readTimeIndex,range:s},function(e,t){var n=Ww(r.R,t);i=i.insert(n.key,n),o=t.readTime}).next(function(){return{wn:i,readTime:Qw(o)}})}(t.On,e,t.$n)}).then(function(e){var n=e.wn;return t.$n=e.readTime,n})}function uk(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){return[2,(t=Wg(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return function(e){var t=Lb(e),n=ey.min();return t.$t({index:mw.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=Qw(t.readTime)),r.done()}).next(function(){return n})}(e)}).then(function(e){t.$n=e})]})})}function ck(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return(0,Qu.__generator)(this,function(p){switch(p.label){case 0:for(i=Wg(e),o=g_(),a=l_(),s=p_(),u=0,c=n;u<c.length;u++)h=t.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,rk(i,function(e){return dm(am(oy.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return tk(e,f,a,ey.min(),s).next(function(t){return f.apply(e),t}).next(function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next(function(){return i.qe.addMatchingKeys(e,o,d.targetId)}).next(function(){return i.Mn.En(e,t)}).next(function(){return t})})})]}})})}function lk(e,t,n){return void 0===n&&(n=g_()),(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return[4,rk(e,dm(nb(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Wg(e)).persistence.runTransaction("Save named query","readwrite",function(e){var o=D_(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(cy.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next(function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return i.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(e,t)})})]}})})}var hk=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Ow.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:D_(n.createTime)}),Ow.resolve()},e.prototype.getNamedQuery=function(e,t){return Ow.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:nb(e.bundledQuery),readTime:D_(e.readTime)}}(t)),Ow.resolve()},e}(),fk=function(){function e(){this.Wn=new s_(dk.Gn),this.zn=new s_(dk.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new dk(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new dk(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new wy(new oy([])),r=new dk(n,e),i=new dk(n,e+1),o=[];return this.zn.forEachInRange([r,i],function(e){t.Yn(e),o.push(e.key)}),o},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new wy(new oy([])),n=new dk(t,e),r=new dk(t,e+1),i=g_();return this.zn.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new dk(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),dk=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return wy.comparator(e.key,t.key)||Qg(e.ns,t.ns)},e.Hn=function(e,t){return Qg(e.ns,t.ns)||wy.comparator(e.key,t.key)},e}(),pk=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new s_(dk.Gn)}return e.prototype.checkEmpty=function(e){return Ow.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new Bw(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new dk(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return Ow.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Ow.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return Ow.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Ow.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Ow.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new dk(t,0),i=new dk(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(e){var t=n.os(e.ns);o.push(t)}),Ow.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new s_(Qg);return t.forEach(function(e){var t=new dk(e,0),i=new dk(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],function(e){r=r.add(e.ns)})}),Ow.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;wy.isDocumentKey(i)||(i=i.child(""));var o=new dk(new wy(i),0),a=new s_(Qg);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)},o),Ow.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Gg(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Ow.forEach(t.mutations,function(i){var o=new dk(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new dk(t,0),r=this.rs.firstAfterOrEqual(n);return Ow.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return Ow.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),vk=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new i_(wy.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Ow.resolve(n?n.document.clone():Fy.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=l_();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Fy.newInvalidDocument(e))}),Ow.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=l_(),i=new wy(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!t.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||mm(t,u)&&(r=r.insert(u.key,u.clone()))}return Ow.resolve(r)},e.prototype.fs=function(e,t){return Ow.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new gk(this)},e.prototype.getSize=function(e){return Ow.resolve(this.size)},e}(),gk=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,Qu.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),Ow.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Pb),yk=function(){function e(e){this.persistence=e,this.ds=new Ob(function(e){return Zy(e)},jy),this.lastRemoteSnapshotVersion=ey.min(),this.highestTargetId=0,this.ws=0,this._s=new fk,this.targetCount=0,this.ys=_b.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),Ow.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Ow.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Ow.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ow.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Ow.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new _b(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ow.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Ow.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ow.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Ow.waitFor(o).next(function(){return i})},e.prototype.getTargetCount=function(e){return Ow.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Ow.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Ow.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Ow.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ow.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Ow.resolve(n)},e.prototype.containsKey=function(e,t){return Ow.resolve(this._s.containsKey(t))},e}(),mk=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Lg(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new yk(this),this.Ut=new ab,this.Ue=function(e,t){return new vk(e,function(e){return n.referenceDelegate.ps(e)})}(this.Ut),this.R=new Gw(t),this.Ke=new hk(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new pk(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;jg("MemoryPersistence","Starting transaction:",e);var i=new _k(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(e){return r.referenceDelegate.Ts(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return Ow.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),_k=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,Qu.__extends)(t,e),t}(Iw),wk=function(){function e(e){this.persistence=e,this.As=new fk,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw zg()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Ow.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Ow.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ow.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ow.forEach(this.vs,function(r){var i=wy.fromPath(r);return t.Ps(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Ow.or([function(){return Ow.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),bk=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function kk(e,t){return"firestore_clients_"+e+"_"+t}function xk(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Tk(e,t){return"firestore_targets_"+e+"_"+t}bk.UNAUTHENTICATED=new bk(null),bk.GOOGLE_CREDENTIALS=new bk("google-credentials-uid"),bk.FIRST_PARTY=new bk("first-party-uid");var Sk=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new qg(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Vg("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ck=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qg(i.error.code,i.error.message)),o?new e(t,i.state,r):(Vg("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ek=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=m_(),a=0;i&&a<r.activeTargetIds.length;++a)i=_y(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Vg("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Ak=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Vg("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ik=function(){function e(){this.activeTargetIds=m_()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Nk=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new i_(Qg),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=kk(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Ik),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l=this;return(0,Qu.__generator)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(kk(this.persistenceKey,r)))&&(o=Ek.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Tk(this.persistenceKey,e));if(n){var r=Ck.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Tk(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return jg("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){jg("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){jg("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Vg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){var e,t,r,i,o,a;return(0,Qu.__generator)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Lg.o;if(null!=e)try{var n=JSON.parse(e);Gg("number"==typeof n),t=n}catch(e){Vg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Lg.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Sk(this.currentUser,e,t,n),i=xk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=xk(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=Tk(this.persistenceKey,e),i=new Ck(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Ek.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return Sk.Vs(new bk(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Ck.Vs(r,t)},e.prototype.js=function(e){return Ak.Vs(e)},e.prototype.ii=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(jg("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(e){i.has(e)||a.push(e)}),i.forEach(function(e){o.has(e)||s.push(e)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=m_();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),Ok=function(){function e(){this.li=new Ik,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Ik,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Pk=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Rk=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){jg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){jg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mk=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Lk=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,Qu.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise(function(i,o){var a=new Mg;a.listenOnce(Og.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Ng.NO_ERROR:var t=a.getResponseJson();jg("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ng.TIMEOUT:jg("Connection",'RPC "'+e+'" timed out'),o(new qg(Fg.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:var n=a.getStatus();if(jg("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fg).indexOf(t)>=0?t:Fg.UNKNOWN}(r.status);o(new qg(s,r.message))}else o(new qg(Fg.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new qg(Fg.UNAVAILABLE,"Connection failed."));break;default:zg()}}finally{jg("Connection",'RPC "'+e+'" completed.')}});var s=JSON.stringify(r);a.send(t,"POST",s,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Sg,i=_p(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Rg({})),this.Fi(o.initMessageHeaders,t),(0,Ef.isMobileCordova)()||(0,Ef.isReactNative)()||(0,Ef.isElectron)()||(0,Ef.isIE)()||(0,Ef.isUWP)()||(0,Ef.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");jg("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new Mk({Ei:function(e){c?jg("Connection","Not sending because WebChannel is closed:",e):(u||(jg("Connection","Opening WebChannel transport."),s.open(),u=!0),jg("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(s,Dg.EventType.OPEN,function(){c||jg("Connection","WebChannel transport opened.")}),h(s,Dg.EventType.CLOSE,function(){c||(c=!0,jg("Connection","WebChannel transport closed"),l.Vi())}),h(s,Dg.EventType.ERROR,function(e){c||(c=!0,Bg("Connection","WebChannel transport errored:",e),l.Vi(new qg(Fg.UNAVAILABLE,"The operation could not be completed")))}),h(s,Dg.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];Gg(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){jg("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Jm[e];if(void 0!==t)return r_(t)}(i),a=r.message;void 0===o&&(o=Fg.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new qg(o,a)),s.close()}else jg("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Pg.STAT_EVENT,function(e){10===e.stat?jg("Connection","Detected buffering proxy"):11===e.stat&&jg("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);jg("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then(function(e){return jg("RestConnection","Received: ",e),e},function(t){throw Bg("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+Dk[e]},e}());function Fk(){return"undefined"!=typeof window?window:null}function qk(){return"undefined"!=typeof document?document:null}function Uk(e){return new N_(e,!0)}var Zk=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&jg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),jk=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Zk(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Fg.RESOURCE_EXHAUSTED?(Vg(t.toString()),Vg("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Fg.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new qg(Fg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,Qu.__awaiter)(e,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return jg("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(jg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Vk=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,Qu.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:zg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Gg(void 0===t||"string"==typeof t),cy.fromBase64String(t||"")):(Gg(void 0===t||t instanceof Uint8Array),cy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Fg.UNKNOWN:r_(e.code);return new qg(t,e.message||"")}(s);n=new x_(r,i,o,a||null)}else if("documentChange"in t){i=q_(e,(r=t.documentChange).document.name),o=D_(r.document.updateTime);var s=new My({mapValue:{fields:r.document.fields}}),u=(a=Fy.newFoundDocument(i,o,s),r.targetIds||[]);n=new b_(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t)i=q_(e,(r=t.documentDelete).document),o=r.readTime?D_(r.readTime):ey.min(),s=Fy.newNoDocument(i,o),n=new b_([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in t)i=q_(e,(r=t.documentRemove).document),n=new b_([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return zg();var c=t.filter;i=new t_(r=c.count||0),n=new k_(o=c.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ey.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ey.min():t.readTime?D_(t.readTime):ey.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=j_(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Vy(r)?{documents:W_(e,r)}:{query:K_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=P_(e,t.resumeToken):t.snapshotVersion.compareTo(ey.min())>0&&(n.readTime=O_(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=j_(this.R),t.removeTarget=e,this.cr(t)},t}(jk),Bk=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,Qu.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Gg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Gg(void 0!==t),e.map(function(e){return function(e,t){var n=D_(e.updateTime?e.updateTime:t);return n.isEqual(ey.min())&&(n=D_(t)),new Fm(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=D_(e.commitTime);return this.listener.Tr(n,t)}return Gg(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=j_(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return z_(t.R,e)})};this.cr(n)},t}(jk),Hk=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Qu.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new qg(Fg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Fg.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new qg(Fg.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Fg.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new qg(Fg.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),zk=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Vg(t),this.Vr=!1):jg("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Gk=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(e){n.enqueueAndForget(function(){return(0,Qu.__awaiter)(o,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return tx(this)?(jg("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return(t=Wg(e)).Or.add(4),[4,Kk(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Wk(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new zk(n,r)};function Wk(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:if(!tx(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Kk(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Yk(e,t){var n=Wg(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ex(n)?$k(n):gx(n).er()&&Jk(n,t))}function Qk(e,t){var n=Wg(e),r=gx(n);n.$r.delete(t),r.er()&&Xk(n,t),0===n.$r.size&&(r.er()?r.ir():tx(n)&&n.Br.set("Unknown"))}function Jk(e,t){e.qr.U(t.targetId),gx(e).mr(t)}function Xk(e,t){e.qr.U(t),gx(e).yr(t)}function $k(e){e.qr=new S_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),gx(e).start(),e.Br.Sr()}function ex(e){return tx(e)&&!gx(e).tr()&&e.$r.size>0}function tx(e){return 0===Wg(e).Or.size}function nx(e){e.qr=void 0}function rx(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){return e.$r.forEach(function(t,n){Jk(e,t)}),[2]})})}function ix(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(n){return nx(e),ex(e)?(e.Br.Nr(t),$k(e)):e.Br.set("Unknown"),[2]})})}function ox(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof x_&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?e.$r.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),jg("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ax(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof b_?e.qr.X(t):t instanceof k_?e.qr.rt(t):e.qr.et(t),n.isEqual(ey.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,$b(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(cy.EMPTY_BYTE_STRING,n.snapshotVersion)),Xk(e,t);var r=new zw(n.target,t,1,n.sequenceNumber);Jk(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return jg("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ax(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ax(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:if(!Lw(t))throw t;return e.Or.add(1),[4,Kk(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return $b(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return(0,Qu.__awaiter)(r,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return jg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Wk(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function sx(e,t){return t().catch(function(n){return ax(e,n,t)})}function ux(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:t=Wg(e),n=yx(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return tx(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,nk(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=yx(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,ax(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return cx(t)&&lx(t),[2]}})})}function cx(e){return tx(e)&&!yx(e).tr()&&e.kr.length>0}function lx(e){yx(e).start()}function hx(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){return yx(e).Ar(),[2]})})}function fx(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,Qu.__generator)(this,function(i){for(t=yx(e),n=0,r=e.kr;n<r.length;n++)t.Er(r[n].mutations);return[2]})})}function dx(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Hw.from(r,t,n),[4,sx(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,ux(e)];case 2:return o.sent(),[2]}})})}function px(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t&&yx(e).pr?[4,function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return n_(r=t.code)&&r!==Fg.ABORTED?(n=e.kr.shift(),yx(e).sr(),[4,sx(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return i.sent(),[4,ux(e)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cx(e)&&lx(e),[2]}})})}function vx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return n=Wg(e),t?(n.Or.delete(2),[4,Wk(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Kk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gx(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Wg(e);return r.br(),new Vk(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:rx.bind(null,e),Ri:ix.bind(null,e),_r:ox.bind(null,e)}),e.Mr.push(function(n){return(0,Qu.__awaiter)(t,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return n?(e.Ur.sr(),ex(e)?$k(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),nx(e),t.label=3;case 3:return[2]}})})})),e.Ur}function yx(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Wg(e);return r.br(),new Bk(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:hx.bind(null,e),Ri:px.bind(null,e),Ir:fx.bind(null,e),Tr:dx.bind(null,e)}),e.Mr.push(function(n){return(0,Qu.__awaiter)(t,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,ux(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(jg("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}})})})),e.Kr}var mx=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qg(Fg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function _x(e,t){if(Vg("AsyncQueue",t+": "+e),Lw(e))return new qg(Fg.UNAVAILABLE,t+": "+e);throw e}var wx=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||wy.comparator(t.key,n.key)}:function(e,t){return wy.comparator(e.key,t.key)},this.keyedMap=f_(),this.sortedSet=new i_(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),bx=function(){function e(){this.Qr=new i_(wy.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):zg():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),kx=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:0,doc:e})}),new e(t,n,wx.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),xx=function(){this.Wr=void 0,this.listeners=[]},Tx=function(){this.queries=new Ob(function(e){return gm(e)},vm),this.onlineState="Unknown",this.Gr=new Set};function Sx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,Qu.__generator)(this,function(c){switch(c.label){case 0:if(n=Wg(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new xx),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=_x(s,"Initialization of query '"+ym(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ix(n),[2]}})})}function Cx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Qu.__generator)(this,function(s){return n=Wg(e),i=!1,(o=n.queries.get(r=t.query))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Ex(e,t){for(var n=Wg(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Ix(n)}function Ax(e,t,n){var r=Wg(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Ix(e){e.Gr.forEach(function(e){e.next()})}var Nx=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new kx(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=kx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Ox=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Px=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return q_(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?H_(this.R,e.document,!1):Fy.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return D_(e)},e}(),Rx=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Dx(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Px(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||g_()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return[4,ck(this.localStore,new Px(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,lk(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new zb(Object.assign({},this.progress),e))]}})})},e}();function Dx(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Mx=function(e){this.key=e},Lx=function(e){this.key=e},Fx=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=g_(),this.mutatedKeys=g_(),this.lo=_m(e),this.fo=new wx(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new bx,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=sm(this.query)&&i.size===this.query.limit?i.last():null,c=um(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=mm(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),sm(this.query)||um(this.query))for(;a.size>this.query.limit;){var l=sm(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zg()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)}),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new kx(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bx,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=g_(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new Lx(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new Mx(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=g_();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return kx.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),qx=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Ux=function(e){this.key=e,this.bo=!1},Zx=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ob(function(e){return gm(e)},vm),this.Vo=new Map,this.So=new Set,this.Do=new i_(wy.comparator),this.Co=new Map,this.No=new fk,this.xo={},this.Fo=new Map,this.ko=_b.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function jx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return n=gT(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,rk(n.localStore,dm(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Vx(n,t,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&Yk(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function Vx(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return(0,Qu.__generator)(this,function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,ok(e.localStore,t.query,!1).then(function(e){return t.view._o(e.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(tT(e,t.targetId,a.To),a.snapshot)]}})})}(e,t,n,r)},[4,ok(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Fx(t,i.Bn),a=o._o(i.documents),s=w_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),tT(e,n,u.To),c=new qx(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}})})}function Bx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return n=Wg(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(e){return!vm(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ik(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Qk(n.remoteStore,r.targetId),$x(n,r.targetId)}).catch(Tb)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return $x(n,r.targetId),[4,ik(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Hx(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:r=yT(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Wg(e),i=$g.now(),o=t.reduce(function(e,t){return e.add(t.key)},g_());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Mn.pn(e,o).next(function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Bm(c,n.get(c.key));null!=l&&a.push(new Wm(c.key,l,Ly(l.value.mapValue),qm.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new i_(Qg)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,iT(r,i.changes)];case 3:return s.sent(),[4,ux(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=_x(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function zx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:n=Wg(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ek(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(Gg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Gg(r.bo):e.removedDocuments.size>0&&(Gg(r.bo),r.bo=!1))}),[4,iT(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Tb(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Gx(e,t,n){var r=Wg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=Wg(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)}),r&&Ix(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Wx(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,Qu.__generator)(this,function(c){switch(c.label){case 0:return(r=Wg(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new i_(wy.comparator)).insert(o,Fy.newNoDocument(o,ey.min())),s=g_().add(o),u=new __(ey.min(),new Map,new s_(Qg),a,s),[4,zx(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),rT(r),[3,4];case 2:return[4,ik(r.localStore,t,!1).then(function(){return $x(r,t,n)}).catch(Tb)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Kx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:n=Wg(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Xb(n.localStore,t)];case 2:return i=o.sent(),Xx(n,r,null),Jx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,iT(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Tb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Yx(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:r=Wg(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Wg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n._n.lookupMutationBatch(e,t).next(function(t){return Gg(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)}).next(function(){return n._n.performConsistencyCheck(e)}).next(function(){return n.Mn.pn(e,r)})})}(r.localStore,t)];case 2:return i=o.sent(),Xx(r,t,n),Jx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,iT(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Tb(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Qx(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:tx((n=Wg(e)).remoteStore)||jg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Wg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t._n.getHighestUnacknowledgedBatchId(e)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=_x(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Jx(e,t){(e.Fo.get(t)||[]).forEach(function(e){e.resolve()}),e.Fo.delete(t)}function Xx(e,t,n){var r=Wg(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function $x(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||eT(e,t)})}function eT(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Qk(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),rT(e))}function tT(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Mx?(e.No.addReference(o.key,t),nT(e,o)):o instanceof Lx?(jg("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||eT(e,o.key)):zg()}}function nT(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(jg("SyncEngine","New document in limbo: "+n),e.So.add(r),rT(e))}function rT(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new wy(oy.fromString(t)),r=e.ko.next();e.Co.set(r,new Ux(n)),e.Do=e.Do.insert(n,r),Yk(e.remoteStore,new zw(dm(am(n.path)),r,2,Lg.o))}}function iT(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return r=Wg(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,s){a.push(r.Oo(s,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Wb.Pn(s.targetId,e);o.push(t)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return(0,Qu.__generator)(this,function(l){switch(l.label){case 0:n=Wg(e),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Ow.forEach(t,function(t){return Ow.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return Ow.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Lw(r=l.sent()))throw r;return jg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function oT(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return(n=Wg(e)).currentUser.isEqual(t)?[3,3]:(jg("SyncEngine","User change. New user:",t.toKey()),[4,Jb(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach(function(e){e.forEach(function(e){e.reject(new qg(Fg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,iT(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function aT(e,t){var n=Wg(e),r=n.Co.get(t);if(r&&r.bo)return g_().add(r.key);var i=g_(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function sT(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return[4,ok((n=Wg(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&tT(n,t.targetId,i.To),i)]}})})}function uT(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){return[2,sk((t=Wg(e)).localStore).then(function(e){return iT(t,e)})]})})}function cT(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return[4,function(e,t){var n=Wg(e),r=Wg(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.jt(e,t).next(function(t){return t?n.Mn.pn(e,t):Ow.resolve(null)})})}((i=Wg(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,ux(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xx(i,t,r||null),Jx(i,t),function(e,t){Wg(Wg(e)._n).Gt(t)}(i.localStore,t)):zg(),a.label=4;case 4:return[4,iT(i,o)];case 5:return a.sent(),[3,7];case 6:jg("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function lT(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,Qu.__generator)(this,function(c){switch(c.label){case 0:return gT(n=Wg(e)),yT(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hT(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,vx(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Yk(n.remoteStore,a[o]);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):u=u.then(function(){return $x(n,t),ik(n.localStore,t,!0)}),Qk(n.remoteStore,t)}),[4,u]);case 4:return c.sent(),[4,hT(n,s)];case 5:return c.sent(),function(e){var t=Wg(e);t.Co.forEach(function(e,n){Qk(t.remoteStore,n)}),t.No.ts(),t.Co=new Map,t.Do=new i_(wy.comparator)}(n),n.$o=!1,[4,vx(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function hT(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return(0,Qu.__generator)(this,function(v){switch(v.label){case 0:n=Wg(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,rk(n.localStore,dm(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,sT(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ak(n.localStore,s)];case 8:return p=v.sent(),[4,rk(n.localStore,p)];case 9:return u=v.sent(),[4,Vx(n,fT(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function fT(e){return om(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dT(e){var t=Wg(e);return Wg(Wg(t.localStore).persistence).fn()}function pT(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return(i=Wg(e)).$o?(jg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sk(i.localStore)];case 3:return o=s.sent(),a=__.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,iT(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,ik(i.localStore,t,!0)];case 6:return s.sent(),$x(i,t,r),[3,8];case 7:zg(),s.label=8;case 8:return[2]}})})}function vT(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return(0,Qu.__generator)(this,function(f){switch(f.label){case 0:if(!(r=gT(e)).$o)return[3,10];i=0,o=t,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(jg("SyncEngine","Adding an already active target "+a),[3,5]):[4,ak(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,rk(r.localStore,s)];case 3:return u=f.sent(),[4,Vx(r,fT(s),u.targetId,!1)];case 4:f.sent(),Yk(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,ik(r.localStore,e,!1).then(function(){Qk(r.remoteStore,e),$x(r,e)}).catch(Tb)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function gT(e){var t=Wg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wx.bind(null,t),t.vo._r=Ex.bind(null,t.eventManager),t.vo.Mo=Ax.bind(null,t.eventManager),t}function yT(e){var t=Wg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Yx.bind(null,t),t}function mT(e,t,n){var r=Wg(e);(function(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,Qu.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Wg(e),r=D_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Ke.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(Dx(r)),i=new Rx(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,iT(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Wg(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Ke.saveBundleMetadata(e,t)})}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return Bg("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var _T=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return this.R=Uk(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Qb(this.persistence,new Kb,e.initialUser,this.R)},e.prototype.qo=function(e){return new mk(wk.bs,this.R)},e.prototype.Bo=function(e){return new Ok},e.prototype.terminate=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),wT=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Qu.__extends)(t,e),t.prototype.initialize=function(t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,uk(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,yT(this.Qo.syncEngine)];case 4:return n.sent(),[4,ux(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},t.prototype.Ko=function(e){return Qb(this.persistence,new Kb,e.initialUser,this.R)},t.prototype.Uo=function(e){return new Eb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=Hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hb.withCacheSize(this.cacheSizeBytes):hb.DEFAULT;return new jb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Fk(),qk(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Ok},t}(_T),bT=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Qu.__extends)(t,e),t.prototype.initialize=function(t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Nk?(this.sharedClientState.syncEngine={ui:cT.bind(null,n),ai:pT.bind(null,n),hi:vT.bind(null,n),fn:dT.bind(null,n),ci:uT.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(e){return(0,Qu.__awaiter)(r,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return[4,lT(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},t.prototype.Bo=function(e){var t=Fk();if(!Nk.yt(t))throw new qg(Fg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nk(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(wT),kT=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Gx(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=oT.bind(null,this.syncEngine),[4,vx(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new Tx},e.prototype.createDatastore=function(e){var t=Uk(e.databaseInfo.databaseId),n=new Lk(e.databaseInfo);return function(e,t,n){return new Hk(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Gx(a.syncEngine,e,0)},o=Rk.yt()?new Rk:new Pk,new Gk(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Zx(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t=Wg(e),jg("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Kk(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();function xT(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r;return(0,Qu.__generator)(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var TT=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),ST=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Nw,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ox(JSON.parse(r),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},e.prototype.Jo=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})},e}(),CT=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qg(Fg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return n=Wg(e),r=j_(n.R)+"/documents",i={documents:t.map(function(e){return F_(n.R,e)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){Gg(!!t.found);var n=q_(e,t.found.name),r=D_(t.found.updateTime),i=new My({mapValue:{fields:t.found.fields}});return Fy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Gg(!!t.missing),Gg(!!t.readTime);var n=q_(e,t.missing),r=D_(t.readTime);return Fy.newNoDocument(n,r)}(e,t):zg()}(n.R,e);a.set(t.key.toString(),t)}),s=[],[2,(t.forEach(function(e){var t=a.get(e.toString());Gg(!!t),s.push(t)}),s)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new $m(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=wy.fromPath(n);t.mutations.push(new e_(r,t.precondition(r)))}),[4,function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return n=Wg(e),r=j_(n.R)+"/documents",i={writes:t.map(function(e){return z_(n.R,e)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw zg();t=ey.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qg(Fg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?qm.updateTime(t):qm.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ey.min()))throw new qg(Fg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qm.updateTime(t)}return qm.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),ET=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Zk(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,Qu.__awaiter)(e,void 0,void 0,function(){var e,t,n=this;return(0,Qu.__generator)(this,function(r){return e=new CT(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!yy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!n_(t)}return!1},e}(),AT=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=bk.UNAUTHENTICATED,this.clientId=Yg.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return(0,Qu.__awaiter)(r,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return jg("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new qg(Fg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Nw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Qu.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=_x(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}})})}),t.promise},e}();function IT(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),jg("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return(0,Qu.__awaiter)(i,void 0,void 0,function(){return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Jb(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function NT(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,OT(e)];case 1:return n=i.sent(),jg("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return(n=Wg(e)).asyncQueue.verifyOperationInProgress(),jg("RemoteStore","RemoteStore received new credentials"),r=tx(n),n.Or.add(3),[4,Kk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Wk(n)];case 3:return i.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function OT(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(jg("FirestoreClient","Using default OfflineComponentProvider"),[4,IT(e,new _T)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function PT(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(jg("FirestoreClient","Using default OnlineComponentProvider"),[4,NT(e,new kT)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function RT(e){return OT(e).then(function(e){return e.persistence})}function DT(e){return OT(e).then(function(e){return e.localStore})}function MT(e){return PT(e).then(function(e){return e.remoteStore})}function LT(e){return PT(e).then(function(e){return e.syncEngine})}function FT(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,PT(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=jx.bind(null,t.syncEngine),n.onUnlisten=Bx.bind(null,t.syncEngine),n)]}})})}function qT(e,t,n){var r=this;void 0===n&&(n={});var i=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(r,void 0,void 0,function(){var r;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new TT({next:function(o){t.enqueueAndForget(function(){return Cx(e,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new qg(Fg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new qg(Fg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Nx(am(n.path),o,{includeMetadataChanges:!0,so:!0});return Sx(e,a)},[4,FT(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function UT(e,t,n){var r=this;void 0===n&&(n={});var i=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(r,void 0,void 0,function(){var r;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new TT({next:function(n){t.enqueueAndForget(function(){return Cx(e,a)}),n.fromCache&&"server"===r.source?i.reject(new qg(Fg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Nx(n,o,{includeMetadataChanges:!0,so:!0});return Sx(e,a)},[4,FT(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var ZT=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},jT=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),VT=new Map,BT=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},HT=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(bk.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),zT=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),GT=function(){function e(e){var t=this;this.currentUser=bk.UNAUTHENTICATED,this.oc=new Nw,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){jg("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(jg("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(jg("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Gg("string"==typeof n.accessToken),new BT(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Gg(null===e||"string"==typeof e),new bk(e)},e}(),WT=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=bk.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),KT=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new WT(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(bk.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function YT(e,t,n){if(!n)throw new qg(Fg.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function QT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qg(Fg.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function JT(e,t,n,r){if(!0===t&&!0===r)throw new qg(Fg.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function XT(e){if(!wy.isDocumentKey(e))throw new qg(Fg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $T(e){if(wy.isDocumentKey(e))throw new qg(Fg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function eS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":zg()}function tS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qg(Fg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eS(e);throw new qg(Fg.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function nS(e,t){if(t<=0)throw new qg(Fg.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var rS=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qg(Fg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qg(Fg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),iS=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1,e instanceof jT?(this._databaseId=e,this._credentials=new HT):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qg(Fg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jT(e.options.projectId)}(e),this._credentials=new GT(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new qg(Fg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new qg(Fg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new HT;switch(e.type){case"gapi":var t=e.client;return Gg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new KT(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new qg(Fg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=VT.get(this))&&(jg("ComponentProvider","Removing Datastore"),VT.delete(this),e.terminate()),Promise.resolve();var e},e}(),oS=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sS(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),aS=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),sS=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,am(r))||this)._path=r,i.type="collection",i}return(0,Qu.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new oS(this.firestore,null,new wy(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(aS);function uS(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Ef.getModularInstance)(e),YT("collection","path",t),e instanceof iS)return $T(n=oy.fromString.apply(oy,(0,Qu.__spreadArray)([t],r))),new sS(e,null,n);if(!(e instanceof oS||e instanceof sS))throw new qg(Fg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $T(n=oy.fromString.apply(oy,(0,Qu.__spreadArray)([e.path],r)).child(oy.fromString(t))),new sS(e.firestore,null,n)}function cS(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,Ef.getModularInstance)(e),1===arguments.length&&(t=Yg.u()),YT("doc","path",t),e instanceof iS)return XT(n=oy.fromString.apply(oy,(0,Qu.__spreadArray)([t],r))),new oS(e,null,new wy(n));if(!(e instanceof oS||e instanceof sS))throw new qg(Fg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return XT(n=e._path.child(oy.fromString.apply(oy,(0,Qu.__spreadArray)([t],r)))),new oS(e.firestore,e instanceof sS?e.converter:null,new wy(n))}function lS(e,t){return e=(0,Ef.getModularInstance)(e),t=(0,Ef.getModularInstance)(t),(e instanceof oS||e instanceof sS)&&(t instanceof oS||t instanceof sS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function hS(e,t){return e=(0,Ef.getModularInstance)(e),t=(0,Ef.getModularInstance)(t),e instanceof aS&&t instanceof aS&&e.firestore===t.firestore&&vm(e._query,t._query)&&e.converter===t.converter}var fS=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Zk(this,"async_queue_retry"),this.Ic=function(){var t=qk();t&&jg("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=qk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=qk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Nw;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Lw(e=n.sent()))throw e;return jg("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){throw t.yc=e,t.gc=!1,Vg("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=mx.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&zg()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function dS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var pS=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Nw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),vS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new fS,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,Qu.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||yS(this),this._firestoreClient.terminate()},t}(iS);function gS(e){return e._firestoreClient||yS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ZT(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new AT(e._credentials,e._queue,r)}function mS(e,t,n){var r=this,i=new Nw;return e.asyncQueue.enqueue(function(){return(0,Qu.__awaiter)(r,void 0,void 0,function(){var r;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,IT(e,n)];case 1:return o.sent(),[4,NT(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Fg.FAILED_PRECONDITION||e.code===Fg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _S(e){if(e._initialized||e._terminated)throw new qg(Fg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wS=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new qg(Fg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sy(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),bS=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(cy.fromBase64String(t))}catch(t){throw new qg(Fg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(cy.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),kS=function(e){this._methodName=e},xS=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new qg(Fg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qg(Fg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Qg(this._lat,e._lat)||Qg(this._long,e._long)},e}(),TS=/^__.*__$/,SS=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Wm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gm(e,this.data,t,this.fieldTransforms)},e}(),CS=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Wm(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function ES(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zg()}}var AS=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Fc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,kc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},e.prototype.Lc=function(e){return KS(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(ES(this.Nc)&&TS.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),IS=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Uk(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new AS({Nc:e,methodName:t,qc:n,path:sy.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function NS(e){var t=e._freezeSettings(),n=Uk(e._databaseId);return new IS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OS(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);HS("Data must be an object, but it was:",a,r);var s,u,c=VS(r,a);if(o.merge)s=new uy(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=zS(t,f[h],n);if(!a.contains(d))throw new qg(Fg.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");YS(l,d)||l.push(d)}s=new uy(l),u=a.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=a.fieldTransforms;return new SS(new My(c),s,u)}var PS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(kS);function RS(e,t,n){return new AS({Nc:3,qc:t.settings.qc,methodName:e._methodName,kc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var DS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new Lm(e.path,new Am)},t.prototype.isEqual=function(e){return e instanceof t},t}(kS),MS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Qu.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=RS(this,e,!0),n=this.Kc.map(function(e){return jS(e,t)}),r=new Im(n);return new Lm(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(kS),LS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,Qu.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=RS(this,e,!0),n=this.Kc.map(function(e){return jS(e,t)}),r=new Om(n);return new Lm(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(kS),FS=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,Qu.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new Rm(e.R,xm(e.R,this.Qc));return new Lm(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(kS);function qS(e,t,n,r){var i=e.Uc(1,t,n);HS("Data must be an object, but it was:",i,r);var o=[],a=My.empty();ny(r,function(e,r){var s=WS(t,e,n);r=(0,Ef.getModularInstance)(r);var u=i.Oc(s);if(r instanceof PS)o.push(s);else{var c=jS(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new uy(o);return new CS(a,s,i.fieldTransforms)}function US(e,t,n,r,i,o){var a=e.Uc(1,t,n),s=[zS(t,r,n)],u=[i];if(o.length%2!=0)throw new qg(Fg.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(zS(t,o[c])),u.push(o[c+1]);for(var l=[],h=My.empty(),f=s.length-1;f>=0;--f)if(!YS(l,s[f])){var d=s[f],p=u[f];p=(0,Ef.getModularInstance)(p);var v=a.Oc(d);if(p instanceof PS)l.push(d);else{var g=jS(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new uy(l);return new CS(h,y,a.fieldTransforms)}function ZS(e,t,n,r){return void 0===r&&(r=!1),jS(n,e.Uc(r?4:3,t))}function jS(e,t){if(BS(e=(0,Ef.getModularInstance)(e)))return HS("Unsupported field value:",t,e),VS(e,t);if(e instanceof kS)return function(e,t){if(!ES(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=jS(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Ef.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xm(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=$g.fromDate(e);return{timestampValue:O_(t.R,n)}}if(e instanceof $g)return n=new $g(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:O_(t.R,n)};if(e instanceof xS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bS)return{bytesValue:P_(t.R,e._byteString)};if(e instanceof oS){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:M_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+eS(e))}(e,t)}function VS(e,t){var n={};return ry(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ny(e,function(e,r){var i=jS(r,t.Fc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function BS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $g||e instanceof xS||e instanceof bS||e instanceof oS||e instanceof kS)}function HS(e,t,n){if(!BS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=eS(n);throw t.Lc("an object"===r?e+" a custom object":e+" "+r)}}function zS(e,t,n){if((t=(0,Ef.getModularInstance)(t))instanceof wS)return t._internalPath;if("string"==typeof t)return WS(e,t);throw KS("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var GS=new RegExp("[~\\*/\\[\\]]");function WS(e,t,n){if(t.search(GS)>=0)throw KS("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(wS.bind.apply(wS,(0,Qu.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(KC){throw KS("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function KS(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new qg(Fg.INVALID_ARGUMENT,(s+=". ")+e+u)}function YS(e,t){return e.some(function(e){return e.isEqual(t)})}var QS=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new oS(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new JS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(XS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),JS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(QS);function XS(e,t){return"string"==typeof t?WS(e,t):t instanceof wS?t._internalPath:t._delegate._internalPath}var $S=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),eC=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,Qu.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new tC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(XS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(QS),tC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(eC),nC=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $S(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new tC(n._firestore,n._userDataWriter,r.key,r,new $S(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qg(Fg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new tC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $S(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new tC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $S(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:rC(t.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function rC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zg()}}function iC(e,t){return e instanceof eC&&t instanceof eC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nC&&t instanceof nC&&e._firestore===t._firestore&&hS(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function oC(e){if(um(e)&&0===e.explicitOrderBy.length)throw new qg(Fg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aC=function(){};function sC(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var uC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Qu.__extends)(t,e),t.prototype._apply=function(e){var t=NS(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new qg(Fg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){vC(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(pC(r,e,l[c]));s={arrayValue:{values:u}}}else s=pC(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||vC(a,o),s=ZS(n,"where",a,"in"===o||"not-in"===o);var h=By.create(i,o,s);return function(e,t){if(t.g()){var n=lm(e);if(null!==n&&!n.isEqual(t.field))throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=cm(e);null!==r&&gC(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new qg(Fg.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new aS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(aC),cC=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,Qu.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new em(t,n);return function(e,t){if(null===cm(e)){var n=lm(e);null!==n&&gC(0,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new aS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new im(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(aC),lC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,Qu.__extends)(t,e),t.prototype._apply=function(e){return new aS(e.firestore,e.converter,pm(e._query,this.Hc,this.Jc))},t}(aC),hC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Qu.__extends)(t,e),t.prototype._apply=function(e){var t=dC(e,this.type,this.Yc,this.Xc);return new aS(e.firestore,e.converter,function(e,t){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(aC),fC=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,Qu.__extends)(t,e),t.prototype._apply=function(e){var t=dC(e,this.type,this.Yc,this.Xc);return new aS(e.firestore,e.converter,function(e,t){return new im(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(aC);function dC(e,t,n,r){if(n[0]=(0,Ef.getModularInstance)(n[0]),n[0]instanceof QS)return function(e,t,n,r,i){if(!r)throw new qg(Fg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=fm(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ay(t,r.key));else{var c=r.data.field(u.field);if(py(c))throw new qg(Fg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Xy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=NS(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new qg(Fg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hm(e)&&-1!==c.indexOf("/"))throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(oy.fromString(c));if(!wy.isDocumentKey(l))throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new wy(l);s.push(Ay(t,h))}else{var f=ZS(n,r,c);s.push(f)}}return new Xy(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function pC(e,t,n){if("string"==typeof(n=(0,Ef.getModularInstance)(n))){if(""===n)throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hm(t)&&-1!==n.indexOf("/"))throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(oy.fromString(n));if(!wy.isDocumentKey(r))throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ay(e,new wy(r))}if(n instanceof oS)return Ay(e,n._key);throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+eS(n)+".")}function vC(e,t){if(!Array.isArray(e)||0===e.length)throw new qg(Fg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new qg(Fg.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function gC(e,t,n){if(!n.isEqual(t))throw new qg(Fg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var yC=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),by(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zg()}},e.prototype.convertObject=function(e,t){var n=this,r={};return ny(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertGeoPoint=function(e){return new xS(fy(e.latitude),fy(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=vy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gy(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=hy(e);return new $g(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=oy.fromString(e);Gg(aw(n));var r=new jT(n.get(1),n.get(3)),i=new wy(n.popFirst(5));return r.isEqual(t)||Vg("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function mC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _C=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Qu.__extends)(t,e),t.prototype.convertBytes=function(e){return new bS(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oS(this.firestore,null,t)},t}(yC),wC=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=NS(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=bC(e,this._firestore),i=mC(r.converter,t,n),o=OS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,qm.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=bC(e,this._firestore);return o="string"==typeof(t=(0,Ef.getModularInstance)(t))||t instanceof wS?US(this._dataReader,"WriteBatch.update",a._key,t,n,r):qS(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,qm.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=bC(e,this._firestore);return this._mutations=this._mutations.concat(new $m(t._key,qm.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new qg(Fg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function bC(e,t){if((e=(0,Ef.getModularInstance)(e)).firestore!==t)throw new qg(Fg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var kC=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Qu.__extends)(t,e),t.prototype.convertBytes=function(e){return new bS(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oS(this.firestore,null,t)},t}(yC);function xC(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=tS(e,oS);var o=tS(e.firestore,vS),a=NS(o);return SC(o,[("string"==typeof(t=(0,Ef.getModularInstance)(t))||t instanceof wS?US(a,"updateDoc",e._key,t,n,r):qS(a,"updateDoc",e._key,t)).toMutation(e._key,qm.exists(!0))])}function TC(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,Ef.getModularInstance)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||dS(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(dS(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof oS)c=tS(e.firestore,vS),l=am(e._key.path),u={next:function(t){i[s]&&i[s](CC(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=tS(e,aS);c=tS(d.firestore,vS),l=d._query;var p=new kC(c);u={next:function(e){i[s]&&i[s](new nC(c,p,d,e))},error:i[s+1],complete:i[s+2]},oC(e._query)}return function(e,t,n,r){var i=this,o=new TT(r),a=new Nx(t,o,n);return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(i,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t=Sx,[4,FT(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(i,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t=Cx,[4,FT(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}})})})}}(gS(c),l,h,u)}function SC(e,t){return function(e,t){var n=this,r=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return n=Hx,[4,LT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(gS(e),t)}function CC(e,t,n){var r=n.docs.get(t._key),i=new kC(e);return new eC(e,i,t._key,r,new $S(n.hasPendingWrites,n.fromCache),t.converter)}var EC=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,Qu.__extends)(t,e),t.prototype.get=function(t){var n=this,r=bC(t,this._firestore),i=new kC(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new eC(n._firestore,i,r._key,e._document,new $S(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=NS(e)}return e.prototype.get=function(e){var t=this,n=bC(e,this._firestore),r=new _C(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return zg();var i=e[0];if(i.isFoundDocument())return new QS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new QS(t._firestore,r,n._key,null,n.converter);throw zg()})},e.prototype.set=function(e,t,n){var r=bC(e,this._firestore),i=mC(r.converter,t,n),o=OS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=bC(e,this._firestore);return o="string"==typeof(t=(0,Ef.getModularInstance)(t))||t instanceof wS?US(this._dataReader,"Transaction.update",a._key,t,n,r):qS(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=bC(e,this._firestore);return this._transaction.delete(t._key),this},e}());function AC(){if("undefined"==typeof Uint8Array)throw new qg(Fg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function IC(){if("undefined"==typeof atob)throw new qg(Fg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var NC=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return IC(),new e(bS.fromBase64String(t))},e.fromUint8Array=function(t){return AC(),new e(bS.fromUint8Array(t))},e.prototype.toBase64=function(){return IC(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return AC(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),OC=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){_S(e=tS(e,vS));var n=gS(e),r=e._freezeSettings(),i=new kT;return mS(n,i,new wT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){_S(e=tS(e,vS));var t=gS(e),n=e._freezeSettings(),r=new kT;return mS(t,r,new bT(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new qg(Fg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Nw;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return Rw.yt()?[4,Rw.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(Hb(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),PC=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof jT||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Bg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=tS(e,iS))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Bg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Ef.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new qg(Fg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new zT(new BT(o,new bk(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,RT(e)];case 1:return t=r.sent(),[4,MT(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Wg(e);return t.Or.delete(0),Wk(t)}(n))]}})})})}(gS(tS(this._delegate,vS)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,RT(e)];case 1:return t=r.sent(),[4,MT(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return(t=Wg(e)).Or.add(0),[4,Kk(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(gS(tS(this._delegate,vS)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&JT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(t,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return t=Qx,[4,LT(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(gS(tS(this._delegate,vS)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new TT(t);return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){Wg(e).Gr.add(t),t.next()},[4,FT(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){Wg(e).Gr.delete(t)},[4,FT(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(gS(e=tS(e,vS)),dS(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new qg(Fg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new GC(this,uS(this._delegate,e))}catch(e){throw qC(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new FC(this,cS(this._delegate,e))}catch(e){throw qC(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new BC(this,function(e,t){if(e=tS(e,iS),YT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qg(Fg.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new aS(e,null,function(e){return new im(oy.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw qC(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,function(e){return PT(e).then(function(e){return e.datastore})}(e)];case 1:return n=i.sent(),new ET(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(gS(e),function(n){return t(new EC(e,n))})}(this._delegate,function(n){return e(new DC(t,n))})},e.prototype.batch=function(){var e=this;return gS(this._delegate),new MC(new wC(this._delegate,function(t){return SC(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new qg(Fg.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new qg(Fg.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),RC=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,Qu.__extends)(t,e),t.prototype.convertBytes=function(e){return new NC(new bS(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return FC.eu(t,this.firestore,null)},t}(yC),DC=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}return e.prototype.get=function(e){var t=this,n=WC(e);return this._delegate.get(n).then(function(e){return new jC(t._firestore,new eC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=WC(e);return n?(QT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=WC(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Qu.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=WC(e);return this._delegate.delete(t),this},e}(),MC=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=WC(e);return n?(QT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=WC(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,Qu.__spreadArray)([a,t,n],i)),this},e.prototype.delete=function(e){var t=WC(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),LC=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new tC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new VC(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new RC(t),n),i.set(n,o)),o},e}();LC.su=new WeakMap;var FC=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new qg(Fg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new oS(n._delegate,r,new wy(t)))},e.eu=function(t,n,r){return new e(n,new oS(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new GC(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new GC(this.firestore,uS(this._delegate,e))}catch(e){throw qC(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,Ef.getModularInstance)(e))instanceof oS&&lS(this._delegate,e)},e.prototype.set=function(e,t){t=QT("DocumentReference.set",t);try{return function(e,t,n){e=tS(e,oS);var r=tS(e.firestore,vS),i=mC(e.converter,t,n);return SC(r,[OS(NS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,qm.none())])}(this._delegate,e,t)}catch(e){throw qC(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xC(this._delegate,e):xC.apply(void 0,(0,Qu.__spreadArray)([this._delegate,e,t],n))}catch(e){throw qC(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return SC(tS((e=this._delegate).firestore,vS),[new $m(e._key,qm.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=UC(t),i=ZC(t,function(t){return new jC(e.firestore,new eC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return TC(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=tS(e,oS);var t=tS(e.firestore,vS),n=gS(t),r=new kC(t);return function(e,t){var n=this,r=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Wg(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Mn.mn(e,t)})}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new qg(Fg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=_x(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,DT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._key).then(function(n){return new eC(t,r,e._key,n,new $S(null!==n&&n.hasLocalMutations,!0),e.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=tS(e,oS);var t=tS(e.firestore,vS);return qT(gS(t),e._key,{source:"server"}).then(function(n){return CC(t,e,n)})}(this._delegate):function(e){e=tS(e,oS);var t=tS(e.firestore,vS);return qT(gS(t),e._key).then(function(n){return CC(t,e,n)})}(this._delegate)).then(function(e){return new jC(t.firestore,new eC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?LC.nu(this.firestore,t):null))},e}();function qC(e,t,n){return e.message=e.message.replace(t,n),e}function UC(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!dS(r))return r}return{}}function ZC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=dS(e[0])?e[0]:dS(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jC=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new FC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return iC(this._delegate,e._delegate)},e}(),VC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Qu.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(jC),BC=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,sC(this._delegate,function(e,t,n){var r=t,i=XS("where",e);return new uC(i,r,n)}(t,n,r)))}catch(t){throw qC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,sC(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=XS("orderBy",e);return new cC(r,n)}(t,n)))}catch(t){throw qC(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,sC(this._delegate,function(e){return nS("limit",e),new lC("limit",e,"F")}(t)))}catch(t){throw qC(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,sC(this._delegate,function(e){return nS("limitToLast",e),new lC("limitToLast",e,"L")}(t)))}catch(t){throw qC(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new hC("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw qC(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new hC("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw qC(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new fC("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw qC(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sC(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new fC("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw qC(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return hS(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=tS(e,aS);var t=tS(e.firestore,vS),n=gS(t),r=new kC(t);return function(e,t){var n=this,r=new Nw;return e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ok(e,t,!0)];case 1:return s=u.sent(),r=new Fx(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=_x(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,DT(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}})})}),r.promise}(n,e._query).then(function(n){return new nC(t,r,e,n)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=tS(e,aS);var t=tS(e.firestore,vS),n=gS(t),r=new kC(t);return UT(n,e._query,{source:"server"}).then(function(n){return new nC(t,r,e,n)})}(this._delegate):function(e){e=tS(e,aS);var t=tS(e.firestore,vS),n=gS(t),r=new kC(t);return oC(e._query),UT(n,e._query).then(function(n){return new nC(t,r,e,n)})}(this._delegate)).then(function(e){return new zC(t.firestore,new nC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=UC(t),i=ZC(t,function(t){return new zC(e.firestore,new nC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return TC(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?LC.nu(this.firestore,t):null))},e}(),HC=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new VC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),zC=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new BC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new VC(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new HC(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new VC(n._firestore,r))})},e.prototype.isEqual=function(e){return iC(this._delegate,e._delegate)},e}(),GC=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,Qu.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new FC(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new FC(this.firestore,void 0===e?cS(this._delegate):cS(this._delegate,e))}catch(e){throw qC(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=tS(e.firestore,vS),r=cS(e),i=mC(e.converter,t);return SC(n,[OS(NS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,qm.exists(!1))]).then(function(){return r})}(this._delegate,e).then(function(e){return new FC(t.firestore,e)})},t.prototype.isEqual=function(e){return lS(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?LC.nu(this.firestore,e):null))},t}(BC);function WC(e){return tS(e,oS)}var KC,YC,QC=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(wS.bind.apply(wS,(0,Qu.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(sy.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,Ef.getModularInstance)(e))instanceof wS&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),JC=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new DS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new PS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new MS("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new LS("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new FS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),XC=v(5119),$C={Firestore:PC,GeoPoint:xS,Timestamp:$g,Blob:NC,Transaction:DC,WriteBatch:MC,DocumentReference:FC,DocumentSnapshot:jC,Query:BC,QueryDocumentSnapshot:VC,QuerySnapshot:zC,CollectionReference:GC,FieldPath:QC,FieldValue:JC,setLogLevel:function(e){Ug.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new XC.Component("firestore",function(e){return function(e,t){return new PC(e,new vS(e,t),new OC)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},$C)))})(KC=Cf.default),KC.registerVersion("@firebase/firestore","2.3.10"),(YC=PC).prototype.loadBundle=function(e){return function(e,t){var n=gS(e=tS(e,vS)),r=new pS;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new ST(e,t)}(function(e,t){if(e instanceof Uint8Array)return xT(e,t);if(e instanceof ArrayBuffer)return xT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Uk(t));e.asyncQueue.enqueueAndForget(function(){return(0,Qu.__awaiter)(i,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return t=mT,[4,LT(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,e._databaseId,t,r),r}(this._delegate,e)},YC.prototype.namedQuery=function(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue(function(){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return n=function(e,t){var n=Wg(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Ke.getNamedQuery(e,t)})},[4,DT(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}})})})}(gS(t=tS(t,vS)),n).then(function(e){return e?new aS(t,null,e.query):null})).then(function(e){return e?new BC(r,e):null})};var eE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tE=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,Qu.__extends)(t,e),t}(Error),nE=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return n.auth=e},function(){}),this.messaging||t.get().then(function(e){return n.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();function rE(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var iE,oE,aE,sE=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return rE(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?rE(e,function(e){return t.decode(e)}):e},e}(),uE=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new sE,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new nE(t,n),this.cancelAllRequests=new Promise(function(e){a.deleteService=function(){return e()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(KC){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},e.prototype.getAppCheckToken=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype.call=function(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h,f;return(0,Qu.__generator)(this,function(d){switch(d.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(e){var t,n=new Promise(function(n,r){t=setTimeout(function(){r(new tE("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}(n.timeout||7e4),u=s.timer,c=s.promise,[4,Promise.race([cE(u,this.postJSON(r,i,o)),c,cE(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new tE("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"==typeof s){if(!eE[s])return new tE("internal","internal");r=eE[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(KC){}return"ok"===r?null:new tE(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new tE("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new tE("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},e}();function cE(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}iE=Cf.default,oE=fetch.bind(self),aE={Functions:uE},iE.INTERNAL.registerComponent(new XC.Component("functions",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal"),a=e.getProvider("messaging");return new uE(r,i,a,o,n,oE)},"PUBLIC").setServiceProps(aE).setMultipleInstances(!0)),Cf.default.registerVersion("@firebase/functions","0.6.14");var lE,hE=v(2087),fE=((lE={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',lE["not-registered"]="Firebase Installation is not registered.",lE["installation-not-found"]="Firebase Installation not found.",lE["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',lE["app-offline"]="Could not process request. Application offline.",lE["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",lE),dE=new Ef.ErrorFactory("installations","Installations",fE);function pE(e){return e instanceof Ef.FirebaseError&&e.code.includes("request-failed")}function vE(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function gE(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function yE(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,dE.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function mE(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function _E(e,t){var n=t.refreshToken,r=mE(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function wE(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}})})}function bE(e,t){var n=t.fid;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return t=vE(e),r=mE(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.31"})},[4,wE(function(){return fetch(t,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:gE(a.authToken)}];case 3:return[4,yE("Create Installation",o)];case 4:throw s.sent()}})})}function kE(e){return new Promise(function(t){setTimeout(t,e)})}var xE=/^[cdef][\w-]{21}$/;function TE(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,Qu.__spreadArray)([],(0,Qu.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return xE.test(t)?t:""}catch(PS){return""}}function SE(e){return e.appName+"!"+e.appId}var CE=new Map;function EE(e,t){var n=SE(e);AE(n,t),function(e,t){var n=NE();n&&n.postMessage({key:e,fid:t}),OE()}(n,t)}function AE(e,t){var n,r,i=CE.get(e);if(i)try{for(var o=(0,Qu.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var IE=null;function NE(){return!IE&&"BroadcastChannel"in self&&((IE=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){AE(e.data.key,e.data.fid)}),IE}function OE(){0===CE.size&&IE&&(IE.close(),IE=null)}var PE,RE="firebase-installations-store",DE=null;function ME(){return DE||(DE=(0,hE.openDb)("firebase-installations-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(RE)}})),DE}function LE(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return n=SE(e),[4,ME()];case 1:return r=s.sent(),i=r.transaction(RE,"readwrite"),[4,(o=i.objectStore(RE)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||EE(e,t.fid),[2,t]}})})}function FE(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return t=SE(e),[4,ME()];case 1:return n=i.sent(),[4,(r=n.transaction(RE,"readwrite")).objectStore(RE).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function qE(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return n=SE(e),[4,ME()];case 1:return r=u.sent(),i=r.transaction(RE,"readwrite"),[4,(o=i.objectStore(RE)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||EE(e,s.fid),[2,s]}})})}function UE(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,qE(e,function(n){var r=function(e){return VE(e||{fid:TE(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dE.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,bE(e,t)];case 1:return n=i.sent(),[2,LE(e,n)];case 2:return pE(r=i.sent())&&409===r.customData.serverCode?[4,FE(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,LE(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ZE(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function ZE(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return[4,jE(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,kE(100)];case 3:return o.sent(),[4,jE(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,UE(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}})})}function jE(e){return qE(e,function(e){if(!e)throw dE.create("installation-not-found");return VE(e)})}function VE(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function BE(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return e=function(e,t){var n=t.fid;return vE(e)+"/"+n+"/authTokens:generate"}(n,t),i=_E(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.31"}})},[4,wE(function(){return fetch(e,a)})];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,gE(u.sent())];case 3:return[4,yE("Generate Auth Token",s)];case 4:throw u.sent()}})})}function HE(e,t){return void 0===t&&(t=!1),(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return[4,qE(e.appConfig,function(r){if(!GE(r))throw dE.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(i))return r;if(1===o.requestStatus)return n=function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,zE(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,kE(100)];case 3:return i.sent(),[4,zE(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,HE(e,t)]:[2,r]}})})}(e,t),r;if(!navigator.onLine)throw dE.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,Qu.__assign)((0,Qu.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,BE(e,t)];case 1:return n=o.sent(),i=(0,Qu.__assign)((0,Qu.__assign)({},t),{authToken:n}),[4,LE(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!pE(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,FE(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Qu.__assign)((0,Qu.__assign)({},t),{authToken:{requestStatus:0}}),[4,LE(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(e,a),a})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function zE(e){return qE(e,function(e){if(!GE(e))throw dE.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,Qu.__assign)((0,Qu.__assign)({},e),{authToken:{requestStatus:0}}):e})}function GE(e){return void 0!==e&&2===e.registrationStatus}function WE(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,UE(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function KE(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return vE(e)+"/"+n}(e,t),r=_E(e,t),i={method:"DELETE",headers:r},[4,wE(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,yE("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function YE(e){return dE.create("missing-app-config-values",{valueName:e})}!function(e){e.INTERNAL.registerComponent(new XC.Component("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw YE("App Configuration");if(!e.name)throw YE("App Name");try{for(var r=(0,Qu.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw YE(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,UE(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):HE(e).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,WE(e.appConfig)];case 1:return n.sent(),[4,HE(e,t)];case 2:return[2,n.sent().token]}})})}(n,e)},delete:function(){return function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,qE(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw dE.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw dE.create("app-offline");case 3:return[4,KE(t,n)];case 4:return r.sent(),[4,FE(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){NE();var n=SE(e),r=CE.get(n);r||(r=new Set,CE.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=SE(e),r=CE.get(n);r&&(r.delete(t),0===r.size&&CE.delete(n),OE())}(n,t)}}(n,e)}}},"PUBLIC")),e.registerVersion("@firebase/installations","0.4.31")}(Cf.default);var QE=((PE={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',PE["only-available-in-window"]="This method is available in a Window context.",PE["only-available-in-sw"]="This method is available in a service worker context.",PE["permission-default"]="The notification permission was not granted and dismissed instead.",PE["permission-blocked"]="The notification permission was not granted and blocked instead.",PE["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",PE["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",PE["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",PE["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",PE["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",PE["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",PE["token-update-no-token"]="FCM returned no token when updating the user to push.",PE["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",PE["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",PE["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",PE["invalid-vapid-key"]="The public VAPID key must be a string.",PE["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",PE),JE=new Ef.ErrorFactory("messaging","Messaging",QE),XE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$E=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function eA(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,Qu.__spreadArray)([],(0,Qu.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tA(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function nA(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(e){return e.name}).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return t=null,[4,(0,hE.openDb)("fcm_token_details_db",5,function(r){return(0,Qu.__awaiter)(n,void 0,void 0,function(){var n,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:eA(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:eA(o.auth),p256dh:eA(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:eA(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,(0,hE.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,(0,hE.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,hE.deleteDb)("undefined")];case 6:return r.sent(),[2,rA(t)?t:null]}})})}function rA(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var iA=null;function oA(){return iA||(iA=(0,hE.openDb)("firebase-messaging-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}})),iA}function aA(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return t=cA(e),[4,oA()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,nA(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,sA(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function sA(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return n=cA(e),[4,oA()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}})})}function uA(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return t=cA(e),[4,oA()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function cA(e){return e.appConfig.appId}function lA(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return[4,pA(e)];case 1:n=s.sent(),r=vA(t),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(dA(e.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),JE.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw JE.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw JE.create("token-subscribe-no-token");return[2,o.token]}})})}function hA(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return[4,pA(e)];case 1:n=s.sent(),r=vA(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(dA(e.appConfig)+"/"+t.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),JE.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw JE.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw JE.create("token-update-no-token");return[2,o.token]}})})}function fA(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return[4,pA(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(dA(e.appConfig)+"/"+t,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw JE.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),JE.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function dA(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function pA(e){var t=e.appConfig,n=e.installations;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function vA(e){var t=e.vapidKey,n={web:{endpoint:e.endpoint,auth:e.auth,p256dh:e.p256dh}};return t!==XE&&(n.web.applicationPubKey=t),n}function gA(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw JE.create("permission-blocked");return[4,wA(t,n)];case 1:return r=s.sent(),[4,aA(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:eA(r.getKey("auth")),p256dh:eA(r.getKey("p256dh"))},i?[3,3]:[2,_A(e,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,fA(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,_A(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,mA({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var u,c,l})})}function yA(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,aA(e)];case 1:return(n=i.sent())?[4,fA(e,n.token)]:[3,4];case 2:return i.sent(),[4,uA(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function mA(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,hA(t,e)];case 1:return r=a.sent(),i=(0,Qu.__assign)((0,Qu.__assign)({},e),{token:r,createTime:Date.now()}),[4,sA(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,yA(t,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function _A(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,lA(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,sA(e,r)];case 2:return i.sent(),[2,r.token]}})})}function wA(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tA(t)})]}})})}function bA(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function kA(e){return new Promise(function(t){setTimeout(t,e)})}var xA=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(e){e.waitUntil(t.onPush(e))}),self.addEventListener("pushsubscriptionchange",function(e){e.waitUntil(t.onSubChange(e))}),self.addEventListener("notificationclick",function(e){e.waitUntil(t.onNotificationClick(e))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw JE.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,aA(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:XE,r.label=2;case 2:return[2,gA(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return yA(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw JE.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw JE.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw JE.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw JE.create("only-available-in-window")},e.prototype.onMessage=function(){throw JE.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw JE.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r,i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,EA()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some(function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,CA(n,t)]:(r=!1,t.notification?[4,AA(TA(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,kA(1e3)]);case 4:return o.sent(),[2]}})})},e.prototype.onSubChange=function(e){var t,n;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,yA(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,aA(this.firebaseDependencies)];case 3:return r=i.sent(),[4,yA(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,gA(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:XE)];case 5:return i.sent(),[2]}})})},e.prototype.onNotificationClick=function(e){var t,n;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(bA(e.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,SA(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,kA(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=$E.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},e}();function TA(e){var t,n=(0,Qu.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function SA(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return[4,EA()];case 1:t=u.sent();try{for(n=(0,Qu.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function CA(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=$E.PUSH_RECEIVED;try{for(var i=(0,Qu.__values)(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function EA(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function AA(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var IA=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(e){return t.messageEventListener(e)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===$E.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),bA(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw JE.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,gA(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=XE),[2]})})},e.prototype.updateSwReg=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw JE.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},e.prototype.registerDefaultSw=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw t=n.sent(),JE.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,yA(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw JE.create("denied"===e?"permission-blocked":"permission-default")}})})},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw JE.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw JE.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw JE.create("invalid-sw-registration");if(this.swRegistration)throw JE.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw JE.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw JE.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return n=function(e){switch(e){case $E.NOTIFICATION_CLICKED:return"notification_open";case $E.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function NA(e){return JE.create("missing-app-config-values",{valueName:e})}var OA={isSupported:PA};function PA(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Cf.default.INTERNAL.registerComponent(new XC.Component("messaging",function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw NA("App Configuration Object");if(!e.name)throw NA("App Name");var r=e.options;try{for(var i=(0,Qu.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw NA(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!PA())throw JE.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new xA(n):new IA(n)},"PUBLIC").setServiceProps(OA));var RA=function(e){function t(n,r){var i=e.call(this,DA(n),"Firebase Storage: "+r+" ("+DA(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,Qu.__extends)(t,e),t.prototype._codeEquals=function(e){return DA(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(Ef.FirebaseError);function DA(e){return"storage/"+e}function MA(){return new RA("unknown","An unknown error occurred, please check the error payload for server response.")}function LA(){return new RA("canceled","User canceled the upload/download.")}function FA(){return new RA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qA(e){return new RA("invalid-argument",e)}function UA(){return new RA("app-deleted","The Firebase app was deleted.")}function ZA(e){return new RA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jA(e,t){return new RA("invalid-format","String does not match format '"+e+"': "+t)}function VA(e){throw new RA("internal-error","Internal error: "+e)}var BA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},HA=function(e,t){this.data=e,this.contentType=t||null};function zA(e,t){switch(e){case BA.RAW:return new HA(GA(t));case BA.BASE64:case BA.BASE64URL:return new HA(WA(e,t));case BA.DATA_URL:return new HA((n=new KA(t)).base64?WA(BA.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(KC){throw jA(BA.DATA_URL,"Malformed data URL.")}return GA(t)}(n.rest),new KA(t).contentType)}var n;throw MA()}function GA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function WA(e,t){switch(e){case BA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw jA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case BA.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw jA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(KC){throw jA(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var KA=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw jA(BA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},YA={STATE_CHANGED:"state_changed"},QA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JA(e){switch(e){case"running":case"pausing":case"canceling":return QA.RUNNING;case"paused":return QA.PAUSED;case"success":return QA.SUCCESS;case"canceled":return QA.CANCELED;case"error":default:return QA.ERROR}}var XA=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),$A=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=XA.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=XA.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=XA.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw VA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw VA("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw VA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(KC){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw VA("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),eI=function(){function e(){}return e.prototype.createConnection=function(){return new $A},e}(),tI=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(KC){return new e(t,"")}if(""===r.path)return r;throw new RA("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(t);if(l){var h=l[c.indices.path];h||(h=""),r=new e(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(e){return new RA("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),nI=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function rI(e){return"string"==typeof e||e instanceof String}function iI(e){return oI()&&e instanceof Blob}function oI(){return"undefined"!=typeof Blob}function aI(e,t,n,r){if(r<t)throw qA("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw qA("Invalid value for '"+e+"'. Expected "+n+" or less.")}function sI(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function uI(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}var cI=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(KC){o(KC)}else null!==a?((r=MA()).serverResponse=a.getResponseText(),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?UA():LA():new RA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new lI(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c||(c=!0,n.apply(null,e))}function h(t){o=setTimeout(function(){o=null,function(t,n){if(n)t(!1,new lI(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===XA.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new lI(a,r))}else{var s=r.getErrorCode()===XA.ABORT;t(!1,new lI(!1,null,s))}})}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(f,u())},t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,Qu.__spreadArray)([null,e],t));else{var r;u()||a?l.call.apply(l,(0,Qu.__spreadArray)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout(function(){a=!0,p(!0)},r),p}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),lI=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function hI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hI();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(oI())return new Blob(e);throw new RA("unsupported-environment","This browser doesn't seem to support creating Blobs")}var dI=function(){function e(e,t){var n=0,r="";iI(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(iI(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(oI()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(fI.apply(null,r))}var i=t.map(function(e){return rI(e)?zA(BA.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function pI(e){var t;try{t=JSON.parse(e)}catch(KC){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function vI(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function gI(e,t){return t}var yI=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||gI},mI=null;function _I(){if(mI)return mI;var e=[];e.push(new yI("bucket")),e.push(new yI("generation")),e.push(new yI("metageneration")),e.push(new yI("name","fullPath",!0));var t=new yI("name");t.xform=function(e,t){return function(e){return!rI(e)||e.length<2?e:vI(e)}(t)},e.push(t);var n=new yI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new yI("timeCreated")),e.push(new yI("updated")),e.push(new yI("md5Hash",null,!0)),e.push(new yI("cacheControl",null,!0)),e.push(new yI("contentDisposition",null,!0)),e.push(new yI("contentEncoding",null,!0)),e.push(new yI("contentLanguage",null,!0)),e.push(new yI("contentType",null,!0)),e.push(new yI("metadata","customMetadata",!0)),mI=e}function wI(e,t,n){var r=pI(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new tI(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function bI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var kI=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function xI(e){if(!e)throw MA()}function TI(e,t){return function(n,r){var i=wI(e,r,t);return xI(null!==i),i}}function SI(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new RA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new RA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new RA("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new RA("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function CI(e){var t=SI(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new RA("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function EI(e,t,n){var r=sI(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new kI(r,"GET",TI(e,n),i);return o.errorHandler=CI(t),o}function AI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var II=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function NI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(KC){xI(!1)}return xI(!!n&&-1!==(t||["active"]).indexOf(n)),n}var OI=function(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function PI(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}var RI=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=_I(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=AI(t,r,i),s={name:a.fullPath},u=sI(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=bI(a,n),h=new kI(u,"POST",function(e){var t;NI(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(KC){xI(!1)}return xI(rI(t)),t},e.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=SI(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var i=function(e,t,n,r){var i=new kI(n,"POST",function(e){var t=NI(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(KC){xI(!1)}n||xI(!1);var i=Number(n);return xI(!isNaN(i)),new II(i,r.size(),"final"===t)},e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=SI(t),i}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then(function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new II(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=function(e,t,n,r,i,o,a,s){var u=new II(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new RA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw FA();var p=new kI(n,"POST",function(e,n){var i,a=NI(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?TI(t,o)(e,n):null,new II(s,c,"final"===a,i)},t.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=SI(e),p}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(KC){return e._error=KC,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,n){var r=EI(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=AI(t,r,i),c=bI(u,n),l=dI.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw FA();var h={name:u.fullPath},f=sI(o,e.host),d=e.maxUploadRetryTime,p=new kI(f,"POST",TI(e,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=SI(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=LA(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=JA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new OI(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(JA(this._state)){case QA.SUCCESS:PI(this._resolve.bind(null,this.snapshot))();break;case QA.CANCELED:case QA.ERROR:PI(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(JA(this._state)){case QA.RUNNING:case QA.PAUSED:e.next&&PI(e.next.bind(e,this.snapshot))();break;case QA.SUCCESS:e.complete&&PI(e.complete.bind(e))();break;case QA.CANCELED:case QA.ERROR:e.error&&PI(e.error.bind(e,this._error))();break;default:e.error&&PI(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),DI=function(){function e(e,t){this._service=e,this._location=t instanceof tI?t:tI.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new tI(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return vI(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new tI(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw ZA(e)},e}();function MI(e){var t={prefixes:[],items:[]};return LI(e,t).then(function(){return t})}function LI(e,t,n){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return[4,FI(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,LI(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function FI(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&aI("options.maxResults",1,1e3,t.maxResults),r=function(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=sI(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new kI(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=pI(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new tI(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=e._makeStorageReference(new tI(t,c[u].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return xI(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=SI(t),u}(e.storage,e._location,0,(n=t||{}).pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function qI(e,t){var n=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new tI(e._location.bucket,n);return new DI(e.storage,r)}function UI(e){return/^[A-Za-z]+:\/\//.test(e)}function ZI(e,t){if(e instanceof BI){var n=e;if(null==n._bucket)throw new RA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new DI(n,n._bucket);return null!=t?ZI(r,t):r}if(void 0!==t){if(t.includes(".."))throw qA('`path` param cannot contain ".."');return qI(e,t)}return e}function jI(e,t){if(t&&UI(t)){if(e instanceof BI)return new DI(e,t);throw qA("To use ref(service, url), the first argument must be a Storage instance.")}return ZI(e,t)}function VI(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:tI.makeFromBucketSpec(n,e)}var BI=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?tI.makeFromBucketSpec(i,this._host):VI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,this._bucket=null!=this._url?tI.makeFromBucketSpec(this._url,e):VI(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){aI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){aI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new DI(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new nI(UA());var i=function(e,t,n,r,i,o){var a=uI(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new cI(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e.prototype.makeRequestWithTokens=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=n.sent(),[2,this._makeRequest(e,t[0],t[1])]}})})},e}();function HI(e,t){return jI(e=(0,Ef.getModularInstance)(e),t)}var zI=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),GI=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new zI(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new zI(t,n,n._ref))},t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new zI(e,i,i._ref))}:{next:t.next?function(e){return t.next(new zI(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),WI=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new KI(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new KI(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),KI=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return qI(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new GI(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new RI(e,new dI(t),n)}(e=(0,Ef.getModularInstance)(e),t,n)}(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=BA.RAW),this._throwIfRoot("putString");var r=zA(t,e),i=(0,Qu.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new GI(new RI(this._delegate,new dI(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return MI(e=(0,Ef.getModularInstance)(e))}(this._delegate).then(function(t){return new WI(t,e.storage)})},e.prototype.list=function(e){var t=this;return function(e,t){return FI(e=(0,Ef.getModularInstance)(e),t)}(this._delegate,e||void 0).then(function(e){return new WI(e,t.storage)})},e.prototype.getMetadata=function(){return function(e){return function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=EI(e.storage,e._location,_I()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=(0,Ef.getModularInstance)(e))}(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=sI(t.fullServerUrl(),e.host),o=bI(n,r),a=e.maxOperationRetryTime,s=new kI(i,"PATCH",TI(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=CI(t),s}(e.storage,e._location,t,_I()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(e=(0,Ef.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=sI(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new kI(r,"GET",function(e,t){return function(n,r){var i=wI(e,r,t);return xI(null!==i),function(e,t,n){var r=pI(t);if(null===r)return null;if(!rI(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(t){var r=e.fullPath;return sI("/b/"+o(e.bucket)+"/o/"+o(r),n)+uI({alt:"media",token:t})})[0]}(i,r,e.host)}}(e,n),i);return o.errorHandler=CI(t),o}(e.storage,e._location,_I()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(e){if(null===e)throw new RA("no-download-url","The given file does not have any download URLs.");return e})]}})})}(e=(0,Ef.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=sI(t.fullServerUrl(),e.host),r=new kI(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=CI(t),r}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=(0,Ef.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw ZA(e)},e}(),YI=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(UI(e))throw qA("ref() expected a child path but got a URL, use refFromURL instead.");return new KI(HI(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!UI(e))throw qA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{tI.makeFromUrl(e,this._delegate.host)}catch(KC){throw qA("refFromUrl() expected a valid full URL but got an invalid one.")}return new KI(HI(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){!function(e,t,n){e.host="http://"+t+":"+n}(e,t,n)}(this._delegate,e,t)},e}();function QI(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new YI(r,new BI(r,i,o,new eI,n,Cf.default.SDK_VERSION))}!function(e){var t={TaskState:QA,TaskEvent:YA,StringFormat:BA,Storage:BI,Reference:KI};e.INTERNAL.registerComponent(new XC.Component("storage",QI,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.6.1")}(Cf.default);var JI,XI,$I,eN=((JI={})["trace started"]="Trace {$traceName} was started before.",JI["trace stopped"]="Trace {$traceName} is not running.",JI["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",JI["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",JI["no window"]="Window is not available.",JI["no app id"]="App id is not available.",JI["no project id"]="Project id is not available.",JI["no api key"]="Api key is not available.",JI["invalid cc log"]="Attempted to queue invalid cc event",JI["FB not default"]="Performance can only start when Firebase app instance is the default one.",JI["RC response not ok"]="RC response is not ok",JI["invalid attribute name"]="Attribute name {$attributeName} is invalid.",JI["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",JI["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",JI["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",JI),tN=new Ef.ErrorFactory("performance","Performance",eN),nN=new Af.Logger("Performance");nN.logLevel=Af.LogLevel.INFO;var rN,iN=function(){function e(e){if(this.window=e,!e)throw tN.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Ef.isIndexedDBAvailable)()||(nN.info("IndexedDB is not supported by current browswer"),!1):(nN.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===XI&&(XI=new e($I)),XI},e}();function oN(e,t){var n=e.length-t.length;if(n<0||n>1)throw tN.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var aN,sN=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=oN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=oN("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw tN.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw tN.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw tN.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===rN&&(rN=new e),rN},e}();function uN(){return aN}var cN=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e}({}),lN=["firebase_","google_","ga_"],hN=new RegExp("^[a-zA-Z]\\w*$");function fN(){var e=iN.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function dN(){switch(iN.getInstance().document.visibilityState){case"visible":return cN.VISIBLE;case"hidden":return cN.HIDDEN;default:return cN.UNKNOWN}}function pN(){var e=iN.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function vN(e){if(!e)return e;var t=sN.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=gN(t.tracesSamplingRate),t.logNetworkAfterSampling=gN(t.networkRequestsSamplingRate),e}function gN(e){return Math.random()<=e}var yN,mN=1;function _N(){return mN=2,yN=yN||function(){var e=iN.getInstance().document;return new Promise(function(t){if(e&&"complete"!==e.readyState){e.addEventListener("readystatechange",function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())})}else t()})}().then(function(){return(e=sN.getInstance().installationsService.getId()).then(function(e){aN=e}),e;var e}).then(function(e){return function(e){var t=function(){var e=iN.getInstance().localStorage;if(e){var t=e.getItem("@firebase/performance/configexpire");if(t&&Number(t)>Date.now()){var n=e.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(PS){return}}}}();return t?(vN(t),Promise.resolve()):function(e){return(t=sN.getInstance().installationsService.getToken(),t.then(function(e){}),t).then(function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+sN.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+sN.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:sN.getInstance().getAppId(),app_version:"0.4.17",sdk_version:"0.0.1"})});return fetch(r).then(function(e){if(e.ok)return e.json();throw tN.create("RC response not ok")})}).catch(function(){nN.info("Could not fetch config, will use default configs")});var t}(e).then(vN).then(function(e){return function(e){var t=iN.getInstance().localStorage;e&&t&&(t.setItem("@firebase/performance/config",JSON.stringify(e)),t.setItem("@firebase/performance/configexpire",String(Date.now()+60*sN.getInstance().configTimeToLive*60*1e3)))}(e)},function(){})}(e)}).then(function(){return wN()},function(){return wN()})}function wN(){mN=3}var bN,kN=3,xN=[],TN=!1;function SN(e){setTimeout(function(){var e,t;if(0!==kN)return xN.length?(t=(e=xN.splice(0,1e3)).map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}),void function(e,t){return function(e){var t=sN.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(function(e){return e.ok||nN.info("Call to Firebase backend failed."),e.json()}).then(function(e){var n=Number(e.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(xN=(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],t),xN),nN.info("Retry transport request later.")),kN=3,SN(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:sN.getInstance().logSource,log_event:t},e).catch(function(){xN=(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],e),xN),kN--,nN.info("Tries left: "+kN+"."),SN(1e4)})):SN(1e4)},e)}function CN(e){if(!e.eventTime||!e.message)throw tN.create("invalid cc log");xN=(0,Qu.__spreadArray)((0,Qu.__spreadArray)([],xN),[e])}function EN(e,t){bN||(bN=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];CN({message:e.apply(void 0,t),eventTime:Date.now()})}}(NN)),bN(e,t)}function AN(e){var t=sN.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&iN.getInstance().requiredApisAvailable()&&(e.isAuto&&dN()!==cN.VISIBLE||(3===mN?IN(e):_N().then(function(){return IN(e)},function(){return IN(e)})))}function IN(e){if(uN()){var t=sN.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return EN(e,1)},0)}}function NN(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:ON(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:ON(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function ON(){return{google_app_id:sN.getInstance().getAppId(),app_instance_id:uN(),web_app_info:{sdk_version:"0.4.17",page_url:iN.getInstance().getUrl(),service_worker_status:fN(),visibility_state:dN(),effective_connection_type:pN()},application_process_state:0}}var PN=["_fp","_fcp","_fid"],RN=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=iN.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw tN.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw tN.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),AN(this)},e.prototype.record=function(e,t,n){if(e<=0)throw tN.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw tN.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,Qu.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}AN(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(o=this.name,0===(i=e).length||i.length>100||!(o&&o.startsWith("_wt_")&&PN.indexOf(i)>-1)&&i.startsWith("_"))throw tN.create("invalid custom metric name",{customMetricName:e});var n,r,i,o;this.counters[e]=(n=t,(r=Math.floor(n))<n&&nN.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40||lN.some(function(e){return n.startsWith(e)})||!n.match(hN)),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw tN.create("invalid attribute name",{attributeName:e});if(!i)throw tN.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,Qu.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=iN.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*iN.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find(function(e){return"first-paint"===e.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(e){return"first-contentful-paint"===e.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}AN(o)}},e.createUserTimingTrace=function(t){AN(new e(t,!1,t))},e}();function DN(e){var t=e;if(t&&void 0!==t.responseStart){var n=iN.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=sN.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return EN(e,0)},0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function MN(){uN()&&(setTimeout(function(){return function(){var e=iN.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){RN.createOobTrace(t,n),r=void 0},5e3);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),RN.createOobTrace(t,n,e))})}else RN.createOobTrace(t,n)}()},0),setTimeout(function(){return function(){for(var e=iN.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)DN(n[t]);e.setupObserver("resource",DN)}()},0),setTimeout(function(){return function(){for(var e=iN.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)LN(n[t]);e.setupObserver("measure",LN)}()},0))}function LN(e){var t=e.name;"FB-PERF-TRACE-MEASURE"!==t.substring(0,"FB-PERF-TRACE-MEASURE".length)&&RN.createUserTimingTrace(t)}var FN=function(){function e(e){this.app=e,iN.getInstance().requiredApisAvailable()&&(0,Ef.validateIndexedDBOpenable)().then(function(e){e&&(TN||(SN(5500),TN=!0),_N().then(MN,MN))}).catch(function(e){nN.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new RN(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return sN.getInstance().instrumentationEnabled},set:function(e){sN.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return sN.getInstance().dataCollectionEnabled},set:function(e){sN.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){e.INTERNAL.registerComponent(new XC.Component("performance",function(e){return function(e,t){if("[DEFAULT]"!==e.name)throw tN.create("FB not default");if("undefined"==typeof window)throw tN.create("no window");return function(e){$I=e}(window),sN.getInstance().firebaseAppInstance=e,sN.getInstance().installationsService=t,new FN(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC")),e.registerVersion("@firebase/performance","0.4.17")}(Cf.default);var qN,UN="https://www.googletagmanager.com/gtag/js",ZN=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),jN=function(e){return e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),VN=new Af.Logger("@firebase/analytics");function BN(e,t,n,r,i,o){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var a,s,u,c;return(0,Qu.__generator)(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find(function(e){return e.measurementId===i}))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),VN.error(c),[3,8];case 8:return e(ZN.CONFIG,i,o),[2]}})})}function HN(e,t,n,r,i){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,h;return(0,Qu.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(e){var n=s.find(function(t){return t.measurementId===e}),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(ZN.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),VN.error(h),[3,5];case 5:return[2]}})})}var zN=((qN={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",qN["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",qN["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",qN["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",qN["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",qN["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",qN["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",qN["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',qN["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',qN),GN=new Ef.ErrorFactory("analytics","Analytics",zN),WN=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function KN(e){var t;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return n=e.appId,r={method:"GET",headers:(c=e.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return s=u.sent(),(null===(t=s.error)||void 0===t?void 0:t.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw GN.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var c})})}function YN(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=WN),(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,a,s,u,c,l,h;return(0,Qu.__generator)(this,function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,QN(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return VN.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,KN(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof Ef.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return VN.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Ef.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Ef.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),VN.debug("Calling attemptFetch again in "+l+" millis"),[2,YN(e,h,n,r)];case 7:return[2]}})})}function QN(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(GN.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}var JN,XN,$N=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),eO={},tO=[],nO={},rO="dataLayer",iO="gtag",oO=!1;function aO(e){if(oO)throw GN.create("already-initialized");e.dataLayerName&&(rO=e.dataLayerName),e.gtagName&&(iO=e.gtagName)}function sO(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:if((0,Ef.isBrowserExtension)())return[2,!1];if(!(0,Ef.areCookiesEnabled)())return[2,!1];if(!(0,Ef.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,Ef.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}!function(e){e.INTERNAL.registerComponent(new XC.Component("analytics",function(e){return function(e,t){!function(){var e=[];if((0,Ef.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,Ef.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"("+(t+1)+") "+e}).join(" "),n=GN.create("invalid-analytics-context",{errorInfo:t});VN.warn(n.message)}}();var n=e.options.appId;if(!n)throw GN.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw GN.create("no-api-key");VN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=eO[n])throw GN.create("already-exists",{id:n});if(!oO){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(rO);var r=function(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var s;return(0,Qu.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ZN.EVENT?[3,2]:[4,HN(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ZN.CONFIG?[3,4]:[4,BN(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(ZN.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),VN.error(s),[3,7];case 7:return[2]}})})}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(eO,tO,nO,rO,iO);XN=r.wrappedGtag,JN=r.gtagCore,oO=!0}return eO[n]=function(e,t,n,r,i,o){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var a,s,u,c,l,h,f;return(0,Qu.__generator)(this,function(d){switch(d.label){case 0:return(a=function(e,t,n){return void 0===t&&(t=WN),(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return(0,Qu.__generator)(this,function(c){if(i=(n=e.options).apiKey,o=n.measurementId,!(r=n.appId))throw GN.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw GN.create("no-api-key")}return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new $N,setTimeout(function(){return(0,Qu.__awaiter)(u,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){return s.abort(),[2]})})},6e4),[2,YN({appId:r,apiKey:i,measurementId:o},a,s,t)]})})}(e)).then(function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&VN.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return VN.error(e)}),t.push(a),s=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Qu.__generator)(this,function(t){switch(t.label){case 0:return(0,Ef.isIndexedDBAvailable)()?[3,1]:(VN.warn(GN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,Ef.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),VN.warn(GN.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(e){return e?r.getId():void 0}),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(UN))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=UN+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(ZN.CONFIG,c.measurementId,h),[2,c.measurementId]}})})}(e,tO,nO,t,JN,rO),{app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,Qu.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(e(ZN.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,Qu.__assign)((0,Qu.__assign)({},r),{send_to:o}),e(ZN.EVENT,n,a),s.label=3;case 3:return[2]}})})})(XN,eO[n],e,t,r).catch(function(e){return VN.error(e)})},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(e(ZN.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ZN.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(XN,eO[n],e,t).catch(function(e){return VN.error(e)})},setUserId:function(e,t){(function(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i;return(0,Qu.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(e(ZN.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(ZN.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(XN,eO[n],e,t).catch(function(e){return VN.error(e)})},setUserProperties:function(e,t){(function(e,t,n,r){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,Qu.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return e(ZN.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(ZN.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(XN,eO[n],e,t).catch(function(e){return VN.error(e)})},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})})(eO[n],e).catch(function(e){return VN.error(e)})},INTERNAL:{delete:function(){return delete eO[n],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:aO,EventName:jN,isSupported:sO})),e.INTERNAL.registerComponent(new XC.Component("analytics-internal",function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(KC){throw GN.create("interop-component-reg-failed",{reason:KC})}},"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.16")}(Cf.default);var uO,cO=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},e}(),lO=((uO={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",uO["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",uO["registration-api-key"]="Undefined API key. Check Firebase app initialization.",uO["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",uO["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",uO["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",uO["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",uO["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",uO["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",uO["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',uO["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',uO["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",uO["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",uO),hO=new Ef.ErrorFactory("remoteconfig","Remote Config",lO),fO=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,g;return(0,Qu.__generator)(this,function(y){switch(y.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=y.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),y.label=2;case 2:return y.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return y.sent(),[4,a];case 4:return u=y.sent(),[3,6];case 5:throw c=y.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),hO.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,y.label=7;case 7:return y.trys.push([7,9,,10]),[4,u.json()];case 8:return v=y.sent(),[3,10];case 9:throw g=y.sent(),hO.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:d=v.entries,p=v.state,y.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw hO.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var m})})},e}(),dO=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),pO=["1","true","t","yes","y","on"],vO=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&pO.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),gO=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Af.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Af.LogLevel.SILENT;break;default:this._logger.logLevel=Af.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),n=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n,r=this;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:e=new dO,setTimeout(function(){return(0,Qu.__awaiter)(r,void 0,void 0,function(){return(0,Qu.__generator)(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof Ef.FirebaseError&&-1!==e.code.indexOf("fetch-throttle")}(t)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){return(0,Qu.__generator)(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys((0,Qu.__assign)((0,Qu.__assign)({},e),t))).reduce(function(e,t){return e[t]=n.getValue(t),e},{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new vO("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new vO("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new vO("static"))},e}();function yO(e,t){var n=e.target.error||void 0;return hO.create(t,{originalErrorMessage:n&&n.message})}var mO=function(){function e(e,t,n,r){void 0===r&&(r=new Promise(function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(yO(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(yO(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(KC){i(hO.create("storage-get",{originalErrorMessage:KC&&KC.message}))}})]}})})},e.prototype.set=function(e,t){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Qu.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(yO(e,"storage-set"))},u.onsuccess=function(){i()}}catch(KC){o(hO.create("storage-set",{originalErrorMessage:KC&&KC.message}))}})]}})})},e.prototype.delete=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,Qu.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise(function(r,i){var o=t.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(yO(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(KC){i(hO.create("storage-delete",{originalErrorMessage:KC&&KC.message}))}})]}})})},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),_O=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function wO(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(function(){clearTimeout(o),r(hO.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}var bO,kO=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Qu.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}})})},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,Qu.__awaiter)(this,void 0,void 0,function(){var t,i,o;return(0,Qu.__generator)(this,function(a){switch(a.label){case 0:return[4,wO(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof Ef.FirebaseError&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Ef.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}})})},e}();function xO(){return function(e){return e.lift(new TO)}}(bO=Cf.default).INTERNAL.registerComponent(new XC.Component("remoteConfig",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw hO.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw hO.create("registration-project-id");if(!s)throw hO.create("registration-api-key");if(!u)throw hO.create("registration-app-id");var c=new mO(u,r.name,n=n||"firebase"),l=new _O(c),h=new Af.Logger("@firebase/remote-config");h.logLevel=Af.LogLevel.ERROR;var f=new fO(i,bO.SDK_VERSION,n,a,s,u),d=new kO(f,c),p=new cO(d,c,l,h),v=new gO(r,p,l,c,h);return v.ensureInitialized(),v},"PUBLIC").setMultipleInstances(!0)),bO.registerVersion("@firebase/remote-config","0.1.42"),v(6934),Cf.default.registerVersion("firebase","8.8.1","app"),Cf.default.SDK_VERSION="8.8.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Cf.default.registerVersion("firebase","8.8.1");var TO=function(){function e(){b(this,e)}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new SO(e))}}]),e}(),SO=function(e){k(n,e);var t=x(n);function n(e){var r;return b(this,n),(r=t.call(this,e)).hasPrev=!1,r}return w(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(ki.L),CO=v(45),EO=v(2346),AO=v(1858),IO=v(8489),NO=v(9291),OO=function(e){k(n,e);var t=x(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return b(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return w(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}d(N(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new PO(this._getNow(),e)),this._trimBufferThenGetEvents()),d(N(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new oo.N;if(this.isStopped||this.hasError?t=Xo.w.EMPTY:(this.observers.push(e),t=new NO.W(this,e)),i&&e.add(e=new CO.ht(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(var s=0;s<o&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||IO.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}]),n}(io.xQ),PO=function e(t,n){b(this,e),this.time=t,this.value=n};function RO(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,u=e.scheduler,c=0,l=!1,h=!1;return function(e){var r;c++,!t||l?(l=!1,t=new OO(i,a,u),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){l=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)):r=t.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)})}}(r))}}function DO(e,t){return t?To(function(){return e},t):To(function(){return e})}var MO=v(2893),LO=new y.OlP("angularfire2.auth.use-emulator"),FO=new y.OlP("angularfire2.auth.settings"),qO=new y.OlP("angularfire2.auth.tenant-id"),UO=new y.OlP("angularfire2.auth.langugage-code"),ZO=new y.OlP("angularfire2.auth.use-device-language"),jO=new y.OlP("angularfire.auth.persistence"),VO=function(){var e=function e(t,n,r,i,o,a,s,u,c,h){b(this,e);var f=new EO.HU(i),d=(0,EO.ss)(f),p=new io.xQ,g=(0,_i.of)(void 0).pipe((0,CO.QV)(f.outsideAngular),To(function(){return i.runOutsideAngular(function(){return v.e(781).then(v.bind(v,9781))})}),(0,yr.U)(function(){return(0,EO.on)(t,i,n)}),(0,yr.U)(function(e){return i.runOutsideAngular(function(){var t=o,n=a;return(0,EO.sI)("".concat(e.name,".auth"),"AngularFireAuth",e,function(){var r=i.runOutsideAngular(function(){return e.auth()});if(t&&r.useEmulator("http://".concat(t.join(":"))),s&&(r.tenantId=s),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(var o=0,a=Object.entries(n);o<a.length;o++){var f=l(a[o],2),d=f[0],p=f[1];r.settings[d]=p}return h&&r.setPersistence(h),r},[t,s,u,c,n,h])})}),RO({bufferSize:1,refCount:!1}));if(ae(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_i.of)(null);else{g.pipe(Yo()).subscribe();var y=g.pipe(To(function(e){return e.getRedirectResult().then(function(e){return e},function(){return null})}),d,RO({bufferSize:1,refCount:!1})),m=function(e){return new vr.y(function(t){return{unsubscribe:i.runOutsideAngular(function(){return e(t)})}})},_=g.pipe(To(function(e){return m(e.onAuthStateChanged.bind(e))})),w=g.pipe(To(function(e){return m(e.onIdTokenChanged.bind(e))}));this.authState=y.pipe(DO(_),(0,MO.R)(f.outsideAngular),(0,CO.QV)(f.insideAngular)),this.user=y.pipe(DO(w),(0,MO.R)(f.outsideAngular),(0,CO.QV)(f.insideAngular)),this.idToken=this.user.pipe(To(function(e){return e?(0,pr.D)(e.getIdToken()):(0,_i.of)(null)})),this.idTokenResult=this.user.pipe(To(function(e){return e?(0,pr.D)(e.getIdTokenResult()):(0,_i.of)(null)})),this.credential=(0,Tc.T)(y,p,this.authState.pipe(xi(function(e){return!e}))).pipe((0,yr.U)(function(e){return(null==e?void 0:e.user)?e:null}),(0,MO.R)(f.outsideAngular),(0,CO.QV)(f.insideAngular))}return(0,EO.pX)(this,g,i,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(function(e){return p.next(e)})}}})};return e.\u0275fac=function(t){return new(t||e)(y.LFG(EO.Dh),y.LFG(EO.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(LO,8),y.LFG(FO,8),y.LFG(qO,8),y.LFG(UO,8),y.LFG(ZO,8),y.LFG(jO,8))},e.\u0275prov=y.Yz7({factory:function(){return new e(y.LFG(EO.Dh),y.LFG(EO.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(LO,8),y.LFG(FO,8),y.LFG(qO,8),y.LFG(UO,8),y.LFG(ZO,8),y.LFG(jO,8))},token:e,providedIn:"any"}),e}();(0,EO.GT)(VO,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var BO=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[VO]}),e}();function HO(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fc.z;return new vr.y(function(n){var r;return null!=t?t.schedule(function(){r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(e,t)}function zO(e,t){return HO(e,t).pipe((0,yr.U)(function(e){return{payload:e,type:"query"}}))}function GO(e,t){return zO(e,t).pipe(Oo(void 0),xO(),(0,yr.U)(function(e){var t=l(e,2),n=t[0],r=t[1],i=r.payload.docChanges(),o=i.map(function(e){return{type:e.type,payload:e}});return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach(function(e,t){var r=i.find(function(t){return t.doc.ref.isEqual(e.ref)}),a=null==n?void 0:n.payload.docs.find(function(t){return t.ref.isEqual(e.ref)});r&&JSON.stringify(r.doc.metadata)===JSON.stringify(e.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(e.metadata)||o.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})}),o}))}function WO(e,t,n){return GO(e,n).pipe(Po(function(e,n){return function(e,t,n){return t.forEach(function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return KO(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return KO(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return KO(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(function(e){return e.payload}),t)},[]),Ac(),(0,yr.U)(function(e){return e.map(function(e){return{type:e.type,payload:e}})}))}function KO(e,t,n){for(var r=e.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[t,n].concat(o)),r}function YO(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}var QO=function(){function e(t,n,r){b(this,e),this.ref=t,this.query=n,this.afs=r}return w(e,[{key:"stateChanges",value:function(e){var t=GO(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yr.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}))),t.pipe(Oo(void 0),xO(),xi(function(e){var t=l(e,2),n=t[0];return t[1].length>0||!n}),(0,yr.U)(function(e){var t=l(e,2);t[0];return t[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Po(function(e,t){return[].concat(p(e),p(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=YO(e);return WO(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zO(this.query,this.afs.schedulers.outsideAngular).pipe((0,yr.U)(function(t){return t.payload.docs.map(function(t){return e.idField?Object.assign(Object.assign({},t.data()),u({},e.idField,t.id)):t.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return(0,pr.D)(this.query.get(e)).pipe((0,CO.QV)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new JO(this.ref.doc(e),this.afs)}}]),e}(),JO=function(){function e(t,n){b(this,e),this.ref=t,this.afs=n}return w(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=rP(this.ref.collection(e),t),r=n.ref,i=n.query;return new QO(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return function(e,t){return HO(e,t).pipe(Oo(void 0),xO(),(0,yr.U)(function(e){var t=l(e,2),n=t[0],r=t[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,yr.U)(function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),u({},e.idField,n.id)):n.data()}))}},{key:"get",value:function(e){return(0,pr.D)(this.ref.get(e)).pipe((0,CO.QV)(this.afs.schedulers.insideAngular))}}]),e}(),XO=function(){function e(t,n){b(this,e),this.query=t,this.afs=n}return w(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?GO(this.query,this.afs.schedulers.outsideAngular).pipe((0,yr.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}),xi(function(e){return e.length>0}),this.afs.keepUnstableUntilFirst):GO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe(Po(function(e,t){return[].concat(p(e),p(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=YO(e);return WO(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zO(this.query,this.afs.schedulers.outsideAngular).pipe((0,yr.U)(function(t){return t.payload.docs.map(function(t){return e.idField?Object.assign(u({},e.idField,t.id),t.data()):t.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(e){return(0,pr.D)(this.query.get(e)).pipe((0,CO.QV)(this.afs.schedulers.insideAngular))}}]),e}(),$O=new y.OlP("angularfire2.enableFirestorePersistence"),eP=new y.OlP("angularfire2.firestore.persistenceSettings"),tP=new y.OlP("angularfire2.firestore.settings"),nP=new y.OlP("angularfire2.firestore.use-emulator");function rP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var iP=function(){var e=function(){function e(t,n,r,i,o,a,s,u,c){b(this,e),this.schedulers=new EO.HU(a),this.keepUnstableUntilFirst=(0,EO.ss)(this.schedulers);var h=(0,EO.on)(t,a,n);!AO.Z.auth&&c&&(0,EO.yq)();var f=u,d=l((0,EO.sI)("".concat(h.name,".firestore"),"AngularFirestore",h,function(){var e=a.runOutsideAngular(function(){return h.firestore()});if(i&&e.settings(i),f&&e.useEmulator.apply(e,p(f)),r&&!ae(o)){return[e,a.runOutsideAngular(function(){try{return(0,pr.D)(e.enablePersistence(s||void 0).then(function(){return!0},function(){return!1}))}catch(KC){return"undefined"!=typeof console&&console.warn(KC),(0,_i.of)(!1)}})]}return[e,(0,_i.of)(!1)]},[i,f,r]),2);this.firestore=d[0],this.persistenceEnabled$=d[1]}return w(e,[{key:"collection",value:function(e,t){var n=rP("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new QO(o,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new XO(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run(function(){return t});return new JO(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(EO.Dh),y.LFG(EO.xv,8),y.LFG($O,8),y.LFG(tP,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(eP,8),y.LFG(nP,8),y.LFG(LO,8))},e.\u0275prov=y.Yz7({factory:function(){return new e(y.LFG(EO.Dh),y.LFG(EO.xv,8),y.LFG($O,8),y.LFG(tP,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(eP,8),y.LFG(nP,8),y.LFG(LO,8))},token:e,providedIn:"any"}),e}(),oP=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"enablePersistence",value:function(t){return{ngModule:e,providers:[{provide:$O,useValue:!0},{provide:eP,useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[iP]}),e}(),aP=function(){var e=function(){function e(){b(this,e),this.storage={},this.inMemorystorage={};var t=localStorage.getItem("storage");null!==t&&(this.storage=JSON.parse(t),this.get("me")&&(this.me=this.get("me")))}return w(e,[{key:"set",value:function(e,t){var n=this;this.storage[e]=t,setTimeout(function(){n.update()},100)}},{key:"unset",value:function(e){delete this.storage[e],this.update()}},{key:"get",value:function(e){var t="";if(e.indexOf(".")>0){var n=e.split(".");e=n[0],t=n[1]}var r=this.storage[e];return null==r?"":""==t?r:r[t]}},{key:"update",value:function(){var e=JSON.stringify(this.storage);localStorage.setItem("storage",e)}},{key:"seti",value:function(e,t){this.inMemorystorage[e]=t}},{key:"unseti",value:function(e){delete this.inMemorystorage[e],this.update()}},{key:"geti",value:function(e){var t="";if(e.indexOf(".")>0){console.log(e);var n=e.split(".");e=n[0],t=n[1]}var r=this.inMemorystorage[e];return null==r?(console.log("Null value for ",e),""):""==t?r:r[t]}},{key:"clear",value:function(){localStorage.clear(),this.storage={},this.inMemorystorage={},this.me=null}},{key:"username",value:function(){if(this.me=this.get("user"),console.log(this.me),this.me.displayName)return this.me.displayName}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),sP=function(){var e=function(){function e(t,n,r,i){var o=this;b(this,e),this.afs=t,this.afAuth=n,this.router=r,this.storage=i,this.afAuth.authState.subscribe(function(e){e?(o.userData=e,o.getUser(e.uid)):o.storage.set("user",null)})}return w(e,[{key:"SignUp",value:function(e,t,n,r){return this.afAuth.createUserWithEmailAndPassword(t,n).then(function(t){var n=Object.assign({},t.user);n.displayName=e,n.photoURL=r},function(e){alert(e.message)})}},{key:"SignUpWithMobile",value:function(e,t,n){var r=this,i=Cf.default.auth.PhoneAuthProvider.credential(e.confirmationResult.verificationId,t);if(Cf.default.auth().signInWithCredential(i).then(function(e){var t=r.afs.doc("users/".concat(e.user.uid));r.storage.set("mobile",e.user.phoneNumber),r.unSubscribe=t.valueChanges().subscribe(function(e){r.tempUserData=e})},function(e){alert(e.message)}),this.tempUserData)return console.log(this.tempUserData),alert("User already exist!Please sign in!"),this.router.navigate(["/sign-in"]);this.SetUserDataForSignUp(this.userData),this.router.navigate([n])}},{key:"SignIn",value:function(e,t,n){var r=this;e.confirmationResult.confirm(t).then(function(e){r.userData=e.user}).catch(function(e){return console.log(e,"Incorrect code entered?")}),this.userData?(this.getUser(this.userData.uid),this.router.navigate([n])):this.storage.set("user",null)}},{key:"SignOut",value:function(){this.storage.clear(),this.router.navigate([""]),this.userData=null,this.tempUserData=null}},{key:"getCollection",value:function(e){return this.afs.collection("".concat(e)).valueChanges()}},{key:"getCollectionSpecific",value:function(e,t,n){return this.afs.collection("".concat(e),function(e){return e.where(t.toLowerCase(),"==",n.toLowerCase())}).valueChanges()}},{key:"getMeterDoc",value:function(e){return this.afs.doc("meters/".concat(e)).valueChanges()}},{key:"getUser",value:function(e){var t=this;return this.afs.doc("users/".concat(e)).valueChanges().subscribe(function(e){return t.storage.set("user",e)})}},{key:"updateLocalStorageData",value:function(e){var t=this;return this.afs.doc("users/".concat(e)).valueChanges().subscribe(function(e){t.storage.clear(),t.storage.set("user",e)})}},{key:"SetUserDataForSignUp",value:function(e){var t=this.afs.doc("users/".concat(e.uid)),n=this.storage.get("mobile");return t.set({uid:e.uid,displayName:"",nid:"",blood:"",dob:"",address:"",photoUrl:"",approvedBy:"",approvedOn:"",meters:[],tenants:[],status:"super_admin",email:"",applicationStatus:"approved",mobile:n},{merge:!0})}},{key:"setData",value:function(e,t,n){return this.afs.doc("".concat(n,"/").concat(e)).set(t,{merge:!0})}},{key:"updateUserData",value:function(e,t){var n=this,r=this.afs.doc("users/".concat(e.uid)),i=this.storage.get("mobile");return r.set({uid:e.uid,displayName:t.displayName,nid:t.nid,blood:t.blood,dob:t.dob,address:t.address,photoUrl:t.photoUrl,approvedBy:"",approvedOn:"",meters:[],tenants:[],status:"super_admin",email:t.email,applicationStatus:"approved",mobile:i},{merge:!0}).then(function(){n.updateLocalStorageData(n.storage.get("user").uid),n.router.navigate(["/user-dashboard"]),alert("Success!")})}},{key:"isLoggedIn",get:function(){var e=this.storage.get("user");return console.log(e),!(null===e||!e.uid)}},{key:"setDummyUserData",value:function(){return this.afs.doc("users/userid19").set({uid:"userid19",displayName:"userid19",nid:"4444444",blood:"b+",dob:"1-33-34",address:"chittagong",photoUrl:"fgf.jpg",meters:["meterid2"],status:"tenant",email:"tenant@gmail.com",tenants:[],applicationStatus:"approved",approvedBy:"IKLb6fxmIBBS21mRPCtu",approvedOn:"12-23-23",mobile:"+88003434324324"},{merge:!0}).catch(function(e){return console.log(e)})}},{key:"setMeterData",value:function(e,t,n){return this.afs.doc("meters/meterid".concat(e)).set({mid:"meterid".concat(e),type:"2",status:"2",location:"".concat(n),bill:"233",owner:"".concat(t),billStatus:"pending"},{merge:!0}).catch(function(e){return console.log(e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(iP),y.LFG(VO),y.LFG(Au),y.LFG(aP))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),uP=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"windowRef",get:function(){return window}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),cP=function(e){return{"d-none":e}},lP=function(){var e=function(){function e(t,n,r){b(this,e),this.win=t,this.router=n,this.authService=r,this.disabled=!0,this.loginform=!0,this.recoverform=!1}return w(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.windowRef=e.win.windowRef,e.windowRef.recaptchaVerifier=new Cf.default.auth.RecaptchaVerifier("recaptcha-container"),e.windowRef.recaptchaVerifier.render()},500)}},{key:"sendLoginCode",value:function(){var e=this,t=this.windowRef.recaptchaVerifier,n="+88001".concat(this.mobile);Cf.default.auth().signInWithPhoneNumber(n,t).then(function(t){e.windowRef.confirmationResult=t,t&&(e.disabled=!1)}).catch(function(e){return console.log(e)})}},{key:"submit",value:function(){return this.authService.SignIn(this.windowRef,this.verificationCode,"/user-dashboard")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(uP),y.Y36(Au),y.Y36(sP))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-sign-in"]],decls:34,vars:6,consts:[[1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center",2,"background","url(assets/images/background/login-register.jpg) no-repeat\n      center center"],[1,"auth-box","m-3","m-md-0"],["id","loginform",3,"ngClass"],[1,"logo"],[1,"db"],["src","assets/images/meter.png","alt","logo",1,"lg"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform",1,"form-horizontal","m-t-20"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"ti-mobile"],["type","text","placeholder","+880-01-xxx-xxx-xxx","name","mobile","prefix","+8801","mask"," 000 000 000",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit","value","Send code",1,"btn","btn-block","btn-sm","btn-info",3,"click"],["id","basic-addon2",1,"input-group-text"],[1,"ti-lock"],["type","password","placeholder","OTP","name","OTP","aria-describedby","basic-addon1",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","submit","value","Log In",1,"btn","btn-block","btn-lg","btn-info",3,"click"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["href","/sign-up",1,"text-info","m-l-5"],["id","recaptcha-container"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"span",4),y._UZ(5,"img",5),y.qZA(),y.TgZ(6,"h5",6),y._uU(7,"Sign In"),y.qZA(),y.qZA(),y.TgZ(8,"div",7),y.TgZ(9,"div",8),y.TgZ(10,"form",9),y.TgZ(11,"div",10),y.TgZ(12,"div",11),y.TgZ(13,"span",12),y._UZ(14,"i",13),y.qZA(),y.qZA(),y.TgZ(15,"input",14),y.NdJ("ngModelChange",function(e){return t.mobile=e}),y.qZA(),y.qZA(),y.TgZ(16,"div",15),y.TgZ(17,"div",16),y.TgZ(18,"input",17),y.NdJ("click",function(){return t.sendLoginCode()}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(19,"div",10),y.TgZ(20,"div",11),y.TgZ(21,"span",18),y._UZ(22,"i",19),y.qZA(),y.qZA(),y.TgZ(23,"input",20),y.NdJ("ngModelChange",function(e){return t.verificationCode=e}),y.qZA(),y.qZA(),y.TgZ(24,"div",15),y.TgZ(25,"div",16),y.TgZ(26,"input",21),y.NdJ("click",function(){return t.submit()}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(27,"div",22),y.TgZ(28,"div",23),y._uU(29," Don't have an account? "),y.TgZ(30,"a",24),y.TgZ(31,"b"),y._uU(32,"Sign Up"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y._UZ(33,"div",25),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(2),y.Q6J("ngClass",y.VKq(4,cP,t.recoverform)),y.xp6(13),y.Q6J("ngModel",t.mobile),y.xp6(8),y.s9C("disabled",t.disabled),y.Q6J("ngModel",t.verificationCode))},directives:[Q,ci,Vr,oi,oc,Cr,jr,ui],styles:[".lg[_ngcontent-%COMP%]{height:50px;width:50px;margin-bottom:10px}"]}),e}(),hP=function(e){return{"d-none":e}},fP=function(){var e=function(){function e(t,n,r){b(this,e),this.win=t,this.router=n,this.authService=r,this.disabled=!0,this.loginform=!0,this.recoverform=!1}return w(e,[{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.windowRef=e.win.windowRef,e.windowRef.recaptchaVerifier=new Cf.default.auth.RecaptchaVerifier("recaptcha-container"),e.windowRef.recaptchaVerifier.render()},500)}},{key:"sendLoginCode",value:function(){var e=this,t=this.windowRef.recaptchaVerifier,n="+88001".concat(this.mobile);Cf.default.auth().signInWithPhoneNumber(n,t).then(function(t){e.windowRef.confirmationResult=t,t&&(e.disabled=!1)}).catch(function(e){return console.log(e)})}},{key:"submit",value:function(){return this.authService.SignUpWithMobile(this.windowRef,this.verificationCode,"/update-profile")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(uP),y.Y36(Au),y.Y36(sP))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-sign-up"]],decls:35,vars:6,consts:[[1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center",2,"background","url(assets/images/background/login-register.jpg) no-repeat\n      center center"],[1,"auth-box","m-3","m-md-0"],["id","loginform",3,"ngClass"],[1,"logo"],[1,"db"],["src","assets/images/meter.png","alt","logo",1,"lg"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform",1,"form-horizontal","m-t-20"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"ti-mobile"],["type","text","name","mobile","prefix","+8801","mask"," 000 000 000",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit","value","Send code",1,"btn","btn-block","btn-sm","btn-info",3,"click"],["id","basic-addon2",1,"input-group-text"],[1,"ti-lock"],["type","password","placeholder","OTP","name","OTP","aria-describedby","basic-addon1",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"btn","btn-block","btn-lg","btn-info",3,"click"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["href","/sign-in",1,"text-info","m-l-5"],["id","recaptcha-container"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"span",4),y._UZ(5,"img",5),y.qZA(),y.TgZ(6,"h5",6),y._uU(7,"Sign Up"),y.qZA(),y.qZA(),y.TgZ(8,"div",7),y.TgZ(9,"div",8),y.TgZ(10,"form",9),y.TgZ(11,"div",10),y.TgZ(12,"div",11),y.TgZ(13,"span",12),y._UZ(14,"i",13),y.qZA(),y.qZA(),y.TgZ(15,"input",14),y.NdJ("ngModelChange",function(e){return t.mobile=e}),y.qZA(),y.qZA(),y.TgZ(16,"div",15),y.TgZ(17,"div",16),y.TgZ(18,"input",17),y.NdJ("click",function(){return t.sendLoginCode()}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(19,"div",10),y.TgZ(20,"div",11),y.TgZ(21,"span",18),y._UZ(22,"i",19),y.qZA(),y.qZA(),y.TgZ(23,"input",20),y.NdJ("ngModelChange",function(e){return t.verificationCode=e}),y.qZA(),y.qZA(),y.TgZ(24,"div",15),y.TgZ(25,"div",16),y.TgZ(26,"button",21),y.NdJ("click",function(){return t.submit()}),y._uU(27," Sign Up "),y.qZA(),y.qZA(),y.qZA(),y.TgZ(28,"div",22),y.TgZ(29,"div",23),y._uU(30," Already Signed up? Sign in now! "),y.TgZ(31,"a",24),y.TgZ(32,"b"),y._uU(33,"Sign in"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y._UZ(34,"div",25),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(2),y.Q6J("ngClass",y.VKq(4,hP,t.recoverform)),y.xp6(13),y.Q6J("ngModel",t.mobile),y.xp6(8),y.s9C("disabled",t.disabled),y.Q6J("ngModel",t.verificationCode))},directives:[Q,ci,Vr,oi,oc,Cr,jr,ui],styles:[".lg[_ngcontent-%COMP%]{height:50px;width:50px;margin-bottom:10px}"]}),e}(),dP=function(){var e=function(){function e(t,n){b(this,e),this.authService=t,this.storageService=n,this.user=this.storageService.get("user"),this.pName=this.user.displayName?this.user.displayName:null,this.pNid=this.user.nid?this.user.nid:null,this.pblood=this.user.blood?this.user.blood:null,this.pAddress=this.user.address?this.user.address:null,this.pDob=this.user.dob?this.user.dob:null,this.pEmail=this.user.email?this.user.email:null,this.pBlood=this.user.blood?this.user.blood:null,this.addressArray=this.pAddress?this.pAddress.split("*"):[],this.pStreet=this.pAddress?this.addressArray[0]:null,this.pCity=this.pAddress?this.addressArray[1]:null,this.pState=this.pAddress?this.addressArray[2]:null,this.pPost=this.pAddress?this.addressArray[3]:null,this.imageSrc="",this.imageString=""}return w(e,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(){if(this.firstName&&this.lastName&&this.dob&&this.blood&&this.nid&&this.addP1&&this.addP2&&this.addP3&&this.addP4&&this.email&&this.photoUrl){var e=[this.addP1,this.addP2,this.addP3,this.addP4].join("*");console.log(this.photoUrl);var t=[this.firstName,this.lastName].join(" ");this.authService.updateUserData(this.user,{uid:this.user.uid,displayName:t,nid:this.nid,blood:this.blood,dob:this.dob,address:e,photoUrl:this.photoUrl,email:this.email})}else alert("FIll up all the field!")}},{key:"handleInputChange",value:function(e){var t=e.dataTransfer?e.dataTransfer.files[0]:e.target.files[0];this.photoName=e.target.files[0].name;var n=new FileReader;t.type.match(/image-*/)?(n.onload=this._handleReaderLoaded.bind(this),n.readAsDataURL(t)):alert("invalid format")}},{key:"_handleReaderLoaded",value:function(e){var t=this;this.imageSrc=e.target.result,this.compress(this.imageSrc,200).then(function(e){t.imageString=e,t.photoUrl=t.imageString,console.log(t.photoUrl)})}},{key:"compress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return new Promise(function(n,r){var i=new Image;i.src=e,i.onload=function(){var e=document.createElement("canvas"),r=t,o=i.height*r/i.width;e.width=r,e.height=o;var a=e.getContext("2d");null==a||a.drawImage(i,0,0,r,o);var s=null==a?void 0:a.canvas.toDataURL();n(s)},i.onerror=function(e){return r(e)}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-update-profile"]],decls:87,vars:21,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"m-b-0","text-white"],["action","#"],[1,"form-body"],[1,"card-body"],[1,"row","p-t-20"],[1,"col-md-6"],[1,"form-group"],[1,"control-label"],["type","text","id","firstName","name","firstName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"form-group","has-danger"],["type","text","id","lastName","name","lastName",1,"form-control","form-control-danger",3,"ngModel","placeholder","ngModelChange"],["type","text","id","bloodGroup","name","blood",1,"form-control","form-control-danger",3,"ngModel","placeholder","ngModelChange"],["type","date","name","dob",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","nid","name","nid",1,"form-control","form-control-danger",3,"ngModel","placeholder","ngModelChange"],["type","text","id","email","name","email",1,"form-control","form-control-danger",3,"ngModel","placeholder","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"custom-file"],["type","file","name","photo","id","inputGroupFile01","accept","*.png.jpg.jpeg",1,"custom-file-input",3,"change"],["for","inputGroupFile01",1,"custom-file-label"],[1,"card-title","m-t-40"],[1,"col-md-12"],["type","text","name","addP1",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","name","addP2",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","name","addP3",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","name","addP4",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"form-actions"],["type","submit",1,"btn","btn-success",3,"click"],[1,"fa","fa-check"],["type","button",1,"btn","btn-dark"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"h4",4),y._uU(5,"Profile update"),y.qZA(),y.qZA(),y.TgZ(6,"form",5),y.TgZ(7,"div",6),y.TgZ(8,"div",7),y.TgZ(9,"div",8),y.TgZ(10,"div",9),y.TgZ(11,"div",10),y.TgZ(12,"label",11),y._uU(13,"First Name"),y.qZA(),y.TgZ(14,"input",12),y.NdJ("ngModelChange",function(e){return t.firstName=e}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(15,"div",9),y.TgZ(16,"div",13),y.TgZ(17,"label",11),y._uU(18,"Last Name"),y.qZA(),y.TgZ(19,"input",14),y.NdJ("ngModelChange",function(e){return t.lastName=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(20,"div",0),y.TgZ(21,"div",9),y.TgZ(22,"div",13),y.TgZ(23,"label",11),y._uU(24,"Blood group"),y.qZA(),y.TgZ(25,"input",15),y.NdJ("ngModelChange",function(e){return t.blood=e}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(26,"div",9),y.TgZ(27,"div",10),y.TgZ(28,"label",11),y._uU(29,"Date of Birth"),y.qZA(),y.TgZ(30,"input",16),y.NdJ("ngModelChange",function(e){return t.dob=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(31,"div",0),y.TgZ(32,"div",9),y.TgZ(33,"div",13),y.TgZ(34,"label",11),y._uU(35,"National Id Card Number"),y.qZA(),y.TgZ(36,"input",17),y.NdJ("ngModelChange",function(e){return t.nid=e}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(37,"div",13),y.TgZ(38,"label",11),y._uU(39,"Email"),y.qZA(),y.TgZ(40,"input",18),y.NdJ("ngModelChange",function(e){return t.email=e}),y.qZA(),y.qZA(),y.TgZ(41,"div",9),y.TgZ(42,"div",10),y.TgZ(43,"label",11),y._uU(44,"Profile photo"),y.qZA(),y.TgZ(45,"div",19),y.TgZ(46,"div",20),y.TgZ(47,"span",21),y._uU(48,"Upload"),y.qZA(),y.qZA(),y.TgZ(49,"div",22),y.TgZ(50,"input",23),y.NdJ("change",function(e){return t.handleInputChange(e)}),y.qZA(),y.TgZ(51,"label",24),y._uU(52),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(53,"h4",25),y._uU(54,"Address"),y.qZA(),y.qZA(),y._UZ(55,"hr"),y.TgZ(56,"div",7),y.TgZ(57,"div",0),y.TgZ(58,"div",26),y.TgZ(59,"div",10),y.TgZ(60,"label"),y._uU(61,"Street"),y.qZA(),y.TgZ(62,"input",27),y.NdJ("ngModelChange",function(e){return t.addP1=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(63,"div",0),y.TgZ(64,"div",9),y.TgZ(65,"div",10),y.TgZ(66,"label"),y._uU(67,"City"),y.qZA(),y.TgZ(68,"input",28),y.NdJ("ngModelChange",function(e){return t.addP2=e}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(69,"div",9),y.TgZ(70,"div",10),y.TgZ(71,"label"),y._uU(72,"State"),y.qZA(),y.TgZ(73,"input",29),y.NdJ("ngModelChange",function(e){return t.addP3=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(74,"div",0),y.TgZ(75,"div",9),y.TgZ(76,"div",10),y.TgZ(77,"label"),y._uU(78,"Post Code"),y.qZA(),y.TgZ(79,"input",30),y.NdJ("ngModelChange",function(e){return t.addP4=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(80,"div",31),y.TgZ(81,"div",7),y.TgZ(82,"button",32),y.NdJ("click",function(){return t.onClick()}),y._UZ(83,"i",33),y._uU(84," Save "),y.qZA(),y.TgZ(85,"button",34),y._uU(86,"Cancel"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e&&(y.xp6(14),y.s9C("placeholder",t.pName?t.pName.split(" ")[0]:"First Name"),y.Q6J("ngModel",t.firstName),y.xp6(5),y.s9C("placeholder",t.pName?t.pName.split(" ")[1]:"Last Name"),y.Q6J("ngModel",t.lastName),y.xp6(6),y.s9C("placeholder",t.pblood?t.pblood:"Blood Group"),y.Q6J("ngModel",t.blood),y.xp6(5),y.s9C("placeholder",t.pDob?t.pDob:"mm/dd/yyy"),y.Q6J("ngModel",t.dob),y.xp6(6),y.s9C("placeholder",t.pNid?t.pNid:"Nid"),y.Q6J("ngModel",t.nid),y.xp6(4),y.s9C("placeholder",t.pEmail?t.pEmail:"Email"),y.Q6J("ngModel",t.email),y.xp6(12),y.Oqu(t.photoName?t.photoName:"Choose Image"),y.xp6(10),y.s9C("placeholder",t.pStreet?t.pStreet:"Street"),y.Q6J("ngModel",t.addP1),y.xp6(6),y.s9C("placeholder",t.pCity?t.pCity:"City"),y.Q6J("ngModel",t.addP2),y.xp6(5),y.s9C("placeholder",t.pState?t.pState:"State"),y.Q6J("ngModel",t.addP3),y.xp6(6),y.s9C("placeholder",t.pPost?t.pPost:"Post Code"),y.Q6J("ngModel",t.addP4))},directives:[ci,Vr,oi,Cr,jr,ui],styles:[""]}),e}();function pP(e,t){1&e&&(y.TgZ(0,"div",8),y.TgZ(1,"div",9),y._UZ(2,"img",10),y.TgZ(3,"div",11),y.TgZ(4,"h4",12),y._uU(5,"Super Admin"),y.qZA(),y.TgZ(6,"a",13),y._uU(7,"Manage"),y.qZA(),y.qZA(),y.qZA(),y.qZA())}function vP(e,t){1&e&&(y.TgZ(0,"div",8),y.TgZ(1,"div",9),y._UZ(2,"img",14),y.TgZ(3,"div",11),y.TgZ(4,"h4",12),y._uU(5,"Admins"),y.qZA(),y.TgZ(6,"a",15),y._uU(7,"Manage"),y.qZA(),y.qZA(),y.qZA(),y.qZA())}function gP(e,t){1&e&&(y.TgZ(0,"div",8),y.TgZ(1,"div",9),y._UZ(2,"img",16),y.TgZ(3,"div",11),y.TgZ(4,"h4",12),y._uU(5,"All Users"),y.qZA(),y.TgZ(6,"a",17),y._uU(7,"Manage"),y.qZA(),y.qZA(),y.qZA(),y.qZA())}function yP(e,t){1&e&&(y.TgZ(0,"div",8),y.TgZ(1,"div",9),y._UZ(2,"img",21),y.TgZ(3,"div",11),y.TgZ(4,"h4",12),y._uU(5,"Tenants"),y.qZA(),y.TgZ(6,"a",22),y._uU(7,"Manage"),y.qZA(),y.qZA(),y.qZA(),y.qZA())}function mP(e,t){1&e&&(y.TgZ(0,"div",8),y.TgZ(1,"div",9),y._UZ(2,"img",23),y.TgZ(3,"div",11),y.TgZ(4,"h4",12),y._uU(5,"Meters"),y.qZA(),y.TgZ(6,"a",24),y._uU(7,"Manage"),y.qZA(),y.qZA(),y.qZA(),y.qZA())}function _P(e,t){if(1&e&&(y.TgZ(0,"div",18),y.TgZ(1,"div",8),y.TgZ(2,"div",9),y._UZ(3,"img",19),y.TgZ(4,"div",11),y.TgZ(5,"h4",12),y._uU(6,"Landlords"),y.qZA(),y.TgZ(7,"a",20),y._uU(8,"Manage"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(9,yP,8,0,"div",6),y.YNc(10,mP,8,0,"div",6),y.qZA()),2&e){var n=y.oxw();y.xp6(9),y.Q6J("ngIf",n.user.status==n.super_admin||n.user.status==n.admin||n.user.status==n.client),y.xp6(1),y.Q6J("ngIf",n.user.status==n.super_admin||n.user.status==n.admin||n.user.status==n.client||n.user.status==n.tenant)}}var wP=function(){var e=function(){function e(t){b(this,e),this.authService=t,this.super_admin="super_admin",this.admin="admin",this.client="client",this.tenant="tenant"}return w(e,[{key:"ngOnInit",value:function(){}},{key:"signOut",value:function(){this.authService.SignOut()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-manage-things"]],inputs:{user:"user"},decls:13,vars:4,consts:[[1,"row","m-t-0"],[1,"col-12","m-t-10"],[1,"btn","btn-sm","btn-danger","float-right",3,"click"],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-12","m-t-20"],[1,"row"],["class","col-lg-4 col-md-6 col-sm-12 d-flex justify-content-center",4,"ngIf"],["class","row m-t-40",4,"ngIf"],[1,"col-lg-4","col-md-6","col-sm-12","d-flex","justify-content-center"],[1,"card"],["src","assets/images/super_admins.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],[1,"card-body"],[1,"card-title"],["href","/list-super-admin",1,"btn","btn-outline-primary"],["src","assets/images/admins.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-admin",1,"btn","btn-outline-primary"],["src","assets/images/users.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-users",1,"btn","btn-outline-primary"],[1,"row","m-t-40"],["src","assets/images/home.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-landlords",1,"btn","btn-outline-primary"],["src","assets/images/tenants.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-tenants",1,"btn","btn-outline-primary"],["src","assets/images/meter.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-item",1,"btn","btn-outline-primary"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"button",2),y.NdJ("click",function(){return t.signOut()}),y._uU(3," Sign Out "),y.qZA(),y.qZA(),y.TgZ(4,"div",3),y.TgZ(5,"h3"),y._uU(6,"Manage"),y.qZA(),y.qZA(),y.TgZ(7,"div",4),y.TgZ(8,"div",5),y.YNc(9,pP,8,0,"div",6),y.YNc(10,vP,8,0,"div",6),y.YNc(11,gP,8,0,"div",6),y.qZA(),y.YNc(12,_P,11,2,"div",7),y.qZA(),y.qZA()),2&e&&(y.xp6(9),y.Q6J("ngIf",t.user.status==t.super_admin),y.xp6(1),y.Q6J("ngIf",t.user.status==t.super_admin||t.user.status==t.admin),y.xp6(1),y.Q6J("ngIf",t.user.status==t.super_admin||t.user.status==t.admin),y.xp6(1),y.Q6J("ngIf",t.user.status==t.super_admin||t.user.status==t.admin))},directives:[ee],styles:[".cimg[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:20px}h3[_ngcontent-%COMP%]{color:#8a2be2}"]}),e}();function bP(e,t){if(1&e&&(y.TgZ(0,"small",25),y.TgZ(1,"strong"),y._uU(2,"Name"),y.qZA(),y._uU(3),y.qZA(),y._UZ(4,"h6"),y.TgZ(5,"small",25),y.TgZ(6,"strong"),y._uU(7,"Date of birth"),y.qZA(),y._uU(8),y.qZA(),y._UZ(9,"h6"),y.TgZ(10,"small",25),y.TgZ(11,"strong"),y._uU(12,"Address"),y.qZA(),y._uU(13),y.qZA(),y._UZ(14,"h6"),y.TgZ(15,"small",25),y.TgZ(16,"strong"),y._uU(17,"Blood group"),y.qZA(),y._uU(18),y.qZA(),y._UZ(19,"h6"),y.TgZ(20,"small",25),y.TgZ(21,"strong"),y._uU(22,"Mobile number"),y.qZA(),y._uU(23),y.qZA(),y._UZ(24,"h6"),y.TgZ(25,"small",25),y.TgZ(26,"strong"),y._uU(27,"NID"),y.qZA(),y._uU(28),y.qZA(),y._UZ(29,"h6")),2&e){var n=y.oxw();y.xp6(3),y.hij(" :",n.displayName," "),y.xp6(5),y.hij(": ",n.dob,""),y.xp6(5),y.hij(" ",n.address,""),y.xp6(5),y.hij(": ",n.blood,""),y.xp6(5),y.hij(": ",n.mobile,""),y.xp6(5),y.hij(": ",n.nid,"")}}function kP(e,t){if(1&e&&(y.TgZ(0,"small",25),y.TgZ(1,"strong"),y._uU(2,"User type"),y.qZA(),y._uU(3),y.qZA(),y._UZ(4,"h6"),y.TgZ(5,"small",25),y.TgZ(6,"strong"),y._uU(7,"User Id"),y.qZA(),y._uU(8),y.qZA(),y._UZ(9,"h6"),y.TgZ(10,"small",25),y.TgZ(11,"strong"),y._uU(12,"Number of Meters"),y.qZA(),y._uU(13),y.qZA(),y._UZ(14,"h6"),y.TgZ(15,"small",25),y.TgZ(16,"strong"),y._uU(17,"Approved by"),y.qZA(),y._uU(18),y.qZA(),y._UZ(19,"h6"),y.TgZ(20,"small",25),y.TgZ(21,"strong"),y._uU(22,"Application status"),y.qZA(),y._uU(23),y.qZA(),y._UZ(24,"h6"),y.TgZ(25,"small",25),y.TgZ(26,"strong"),y._uU(27,"Tenants:"),y.qZA(),y._uU(28),y.qZA(),y._UZ(29,"h6")),2&e){var n=y.oxw();y.xp6(3),y.hij(":",n.status," "),y.xp6(5),y.hij(" :",n.uid," "),y.xp6(5),y.hij(":",n.meters," "),y.xp6(5),y.hij(": ",n.apprvBy," "),y.xp6(5),y.hij(": ",n.appStat," "),y.xp6(5),y.hij(" ",n.tenants,"")}}var xP=function(){var e=function(){function e(t,n){b(this,e),this.storage=t,this.authService=n,this.user=this.storage.get("user"),this.photoUrl=this.user.photoUrl,this.uid=this.user.uid,this.displayName=this.user.displayName,this.mobile=this.user.mobile,this.blood=this.user.blood,this.nid=this.user.nid,this.address=this.user.address,this.dob=this.user.dob,this.status=this.user.status,this.meters=this.user.meters.length,this.tenants=this.user.tenants.length,this.active=1,this.apprvBy=this.user.approvedBy,this.appStat=this.user.applicationStatus}return w(e,[{key:"ngOnInit",value:function(){console.log(this.user)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(aP),y.Y36(sP))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-user-dashboard"]],decls:42,vars:10,consts:[[1,"row"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"card"],[1,"card-body"],[1,"text-center"],["width","150","height","150",1,"rounded-circle",3,"src"],[1,"card-title"],[1,"card-subtitle"],[1,"row","text-center","justify-content-md-center"],[1,"col-4"],["href","javascript:void(0)",1,"link"],[1,"icon-people","m-r-10"],[1,"icon-picture","m-r-10"],[1,"card-body","dash"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-12","m-t-10","m-l-10","d-flex","justify-content-center"],["routerLink","/update-profile",1,"btn","btn-sm","btn-info"],["routerLink","/bill-pay",1,"btn","btn-sm","btn-info"],[1,"col-lg-8","col-xlg-9","col-md-7"],[3,"user"],[1,"d-flex"]],template:function(e,t){if(1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"div",4),y._UZ(5,"img",5),y.TgZ(6,"h4",6),y._uU(7),y.qZA(),y.TgZ(8,"h6",7),y._uU(9),y.qZA(),y.TgZ(10,"div",8),y.TgZ(11,"div",9),y.TgZ(12,"a",10),y._UZ(13,"i",11),y._uU(14),y.qZA(),y.qZA(),y.TgZ(15,"div",9),y.TgZ(16,"a",10),y._UZ(17,"i",12),y._uU(18),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(19,"div"),y._UZ(20,"hr"),y.qZA(),y.TgZ(21,"div",13),y.TgZ(22,"ul",14,15),y.NdJ("activeIdChange",function(e){return t.active=e}),y.TgZ(24,"li",16),y.TgZ(25,"a",17),y._uU(26,"Personal Info"),y.qZA(),y.YNc(27,bP,30,6,"ng-template",18),y.qZA(),y.TgZ(28,"li",16),y.TgZ(29,"a",17),y._uU(30,"Meter Info"),y.qZA(),y.YNc(31,kP,30,6,"ng-template",18),y.qZA(),y.qZA(),y._UZ(32,"div",19),y.TgZ(33,"div",0),y.TgZ(34,"div",20),y.TgZ(35,"button",21),y._uU(36," update profile "),y.qZA(),y.TgZ(37,"button",22),y._uU(38," pay bill "),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(39,"div",23),y._UZ(40,"app-manage-things",24),y.qZA(),y.qZA(),y._UZ(41,"div",2)),2&e){var n=y.MAs(23);y.xp6(5),y.s9C("src",t.photoUrl,y.LSH),y.xp6(2),y.Oqu(t.displayName),y.xp6(2),y.Oqu(t.displayName),y.xp6(5),y.hij(" ",t.tenants," "),y.xp6(4),y.hij(" ",t.meters," "),y.xp6(4),y.Q6J("activeId",t.active),y.xp6(2),y.Q6J("ngbNavItem",1),y.xp6(4),y.Q6J("ngbNavItem",2),y.xp6(4),y.Q6J("ngbNavOutlet",n),y.xp6(8),y.Q6J("user",t.user)}},directives:[$l,Xl,eh,Jl,ih,Iu,wP],styles:[".dash[_ngcontent-%COMP%]{margin-top:-20px}"]}),e}();function TP(e,t){1&e&&(y.TgZ(0,"div",12),y.TgZ(1,"h3"),y._uU(2,"No meters found for this user"),y.qZA(),y.qZA())}function SP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",25),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.mid,3)}),y._UZ(1,"i",26),y.TgZ(2,"span",27),y._uU(3,"Deactivate"),y.qZA(),y.qZA()}}function CP(e,t){1&e&&(y.TgZ(0,"a",28),y.TgZ(1,"span",27),y._uU(2,"Suspended for due"),y.qZA(),y.qZA())}function EP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",25),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.mid,1)}),y._UZ(1,"i",29),y.TgZ(2,"span"),y._uU(3,"Activate"),y.qZA(),y.qZA()}}function AP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"tr",22),y.NdJ("dblclick",function(){var e=y.CHM(n).$implicit,t=y.oxw(2),r=y.MAs(20);return t.open2(r,e)}),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.TgZ(13,"td"),y._uU(14),y.qZA(),y.TgZ(15,"td"),y.YNc(16,SP,4,0,"a",23),y.YNc(17,CP,3,0,"a",24),y.YNc(18,EP,4,0,"a",23),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit;y.xp6(2),y.Oqu(r.mid),y.xp6(2),y.Oqu(r.status),y.xp6(2),y.Oqu(r.owner),y.xp6(2),y.Oqu(r.type),y.xp6(2),y.Oqu(r.location),y.xp6(2),y.Oqu(r.bill),y.xp6(2),y.Oqu(r.billStatus),y.xp6(2),y.Q6J("ngIf",1==r.status),y.xp6(1),y.Q6J("ngIf",2==r.status),y.xp6(1),y.Q6J("ngIf",3==r.status)}}function IP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14),y.TgZ(2,"div",15),y.TgZ(3,"div",16),y.TgZ(4,"table",17),y.TgZ(5,"thead",18),y.TgZ(6,"tr"),y.TgZ(7,"th"),y._uU(8,"Meter Id"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"Status"),y.qZA(),y.TgZ(11,"th"),y._uU(12,"Owner"),y.qZA(),y.TgZ(13,"th"),y._uU(14,"Type"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Location"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"Bill"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"Bill status"),y.qZA(),y.TgZ(21,"th"),y._uU(22,"Actions"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(23,"tbody",19),y.YNc(24,AP,19,10,"tr",20),y.ALo(25,"slice"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(26,"div",0),y.TgZ(27,"div",1),y.TgZ(28,"ngb-pagination",21),y.NdJ("pageChange",function(e){return y.CHM(n),y.oxw().page=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(24),y.Q6J("ngForOf",r.meters)("ngForTrackBy",y.Dn7(25,5,r.trackByFn,(r.page-1)*r.page-1,r.page*r.pageSize)),y.xp6(4),y.Q6J("page",r.page)("pageSize",r.pageSize)("collectionSize",r.meters.length)}}function NP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",43),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mMid,1)}),y._uU(1," Activate "),y.qZA()}}function OP(e,t){1&e&&(y.TgZ(0,"button",44),y._uU(1," Suspended for due "),y.qZA())}function PP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",45),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mMid,3)}),y._uU(1," Deactivate "),y.qZA()}}function RP(e,t){if(1&e&&(y.TgZ(0,"div",30),y.TgZ(1,"h4",31),y._uU(2),y.qZA(),y.TgZ(3,"button",32),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y.TgZ(4,"span",33),y._uU(5,"\xd7"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",34),y.TgZ(7,"ul",35),y.TgZ(8,"li",36),y._uU(9," Id: "),y.TgZ(10,"strong",37),y._uU(11),y.qZA(),y.qZA(),y.TgZ(12,"li",36),y._uU(13," Status: "),y.TgZ(14,"strong",37),y._uU(15),y.qZA(),y.qZA(),y.TgZ(16,"li",36),y._uU(17," Type: "),y.TgZ(18,"strong",37),y._uU(19),y.qZA(),y.qZA(),y.TgZ(20,"li",36),y._uU(21," Owner Id: "),y.TgZ(22,"strong",37),y._uU(23),y.qZA(),y.qZA(),y.TgZ(24,"li",36),y._uU(25," Bill: "),y.TgZ(26,"strong",37),y._uU(27),y.qZA(),y.qZA(),y.TgZ(28,"li",36),y._uU(29," Bill status: "),y.TgZ(30,"strong",37),y._uU(31),y.qZA(),y.qZA(),y.TgZ(32,"li",36),y._uU(33," Location: "),y.TgZ(34,"strong",37),y._uU(35),y.qZA(),y.qZA(),y.TgZ(36,"li",36),y.YNc(37,NP,2,0,"button",38),y.YNc(38,OP,2,0,"button",39),y.YNc(39,PP,2,0,"button",40),y.qZA(),y.qZA(),y.qZA(),y.TgZ(40,"div",41),y.TgZ(41,"button",42),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y._uU(42," Close "),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n.mDisplayname),y.xp6(9),y.Oqu(n.mMid),y.xp6(4),y.Oqu(n.mStatus),y.xp6(4),y.Oqu(n.mType),y.xp6(4),y.Oqu(n.mOwner),y.xp6(4),y.Oqu(n.mBill),y.xp6(4),y.Oqu(n.mBillStatus),y.xp6(4),y.hij(" ",n.mLocation,""),y.xp6(2),y.Q6J("ngIf",3==n.mStatus),y.xp6(1),y.Q6J("ngIf",2==n.mStatus),y.xp6(1),y.Q6J("ngIf",1==n.mStatus)}}var DP=function(){var e=function(){function e(t,n,r){b(this,e),this.authService=t,this.storage=n,this.modalService=r,this.temp=[],this.meters=[],this.page=1,this.pageSize=5,this.closeResult=""}return w(e,[{key:"open2",value:function(e,t){var n=this;this.mMid=t.mid,this.mStatus=t.status,this.mOwner=t.owner,this.mBill=t.bill,this.mLocation=t.location,this.mType=t.type,this.mBillStatus=t.billStatus,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){n.closeResult="Closed with: ".concat(e)},function(e){n.closeResult="Dismissed ".concat(n.getDismissReason(e))})}},{key:"ngOnInit",value:function(){var e=this;this.userStatus=this.storage.get("user").status,"super_admin"==this.userStatus||"admin"==this.userStatus?this.authService.getCollection("meters").subscribe(function(t){e.meters=p(t),e.temp=p(e.meters)}):(this.meterIds=this.storage.get("user").meters,console.log("meterIds->",this.meterIds),this.meterIds.map(function(t){e.authService.getMeterDoc(t).subscribe(function(t){if(t){var n=e.meters.findIndex(function(e){return e.mid==t.mid});n>=0&&(e.meters[n]=t),n<0&&(e.meters.push(t),e.temp=p(e.meters))}})}),this.meters=p(this.meters))}},{key:"onStatusToggle",value:function(e,t){this.authService.setData(e,{status:"".concat(t)},"meters")}},{key:"onSearchChangeArea",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("meters","location",e).subscribe(function(e){e.length>0&&(t.meters=p(e))}):this.meters=p(this.temp)}},{key:"onSearchChangeMeter",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("meters","mid",e).subscribe(function(e){e.length>0&&(t.meters=p(e))}):this.meters=p(this.temp)}},{key:"getDismissReason",value:function(e){return e===Bl.ESC?"by pressing ESC":e===Bl.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP),y.Y36(Gl))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-list-item"]],decls:21,vars:4,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"input-group"],[1,"form-outline"],["type","search","id","form1","placeholder","Area",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"ti-search"],["type","search","id","form2","placeholder","Meter no",1,"form-control",3,"ngModel","ngModelChange"],["class","col-lg-12 d-flex justify-content-center",4,"ngIf"],["class","col-lg-12",4,"ngIf"],["content2",""],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[3,"dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"page","pageSize","collectionSize","pageChange"],[3,"dblclick"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close","sp"],[1,"sp"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10"],[1,"ti-check"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"font-weight-bold"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-inverse",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"button",2),y._uU(4," Back "),y.qZA(),y.qZA(),y.TgZ(5,"div",1),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"input",5),y.NdJ("ngModelChange",function(e){return t.searchArea=e})("ngModelChange",function(e){return t.onSearchChangeArea(e)}),y.qZA(),y.qZA(),y.TgZ(9,"button",6),y._UZ(10,"i",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"input",8),y.NdJ("ngModelChange",function(e){return t.searchMeter=e})("ngModelChange",function(e){return t.onSearchChangeMeter(e)}),y.qZA(),y.qZA(),y.TgZ(15,"button",6),y._UZ(16,"i",7),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,TP,3,0,"div",9),y.YNc(18,IP,29,9,"div",10),y.YNc(19,RP,43,11,"ng-template",null,11,y.W1O),y.qZA()),2&e&&(y.xp6(8),y.Q6J("ngModel",t.searchArea),y.xp6(6),y.Q6J("ngModel",t.searchMeter),y.xp6(3),y.Q6J("ngIf",0==t.meters.length),y.xp6(1),y.Q6J("ngIf",t.meters.length>0))},directives:[Iu,Cr,jr,ui,ee,X,ph],pipes:[ie],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}.sp[_ngcontent-%COMP%]{color:red}"]}),e}();function MP(e,t){1&e&&(y.TgZ(0,"div",12),y.TgZ(1,"h3"),y._uU(2,"No users found for this user"),y.qZA(),y.qZA())}function LP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"pending")}),y._UZ(1,"i",25),y.TgZ(2,"span",26),y._uU(3,"Deactivate"),y.qZA(),y.qZA()}}function FP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"approved")}),y._UZ(1,"i",27),y.TgZ(2,"span"),y._uU(3,"Activate"),y.qZA(),y.qZA()}}function qP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"tr",22),y.NdJ("dblclick",function(){var e=y.CHM(n).$implicit,t=y.oxw(2),r=y.MAs(20);return t.open2(r,e)}),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.TgZ(13,"td"),y._uU(14),y.qZA(),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td"),y.YNc(18,LP,4,0,"a",23),y.YNc(19,FP,4,0,"a",23),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit;y.xp6(2),y.Oqu(r.status),y.xp6(2),y.Oqu(r.uid),y.xp6(2),y.Oqu(r.displayName),y.xp6(2),y.Oqu(r.applicationStatus),y.xp6(2),y.Oqu(r.approvedBy),y.xp6(2),y.Oqu(r.address),y.xp6(2),y.Oqu(r.meters.length),y.xp6(2),y.hij(" ",r.tenants.length," "),y.xp6(2),y.Q6J("ngIf","approved"==r.applicationStatus),y.xp6(1),y.Q6J("ngIf","pending"==r.applicationStatus)}}function UP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14),y.TgZ(2,"div",15),y.TgZ(3,"div",16),y.TgZ(4,"table",17),y.TgZ(5,"thead",18),y.TgZ(6,"tr"),y.TgZ(7,"th"),y._uU(8,"Status"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"User id"),y.qZA(),y.TgZ(11,"th"),y._uU(12,"Name"),y.qZA(),y.TgZ(13,"th"),y._uU(14,"App status"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Approved by"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"Location"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"No of meters"),y.qZA(),y.TgZ(21,"th"),y._uU(22,"No of tenants"),y.qZA(),y.TgZ(23,"th"),y._uU(24,"Actions"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(25,"tbody",19),y.YNc(26,qP,20,10,"tr",20),y.ALo(27,"slice"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(28,"div",0),y.TgZ(29,"div",1),y.TgZ(30,"ngb-pagination",21),y.NdJ("pageChange",function(e){return y.CHM(n),y.oxw().page=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(26),y.Q6J("ngForOf",y.Dn7(27,4,r.users,(r.page-1)*r.pageSize,r.page*r.pageSize)),y.xp6(4),y.Q6J("page",r.page)("pageSize",r.pageSize)("collectionSize",r.users.length)}}function ZP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",40),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"approved")}),y._uU(1," Activate "),y.qZA()}}function jP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",41),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"pending")}),y._uU(1," Deactivate "),y.qZA()}}function VP(e,t){if(1&e&&(y.TgZ(0,"div",28),y.TgZ(1,"h4",29),y._uU(2),y.qZA(),y.TgZ(3,"button",30),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y.TgZ(4,"span",31),y._uU(5,"\xd7"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",32),y.TgZ(7,"ul",33),y.TgZ(8,"li",34),y._uU(9," Name: "),y.TgZ(10,"strong",35),y._uU(11),y.qZA(),y.qZA(),y.TgZ(12,"li",34),y._uU(13," Id: "),y.TgZ(14,"strong",35),y._uU(15),y.qZA(),y.qZA(),y.TgZ(16,"li",34),y._uU(17," User type: "),y.TgZ(18,"strong",35),y._uU(19),y.qZA(),y.qZA(),y.TgZ(20,"li",34),y._uU(21," Application status: "),y.TgZ(22,"strong",35),y._uU(23),y.qZA(),y.qZA(),y.TgZ(24,"li",34),y._uU(25," Approved by: "),y.TgZ(26,"strong",35),y._uU(27),y.qZA(),y.qZA(),y.TgZ(28,"li",34),y._uU(29," Approved on: "),y.TgZ(30,"strong",35),y._uU(31),y.qZA(),y.qZA(),y.TgZ(32,"li",34),y._uU(33," Meters: "),y.TgZ(34,"strong",35),y._uU(35),y.qZA(),y.qZA(),y.TgZ(36,"li",34),y._uU(37," Tenants: "),y.TgZ(38,"strong",35),y._uU(39),y.qZA(),y.qZA(),y.TgZ(40,"li",34),y.YNc(41,ZP,2,0,"button",36),y.YNc(42,jP,2,0,"button",37),y.qZA(),y.qZA(),y.qZA(),y.TgZ(43,"div",38),y.TgZ(44,"button",39),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y._uU(45," Close "),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n.mDisplayname),y.xp6(9),y.Oqu(n.mDisplayname),y.xp6(4),y.Oqu(n.mUid),y.xp6(4),y.Oqu(n.mStatus),y.xp6(4),y.Oqu(n.mApplicationStatus),y.xp6(4),y.Oqu(n.mApprovedBy),y.xp6(4),y.Oqu(n.mApprovedOn),y.xp6(4),y.hij(" ",n.mMetersNumber,""),y.xp6(4),y.Oqu(n.mTenantsNumber),y.xp6(2),y.Q6J("ngIf","pending"==n.mApplicationStatus),y.xp6(1),y.Q6J("ngIf","approved"==n.mApplicationStatus)}}var BP=function(){var e=function(){function e(t,n,r){b(this,e),this.authService=t,this.storage=n,this.modalService=r,this.temp=[],this.users=[],this.page=1,this.pageSize=5,this.closeResult=""}return w(e,[{key:"open2",value:function(e,t){var n=this;this.mUid=t.uid,this.mStatus=t.status,this.mDisplayname=t.displayName,this.mApprovedOn=t.approvedOn,this.mApplicationStatus=t.applicationStatus,this.mMetersNumber=t.meters.length,this.mTenantsNumber=t.tenants.number,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){n.closeResult="Closed with: ".concat(e)},function(e){n.closeResult="Dismissed ".concat(n.getDismissReason(e))})}},{key:"ngOnInit",value:function(){var e=this;this.authService.getCollection("users").subscribe(function(t){e.users=p(t),e.temp=p(e.users)}),console.log(this.users)}},{key:"onStatusToggle",value:function(e,t){this.authService.setData(e,{applicationStatus:"".concat(t)},"users")}},{key:"onSearchChangeArea",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","address",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"onSearchChangeUser",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","uid",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"getDismissReason",value:function(e){return e===Bl.ESC?"by pressing ESC":e===Bl.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP),y.Y36(Gl))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-list-users"]],decls:21,vars:4,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"input-group"],[1,"form-outline"],["type","search","id","form1","placeholder","Area",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"ti-search"],["type","search","id","form2","placeholder","User id",1,"form-control",3,"ngModel","ngModelChange"],["class","col-lg-12 d-flex justify-content-center",4,"ngIf"],["class","col-lg-12",4,"ngIf"],["content2",""],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[3,"dblclick",4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],[3,"dblclick"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close","sp"],[1,"sp"],[1,"ti-check"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"font-weight-bold"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-inverse",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"button",2),y._uU(4," Back "),y.qZA(),y.qZA(),y.TgZ(5,"div",1),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"input",5),y.NdJ("ngModelChange",function(e){return t.searchArea=e})("ngModelChange",function(e){return t.onSearchChangeArea(e)}),y.qZA(),y.qZA(),y.TgZ(9,"button",6),y._UZ(10,"i",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"input",8),y.NdJ("ngModelChange",function(e){return t.searchUser=e})("ngModelChange",function(e){return t.onSearchChangeUser(e)}),y.qZA(),y.qZA(),y.TgZ(15,"button",6),y._UZ(16,"i",7),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,MP,3,0,"div",9),y.YNc(18,UP,31,8,"div",10),y.YNc(19,VP,46,11,"ng-template",null,11,y.W1O),y.qZA()),2&e&&(y.xp6(8),y.Q6J("ngModel",t.searchArea),y.xp6(6),y.Q6J("ngModel",t.searchUser),y.xp6(3),y.Q6J("ngIf",0==t.users.length),y.xp6(1),y.Q6J("ngIf",t.users.length>0))},directives:[Iu,Cr,jr,ui,ee,X,ph],pipes:[ie],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}.sp[_ngcontent-%COMP%]{color:red}"]}),e}();function HP(e,t){1&e&&(y.TgZ(0,"div",12),y.TgZ(1,"h3"),y._uU(2,"No landlords found for this user"),y.qZA(),y.qZA())}function zP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"pending")}),y._UZ(1,"i",25),y.TgZ(2,"span",26),y._uU(3,"Deactivate"),y.qZA(),y.qZA()}}function GP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"approved")}),y._UZ(1,"i",27),y.TgZ(2,"span"),y._uU(3,"Activate"),y.qZA(),y.qZA()}}function WP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"tr",22),y.NdJ("dblclick",function(){var e=y.CHM(n).$implicit,t=y.oxw(2),r=y.MAs(20);return t.open2(r,e)}),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.TgZ(13,"td"),y._uU(14),y.qZA(),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td"),y.YNc(18,zP,4,0,"a",23),y.YNc(19,GP,4,0,"a",23),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit;y.xp6(2),y.Oqu(r.status),y.xp6(2),y.Oqu(r.uid),y.xp6(2),y.Oqu(r.displayName),y.xp6(2),y.Oqu(r.applicationStatus),y.xp6(2),y.Oqu(r.approvedBy),y.xp6(2),y.Oqu(r.address),y.xp6(2),y.Oqu(r.meters.length),y.xp6(2),y.hij(" ",r.tenants.length," "),y.xp6(2),y.Q6J("ngIf","approved"==r.applicationStatus),y.xp6(1),y.Q6J("ngIf","pending"==r.applicationStatus)}}function KP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14),y.TgZ(2,"div",15),y.TgZ(3,"div",16),y.TgZ(4,"table",17),y.TgZ(5,"thead",18),y.TgZ(6,"tr"),y.TgZ(7,"th"),y._uU(8,"Status"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"User id"),y.qZA(),y.TgZ(11,"th"),y._uU(12,"Name"),y.qZA(),y.TgZ(13,"th"),y._uU(14,"App status"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Approved by"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"location"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"No of meters"),y.qZA(),y.TgZ(21,"th"),y._uU(22,"No of tenants"),y.qZA(),y.TgZ(23,"th"),y._uU(24,"Actions"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(25,"tbody",19),y.YNc(26,WP,20,10,"tr",20),y.ALo(27,"slice"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(28,"div",0),y.TgZ(29,"div",1),y.TgZ(30,"ngb-pagination",21),y.NdJ("pageChange",function(e){return y.CHM(n),y.oxw().page=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(26),y.Q6J("ngForOf",y.Dn7(27,4,r.users,(r.page-1)*r.pageSize,r.page*r.pageSize)),y.xp6(4),y.Q6J("page",r.page)("pageSize",r.pageSize)("collectionSize",r.users.length)}}function YP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",40),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"approved")}),y._uU(1," Activate "),y.qZA()}}function QP(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",41),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"pending")}),y._uU(1," Deactivate "),y.qZA()}}function JP(e,t){if(1&e&&(y.TgZ(0,"div",28),y.TgZ(1,"h4",29),y._uU(2),y.qZA(),y.TgZ(3,"button",30),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y.TgZ(4,"span",31),y._uU(5,"\xd7"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",32),y.TgZ(7,"ul",33),y.TgZ(8,"li",34),y._uU(9," Name: "),y.TgZ(10,"strong",35),y._uU(11),y.qZA(),y.qZA(),y.TgZ(12,"li",34),y._uU(13," Id: "),y.TgZ(14,"strong",35),y._uU(15),y.qZA(),y.qZA(),y.TgZ(16,"li",34),y._uU(17," User type: "),y.TgZ(18,"strong",35),y._uU(19),y.qZA(),y.qZA(),y.TgZ(20,"li",34),y._uU(21," Application status: "),y.TgZ(22,"strong",35),y._uU(23),y.qZA(),y.qZA(),y.TgZ(24,"li",34),y._uU(25," Approved by: "),y.TgZ(26,"strong",35),y._uU(27),y.qZA(),y.qZA(),y.TgZ(28,"li",34),y._uU(29," Approved on: "),y.TgZ(30,"strong",35),y._uU(31),y.qZA(),y.qZA(),y.TgZ(32,"li",34),y._uU(33," Meters: "),y.TgZ(34,"strong",35),y._uU(35),y.qZA(),y.qZA(),y.TgZ(36,"li",34),y._uU(37," Tenants: "),y.TgZ(38,"strong",35),y._uU(39),y.qZA(),y.qZA(),y.TgZ(40,"li",34),y.YNc(41,YP,2,0,"button",36),y.YNc(42,QP,2,0,"button",37),y.qZA(),y.qZA(),y.qZA(),y.TgZ(43,"div",38),y.TgZ(44,"button",39),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y._uU(45," Close "),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n.mDisplayname),y.xp6(9),y.Oqu(n.mDisplayname),y.xp6(4),y.Oqu(n.mUid),y.xp6(4),y.Oqu(n.mStatus),y.xp6(4),y.Oqu(n.mApplicationStatus),y.xp6(4),y.Oqu(n.mApprovedBy),y.xp6(4),y.Oqu(n.mApprovedOn),y.xp6(4),y.hij(" ",n.mMetersNumber,""),y.xp6(4),y.Oqu(n.mTenantsNumber),y.xp6(2),y.Q6J("ngIf","pending"==n.mApplicationStatus),y.xp6(1),y.Q6J("ngIf","approved"==n.mApplicationStatus)}}var XP=function(){var e=function(){function e(t,n,r){b(this,e),this.authService=t,this.storage=n,this.modalService=r,this.temp=[],this.users=[],this.page=1,this.pageSize=5,this.closeResult=""}return w(e,[{key:"open2",value:function(e,t){var n=this;this.mUid=t.uid,this.mStatus=t.status,this.mDisplayname=t.displayName,this.mApprovedOn=t.approvedOn,this.mApplicationStatus=t.applicationStatus,this.mMetersNumber=t.meters.length,this.mTenantsNumber=t.tenants.number,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){n.closeResult="Closed with: ".concat(e)},function(e){n.closeResult="Dismissed ".concat(n.getDismissReason(e))})}},{key:"ngOnInit",value:function(){var e=this;this.authService.getCollectionSpecific("users","status","client").subscribe(function(t){e.users=p(t),e.temp=p(e.users)})}},{key:"onStatusToggle",value:function(e,t){this.authService.setData(e,{applicationStatus:"".concat(t)},"users")}},{key:"onSearchChangeArea",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","address",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"onSearchChangeUser",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","uid",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"getDismissReason",value:function(e){return e===Bl.ESC?"by pressing ESC":e===Bl.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP),y.Y36(Gl))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-list-landlords"]],decls:21,vars:4,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"input-group"],[1,"form-outline"],["type","search","id","form1","placeholder","Area",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"ti-search"],["type","search","id","form2","placeholder","User id",1,"form-control",3,"ngModel","ngModelChange"],["class","col-lg-12 d-flex justify-content-center",4,"ngIf"],["class","col-lg-12",4,"ngIf"],["content2",""],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[3,"dblclick",4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],[3,"dblclick"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close","sp"],[1,"sp"],[1,"ti-check"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"font-weight-bold"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-inverse",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"button",2),y._uU(4," Back "),y.qZA(),y.qZA(),y.TgZ(5,"div",1),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"input",5),y.NdJ("ngModelChange",function(e){return t.searchArea=e})("ngModelChange",function(e){return t.onSearchChangeArea(e)}),y.qZA(),y.qZA(),y.TgZ(9,"button",6),y._UZ(10,"i",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"input",8),y.NdJ("ngModelChange",function(e){return t.searchUser=e})("ngModelChange",function(e){return t.onSearchChangeUser(e)}),y.qZA(),y.qZA(),y.TgZ(15,"button",6),y._UZ(16,"i",7),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,HP,3,0,"div",9),y.YNc(18,KP,31,8,"div",10),y.YNc(19,JP,46,11,"ng-template",null,11,y.W1O),y.qZA()),2&e&&(y.xp6(8),y.Q6J("ngModel",t.searchArea),y.xp6(6),y.Q6J("ngModel",t.searchUser),y.xp6(3),y.Q6J("ngIf",0==t.users.length),y.xp6(1),y.Q6J("ngIf",t.users.length>0))},directives:[Iu,Cr,jr,ui,ee,X,ph],pipes:[ie],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}.sp[_ngcontent-%COMP%]{color:red}"]}),e}();function $P(e,t){1&e&&(y.TgZ(0,"div",12),y.TgZ(1,"h3"),y._uU(2,"No tenants found for this user"),y.qZA(),y.qZA())}function eR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"pending")}),y._UZ(1,"i",25),y.TgZ(2,"span",26),y._uU(3,"Deactivate"),y.qZA(),y.qZA()}}function tR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"approved")}),y._UZ(1,"i",27),y.TgZ(2,"span"),y._uU(3,"Activate"),y.qZA(),y.qZA()}}function nR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"tr",22),y.NdJ("dblclick",function(){var e=y.CHM(n).$implicit,t=y.oxw(2),r=y.MAs(20);return t.open2(r,e)}),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.TgZ(13,"td"),y._uU(14),y.qZA(),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td"),y.YNc(18,eR,4,0,"a",23),y.YNc(19,tR,4,0,"a",23),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit;y.xp6(2),y.Oqu(r.status),y.xp6(2),y.Oqu(r.uid),y.xp6(2),y.Oqu(r.displayName),y.xp6(2),y.Oqu(r.applicationStatus),y.xp6(2),y.Oqu(r.approvedBy),y.xp6(2),y.Oqu(r.address),y.xp6(2),y.Oqu(r.meters.length),y.xp6(2),y.hij(" ",r.tenants.length," "),y.xp6(2),y.Q6J("ngIf","approved"==r.applicationStatus),y.xp6(1),y.Q6J("ngIf","pending"==r.applicationStatus)}}function rR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14),y.TgZ(2,"div",15),y.TgZ(3,"div",16),y.TgZ(4,"table",17),y.TgZ(5,"thead",18),y.TgZ(6,"tr"),y.TgZ(7,"th"),y._uU(8,"Status"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"User id"),y.qZA(),y.TgZ(11,"th"),y._uU(12,"Name"),y.qZA(),y.TgZ(13,"th"),y._uU(14,"App status"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Approved by"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"Location"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"No of meters"),y.qZA(),y.TgZ(21,"th"),y._uU(22,"No of tenants"),y.qZA(),y.TgZ(23,"th"),y._uU(24,"Actions"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(25,"tbody",19),y.YNc(26,nR,20,10,"tr",20),y.ALo(27,"slice"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(28,"div",0),y.TgZ(29,"div",1),y.TgZ(30,"ngb-pagination",21),y.NdJ("pageChange",function(e){return y.CHM(n),y.oxw().page=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(26),y.Q6J("ngForOf",y.Dn7(27,4,r.users,(r.page-1)*r.pageSize,r.page*r.pageSize)),y.xp6(4),y.Q6J("page",r.page)("pageSize",r.pageSize)("collectionSize",r.users.length)}}function iR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",40),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"approved")}),y._uU(1," Activate "),y.qZA()}}function oR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",41),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"pending")}),y._uU(1," Deactivate "),y.qZA()}}function aR(e,t){if(1&e&&(y.TgZ(0,"div",28),y.TgZ(1,"h4",29),y._uU(2),y.qZA(),y.TgZ(3,"button",30),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y.TgZ(4,"span",31),y._uU(5,"\xd7"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",32),y.TgZ(7,"ul",33),y.TgZ(8,"li",34),y._uU(9," Name: "),y.TgZ(10,"strong",35),y._uU(11),y.qZA(),y.qZA(),y.TgZ(12,"li",34),y._uU(13," Id: "),y.TgZ(14,"strong",35),y._uU(15),y.qZA(),y.qZA(),y.TgZ(16,"li",34),y._uU(17," User type: "),y.TgZ(18,"strong",35),y._uU(19),y.qZA(),y.qZA(),y.TgZ(20,"li",34),y._uU(21," Application status: "),y.TgZ(22,"strong",35),y._uU(23),y.qZA(),y.qZA(),y.TgZ(24,"li",34),y._uU(25," Approved by: "),y.TgZ(26,"strong",35),y._uU(27),y.qZA(),y.qZA(),y.TgZ(28,"li",34),y._uU(29," Approved on: "),y.TgZ(30,"strong",35),y._uU(31),y.qZA(),y.qZA(),y.TgZ(32,"li",34),y._uU(33," Meters: "),y.TgZ(34,"strong",35),y._uU(35),y.qZA(),y.qZA(),y.TgZ(36,"li",34),y._uU(37," Tenants: "),y.TgZ(38,"strong",35),y._uU(39),y.qZA(),y.qZA(),y.TgZ(40,"li",34),y.YNc(41,iR,2,0,"button",36),y.YNc(42,oR,2,0,"button",37),y.qZA(),y.qZA(),y.qZA(),y.TgZ(43,"div",38),y.TgZ(44,"button",39),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y._uU(45," Close "),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n.mDisplayname),y.xp6(9),y.Oqu(n.mDisplayname),y.xp6(4),y.Oqu(n.mUid),y.xp6(4),y.Oqu(n.mStatus),y.xp6(4),y.Oqu(n.mApplicationStatus),y.xp6(4),y.Oqu(n.mApprovedBy),y.xp6(4),y.Oqu(n.mApprovedOn),y.xp6(4),y.hij(" ",n.mMetersNumber,""),y.xp6(4),y.Oqu(n.mTenantsNumber),y.xp6(2),y.Q6J("ngIf","pending"==n.mApplicationStatus),y.xp6(1),y.Q6J("ngIf","approved"==n.mApplicationStatus)}}var sR=function(){var e=function(){function e(t,n,r){b(this,e),this.authService=t,this.storage=n,this.modalService=r,this.temp=[],this.users=[],this.page=1,this.pageSize=5,this.closeResult=""}return w(e,[{key:"open2",value:function(e,t){var n=this;this.mUid=t.uid,this.mStatus=t.status,this.mDisplayname=t.displayName,this.mApprovedOn=t.approvedOn,this.mApplicationStatus=t.applicationStatus,this.mMetersNumber=t.meters.length,this.mTenantsNumber=t.tenants.number,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){n.closeResult="Closed with: ".concat(e)},function(e){n.closeResult="Dismissed ".concat(n.getDismissReason(e))})}},{key:"ngOnInit",value:function(){var e=this;this.authService.getCollectionSpecific("users","status","tenant").subscribe(function(t){e.users=p(t),e.temp=p(e.users)})}},{key:"onStatusToggle",value:function(e,t){this.authService.setData(e,{applicationStatus:"".concat(t)},"users")}},{key:"onSearchChangeArea",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","address",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"onSearchChangeUser",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","uid",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"getDismissReason",value:function(e){return e===Bl.ESC?"by pressing ESC":e===Bl.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP),y.Y36(Gl))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-list-tenants"]],decls:21,vars:4,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"input-group"],[1,"form-outline"],["type","search","id","form1","placeholder","Area",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"ti-search"],["type","search","id","form2","placeholder","User id",1,"form-control",3,"ngModel","ngModelChange"],["class","col-lg-12 d-flex justify-content-center",4,"ngIf"],["class","col-lg-12",4,"ngIf"],["content2",""],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[3,"dblclick",4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],[3,"dblclick"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close","sp"],[1,"sp"],[1,"ti-check"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"font-weight-bold"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-inverse",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"button",2),y._uU(4," Back "),y.qZA(),y.qZA(),y.TgZ(5,"div",1),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"input",5),y.NdJ("ngModelChange",function(e){return t.searchArea=e})("ngModelChange",function(e){return t.onSearchChangeArea(e)}),y.qZA(),y.qZA(),y.TgZ(9,"button",6),y._UZ(10,"i",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"input",8),y.NdJ("ngModelChange",function(e){return t.searchUser=e})("ngModelChange",function(e){return t.onSearchChangeUser(e)}),y.qZA(),y.qZA(),y.TgZ(15,"button",6),y._UZ(16,"i",7),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,$P,3,0,"div",9),y.YNc(18,rR,31,8,"div",10),y.YNc(19,aR,46,11,"ng-template",null,11,y.W1O),y.qZA()),2&e&&(y.xp6(8),y.Q6J("ngModel",t.searchArea),y.xp6(6),y.Q6J("ngModel",t.searchUser),y.xp6(3),y.Q6J("ngIf",0==t.users.length),y.xp6(1),y.Q6J("ngIf",t.users.length>0))},directives:[Iu,Cr,jr,ui,ee,X,ph],pipes:[ie],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}.sp[_ngcontent-%COMP%]{color:red}"]}),e}();function uR(e,t){1&e&&(y.TgZ(0,"div",12),y.TgZ(1,"h3"),y._uU(2,"No Super-Admin found for this user"),y.qZA(),y.qZA())}function cR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"pending")}),y._UZ(1,"i",25),y.TgZ(2,"span",26),y._uU(3,"Deactivate"),y.qZA(),y.qZA()}}function lR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"approved")}),y._UZ(1,"i",27),y.TgZ(2,"span"),y._uU(3,"Activate"),y.qZA(),y.qZA()}}function hR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"tr",22),y.NdJ("dblclick",function(){var e=y.CHM(n).$implicit,t=y.oxw(2),r=y.MAs(20);return t.open2(r,e)}),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.TgZ(13,"td"),y._uU(14),y.qZA(),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td"),y.YNc(18,cR,4,0,"a",23),y.YNc(19,lR,4,0,"a",23),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit;y.xp6(2),y.Oqu(r.status),y.xp6(2),y.Oqu(r.uid),y.xp6(2),y.Oqu(r.displayName),y.xp6(2),y.Oqu(r.applicationStatus),y.xp6(2),y.Oqu(r.approvedBy),y.xp6(2),y.Oqu(r.address),y.xp6(2),y.Oqu(r.meters.length),y.xp6(2),y.hij(" ",r.tenants.length," "),y.xp6(2),y.Q6J("ngIf","approved"==r.applicationStatus),y.xp6(1),y.Q6J("ngIf","pending"==r.applicationStatus)}}function fR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14),y.TgZ(2,"div",15),y.TgZ(3,"div",16),y.TgZ(4,"table",17),y.TgZ(5,"thead",18),y.TgZ(6,"tr"),y.TgZ(7,"th"),y._uU(8,"Status"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"User id"),y.qZA(),y.TgZ(11,"th"),y._uU(12,"Name"),y.qZA(),y.TgZ(13,"th"),y._uU(14,"App status"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Approved by"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"Location"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"No of meters"),y.qZA(),y.TgZ(21,"th"),y._uU(22,"No of tenants"),y.qZA(),y.TgZ(23,"th"),y._uU(24,"Actions"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(25,"tbody",19),y.YNc(26,hR,20,10,"tr",20),y.ALo(27,"slice"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(28,"div",0),y.TgZ(29,"div",1),y.TgZ(30,"ngb-pagination",21),y.NdJ("pageChange",function(e){return y.CHM(n),y.oxw().page=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(26),y.Q6J("ngForOf",y.Dn7(27,4,r.users,(r.page-1)*r.pageSize,r.page*r.pageSize)),y.xp6(4),y.Q6J("page",r.page)("pageSize",r.pageSize)("collectionSize",r.users.length)}}function dR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",40),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"approved")}),y._uU(1," Activate "),y.qZA()}}function pR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",41),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"pending")}),y._uU(1," Deactivate "),y.qZA()}}function vR(e,t){if(1&e&&(y.TgZ(0,"div",28),y.TgZ(1,"h4",29),y._uU(2),y.qZA(),y.TgZ(3,"button",30),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y.TgZ(4,"span",31),y._uU(5,"\xd7"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",32),y.TgZ(7,"ul",33),y.TgZ(8,"li",34),y._uU(9," Name: "),y.TgZ(10,"strong",35),y._uU(11),y.qZA(),y.qZA(),y.TgZ(12,"li",34),y._uU(13," Id: "),y.TgZ(14,"strong",35),y._uU(15),y.qZA(),y.qZA(),y.TgZ(16,"li",34),y._uU(17," User type: "),y.TgZ(18,"strong",35),y._uU(19),y.qZA(),y.qZA(),y.TgZ(20,"li",34),y._uU(21," Application status: "),y.TgZ(22,"strong",35),y._uU(23),y.qZA(),y.qZA(),y.TgZ(24,"li",34),y._uU(25," Approved by: "),y.TgZ(26,"strong",35),y._uU(27),y.qZA(),y.qZA(),y.TgZ(28,"li",34),y._uU(29," Approved on: "),y.TgZ(30,"strong",35),y._uU(31),y.qZA(),y.qZA(),y.TgZ(32,"li",34),y._uU(33," Meters: "),y.TgZ(34,"strong",35),y._uU(35),y.qZA(),y.qZA(),y.TgZ(36,"li",34),y._uU(37," Tenants: "),y.TgZ(38,"strong",35),y._uU(39),y.qZA(),y.qZA(),y.TgZ(40,"li",34),y.YNc(41,dR,2,0,"button",36),y.YNc(42,pR,2,0,"button",37),y.qZA(),y.qZA(),y.qZA(),y.TgZ(43,"div",38),y.TgZ(44,"button",39),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y._uU(45," Close "),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n.mDisplayname),y.xp6(9),y.Oqu(n.mDisplayname),y.xp6(4),y.Oqu(n.mUid),y.xp6(4),y.Oqu(n.mStatus),y.xp6(4),y.Oqu(n.mApplicationStatus),y.xp6(4),y.Oqu(n.mApprovedBy),y.xp6(4),y.Oqu(n.mApprovedOn),y.xp6(4),y.hij(" ",n.mMetersNumber,""),y.xp6(4),y.Oqu(n.mTenantsNumber),y.xp6(2),y.Q6J("ngIf","pending"==n.mApplicationStatus),y.xp6(1),y.Q6J("ngIf","approved"==n.mApplicationStatus)}}var gR=function(){var e=function(){function e(t,n,r){b(this,e),this.authService=t,this.storage=n,this.modalService=r,this.temp=[],this.users=[],this.page=1,this.pageSize=5,this.closeResult=""}return w(e,[{key:"open2",value:function(e,t){var n=this;this.mUid=t.uid,this.mStatus=t.status,this.mDisplayname=t.displayName,this.mApprovedOn=t.approvedOn,this.mApplicationStatus=t.applicationStatus,this.mMetersNumber=t.meters.length,this.mTenantsNumber=t.tenants.number,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){n.closeResult="Closed with: ".concat(e)},function(e){n.closeResult="Dismissed ".concat(n.getDismissReason(e))})}},{key:"ngOnInit",value:function(){var e=this;this.authService.getCollectionSpecific("users","status","super_admin").subscribe(function(t){e.users=p(t),e.temp=p(e.users)})}},{key:"onStatusToggle",value:function(e,t){this.authService.setData(e,{applicationStatus:"".concat(t)},"users")}},{key:"onSearchChangeArea",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","address",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"onSearchChangeUser",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","uid",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"getDismissReason",value:function(e){return e===Bl.ESC?"by pressing ESC":e===Bl.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP),y.Y36(Gl))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-list-super-admin"]],decls:21,vars:4,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"input-group"],[1,"form-outline"],["type","search","id","form1","placeholder","Area",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"ti-search"],["type","search","id","form2","placeholder","User id",1,"form-control",3,"ngModel","ngModelChange"],["class","col-lg-12 d-flex justify-content-center",4,"ngIf"],["class","col-lg-12",4,"ngIf"],["content2",""],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[3,"dblclick",4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],[3,"dblclick"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close","sp"],[1,"sp"],[1,"ti-check"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"font-weight-bold"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-inverse",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"button",2),y._uU(4," Back "),y.qZA(),y.qZA(),y.TgZ(5,"div",1),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"input",5),y.NdJ("ngModelChange",function(e){return t.searchArea=e})("ngModelChange",function(e){return t.onSearchChangeArea(e)}),y.qZA(),y.qZA(),y.TgZ(9,"button",6),y._UZ(10,"i",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"input",8),y.NdJ("ngModelChange",function(e){return t.searchUser=e})("ngModelChange",function(e){return t.onSearchChangeUser(e)}),y.qZA(),y.qZA(),y.TgZ(15,"button",6),y._UZ(16,"i",7),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,uR,3,0,"div",9),y.YNc(18,fR,31,8,"div",10),y.YNc(19,vR,46,11,"ng-template",null,11,y.W1O),y.qZA()),2&e&&(y.xp6(8),y.Q6J("ngModel",t.searchArea),y.xp6(6),y.Q6J("ngModel",t.searchUser),y.xp6(3),y.Q6J("ngIf",0==t.users.length),y.xp6(1),y.Q6J("ngIf",t.users.length>0))},directives:[Iu,Cr,jr,ui,ee,X,ph],pipes:[ie],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}.sp[_ngcontent-%COMP%]{color:red}"]}),e}();function yR(e,t){1&e&&(y.TgZ(0,"div",12),y.TgZ(1,"h3"),y._uU(2,"No admins found for this user"),y.qZA(),y.qZA())}function mR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"pending")}),y._UZ(1,"i",25),y.TgZ(2,"span",26),y._uU(3,"Deactivate"),y.qZA(),y.qZA()}}function _R(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"a",24),y.NdJ("click",function(){y.CHM(n);var e=y.oxw().$implicit;return y.oxw(2).onStatusToggle(e.uid,"approved")}),y._UZ(1,"i",27),y.TgZ(2,"span"),y._uU(3,"Activate"),y.qZA(),y.qZA()}}function wR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"tr",22),y.NdJ("dblclick",function(){var e=y.CHM(n).$implicit,t=y.oxw(2),r=y.MAs(20);return t.open2(r,e)}),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.TgZ(9,"td"),y._uU(10),y.qZA(),y.TgZ(11,"td"),y._uU(12),y.qZA(),y.TgZ(13,"td"),y._uU(14),y.qZA(),y.TgZ(15,"td"),y._uU(16),y.qZA(),y.TgZ(17,"td"),y.YNc(18,mR,4,0,"a",23),y.YNc(19,_R,4,0,"a",23),y.qZA(),y.qZA()}if(2&e){var r=t.$implicit;y.xp6(2),y.Oqu(r.status),y.xp6(2),y.Oqu(r.uid),y.xp6(2),y.Oqu(r.displayName),y.xp6(2),y.Oqu(r.applicationStatus),y.xp6(2),y.Oqu(r.approvedBy),y.xp6(2),y.Oqu(r.address),y.xp6(2),y.Oqu(r.meters.length),y.xp6(2),y.hij(" ",r.tenants.length," "),y.xp6(2),y.Q6J("ngIf","approved"==r.applicationStatus),y.xp6(1),y.Q6J("ngIf","pending"==r.applicationStatus)}}function bR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",13),y.TgZ(1,"div",14),y.TgZ(2,"div",15),y.TgZ(3,"div",16),y.TgZ(4,"table",17),y.TgZ(5,"thead",18),y.TgZ(6,"tr"),y.TgZ(7,"th"),y._uU(8,"Status"),y.qZA(),y.TgZ(9,"th"),y._uU(10,"User id"),y.qZA(),y.TgZ(11,"th"),y._uU(12,"Name"),y.qZA(),y.TgZ(13,"th"),y._uU(14,"App status"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Approved by"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"Location"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"No of meters"),y.qZA(),y.TgZ(21,"th"),y._uU(22,"No of tenants"),y.qZA(),y.TgZ(23,"th"),y._uU(24,"Actions"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(25,"tbody",19),y.YNc(26,wR,20,10,"tr",20),y.ALo(27,"slice"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(28,"div",0),y.TgZ(29,"div",1),y.TgZ(30,"ngb-pagination",21),y.NdJ("pageChange",function(e){return y.CHM(n),y.oxw().page=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(26),y.Q6J("ngForOf",y.Dn7(27,4,r.users,(r.page-1)*r.pageSize,r.page*r.pageSize)),y.xp6(4),y.Q6J("page",r.page)("pageSize",r.pageSize)("collectionSize",r.users.length)}}function kR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",40),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"approved")}),y._uU(1," Activate "),y.qZA()}}function xR(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"button",41),y.NdJ("click",function(){y.CHM(n);var e=y.oxw(2);return e.onStatusToggle(e.mUid,"pending")}),y._uU(1," Deactivate "),y.qZA()}}function TR(e,t){if(1&e&&(y.TgZ(0,"div",28),y.TgZ(1,"h4",29),y._uU(2),y.qZA(),y.TgZ(3,"button",30),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y.TgZ(4,"span",31),y._uU(5,"\xd7"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"div",32),y.TgZ(7,"ul",33),y.TgZ(8,"li",34),y._uU(9," Name: "),y.TgZ(10,"strong",35),y._uU(11),y.qZA(),y.qZA(),y.TgZ(12,"li",34),y._uU(13," Id: "),y.TgZ(14,"strong",35),y._uU(15),y.qZA(),y.qZA(),y.TgZ(16,"li",34),y._uU(17," User type: "),y.TgZ(18,"strong",35),y._uU(19),y.qZA(),y.qZA(),y.TgZ(20,"li",34),y._uU(21," Application status: "),y.TgZ(22,"strong",35),y._uU(23),y.qZA(),y.qZA(),y.TgZ(24,"li",34),y._uU(25," Approved by: "),y.TgZ(26,"strong",35),y._uU(27),y.qZA(),y.qZA(),y.TgZ(28,"li",34),y._uU(29," Approved on: "),y.TgZ(30,"strong",35),y._uU(31),y.qZA(),y.qZA(),y.TgZ(32,"li",34),y._uU(33," Meters: "),y.TgZ(34,"strong",35),y._uU(35),y.qZA(),y.qZA(),y.TgZ(36,"li",34),y._uU(37," Tenants: "),y.TgZ(38,"strong",35),y._uU(39),y.qZA(),y.qZA(),y.TgZ(40,"li",34),y.YNc(41,kR,2,0,"button",36),y.YNc(42,xR,2,0,"button",37),y.qZA(),y.qZA(),y.qZA(),y.TgZ(43,"div",38),y.TgZ(44,"button",39),y.NdJ("click",function(){return t.$implicit.dismiss("Cross click")}),y._uU(45," Close "),y.qZA(),y.qZA()),2&e){var n=y.oxw();y.xp6(2),y.Oqu(n.mDisplayname),y.xp6(9),y.Oqu(n.mDisplayname),y.xp6(4),y.Oqu(n.mUid),y.xp6(4),y.Oqu(n.mStatus),y.xp6(4),y.Oqu(n.mApplicationStatus),y.xp6(4),y.Oqu(n.mApprovedBy),y.xp6(4),y.Oqu(n.mApprovedOn),y.xp6(4),y.hij(" ",n.mMetersNumber,""),y.xp6(4),y.Oqu(n.mTenantsNumber),y.xp6(2),y.Q6J("ngIf","pending"==n.mApplicationStatus),y.xp6(1),y.Q6J("ngIf","approved"==n.mApplicationStatus)}}var SR=function(){var e=function(){function e(t,n,r,i){b(this,e),this.authService=t,this.storage=n,this.router=r,this.modalService=i,this.temp=[],this.users=[],this.page=1,this.pageSize=5,this.closeResult=""}return w(e,[{key:"open2",value:function(e,t){var n=this;this.mUid=t.uid,this.mStatus=t.status,this.mDisplayname=t.displayName,this.mApprovedOn=t.approvedOn,this.mApplicationStatus=t.applicationStatus,this.mMetersNumber=t.meters.length,this.mTenantsNumber=t.tenants.number,this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(function(e){n.closeResult="Closed with: ".concat(e)},function(e){n.closeResult="Dismissed ".concat(n.getDismissReason(e))})}},{key:"ngOnInit",value:function(){var e=this;this.authService.getCollectionSpecific("users","status","admin").subscribe(function(t){e.users=p(t),e.temp=p(e.users)})}},{key:"onStatusToggle",value:function(e,t){this.authService.setData(e,{applicationStatus:"".concat(t)},"users")}},{key:"onSearchChangeArea",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","address",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"onSearchChangeUser",value:function(e){var t=this;e.length>0?this.authService.getCollectionSpecific("users","uid",e).subscribe(function(e){e.length>0&&(t.users=p(e))}):this.users=p(this.temp)}},{key:"getDismissReason",value:function(e){return e===Bl.ESC?"by pressing ESC":e===Bl.BACKDROP_CLICK?"by clicking on a backdrop":"with: ".concat(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP),y.Y36(Au),y.Y36(Gl))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-list-admin"]],decls:21,vars:4,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"input-group"],[1,"form-outline"],["type","search","id","form1","placeholder","Area",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"ti-search"],["type","search","id","form2","placeholder","User id",1,"form-control",3,"ngModel","ngModelChange"],["class","col-lg-12 d-flex justify-content-center",4,"ngIf"],["class","col-lg-12",4,"ngIf"],["content2",""],[1,"col-lg-12","d-flex","justify-content-center"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[3,"dblclick",4,"ngFor","ngForOf"],[3,"page","pageSize","collectionSize","pageChange"],[3,"dblclick"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close","sp"],[1,"sp"],[1,"ti-check"],[1,"modal-header"],[1,"modal-title","font-weight-bold"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"list-group"],[1,"list-group-item"],[1,"font-weight-bold"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-inverse",3,"click"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"button",2),y._uU(4," Back "),y.qZA(),y.qZA(),y.TgZ(5,"div",1),y.TgZ(6,"div",3),y.TgZ(7,"div",4),y.TgZ(8,"input",5),y.NdJ("ngModelChange",function(e){return t.searchArea=e})("ngModelChange",function(e){return t.onSearchChangeArea(e)}),y.qZA(),y.qZA(),y.TgZ(9,"button",6),y._UZ(10,"i",7),y.qZA(),y.qZA(),y.qZA(),y.TgZ(11,"div",1),y.TgZ(12,"div",3),y.TgZ(13,"div",4),y.TgZ(14,"input",8),y.NdJ("ngModelChange",function(e){return t.searchUser=e})("ngModelChange",function(e){return t.onSearchChangeUser(e)}),y.qZA(),y.qZA(),y.TgZ(15,"button",6),y._UZ(16,"i",7),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.YNc(17,yR,3,0,"div",9),y.YNc(18,bR,31,8,"div",10),y.YNc(19,TR,46,11,"ng-template",null,11,y.W1O),y.qZA()),2&e&&(y.xp6(8),y.Q6J("ngModel",t.searchArea),y.xp6(6),y.Q6J("ngModel",t.searchUser),y.xp6(3),y.Q6J("ngIf",0==t.users.length),y.xp6(1),y.Q6J("ngIf",t.users.length>0))},directives:[Iu,Cr,jr,ui,ee,X,ph],pipes:[ie],styles:["a[_ngcontent-%COMP%]:hover{cursor:pointer}.sp[_ngcontent-%COMP%]{color:red}"]}),e}();function CR(e,t){if(1&e&&(y.TgZ(0,"tr"),y.TgZ(1,"td"),y._uU(2),y.qZA(),y.TgZ(3,"td"),y._uU(4),y.qZA(),y.TgZ(5,"td"),y._uU(6),y.qZA(),y.TgZ(7,"td"),y._uU(8),y.qZA(),y.qZA()),2&e){var n=t.$implicit;y.xp6(2),y.hij(" ",n.mid," "),y.xp6(2),y.Oqu(n.owner),y.xp6(2),y.Oqu(n.bill),y.xp6(2),y.Oqu(n.billStatus)}}function ER(e,t){if(1&e){var n=y.EpF();y.TgZ(0,"div",0),y.TgZ(1,"div",22),y.TgZ(2,"form"),y.TgZ(3,"div",0),y.TgZ(4,"div",23),y.TgZ(5,"div",24),y.TgZ(6,"label"),y._uU(7,"Meter Id"),y.qZA(),y.TgZ(8,"input",25),y.NdJ("ngModelChange",function(e){return y.CHM(n),y.oxw().meterId=e}),y.qZA(),y.qZA(),y.qZA(),y.TgZ(9,"div",26),y.TgZ(10,"div",24),y.TgZ(11,"label"),y._uU(12,"Owner Id"),y.qZA(),y.TgZ(13,"input",27),y.NdJ("ngModelChange",function(e){return y.CHM(n),y.oxw().ownerId=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(14,"div",0),y.TgZ(15,"div",3),y.TgZ(16,"div",24),y.TgZ(17,"label"),y._uU(18,"Bill to be paid"),y.qZA(),y.TgZ(19,"input",28),y.NdJ("ngModelChange",function(e){return y.CHM(n),y.oxw().bill=e}),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(20,"button",29),y.NdJ("click",function(){return y.CHM(n),y.oxw().onPayment()}),y._uU(21," Make Payment "),y.qZA(),y.qZA(),y.qZA(),y.TgZ(22,"div",30),y.TgZ(23,"h4",31),y._uU(24,"General Info"),y.qZA(),y.TgZ(25,"p"),y._uU(26," You can pay your bill through the payment gateway against your meter id. You can pay one bill for one meter every time.Multiple bill can be paid one by one. "),y.qZA(),y.TgZ(27,"p"),y._uU(28," Be very cautious while entering the meter number and owner id number "),y.qZA(),y.qZA(),y.qZA()}if(2&e){var r=y.oxw();y.xp6(8),y.Q6J("ngModel",r.meterId),y.xp6(5),y.Q6J("ngModel",r.ownerId),y.xp6(6),y.Q6J("ngModel",r.bill)}}function AR(e,t){1&e&&(y.TgZ(0,"p"),y._uU(1,' First, copy the meter id from the table that you want to pay the bill of.Then paste the meter id in the "Meter id" field. Do same for the owner id field. You have to be very carefull while entering the ids. '),y.qZA())}var IR=function(){var e=function(){function e(t,n){b(this,e),this.authService=t,this.storage=n,this.meters=[],this.active=1}return w(e,[{key:"ngOnInit",value:function(){var e=this;this.meterIds=this.storage.get("user").meters,console.log("meterIds->",this.meterIds),this.meterIds.map(function(t){e.authService.getMeterDoc(t).subscribe(function(t){if(t){var n=e.meters.findIndex(function(e){return e.mid==t.mid});n>=0&&(e.meters[n]=t),console.log(n),n<0&&e.meters.push(t)}})}),this.meters=p(this.meters)}},{key:"onPayment",value:function(){var e,t=this;this.authService.getMeterDoc(this.meterId).subscribe(function(n){if((e=n).owner==t.ownerId&&Number(e.bill)>=Number(t.bill)){var r={bill:Number(e.bill)-Number(t.bill),billStatus:"pending"};t.authService.setData(t.meterId,r,"meters")}else e.owner!=t.ownerId?alert("This is not the owner, please give correct ownere id"):Number(e.bill)<Number(t.bill)&&alert("Payment error!")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(sP),y.Y36(aP))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-bill-pay"]],decls:43,vars:6,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-outline-primary","float-left"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"table-responsive"],[1,"table","v-middle","table-hover"],[1,"bg-primary","text-white"],[1,"border","border-primary"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"visible-xs"],[1,"ti-home"],[1,"hidden-xs"],["ngbNavContent",""],[1,"ti-user"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-7"],[1,"col-xs-7","col-md-7"],[1,"form-group"],["type","text","name","meterId","placeholder","1111-2222-3333-4444","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-xs-5","col-md-5","pull-right"],["type","text","name","ownerId","placeholder","1111-2222-3333-4444","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","bill","placeholder","Bill",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-info",3,"click"],[1,"col-md-4","ml-auto"],[1,"card-title","m-t-30"]],template:function(e,t){if(1&e&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"button",2),y._uU(3," Back "),y.qZA(),y.qZA(),y.TgZ(4,"div",3),y.TgZ(5,"div",4),y.TgZ(6,"div",5),y.TgZ(7,"h5",6),y._uU(8,"BILL SUMMARY"),y.qZA(),y.TgZ(9,"div",7),y.TgZ(10,"table",8),y.TgZ(11,"thead",9),y.TgZ(12,"tr"),y.TgZ(13,"th"),y._uU(14,"Meter Id"),y.qZA(),y.TgZ(15,"th"),y._uU(16,"Owner"),y.qZA(),y.TgZ(17,"th"),y._uU(18,"Bill"),y.qZA(),y.TgZ(19,"th"),y._uU(20,"Bill Status"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(21,"tbody",10),y.YNc(22,CR,9,4,"tr",11),y.qZA(),y.qZA(),y.qZA(),y._UZ(23,"hr"),y.TgZ(24,"h5",6),y._uU(25,"Choose payment Option"),y.qZA(),y.TgZ(26,"ul",12,13),y.NdJ("activeIdChange",function(e){return t.active=e}),y.TgZ(28,"li",14),y.TgZ(29,"a",15),y.TgZ(30,"span",16),y._UZ(31,"i",17),y.qZA(),y.TgZ(32,"span",18),y._uU(33," Nagad"),y.qZA(),y.qZA(),y.YNc(34,ER,29,3,"ng-template",19),y.qZA(),y.TgZ(35,"li",14),y.TgZ(36,"a",15),y.TgZ(37,"span",16),y._UZ(38,"i",20),y.qZA(),y.TgZ(39,"span",18),y._uU(40,"Procedeur"),y.qZA(),y.qZA(),y.YNc(41,AR,2,0,"ng-template",19),y.qZA(),y.qZA(),y._UZ(42,"div",21),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&e){var n=y.MAs(27);y.xp6(22),y.Q6J("ngForOf",t.meters)("ngForTrackBy",t.trackByFn),y.xp6(4),y.Q6J("activeId",t.active),y.xp6(2),y.Q6J("ngbNavItem",1),y.xp6(7),y.Q6J("ngbNavItem",2),y.xp6(7),y.Q6J("ngbNavOutlet",n)}},directives:[Iu,X,$l,Xl,eh,Jl,ih,ci,Vr,oi,Cr,vi,jr,ui,hi],styles:[""]}),e}(),NR=function(){var e=function(){function e(t,n){b(this,e),this.authService=t,this.router=n}return w(e,[{key:"canActivate",value:function(e,t){return!0!==this.authService.isLoggedIn&&this.router.navigate([""]),!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(sP),y.LFG(Au))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),OR=[{path:"",redirectTo:"/sign-up",pathMatch:"full"},{path:"sign-in",component:lP},{path:"sign-up",component:fP},{path:"update-profile",component:dP,canActivate:[NR]},{path:"user-dashboard",component:xP,canActivate:[NR]},{path:"list-item",component:DP,canActivate:[NR]},{path:"list-users",component:BP,canActivate:[NR]},{path:"list-landlords",component:XP,canActivate:[NR]},{path:"list-tenants",component:sR,canActivate:[NR]},{path:"list-super-admin",component:gR,canActivate:[NR]},{path:"list-admin",component:SR,canActivate:[NR]},{path:"bill-pay",component:IR},{path:"**",redirectTo:"/authentication/404"}];function PR(e,t){1&e&&(y.TgZ(0,"div",1),y.TgZ(1,"div",2),y._UZ(2,"div",3),y._UZ(3,"div",4),y.qZA(),y.qZA())}var RR=function(){var e=function(){function e(t,n){var r=this;b(this,e),this.router=t,this.document=n,this.isSpinnerVisible=!0,this.backgroundColor="rgba(0, 115, 170, 0.69)",this.router.events.subscribe(function(e){e instanceof na?r.isSpinnerVisible=!0:(e instanceof ra||e instanceof ia||e instanceof oa)&&(r.isSpinnerVisible=!1)},function(){r.isSpinnerVisible=!1})}return w(e,[{key:"ngOnDestroy",value:function(){this.isSpinnerVisible=!1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Y36(Au),y.Y36(C))},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-spinner"]],inputs:{backgroundColor:"backgroundColor"},decls:1,vars:1,consts:[["class","preloader",4,"ngIf"],[1,"preloader"],[1,"spinner"],[1,"double-bounce1"],[1,"double-bounce2"]],template:function(e,t){1&e&&y.YNc(0,PR,4,0,"div",0),2&e&&y.Q6J("ngIf",t.isSpinnerVisible)},directives:[ee],encapsulation:2}),e}(),DR=function(){var e=function e(){b(this,e),this.title="app"};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=y.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"dash"]],template:function(e,t){1&e&&(y.TgZ(0,"router-outlet",0),y._UZ(1,"app-spinner"),y.qZA())},directives:[Ou,RR],styles:[".dash[_ngcontent-%COMP%]{height:100vh}"]}),e}();function MR(e){return getComputedStyle(e)}function LR(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function FR(e){var t=document.createElement("div");return t.className=e,t}var qR="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function UR(e,t){if(!qR)throw new Error("No element matching method supported");return qR.call(e,t)}function ZR(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function jR(e,t){return Array.prototype.filter.call(e.children,function(e){return UR(e,t)})}var VR=function(e){return"ps__thumb-"+e},BR=function(e){return"ps__rail-"+e},HR=function(e){return"ps--active-"+e},zR=function(e){return"ps--scrolling-"+e},GR={x:null,y:null};function WR(e,t){var n=e.element.classList,r=zR(t);n.contains(r)?clearTimeout(GR[t]):n.add(r)}function KR(e,t){GR[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(zR(t))},e.settings.scrollingThreshold)}var YR=function(e){this.element=e,this.handlers={}},QR={isEmpty:{configurable:!0}};YR.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},YR.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter(function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)})},YR.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},QR.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(YR.prototype,QR);var JR=function(){this.eventElements=[]};function XR(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function $R(e,t,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===t)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,i){var o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=e.element;e.reach[u]=null,h[s]<1&&(e.reach[u]="start"),h[s]>e[o]-e[a]-1&&(e.reach[u]="end"),t&&(h.dispatchEvent(XR("ps-scroll-"+u)),t<0?h.dispatchEvent(XR("ps-scroll-"+c)):t>0&&h.dispatchEvent(XR("ps-scroll-"+l)),r&&function(e,t){WR(e,t),KR(e,t)}(e,u)),e.reach[u]&&(t||i)&&h.dispatchEvent(XR("ps-"+u+"-reach-"+e.reach[u]))}(e,n,o,r,i)}function eD(e){return parseInt(e,10)||0}JR.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new YR(e),this.eventElements.push(t)),t},JR.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},JR.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},JR.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]},JR.prototype.once=function(e,t,n){var r=this.eventElement(e);r.bind(t,function e(i){r.unbind(t,e),n(i)})};var tD={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function nD(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.ceil(r.width),e.containerHeight=Math.ceil(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(jR(t,BR("x")).forEach(function(e){return ZR(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(jR(t,BR("y")).forEach(function(e){return ZR(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=rD(e,eD(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=eD((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=rD(e,eD(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=eD(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);n.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r,LR(t.scrollbarXRail,n);var i={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?i.right=t.isRtl?t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:t.scrollbarYRight-e.scrollLeft:i.left=t.isRtl?t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:t.scrollbarYLeft+e.scrollLeft,LR(t.scrollbarYRail,i),LR(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),LR(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(HR("x")):(t.classList.remove(HR("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(HR("y")):(t.classList.remove(HR("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function rD(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function iD(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],h=e.element,f=null,d=null,p=null;function v(t){t.touches&&t.touches[0]&&(t[i]=t.touches[0].pageY),h[u]=f+p*(t[i]-d),WR(e,c),nD(e),t.stopPropagation(),t.preventDefault()}function g(){KR(e,c),e[l].classList.remove("ps--clicking"),e.event.unbind(e.ownerDocument,"mousemove",v)}function y(t,a){f=h[u],a&&t.touches&&(t[i]=t.touches[0].pageY),d=t[i],p=(e[r]-e[n])/(e[o]-e[s]),a?e.event.bind(e.ownerDocument,"touchmove",v):(e.event.bind(e.ownerDocument,"mousemove",v),e.event.once(e.ownerDocument,"mouseup",g),t.preventDefault()),e[l].classList.add("ps--clicking"),t.stopPropagation()}e.event.bind(e[a],"mousedown",function(e){y(e)}),e.event.bind(e[a],"touchstart",function(e){y(e,!0)})}var oD={"click-rail":function(e){e.event.bind(e.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top;e.element.scrollTop+=(n>e.scrollbarYTop?1:-1)*e.containerHeight,nD(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left;e.element.scrollLeft+=(n>e.scrollbarXLeft?1:-1)*e.containerWidth,nD(e),t.stopPropagation()})},"drag-thumb":function(e){iD(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),iD(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(UR(t,":hover")||UR(e.scrollbarX,":focus")||UR(e.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(UR(r=i,"input,[contenteditable]")||UR(r,"select,[contenteditable]")||UR(r,"textarea,[contenteditable]")||UR(r,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:a=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:o=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:a=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:a=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:a=e.containerHeight;break;case 34:a=-e.containerHeight;break;case 36:a=e.contentHeight;break;case 35:a=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==o||e.settings.suppressScrollY&&0!==a||(t.scrollTop-=a,t.scrollLeft+=o,nD(e),function(n,r){var i=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&n<0||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}})},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),i=r[0],o=r[1];if(!function(e,n,r){if(!tD.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var i=e;i&&i!==t;){if(i.classList.contains("ps__child--consume"))return!0;var o=MR(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&(i.scrollTop>0&&r<0||i.scrollTop<a&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<s&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var a=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(o?t.scrollTop-=o*e.settings.wheelSpeed:t.scrollTop+=i*e.settings.wheelSpeed,a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(i?t.scrollLeft+=i*e.settings.wheelSpeed:t.scrollLeft-=o*e.settings.wheelSpeed,a=!0):(t.scrollTop-=o*e.settings.wheelSpeed,t.scrollLeft+=i*e.settings.wheelSpeed),nD(e),(a=a||function(n,r){var i=Math.floor(t.scrollTop),o=0===t.scrollTop,a=i+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,u=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||u)||!e.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(tD.supportsTouch||tD.supportsIePointer){var t=e.element,n={},r=0,i={},o=null;tD.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",l),e.event.bind(t,"touchend",h)):tD.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",l),e.event.bind(t,"pointerup",h)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",l),e.event.bind(t,"MSPointerUp",h)))}function a(n,r){t.scrollTop-=r,t.scrollLeft-=n,nD(e)}function s(e){return e.targetTouches?e.targetTouches[0]:e}function u(e){return!(e.pointerType&&"pen"===e.pointerType&&0===e.buttons||(!e.targetTouches||1!==e.targetTouches.length)&&(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(u(e)){var t=s(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function l(o){if(u(o)){var c=s(o),l={pageX:c.pageX,pageY:c.pageY},h=l.pageX-n.pageX,f=l.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var i=e;i&&i!==t;){if(i.classList.contains("ps__child--consume"))return!0;var o=MR(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&(i.scrollTop>0&&r<0||i.scrollTop<a&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<s&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,f))return;a(h,f),n=l;var d=(new Date).getTime(),p=d-r;p>0&&(i.x=h/p,i.y=f/p,r=d),function(n,r){var i=Math.floor(t.scrollTop),o=t.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&tD.isChrome}else if(a>s&&(n<0&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!0;return!0}(h,f)&&o.preventDefault()}}function h(){e.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){e.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(a(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)},10))}}},aD=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,a=function(){return e.classList.add("ps--focus")},s=function(){return e.classList.remove("ps--focus")};this.isRtl="rtl"===MR(e).direction,!0===this.isRtl&&e.classList.add("ps__rtl"),this.isNegativeScroll=(o=e.scrollLeft,e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new JR,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=FR(BR("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=FR(VR("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=MR(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=eD(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=eD(u.borderLeftWidth)+eD(u.borderRightWidth),LR(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=eD(u.marginLeft)+eD(u.marginRight),LR(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=FR(BR("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=FR(VR("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=MR(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=eD(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=MR(e);return eD(t.width)+eD(t.paddingLeft)+eD(t.paddingRight)+eD(t.borderLeftWidth)+eD(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=eD(c.borderTopWidth)+eD(c.borderBottomWidth),LR(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=eD(c.marginTop)+eD(c.marginBottom),LR(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return oD[e](n)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(e){return n.onScroll(e)}),nD(this)};aD.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,LR(this.scrollbarXRail,{display:"block"}),LR(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=eD(MR(this.scrollbarXRail).marginLeft)+eD(MR(this.scrollbarXRail).marginRight),this.railYMarginHeight=eD(MR(this.scrollbarYRail).marginTop)+eD(MR(this.scrollbarYRail).marginBottom),LR(this.scrollbarXRail,{display:"none"}),LR(this.scrollbarYRail,{display:"none"}),nD(this),$R(this,"top",0,!1,!0),$R(this,"left",0,!1,!0),LR(this.scrollbarXRail,{display:""}),LR(this.scrollbarYRail,{display:""}))},aD.prototype.onScroll=function(e){this.isAlive&&(nD(this),$R(this,"top",this.element.scrollTop-this.lastScrollTop),$R(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},aD.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),ZR(this.scrollbarX),ZR(this.scrollbarY),ZR(this.scrollbarXRail),ZR(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},aD.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};var sD=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),uD="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,cD="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),lD="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(cD):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},hD=["top","right","bottom","left","width","height","size","weight"],fD="undefined"!=typeof MutationObserver,dD=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){lD(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,20);i=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){uD&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fD?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){uD&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;hD.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),pD=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},vD=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||cD},gD=wD(0,0,0,0);function yD(e){return parseFloat(e)||0}function mD(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+yD(e["border-"+n+"-width"])},0)}var _D="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof vD(e).SVGGraphicsElement}:function(e){return e instanceof vD(e).SVGElement&&"function"==typeof e.getBBox};function wD(e,t,n,r){return{x:e,y:t,width:n,height:r}}var bD=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=wD(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,uD?_D(e)?function(e){var t=e.getBBox();return wD(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return gD;var r=vD(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];t[i]=yD(e["padding-"+i])}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=yD(r.width),u=yD(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=mD(r,"left","right")+o),Math.round(u+a)!==n&&(u-=mD(r,"top","bottom")+a)),!function(e){return e===vD(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return wD(i.left,i.top,s,u)}(e):gD);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),kD=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return pD(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);pD(this,{target:e,contentRect:n})},xD=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new sD,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof vD(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new bD(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof vD(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new kD(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),TD="undefined"!=typeof WeakMap?new WeakMap:new sD,SD=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=dD.getInstance(),r=new xD(t,n,this);TD.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){SD.prototype[e]=function(){var t;return(t=TD.get(this))[e].apply(t,arguments)}});var CD=new y.OlP("PERFECT_SCROLLBAR_CONFIG"),ED=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({imports:[[oe],oe]}),e}();function AD(e){return!!e&&(e instanceof vr.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var ID=function e(){b(this,e)},ND=function(){var e,t=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"getTranslation",value:function(e){return(0,_i.of)({})}}]),n}(ID);return t.\u0275fac=function(n){return(e||(e=y.n5z(t)))(n||t)},t.\u0275prov=y.Yz7({token:t,factory:t.\u0275fac}),t}(),OD=function e(){b(this,e)},PD=function(){var e=function(){function e(){b(this,e)}return w(e,[{key:"handle",value:function(e){return e.key}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}();function RD(e){return null!=e}function DD(e){return e&&"object"==typeof e&&!Array.isArray(e)}function MD(e,t){var n=Object.assign({},e);return DD(e)&&DD(t)&&Object.keys(t).forEach(function(r){DD(t[r])&&r in e?n[r]=MD(e[r],t[r]):Object.assign(n,u({},r,t[r]))}),n}var LD=function e(){b(this,e)},FD=function(){var e,t=function(e){k(n,e);var t=x(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return w(n,[{key:"interpolate",value:function(e,t){return"string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e}},{key:"getValue",value:function(e,t){var n="string"==typeof t?t.split("."):[t];t="";do{t+=n.shift(),!RD(e)||!RD(e[t])||"object"!=typeof e[t]&&n.length?n.length?t+=".":e=void 0:(e=e[t],t="")}while(n.length);return e}},{key:"interpolateFunction",value:function(e,t){return e(t)}},{key:"interpolateString",value:function(e,t){var n=this;return t?e.replace(this.templateMatcher,function(e,r){var i=n.getValue(t,r);return RD(i)?i:e}):e}}]),n}(LD);return t.\u0275fac=function(n){return(e||(e=y.n5z(t)))(n||t)},t.\u0275prov=y.Yz7({token:t,factory:t.\u0275fac}),t}(),qD=function e(){b(this,e)},UD=function(){var e,t=function(e){k(n,e);var t=x(n);function n(){return b(this,n),t.apply(this,arguments)}return w(n,[{key:"compile",value:function(e,t){return e}},{key:"compileTranslations",value:function(e,t){return e}}]),n}(qD);return t.\u0275fac=function(n){return(e||(e=y.n5z(t)))(n||t)},t.\u0275prov=y.Yz7({token:t,factory:t.\u0275fac}),t}(),ZD=function e(){b(this,e),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new y.vpe,this.onLangChange=new y.vpe,this.onDefaultLangChange=new y.vpe},jD=new y.OlP("USE_STORE"),VD=new y.OlP("USE_DEFAULT_LANG"),BD=new y.OlP("DEFAULT_LANGUAGE"),HD=new y.OlP("USE_EXTEND"),zD=function(){var e=function(){function e(t,n,r,i,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8?arguments[8]:void 0;b(this,e),this.store=t,this.currentLoader=n,this.compiler=r,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=s,this.extend=u,this.pending=!1,this._onTranslationChange=new y.vpe,this._onLangChange=new y.vpe,this._onDefaultLangChange=new y.vpe,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}return w(e,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(e){this.isolate?this._currentLang=e:this.store.currentLang=e}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(e){this.isolate?this._langs=e:this.store.langs=e}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(e){this.isolate?this._translations=e:this.store.translations=e}},{key:"setDefaultLang",value:function(e){var t=this;if(e!==this.defaultLang){var n=this.retrieveTranslations(e);void 0!==n?(null==this.defaultLang&&(this.defaultLang=e),n.pipe(Ao(1)).subscribe(function(n){t.changeDefaultLang(e)})):this.changeDefaultLang(e)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(e){var t=this;if(e===this.currentLang)return(0,_i.of)(this.translations[e]);var n=this.retrieveTranslations(e);return void 0!==n?(this.currentLang||(this.currentLang=e),n.pipe(Ao(1)).subscribe(function(n){t.changeLang(e)}),n):(this.changeLang(e),(0,_i.of)(this.translations[e]))}},{key:"retrieveTranslations",value:function(e){var t;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}},{key:"getTranslation",value:function(e){var t=this;this.pending=!0;var n=this.currentLoader.getTranslation(e).pipe(RO(1),Ao(1));return this.loadingTranslations=n.pipe((0,yr.U)(function(n){return t.compiler.compileTranslations(n,e)}),RO(1),Ao(1)),this.loadingTranslations.subscribe({next:function(n){t.translations[e]=t.extend&&t.translations[e]?Object.assign(Object.assign({},n),t.translations[e]):n,t.updateLangs(),t.pending=!1},error:function(e){t.pending=!1}}),n}},{key:"setTranslation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=this.compiler.compileTranslations(t,e),this.translations[e]=(n||this.extend)&&this.translations[e]?MD(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(e){var t=this;e.forEach(function(e){-1===t.langs.indexOf(e)&&t.langs.push(e)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(e,t,n){var r;if(t instanceof Array){var i,o={},a=!1,s=g(t);try{for(s.s();!(i=s.n()).done;){var u=i.value;o[u]=this.getParsedResult(e,u,n),AD(o[u])&&(a=!0)}}catch(l){s.e(l)}finally{s.f()}return a?_r(t.map(function(e){return AD(o[e])?o[e]:(0,_i.of)(o[e])})).pipe((0,yr.U)(function(e){var n={};return e.forEach(function(e,r){n[t[r]]=e}),n})):o}if(e&&(r=this.parser.interpolate(this.parser.getValue(e,t),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),n)),void 0===r){var c={key:t,translateService:this};void 0!==n&&(c.interpolateParams=n),r=this.missingTranslationHandler.handle(c)}return void 0!==r?r:t}},{key:"get",value:function(e,t){var n=this;if(!RD(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(bi(function(r){return AD(r=n.getParsedResult(r,e,t))?r:(0,_i.of)(r)}));var r=this.getParsedResult(this.translations[this.currentLang],e,t);return AD(r)?r:(0,_i.of)(r)}},{key:"getStreamOnTranslationChange",value:function(e,t){var n=this;if(!RD(e)||!e.length)throw new Error('Parameter "key" required');return _o(bo(function(){return n.get(e,t)}),this.onTranslationChange.pipe(To(function(r){var i=n.getParsedResult(r.translations,e,t);return"function"==typeof i.subscribe?i:(0,_i.of)(i)})))}},{key:"stream",value:function(e,t){var n=this;if(!RD(e)||!e.length)throw new Error('Parameter "key" required');return _o(bo(function(){return n.get(e,t)}),this.onLangChange.pipe(To(function(r){var i=n.getParsedResult(r.translations,e,t);return AD(i)?i:(0,_i.of)(i)})))}},{key:"instant",value:function(e,t){if(!RD(e)||!e.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],e,t);if(AD(n)){if(e instanceof Array){var r={};return e.forEach(function(t,n){r[e[n]]=e[n]}),r}return e}return n}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][e]=this.compiler.compile(t,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}},{key:"changeDefaultLang",value:function(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}},{key:"reloadLang",value:function(e){return this.resetLang(e),this.getTranslation(e)}},{key:"resetLang",value:function(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(ZD),y.LFG(ID),y.LFG(qD),y.LFG(LD),y.LFG(OD),y.LFG(VD),y.LFG(jD),y.LFG(HD),y.LFG(BD))},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac}),e}(),GD=function(){var e=function(){function e(){b(this,e)}return w(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:ID,useClass:ND},t.compiler||{provide:qD,useClass:UD},t.parser||{provide:LD,useClass:FD},t.missingTranslationHandler||{provide:OD,useClass:PD},ZD,{provide:jD,useValue:t.isolate},{provide:VD,useValue:t.useDefaultLang},{provide:HD,useValue:t.extend},{provide:BD,useValue:t.defaultLanguage},zD]}}},{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.loader||{provide:ID,useClass:ND},t.compiler||{provide:qD,useClass:UD},t.parser||{provide:LD,useClass:FD},t.missingTranslationHandler||{provide:OD,useClass:PD},{provide:jD,useValue:t.isolate},{provide:VD,useValue:t.useDefaultLang},{provide:HD,useValue:t.extend},{provide:BD,useValue:t.defaultLanguage},zD]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),WD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";b(this,e),this.http=t,this.prefix=n,this.suffix=r}return w(e,[{key:"getTranslation",value:function(e){return this.http.get("".concat(this.prefix).concat(e).concat(this.suffix))}}]),e}(),KD=function(){function e(t,n){b(this,e),this.dueTime=t,this.scheduler=n}return w(e,[{key:"call",value:function(e,t){return t.subscribe(new YD(e,this.dueTime,this.scheduler))}}]),e}(),YD=function(e){k(n,e);var t=x(n);function n(e,r,i){var o;return b(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return w(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(QD,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(ki.L);function QD(e){e.debouncedNext()}function JD(e){var t=function(e){return new vr.y(function(t){var n=function(e){return t.next(e)};n(e.snapshot);var r=e.on("state_changed",n);return e.then(function(e){n(e),t.complete()},function(r){n(e.snapshot),function(e){t.error(e)}(r)}),function(){r()}}).pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fc.P;return function(n){return n.lift(new KD(e,t))}}(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe((0,yr.U)(function(e){return e.bytesTransferred/e.totalBytes*100}))}}}function XD(e,t,n){return{getDownloadURL:function(){return(0,_i.of)(void 0).pipe((0,CO.QV)(t.outsideAngular),To(function(){return e.getDownloadURL()}),n)},getMetadata:function(){return(0,_i.of)(void 0).pipe((0,CO.QV)(t.outsideAngular),To(function(){return e.getMetadata()}),n)},delete:function(){return(0,pr.D)(e.delete())},child:function(r){return XD(e.child(r),t,n)},updateMetadata:function(t){return(0,pr.D)(e.updateMetadata(t))},put:function(t,n){return JD(e.put(t,n))},putString:function(t,n,r){return JD(e.putString(t,n,r))},listAll:function(){return(0,pr.D)(e.listAll())}}}var $D=new y.OlP("angularfire2.storageBucket"),eM=new y.OlP("angularfire2.storage.maxUploadRetryTime"),tM=new y.OlP("angularfire2.storage.maxOperationRetryTime"),nM=function(){var e=function(){function e(t,n,r,i,o,a,s){b(this,e),this.schedulers=new EO.HU(o),this.keepUnstableUntilFirst=(0,EO.ss)(this.schedulers);var u=(0,EO.on)(t,o,n);this.storage=(0,EO.sI)("".concat(u.name,".storage.").concat(r),"AngularFireStorage",u,function(){var e=o.runOutsideAngular(function(){return u.storage(r||void 0)});return a&&e.setMaxUploadRetryTime(a),s&&e.setMaxOperationRetryTime(s),e},[a,s])}return w(e,[{key:"ref",value:function(e){return XD(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(e){return XD(this.storage.refFromURL(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return XD(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.LFG(EO.Dh),y.LFG(EO.xv,8),y.LFG($D,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(eM,8),y.LFG(tM,8))},e.\u0275prov=y.Yz7({factory:function(){return new e(y.LFG(EO.Dh),y.LFG(EO.xv,8),y.LFG($D,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(eM,8),y.LFG(tM,8))},token:e,providedIn:"any"}),e}(),rM=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({}),e}(),iM=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e}),e.\u0275inj=y.cJS({providers:[nM],imports:[rM]}),e}(),oM={apiKey:"AIzaSyBvjct7nOViUo3FuCFA-nV7UBVzerbWdtc",authDomain:"desco-8e1d2.firebaseapp.com",projectId:"desco-8e1d2",storageBucket:"desco-8e1d2.appspot.com",messagingSenderId:"1067554314872",appId:"1:1067554314872:web:f3dfc52ba1c0162e506b8d"};function aM(e){return new WD(e,"./assets/i18n/",".json")}var sM={suppressScrollX:!0,wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20};Cf.default.initializeApp(oM);var uM=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.oAB({type:e,bootstrap:[DR]}),e.\u0275inj=y.cJS({providers:[{provide:CD,useValue:sM}],imports:[[EO.hO.initializeApp(oM),BO,oP,iM,oe,Be,dr,yi,bf.forRoot(),mi,Sh,ro,Th,Hh,Tf,Tf.pick(Sf),ju.forRoot(OR),ED,Bh.forRoot(),ro,ac.forRoot(),GD.forRoot({loader:{provide:ID,useFactory:aM,deps:[Hi]}})]]}),e}();(0,y.G48)(),je().bootstrapModule(uM).catch(function(e){return console.log(e)})},4762:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return h},__createBinding:function(){return f},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__spreadArray:function(){return m},__await:function(){return _},__asyncGenerator:function(){return w},__asyncDelegator:function(){return b},__asyncValues:function(){return k},__makeTemplateObject:function(){return x},__importStar:function(){return S},__importDefault:function(){return C},__classPrivateFieldGet:function(){return E},__classPrivateFieldSet:function(){return A}});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return T(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function A(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}}},function(e){"use strict";e(e.s=8447)}])}();