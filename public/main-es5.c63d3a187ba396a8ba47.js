!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||u(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||a(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}function p(t){var e=_();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){var e="function"==typeof Map?new Map:void 0;return(y=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return m(t,arguments,b(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,t)})(t)}function m(t,e,n){return(m=_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&w(i,n.prototype),i}).apply(null,arguments)}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(self.webpackChunkadminpro_angular=self.webpackChunkadminpro_angular||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},1572:function(t,n,r){"use strict";r.d(n,{deG:function(){return vn},tb:function(){return rl},AFp:function(){return Xc},ip1:function(){return Qc},CZH:function(){return Jc},hGG:function(){return Yl},z2F:function(){return ql},sBO:function(){return Wu},Sil:function(){return pl},_Vd:function(){return yu},EJc:function(){return al},SBq:function(){return bu},qLn:function(){return Lr},vpe:function(){return Oc},gxx:function(){return Mo},tBr:function(){return Mn},XFs:function(){return Z},OlP:function(){return pn},zs3:function(){return Qo},ZZ4:function(){return ju},aQg:function(){return Bu},soG:function(){return ol},YKP:function(){return nc},v3s:function(){return Vl},h0i:function(){return ec},PXZ:function(){return Dl},R0b:function(){return yl},FiY:function(){return Fn},Lbi:function(){return nl},g9A:function(){return el},Qsj:function(){return xu},FYo:function(){return Tu},JOm:function(){return Br},Tiy:function(){return Eu},q3G:function(){return Er},tp0:function(){return Un},EAV:function(){return Hl},Rgc:function(){return Xu},dDg:function(){return xl},DyG:function(){return gn},q4F:function(){return Iu},GfV:function(){return Su},s_b:function(){return ic},ifc:function(){return K},eFA:function(){return Ll},G48:function(){return Pl},Gpc:function(){return C},X6Q:function(){return Nl},_c5:function(){return Wl},VLi:function(){return El},c2e:function(){return il},zSh:function(){return Uo},wAp:function(){return vs},vHH:function(){return I},EiD:function(){return xr},mCW:function(){return ar},qzn:function(){return Kn},JVY:function(){return Qn},pB0:function(){return tr},eBb:function(){return Xn},L6k:function(){return Jn},LAX:function(){return $n},cg1:function(){return fs},Tjo:function(){return Gl},kL8:function(){return ds},yhl:function(){return Yn},dqk:function(){return $},sIi:function(){return aa},CqO:function(){return Ea},QGY:function(){return xa},F4k:function(){return Ca},RDi:function(){return Lt},AaK:function(){return k},z3N:function(){return Wn},qOj:function(){return Xo},TTD:function(){return Ot},_Bn:function(){return pu},xp6:function(){return Mi},uIk:function(){return ha},Tol:function(){return Ha},DjV:function(){return as},ekj:function(){return Za},Suo:function(){return Hc},Xpm:function(){return lt},lG2:function(){return yt},Yz7:function(){return R},cJS:function(){return D},oAB:function(){return pt},Yjl:function(){return mt},Y36:function(){return va},_UZ:function(){return wa},BQk:function(){return ka},ynx:function(){return ba},qZA:function(){return _a},TgZ:function(){return ma},EpF:function(){return Ta},n5z:function(){return ln},Ikx:function(){return ss},SDv:function(){return iu},QtT:function(){return au},pQV:function(){return ou},LFG:function(){return Nn},$8M:function(){return fn},NdJ:function(){return Sa},CRH:function(){return zc},oxw:function(){return Oa},ALo:function(){return xc},lcZ:function(){return Cc},xi3:function(){return Ec},Hsn:function(){return Ra},F$t:function(){return Pa},Q6J:function(){return ga},s9C:function(){return Da},MGl:function(){return La},VKq:function(){return mc},WLB:function(){return _c},kEZ:function(){return wc},iGM:function(){return Bc},MAs:function(){return pa},evT:function(){return qr},CHM:function(){return te},oJD:function(){return Sr},LSH:function(){return Ir},kYT:function(){return vt},Udp:function(){return Ba},d8E:function(){return us},YNc:function(){return da},W1O:function(){return Yc},_uU:function(){return ns},Oqu:function(){return rs},hij:function(){return is},AsE:function(){return os},Gf:function(){return Zc}});var a=r(5959),u=r(7570),c=r(8318),l=r(1906),v=r(1055);function _(t){for(var e in t)if(t[e]===_)return e;throw Error("Could not find renamed property on target object.")}function w(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var x=_({__forward_ref__:_});function C(t){return t.__forward_ref__=C,t.toString=function(){return k(this())},t}function E(t){return S(t)?t():t}function S(t){return"function"==typeof t&&t.hasOwnProperty(x)&&t.__forward_ref__===C}var I=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(y(Error));function A(t){return"string"==typeof t?t:null==t?"":String(t)}function O(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():A(t)}function N(t,e){var n=e?" in ".concat(e):"";throw new I("201","No provider for ".concat(O(t)," found").concat(n))}function P(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+(null==r?"":" [Expected=> ".concat(n," ").concat(r," ").concat(e," <=Actual]")))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function D(t){return{providers:t.providers||[],imports:t.imports||[]}}function L(t){return M(t,q)||M(t,V)}function M(t,e){return t.hasOwnProperty(e)?t[e]:null}function F(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(B))?t[j]:null}var U,q=_({"\u0275prov":_}),j=_({"\u0275inj":_}),V=_({ngInjectableDef:_}),B=_({ngInjectorDef:_}),Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function H(t){var e=U;return U=t,e}function z(t,e,n){var r=L(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==e?e:void N(k(t),"Injector")}function G(t){return{toString:t}.toString()}var W=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Y="undefined"!=typeof globalThis&&globalThis,Q="undefined"!=typeof window&&window,J="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,X="undefined"!=typeof global&&global,$=Y||X||Q||J,tt={},et=[],nt=_({"\u0275cmp":_}),rt=_({"\u0275dir":_}),it=_({"\u0275pipe":_}),ot=_({"\u0275mod":_}),at=_({"\u0275loc":_}),st=_({"\u0275fac":_}),ut=_({__NG_ELEMENT_ID__:_}),ct=0;function lt(t){return G(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===W.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,id:"c",styles:t.styles||et,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ct++,n.inputs=gt(t.inputs,e),n.outputs=gt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(ht)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ft)}:null,n})}function ht(t){return _t(t)||function(t){return t[rt]||null}(t)}function ft(t){return function(t){return t[it]||null}(t)}var dt={};function pt(t){var e={type:t.type,bootstrap:t.bootstrap||et,declarations:t.declarations||et,imports:t.imports||et,exports:t.exports||et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&G(function(){dt[t.id]=t.type}),e}function vt(t,e){return G(function(){var n=wt(t,!0);n.declarations=e.declarations||et,n.imports=e.imports||et,n.exports=e.exports||et})}function gt(t,e){if(null==t)return tt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var yt=lt;function mt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _t(t){return t[nt]||null}function wt(t,e){var n=t[ot]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function bt(t){return Array.isArray(t)&&"object"==typeof t[1]}function kt(t){return Array.isArray(t)&&!0===t[1]}function Tt(t){return 0!=(8&t.flags)}function xt(t){return 2==(2&t.flags)}function Ct(t){return 1==(1&t.flags)}function Et(t){return null!==t.template}function St(t,e){return t.hasOwnProperty(st)?t[st]:null}var It,At=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return h(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Ot(){return Nt}function Nt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rt),Pt}function Pt(){var t=Dt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===tt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Rt(t,e,n,r){var i=Dt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:tt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new At(u&&u.currentValue,e,a===tt),t[r]=e}function Dt(t){return t.__ngSimpleChanges__||null}function Lt(t){It=t}function Mt(){return void 0!==It?It:"undefined"!=typeof document?document:void 0}function Ft(t){return!!t.listen}Ot.ngInherit=!0;var Ut={createRenderer:function(t,e){return Mt()}};function qt(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return qt(e[t])}function Vt(t,e){return qt(e[t.index])}function Bt(t,e){return t.data[e]}function Zt(t,e){return t[e]}function Ht(t,e){var n=e[t];return bt(n)?n:n[0]}function zt(t){return 4==(4&t[2])}function Gt(t){return 128==(128&t[2])}function Wt(t,e){return null==e?null:t[e]}function Kt(t){t[18]=0}function Yt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Qt={lFrame:ke(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jt(){return Qt.bindingsEnabled}function Xt(){return Qt.lFrame.lView}function $t(){return Qt.lFrame.tView}function te(t){return Qt.lFrame.contextLView=t,t[8]}function ee(){for(var t=ne();null!==t&&64===t.type;)t=t.parent;return t}function ne(){return Qt.lFrame.currentTNode}function re(){var t=Qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ie(t,e){var n=Qt.lFrame;n.currentTNode=t,n.isParent=e}function oe(){return Qt.lFrame.isParent}function ae(){Qt.lFrame.isParent=!1}function se(){return Qt.isInCheckNoChangesMode}function ue(t){Qt.isInCheckNoChangesMode=t}function ce(){var t=Qt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function le(){return Qt.lFrame.bindingIndex}function he(){return Qt.lFrame.bindingIndex++}function fe(t){var e=Qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function de(t){Qt.lFrame.inI18n=t}function pe(t){Qt.lFrame.currentDirectiveIndex=t}function ve(t){var e=Qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ge(){return Qt.lFrame.currentQueryIndex}function ye(t){Qt.lFrame.currentQueryIndex=t}function me(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function _e(t,e,n){if(n&Z.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&Z.Host||(r=me(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Qt.lFrame=be();return o.currentTNode=e,o.lView=t,!0}function we(t){var e=be(),n=t[1];Qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function be(){var t=Qt.lFrame,e=null===t?null:t.child;return null===e?ke(t):e}function ke(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Te(){var t=Qt.lFrame;return Qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xe=Te;function Ce(){var t=Te();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ee(){return Qt.lFrame.selectedIndex}function Se(t){Qt.lFrame.selectedIndex=t}function Ie(){var t=Qt.lFrame;return Bt(t.tView,t.selectedIndex)}function Ae(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Oe(t,e,n){Re(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&Re(t,e,n,r)}function Pe(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Re(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(De(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function De(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Le=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Me(t,e,n){for(var r=Ft(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Ue(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Fe(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function qe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function je(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ve(t){return-1!==t}function Be(t){return 32767&t}function Ze(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var He=!0;function ze(t){var e=He;return He=t,e}var Ge=0;function We(t,e){var n=Ye(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ke(r.data,t),Ke(e,null),Ke(r.blueprint,null));var i=Qe(t,e),o=t.injectorIndex;if(Ve(i))for(var a=Be(i),s=Ze(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Ke(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ye(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Je(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ut)&&(r=n[ut]),null==r&&(r=n[ut]=Ge++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Xe(t,e,n){if(n&Z.Optional)return t;N(e,"NodeInjector")}function $e(t,e,n,r){if(n&Z.Optional&&void 0===r&&(r=null),0==(n&(Z.Self|Z.Host))){var i=t[9],o=H(void 0);try{return i?i.get(e,r,n&Z.Optional):z(e,r,n&Z.Optional)}finally{H(o)}}return Xe(r,e,n)}function tn(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Z.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ut)?t[ut]:void 0;return"number"==typeof e?e>=0?255&e:nn:e}(n);if("function"==typeof o){if(!_e(e,t,r))return r&Z.Host?Xe(i,n,r):$e(e,n,r,i);try{var a=o(r);if(null!=a||r&Z.Optional)return a;N(n)}finally{xe()}}else if("number"==typeof o){var s=null,u=Ye(t,e),c=-1,l=r&Z.Host?e[16][6]:null;for((-1===u||r&Z.SkipSelf)&&(-1!==(c=-1===u?Qe(t,e):e[u+8])&&un(r,!1)?(s=e[1],u=Be(c),e=Ze(c,e)):u=-1);-1!==u;){var h=e[1];if(sn(o,u,h.data)){var f=rn(u,e,n,s,r,l);if(f!==en)return f}-1!==(c=e[u+8])&&un(r,e[1].data[u+8]===l)&&sn(o,u,e)?(s=h,u=Be(c),e=Ze(c,e)):u=-1}}}return $e(e,n,r,i)}var en={};function nn(){return new cn(ee(),Xt())}function rn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=on(s,a,n,null==r?xt(s)&&He:r!=a&&0!=(3&s.type),i&Z.Host&&o===s);return null!==u?an(e,a,u,s):en}function on(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Et(d)&&d.type===n)return u}return null}function an(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Le){var a=i;a.resolving&&function(t,e){throw new I("200","Circular dependency in DI detected for ".concat(t))}(O(o[n]));var s=ze(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?H(a.injectImpl):null;_e(t,r,Z.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Nt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&H(u),ze(s),a.resolving=!1,xe()}}return i}function sn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function un(t,e){return!(t&Z.Self||t&Z.Host&&e)}var cn=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return h(t,[{key:"get",value:function(t,e){return tn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ln(t){return G(function(){for(var e=t.prototype.constructor,n=e[st]||hn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[st]||hn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function hn(t){return S(t)?function(){var e=hn(E(t));return e&&e()}:St(t)}function fn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Fe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ee(),t)}function dn(t,e,n){return G(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=m(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var pn=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return h(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),vn=new pn("AnalyzeForEntryComponents"),gn=Function;function yn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),yn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(function(t){return Array.isArray(t)?mn(t,e):e(t)})}function _n(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function wn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function kn(t,e,n){var r=xn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Tn(t,e){var n=xn(t,e);if(n>=0)return t[1|n]}function xn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Cn,En={},Sn=/\n/gm,In=_({provide:String,useValue:_});function An(t){var e=Cn;return Cn=t,e}function On(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.Default;if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?z(t,void 0,e):Cn.get(t,e&Z.Optional?null:void 0,e)}function Nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.Default;return(U||On)(E(t),e)}function Pn(t){for(var e=[],n=0;n<t.length;n++){var r=E(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Z.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Nn(i,o))}else e.push(Nn(r))}return e}function Rn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Dn,Ln,Mn=Rn(dn("Inject",function(t){return{token:t}}),-1),Fn=Rn(dn("Optional"),8),Un=Rn(dn("SkipSelf"),4);function qn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,$.trustedTypes))try{Dn=$.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}function jn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,$.trustedTypes))try{Ln=$.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}var Vn=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return h(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Bn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Vn),Zn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Vn),Hn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Vn),zn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Vn),Gn=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Vn);function Wn(t){return t instanceof Vn?t.changingThisBreaksApplicationSecurity:t}function Kn(t,e){var n=Yn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Yn(t){return t instanceof Vn&&t.getTypeName()||null}function Qn(t){return new Bn(t)}function Jn(t){return new Zn(t)}function Xn(t){return new Hn(t)}function $n(t){return new zn(t)}function tr(t){return new Gn(t)}function er(t){var e=new rr(t);return function(){try{return!!(new window.DOMParser).parseFromString(qn(""),"text/html")}catch(t){return!1}}()?new nr(e):e}var nr=function(){function t(e){f(this,t),this.inertDocumentHelper=e}return h(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(qn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),rr=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return h(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=qn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),ir=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,or=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ar(t){return(t=String(t)).match(ir)||t.match(or)?t:"unsafe:"+t}function sr(t){return(t=String(t)).split(",").map(function(t){return ar(t.trim())}).join(", ")}function ur(t){var e,n={},r=s(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function cr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var lr,hr=ur("area,br,col,hr,img,wbr"),fr=ur("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dr=ur("rp,rt"),pr=cr(dr,fr),vr=cr(hr,cr(fr,ur("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(dr,ur("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pr),gr=ur("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yr=ur("srcset"),mr=cr(gr,yr,ur("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ur("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_r=ur("script,style,template"),wr=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return h(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!vr.hasOwnProperty(e))return this.sanitizedSomething=!0,!_r.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),o=i.name,a=o.toLowerCase();if(mr.hasOwnProperty(a)){var s=i.value;gr[a]&&(s=ar(s)),yr[a]&&(s=sr(s)),this.buf.push(" ",o,'="',Tr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();vr.hasOwnProperty(e)&&!hr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Tr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),br=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kr=/([^\#-~ |!])/g;function Tr(t){return t.replace(/&/g,"&amp;").replace(br,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(kr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xr(t,e){var n=null;try{lr=lr||er(t);var r=e?String(e):"";n=lr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=lr.getInertBodyElement(r)}while(r!==o);return qn((new wr).sanitizeChildren(Cr(n)||n))}finally{if(n)for(var a=Cr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Sr(t){var e=Ar();return e?jn(e.sanitize(Er.HTML,t)||""):Kn(t,"HTML")?jn(Wn(t)):xr(Mt(),A(t))}function Ir(t){var e=Ar();return e?e.sanitize(Er.URL,t)||"":Kn(t,"URL")?Wn(t):ar(A(t))}function Ar(){var t=Xt();return t&&t[12]}function Or(t,e){t.__ngContext__=e}function Nr(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Pr(t){return t.ngDebugContext}function Rr(t){return t.ngOriginalError}function Dr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Lr=function(){function t(){f(this,t),this._console=console}return h(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Dr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Pr(t)?Pr(t):this._findContext(Rr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Rr(t);e&&Rr(e);)e=Rr(e);return e}}]),t}(),Mr=/^>|^->|<!--|-->|--!>|<!-$/g,Fr=/(<|>)/,Ur=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($);function qr(t){return t.ownerDocument}function jr(t){return t instanceof Function?t():t}var Vr,Br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Zr(t,e){return Vr(t,e)}function Hr(t){var e=t[3];return kt(e)?e[3]:e}function zr(t){return Wr(t[13])}function Gr(t){return Wr(t[4])}function Wr(t){for(;null!==t&&!kt(t);)t=t[4];return t}function Kr(t,e,n,r,i){if(null!=r){var o,a=!1;kt(r)?o=r:bt(r)&&(a=!0,r=r[0]);var s=qt(r);0===t&&null!==n?null==i?ai(e,n,s):oi(e,n,s,i||null,!0):1===t&&null!==n?oi(e,n,s,i||null,!0):2===t?mi(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==qt(n)&&Kr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];wi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Yr(t,e){return Ft(t)?t.createText(e):t.createTextNode(e)}function Qr(t,e,n){Ft(t)?t.setValue(e,n):e.textContent=n}function Jr(t,e){return t.createComment(function(t){return t.replace(Mr,function(t){return t.replace(Fr,"\u200b$1\u200b")})}(e))}function Xr(t,e,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function $r(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Yt(i,-1)),n.splice(r,1)}function ti(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&$r(o,i),e>0&&(t[r-1][4]=i[4]);var a=wn(t,10+e);wi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function ei(t,e){if(!(256&e[2])){var n=e[11];Ft(n)&&n.destroyNode&&wi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ni(t[1],t);for(;e;){var n=null;if(bt(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)bt(e)&&ni(e[1],e),e=e[3];null===e&&(e=t),bt(e)&&ni(e[1],e),n=e&&e[4]}e=n}}(e)}}function ni(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Le)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):qt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Ft(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&kt(e[3])){n!==e[3]&&$r(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function ri(t,e,n){return ii(t,e.parent,n)}function ii(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===K.None||i===K.Emulated)return null}return Vt(r,n)}function oi(t,e,n,r,i){Ft(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function ai(t,e,n){Ft(t)?t.appendChild(e,n):e.appendChild(n)}function si(t,e,n,r,i){null!==r?oi(t,e,n,r,i):ai(t,e,n)}function ui(t,e){return Ft(t)?t.parentNode(e):e.parentNode}function ci(t,e,n){return fi(t,e,n)}function li(t,e,n){return 40&t.type?Vt(t,n):null}var hi,fi=li;function di(t,e){fi=t,hi=e}function pi(t,e,n,r){var i=ri(t,r,e),o=e[11],a=ci(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)si(o,i,n[s],a,!1);else si(o,i,n,a,!1);void 0!==hi&&hi(o,r,e,n,i)}function vi(t,e){if(null!==e){var n=e.type;if(3&n)return Vt(e,t);if(4&n)return yi(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return vi(t,r);var i=t[e.index];return kt(i)?yi(-1,i):qt(i)}if(32&n)return Zr(e,t)()||qt(t[e.index]);var o=gi(t,e);return null!==o?Array.isArray(o)?o[0]:vi(Hr(t[16]),o):vi(t,e.next)}return null}function gi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function yi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return vi(r,i)}return e[7]}function mi(t,e,n){var r=ui(t,e);r&&function(t,e,n,r){Ft(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function _i(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Or(qt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)_i(t,e,n.child,r,i,o,!1),Kr(e,t,i,s,o);else if(32&u){for(var c=Zr(n,r),l=void 0;l=c();)Kr(e,t,i,l,o);Kr(e,t,i,s,o)}else 16&u?bi(t,e,r,n,i,o):Kr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function wi(t,e,n,r,i,o){_i(n,r,t.firstChild,e,i,o,!1)}function bi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Kr(e,t,i,s[u],o);else _i(t,e,s,a[3],i,o,!0)}function ki(t,e,n){Ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ti(t,e,n){Ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function xi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ci(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==xi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ei(t){return 4===t.type&&"ng-template"!==t.value}function Si(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Ii(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fe(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Si(t,u,n)||""===u&&1===e.length){if(Ai(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Ci(t.attrs,c,n)){if(Ai(r))return!1;a=!0}continue}var l=Oi(8&r?"class":u,i,Ei(t),n);if(-1===l){if(Ai(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==xi(f,c,0)||2&r&&c!==h){if(Ai(r))return!1;a=!0}}}}else{if(!a&&!Ai(r)&&!Ai(u))return!1;if(a&&Ai(u))continue;a=!1,r=u|1&r}}return Ai(r)||a}function Ai(t){return 0==(1&t)}function Oi(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ni(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Ii(t,e[r],n))return!0;return!1}function Pi(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ri(t,e){return t?":not("+e.trim()+")":e}function Di(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ai(a)||(e+=Ri(o,i),i=""),r=a,o=o||!Ai(r);n++}return""!==i&&(e+=Ri(o,i)),e}var Li={};function Mi(t){Fi($t(),Xt(),Ee()+t,se())}function Fi(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Oe(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Ne(e,o,0,n)}Se(n)}function Ui(t,e){return t<<17|e<<2}function qi(t){return t>>17&32767}function ji(t){return 2|t}function Vi(t){return(131068&t)>>2}function Bi(t,e){return-131069&t|e<<2}function Zi(t){return 1|t}function Hi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];ye(i),a.contentQueries(2,e[o],o)}}}function zi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Kt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Gi(t,e,n,r,i){var o=t.data[e];if(null===o)o=Wi(t,e,n,r,i),Qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;var a=re();o.injectorIndex=null===a?-1:a.injectorIndex}return ie(o,!0),o}function Wi(t,e,n,r,i){var o=ne(),a=oe(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}function Ki(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Yi(t,e,n){we(e);try{var r=t.viewQuery;null!==r&&So(1,r,n);var i=t.template;null!==i&&Xi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hi(t,e),t.staticViewQueries&&So(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)ko(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ce()}}function Qi(t,e,n,r){var i=e[2];if(256!=(256&i)){we(e);var o=se();try{Kt(e),Qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xi(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Oe(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Ne(e,u,0,null),Pe(e,0)}if(function(t){for(var e=zr(t);null!==e;e=Gr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Yt(o,1),i[2]|=1024}}(e),function(t){for(var e=zr(t);null!==e;e=Gr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Gt(r)&&Qi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Hi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Oe(e,c)}else{var l=t.contentHooks;null!==l&&Ne(e,l,1),Pe(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Se(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Qt.lFrame).bindingIndex=i.bindingRootIndex=n,pe(r),l(2,e[u])}}}finally{Se(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)wo(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&So(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Oe(e,d)}else{var p=t.viewHooks;null!==p&&Ne(e,p,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Yt(e[3],-1))}finally{Ce()}}}function Ji(t,e,n,r){var i=e[10],o=!se(),a=zt(e);try{o&&!a&&i.begin&&i.begin(),a&&Yi(t,e,r),Qi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Xi(t,e,n,r,i){var o=Ee(),a=2&r;try{Se(-1),a&&e.length>20&&Fi(t,e,20,se()),n(r,i)}finally{Se(o)}}function $i(t,e,n){if(Tt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function to(t,e,n){Jt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||We(n,e),Or(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Et(u);c&&vo(e,n,u);var l=an(e,t,s,n);Or(l,e),null!==a&&yo(0,s-i,l,u,0,a),c&&(Ht(n.index,e)[8]=l)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Qt.lFrame.currentDirectiveIndex;try{Se(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];pe(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||co(u,c)}}finally{Se(-1),pe(a)}}(t,e,n))}function eo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function no(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ro(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ro(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Li);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function io(t,e,n,r){var i=Ao(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Oo(t).push(r,i.length-1))}function oo(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ao(t,e,n,r,i,o,a,s){var u,c,l=Vt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(Po(t,n,u,r,i),xt(e)&&function(t,e){var n=Ht(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Ft(o)?o.setProperty(l,r,i):Ue(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function so(t,e,n,r){var i=!1;if(Jt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ni(n,a.selectors,!1)&&(i||(i=[]),Je(We(n,e),t,a.type),Et(a)?(lo(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,fo(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ki(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=qe(n.mergedAttrs,d.hostAttrs),po(t,n,e,h,d),ho(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Ei(e)?null:mo(l,i);o.push(h),a=oo(l,u,a),s=oo(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new I("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=qe(n.mergedAttrs,n.attrs),i}function uo(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function co(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function lo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ho(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Et(e)&&(n[""]=t)}}function fo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function po(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=St(i.type)),a=new Le(o,Et(i),null);t.blueprint[r]=a,n[r]=a,uo(t,e,0,r,Ki(t,n,i.hostVars,Li),i)}function vo(t,e,n){var r=Vt(e,t),i=no(n),o=t[10],a=To(t,zi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function go(t,e,n,r,i,o,a){if(null==o)Ft(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?A(o):a(o,r||"",i);Ft(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}function yo(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function mo(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function _o(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function wo(t,e){var n=Ht(e,t);if(Gt(n)){var r=n[1];80&n[2]?Qi(r,n,r.template,n[8]):n[5]>0&&bo(n)}}function bo(t){for(var e=zr(t);null!==e;e=Gr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Qi(i,r,i.template,r[8])}else r[5]>0&&bo(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Ht(o[a],t);Gt(s)&&s[5]>0&&bo(s)}}function ko(t,e){var n=Ht(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Yi(r,n,n[8])}function To(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xo(t){for(;t;){t[2]|=64;var e=Hr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Co(t,e,n){var r=e[10];r.begin&&r.begin();try{Qi(t,e,t.template,n)}catch(i){throw No(e,i),i}finally{r.end&&r.end()}}function Eo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Nr(n),i=r[1];Ji(i,r,i.template,n)}}(t[8])}function So(t,e,n){ye(0),e(t,n)}var Io=Promise.resolve(null);function Ao(t){return t[7]||(t[7]=[])}function Oo(t){return t.cleanup||(t.cleanup=[])}function No(t,e){var n=t[9],r=n?n.get(Lr,null):null;r&&r.handleError(e)}function Po(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ro(t,e,n){var r=jt(e,t);Qr(t[11],r,n)}function Do(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=T(i,s):2==o&&(r=T(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Lo,Mo=new pn("INJECTOR",-1),Fo=function(){function t(){f(this,t)}return h(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En;if(e===En){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Uo=new pn("Set Injector scope."),qo={},jo={};function Vo(){return void 0===Lo&&(Lo=new Fo),Lo}function Bo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Zo(t,n,e||Vo(),r)}var Zo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&mn(n,function(t){return i.processProvider(t,e,n)}),mn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(Mo,Go(void 0,this));var s=this.records.get(Uo);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return h(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.Default;this.assertNotDestroyed();var r,i=An(this);try{if(!(n&Z.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof pn)&&L(t);o=a&&this.injectableDefInScope(a)?Go(Ho(t),qo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Z.Self?Vo():this.parent).get(t,e=n&Z.Optional&&e===En?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Sn,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{An(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=E(t)))return!1;var i=F(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{mn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;mn(i,function(t){return r.processProvider(t,n,i||et)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=St(a)||function(){return new a};this.records.set(a,Go(h,qo));var f=i.providers;if(null!=f&&!s){var d=t;mn(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=Ko(t=E(t))?t:E(t&&t.provide),i=function(t,e,n){return Wo(t)?Go(void 0,t.useValue):Go(zo(t),qo)}(t);if(Ko(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Go(void 0,qo,!0)).factory=function(){return Pn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===qo&&(e.value=jo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var e=E(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}]),t}();function Ho(t){var e=L(t),n=null!==e?e.factory:St(t);if(null!==n)return n;if(t instanceof pn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=bn(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[q]||t[V]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function zo(t,e,n){var r,i;if(Ko(t)){var a=E(t);return St(a)||Ho(a)}if(Wo(t))r=function(){return E(t.useValue)};else if((i=t)&&i.useFactory)r=function(){return t.useFactory.apply(t,o(Pn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Nn(E(t.useExisting))};else{var s=E(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return St(s)||Ho(s);r=function(){return m(s,o(Pn(t.deps)))}}return r}function Go(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Wo(t){return null!==t&&"object"==typeof t&&In in t}function Ko(t){return"function"==typeof t}var Yo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Bo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Qo=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Yo(t,e,""):Yo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=En,t.NULL=new Fo,t.\u0275prov=R({token:t,providedIn:"any",factory:function(){return Nn(Mo)}}),t.__NG_ELEMENT_ID__=-1,t}();function Jo(t,e){Ae(Nr(t)[1],ee())}function Xo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Et(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=$o(t.inputs),o.declaredInputs=$o(t.declaredInputs),o.outputs=$o(t.outputs);var a=i.hostBindings;a&&na(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&ta(t,s),u&&ea(t,u),w(t.inputs,i.inputs),w(t.declaredInputs,i.declaredInputs),w(t.outputs,i.outputs),Et(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Xo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qe(i.hostAttrs,n=qe(n,i.hostAttrs))}}(r)}function $o(t){return t===tt?{}:t===et?[]:t}function ta(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ea(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function na(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ra=null;function ia(){if(!ra){var t=$.Symbol;if(t&&t.iterator)ra=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ra=r)}}return ra}var oa=function(){function t(e){f(this,t),this.wrapped=e}return h(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function aa(t){return!!sa(t)&&(Array.isArray(t)||!(t instanceof Map)&&ia()in t)}function sa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ua(t,e,n){return t[e]=n}function ca(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function la(t,e,n,r){var i=ca(t,e,n);return ca(t,e+1,r)||i}function ha(t,e,n,r){var i=Xt();return ca(i,he(),e)&&($t(),function(t,e,n,r,i,o){var a=Vt(t,e);go(e[11],a,o,t.value,n,r,i)}(Ie(),i,t,e,n,r)),ha}function fa(t,e,n,r){return ca(t,he(),n)?e+A(n)+r:Li}function da(t,e,n,r,i,o,a,s){var u=Xt(),c=$t(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Gi(e,t,4,a||null,Wt(c,s));so(e,n,l,Wt(c,u)),Ae(e,l);var h=l.tViews=ro(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ie(h,!1);var f=u[11].createComment("");pi(c,u,f,h),Or(f,u),To(u,u[l]=_o(f,u,f,h)),Ct(h)&&to(c,u,h),null!=a&&eo(u,h,s)}function pa(t){return Zt(Qt.lFrame.contextLView,20+t)}function va(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.Default,n=Xt();return null===n?Nn(t,e):tn(ee(),n,E(t),e)}function ga(t,e,n){var r=Xt();return ca(r,he(),e)&&ao($t(),Ie(),r,t,e,r[11],n,!1),ga}function ya(t,e,n,r,i){var o=i?"class":"style";Po(t,n,e.inputs[o],o,r)}function ma(t,e,n,r){var i=Xt(),o=$t(),a=20+t,s=i[11],u=i[a]=Xr(s,e,Qt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Gi(e,t,2,i,Wt(s,o));return so(e,n,u,Wt(s,a)),null!==u.attrs&&Do(u,u.attrs,!1),null!==u.mergedAttrs&&Do(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ie(c,!0);var l=c.mergedAttrs;null!==l&&Me(s,u,l);var h=c.classes;null!==h&&Ti(s,u,h);var f=c.styles;null!==f&&ki(s,u,f),64!=(64&c.flags)&&pi(o,i,u,c),0===Qt.lFrame.elementDepthCount&&Or(u,i),Qt.lFrame.elementDepthCount++,Ct(c)&&(to(o,i,c),$i(o,c,i)),null!==r&&eo(i,c)}function _a(){var t=ee();oe()?ae():ie(t=t.parent,!1);var e=t;Qt.lFrame.elementDepthCount--;var n=$t();n.firstCreatePass&&(Ae(n,t),Tt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ya(n,e,Xt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ya(n,e,Xt(),e.stylesWithoutHost,!1)}function wa(t,e,n,r){ma(t,e,n,r),_a()}function ba(t,e,n){var r=Xt(),i=$t(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Wt(o,r),s=Gi(e,t,8,"ng-container",a);return null!==a&&Do(s,a,!0),so(e,n,s,Wt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ie(a,!0);var s=r[o]=r[11].createComment("");pi(i,r,s,a),Or(s,r),Ct(a)&&(to(i,r,a),$i(i,a,r)),null!=n&&eo(r,a)}function ka(){var t=ee(),e=$t();oe()?ae():ie(t=t.parent,!1),e.firstCreatePass&&(Ae(e,t),Tt(t)&&e.queries.elementEnd(t))}function Ta(){return Xt()}function xa(t){return!!t&&"function"==typeof t.then}function Ca(t){return!!t&&"function"==typeof t.subscribe}var Ea=Ca;function Sa(t,e,n,r){var i=Xt(),o=$t(),a=ee();return function(t,e,n,r,i,o,a,s){var u=Ct(r),c=t.firstCreatePass&&Oo(t),l=Ao(e),h=!0;if(3&r.type||s){var f=Vt(r,e),d=s?s(f):f,p=l.length,v=s?function(t){return s(qt(t[r.index]))}:r.index;if(Ft(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=Aa(r,e,0,o,!1);var y=n.listen(d,i,o);l.push(o,y),c&&c.push(i,v,p,p+1)}}else o=Aa(r,e,0,o,!0),d.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,p,a)}else o=Aa(r,e,0,o,!1);var m,_=r.outputs;if(h&&null!==_&&(m=_[i])){var w=m.length;if(w)for(var b=0;b<w;b+=2){var k=e[m[b]][m[b+1]].subscribe(o),T=l.length;l.push(o,k),c&&c.push(i,r.index,T,-(T+1))}}}(o,i,i[11],a,t,e,!!n,r),Sa}function Ia(t,e,n,r){try{return!1!==n(r)}catch(i){return No(t,i),!1}}function Aa(t,e,n,r,i){return function n(o){if(o===Function)return r;var a=2&t.flags?Ht(t.index,e):e;0==(32&e[2])&&xo(a);for(var s=Ia(e,0,r,o),u=n.__ngNextListenerFn__;u;)s=Ia(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Oa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Qt.lFrame.contextLView))[8]}(t)}function Na(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Ni(t,o,!0):Pi(r,o))return i}else n=i}return n}function Pa(t){var e=Xt()[16][6];if(!e.projection)for(var n=e.projection=bn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Na(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Ra(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Xt(),i=$t(),o=Gi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),ae(),64!=(64&o.flags)&&function(t,e,n){bi(e[11],0,e,n,ri(t,n,e),ci(n.parent||e[6],n,e))}(i,r,o)}function Da(t,e,n){return La(t,"",e,"",n),Da}function La(t,e,n,r,i){var o=Xt(),a=fa(o,e,n,r);return a!==Li&&ao($t(),Ie(),o,t,a,o[11],i,!1),La}function Ma(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?qi(o):Vi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Fa(t[s],e)&&(u=!0,t[s+1]=r?Zi(c):ji(c)),s=r?qi(c):Vi(c)}u&&(t[n+1]=r?ji(o):Zi(o))}function Fa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&xn(t,e)>=0}var Ua={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qa(t){return t.substring(Ua.key,Ua.keyEnd)}function ja(t,e){var n=Ua.textEnd;return n===e?-1:(e=Ua.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ua.key=e,n),Va(t,e,n))}function Va(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ba(t,e,n){return Ga(t,e,n,!1),Ba}function Za(t,e){return Ga(t,e,null,!0),Za}function Ha(t){Wa(kn,za,t,!0)}function za(t,e){for(var n=function(t){return function(t){Ua.key=0,Ua.keyEnd=0,Ua.value=0,Ua.valueEnd=0,Ua.textEnd=t.length}(t),ja(t,Va(t,0,Ua.textEnd))}(e);n>=0;n=ja(e,n))kn(t,qa(e),!0)}function Ga(t,e,n,r){var i=Xt(),o=$t(),a=fe(2);o.firstUpdatePass&&Ya(o,t,a,r),e!==Li&&ca(i,a,e)&&Xa(o,o.data[Ee()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Wn(t)))),t}(e,n),r,a)}function Wa(t,e,n,r){var i=$t(),o=fe(2);i.firstUpdatePass&&Ya(i,null,o,r);var a=Xt();if(n!==Li&&ca(a,o,n)){var s=i.data[Ee()];if(es(s,r)&&!Ka(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=T(u,n||"")),ya(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Li&&(i=et);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Xa(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return et;var r=[],i=Wn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Ka(t,e){return e>=t.expandoStartIndex}function Ya(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ee()],a=Ka(t,n);es(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=ve(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ja(n=Qa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Qa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Vi(r))return t[qi(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[qi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Ja(s=Qa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Ja(r,t[o].hostAttrs,n);return Ja(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=qi(a),u=Vi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||xn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=qi(t[s+1]);t[r+1]=Ui(f,s),0!==f&&(t[f+1]=Bi(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ui(s,0),0!==s&&(t[s+1]=Bi(t[s+1],r)),s=r;else t[r+1]=Ui(u,0),0===s?s=r:t[u+1]=Bi(t[u+1],r),u=r;l&&(t[r+1]=ji(t[r+1])),Ma(t,c,r,!0),Ma(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&xn(o,e)>=0&&(n[r+1]=Zi(n[r+1]))}(e,c,t,r,o),a=Ui(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Qa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ja(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Ja(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),kn(t,a,!!n||e[++o]))}return void 0===t?null:t}function Xa(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];ts(1==(1&c)?$a(u,e,n,i,Vi(c),a):void 0)||(ts(o)||2==(2&c)&&(o=$a(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Ft(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Br.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Br.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,jt(Ee(),n),i,o))}}function $a(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Li&&(f=h?et:void 0);var d=h?Tn(f,r):l===r?f:void 0;if(c&&!ts(d)&&(d=Tn(u,r)),ts(d)&&(a=d,s))return a;var p=t[i+1];i=s?qi(p):Vi(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=Tn(v,r))}return a}function ts(t){return void 0!==t}function es(t,e){return 0!=(t.flags&(e?16:32))}function ns(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Xt(),r=$t(),i=t+20,o=r.firstCreatePass?Gi(r,i,1,e,null):r.data[i],a=n[i]=Yr(n[11],e);pi(r,n,a,o),ie(o,!1)}function rs(t){return is("",t,""),rs}function is(t,e,n){var r=Xt(),i=fa(r,t,e,n);return i!==Li&&Ro(r,Ee(),i),is}function os(t,e,n,r,i){var o=Xt(),a=function(t,e,n,r,i,o){var a=la(t,le(),n,i);return fe(2),a?e+A(n)+r+A(i)+o:Li}(o,t,e,n,r,i);return a!==Li&&Ro(o,Ee(),a),os}function as(t,e,n,r,i,o,a,s,u){Wa(kn,za,function(t,e,n,r,i,o,a,s,u,c){var l=function(t,e,n,r,i,o){var a=la(t,e,n,r);return la(t,e+2,i,o)||a}(t,le(),n,i,a,u);return fe(4),l?e+A(n)+r+A(i)+o+A(a)+s+A(u)+c:Li}(Xt(),t,e,n,r,i,o,a,s,u),!0)}function ss(t,e,n){var r=Xt();return ca(r,he(),e)&&ao($t(),Ie(),r,t,e,r[11],n,!0),ss}function us(t,e,n){var r=Xt();if(ca(r,he(),e)){var i=$t(),o=Ie();ao(i,o,r,t,e,function(t,e,n){return(null===t||Et(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ve(i.data),o,r),n,!0)}return us}var cs=void 0,ls=["en",[["a","p"],["AM","PM"],cs],[["AM","PM"],cs,cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cs,"{1} 'at' {0}",cs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],hs={};function fs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ps(e);if(n)return n;var r=e.split("-")[0];if(n=ps(r))return n;if("en"===r)return ls;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ds(t){return fs(t)[vs.PluralCase]}function ps(t){return t in hs||(hs[t]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[t]),hs[t]}var vs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),gs=["zero","one","two","few","many"],ys={marker:"element"},ms={marker:"ICU"},_s=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({}),ws="en-US";function bs(t){var e;null==(e=t)&&P("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ws=t.toLowerCase().replace(/_/g,"-"))}function ks(t,e,n){var r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?li(t,0,n):qt(n[i])}function Ts(t,e,n,r,i){var o=e.insertBeforeIndex;if(Array.isArray(o)){var a=r,s=null;if(3&e.type||(s=a,a=i),null!==a&&0==(2&e.flags))for(var u=1;u<o.length;u++)oi(t,a,n[o[u]],s,!1)}}function xs(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var r=t[n];Cs(r)||Es(r,e)&&null===(i=void 0,i=r.insertBeforeIndex,Array.isArray(i)?i[0]:i)&&Ss(r,e.index)}var i}function Cs(t){return!(64&t.type)}function Es(t,e){return Cs(e)||t.index>e.index}function Ss(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(di(ks,Ts),t.insertBeforeIndex=e)}function Is(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function As(t,e,n){var r=Wi(t,n,64,null,null);return xs(e,r),r}function Os(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}var Ns=0,Ps=0;function Rs(t,e,n,r){for(var i,o=n[11],a=null,s=0;s<e.length;s++){var u=e[s];if("string"==typeof u){var c=e[++s];null===n[c]&&(n[c]=Yr(o,u))}else if("number"==typeof u)switch(1&u){case 0:var l=u>>>17,h=void 0,f=void 0;if(null===a&&(a=l,i=ui(o,r)),l===a?(h=r,f=i):(h=null,f=qt(n[l])),null!==f){var d=(131070&u)>>>1;oi(o,f,n[d],h,!1);var p=Is(t,d);if(null!==p&&"object"==typeof p){var v=Os(p,n);null!==v&&Rs(t,p.create[v],n,n[p.anchorIdx])}}break;case 1:var g=e[++s],y=e[++s];go(o,jt(u>>>1,n),null,null,g,y,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case ms:var m=e[++s],_=e[++s];null===n[_]&&Or(n[_]=Jr(o,m),n);break;case ys:var w=e[++s],b=e[++s];null===n[b]&&Or(n[b]=Xr(o,w,null),n)}}}function Ds(t,e,n,r,i){for(var o=0;o<n.length;o++){var a=n[o],s=n[++o];if(a&i)for(var u="",c=o+1;c<=o+s;c++){var l=n[c];if("string"==typeof l)u+=l;else if("number"==typeof l)if(l<0)u+=A(e[r-l]);else{var h=l>>>2;switch(3&l){case 1:var f=n[++c],d=n[++c],p=t.data[h];"string"==typeof p?go(e[11],e[h],null,p,f,u,d):ao(t,p,e,f,u,e[11],d,!1);break;case 0:var v=e[h];null!==v&&Qr(e[11],v,u);break;case 2:Ms(t,Is(t,h),e,u);break;case 3:Ls(t,Is(t,h),r,e)}}}else{var g=n[o+1];if(g>0&&3==(3&g)){var y=Is(t,g>>>2);e[y.currentCaseLViewIndex]<0&&Ls(t,y,r,e)}}o+=s}}function Ls(t,e,n,r){var i=r[e.currentCaseLViewIndex];if(null!==i){var o=Ns;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ds(t,r,e.update[i],n,o)}}function Ms(t,e,n,r){var i=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var r=function(t,e){var n=ds(e)(parseInt(t,10)),r=gs[n];return void 0!==r?r:"other"}(e,ws);-1===(n=t.cases.indexOf(r))&&"other"!==r&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Os(e,n)!==i&&(Fs(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){var o=n[e.anchorIdx];o&&Rs(t,e.create[i],n,o)}}function Fs(t,e,n){var r=Os(e,n);if(null!==r)for(var i=e.remove[r],o=0;o<i.length;o++){var a=i[o];if(a>0){var s=jt(a,n);null!==s&&mi(n[11],s)}else Fs(t,Is(t,~a),n)}}var Us=/\ufffd(\d+):?\d*\ufffd/gi,qs=/\ufffd(\d+)\ufffd/,js=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Vs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Bs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Zs=/\uE500/g;function Hs(t,e,n,r,i,o,a){var s=Ki(t,r,1,null),u=s<<_s.SHIFT,c=re();e===c&&(c=null),null===c&&(u|=_s.APPEND_EAGERLY),a&&(u|=_s.COMMENT,void 0===Vr&&(Vr=function(){var t,e,n=[],r=-1;function i(t,n){r=0;var i=Os(t,n);e=null!==i?t.remove[i]:et}function o(){if(r<e.length){var a=e[r++];return a>0?t[a]:(n.push(r,e),i(t[1].data[~a],t),o())}return 0===n.length?null:(e=n.pop(),r=n.pop(),o())}return function(e,r){for(t=r;n.length;)n.pop();return i(e.value,r),o}}())),i.push(u,null===o?"":o);var l=Wi(t,s,a?32:1,null===o?"":o,null);xs(n,l);var h=l.index;return ie(l,!1),null!==c&&e!==c&&function(t,e){var n,r=t.insertBeforeIndex;null===r?(di(ks,Ts),r=t.insertBeforeIndex=[null,e]):(1!=(n=Array.isArray(r))&&P("Expecting array here",n,!0,"=="),r.push(e))}(c,h),l}function zs(t,e,n,r,i,o,a){var s=a.match(Us),u=Hs(t,e,n,o,r,s?null:a,!1);s&&Gs(i,a,u.index,null,0,null)}function Gs(t,e,n,r,i,o){var a=t.length,s=a+1;t.push(null,null);for(var u=a+2,c=e.split(Us),l=0,h=0;h<c.length;h++){var f=c[h];if(1&h){var d=i+parseInt(f,10);t.push(-1-d),l|=Ws(d)}else""!==f&&t.push(f)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[a]=l,t[s]=t.length-u,l}function Ws(t){return 1<<Math.min(t,31)}function Ks(t){for(var e,n,r="",i=0,o=!1;null!==(e=Vs.exec(t));)o?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i)}function Ys(t,e,n,r,i,o){var a=0,s={type:i.type,currentCaseLViewIndex:Ki(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ws(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){var r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,s);for(var u=i.values,c=0;c<u.length;c++){for(var l=u[c],h=[],f=0;f<l.length;f++){var d=l[f];if("string"!=typeof d){var p=h.push(d)-1;l[f]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}a=Xs(t,s,e,n,r,i.cases[c],l.join(""),h)|a}a&&function(t,e,n){t.push(e,1,n<<2|3)}(n,a,o)}function Qs(t){for(var e=[],n=[],r=1,i=0,o=Js(t=t.replace(js,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})),a=0;a<o.length;){var s=o[a++].trim();1===r&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var u=Js(o[a++]);e.length>n.length&&n.push(u)}return{type:r,mainBinding:i,cases:e,values:n}}function Js(t){if(!t)return[];var e,n=0,r=[],i=[],o=/[{}]/g;for(o.lastIndex=0;e=o.exec(t);){var a=e.index;if("}"==e[0]){if(r.pop(),0==r.length){var s=t.substring(n,a);js.test(s)?i.push(Qs(s)):i.push(s),n=a+1}}else{if(0==r.length){var u=t.substring(n,a);i.push(u),n=a+1}r.push("{")}}var c=t.substring(n);return i.push(c),i}function Xs(t,e,n,r,i,o,a,s){var u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);var h=er(Mt()).getInertBodyElement(a),f=Cr(h)||h;return f?$s(t,e,n,r,u,c,l,f,i,s,0):0}function $s(t,e,n,r,i,o,a,s,u,c,l){for(var h=0,f=s.firstChild;f;){var d=Ki(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:var p=f,v=p.tagName.toLowerCase();if(vr.hasOwnProperty(v)){nu(i,ys,v,u,d),t.data[d]=v;for(var g=p.attributes,y=0;y<g.length;y++){var m=g.item(y),_=m.name.toLowerCase();m.value.match(Us)?mr.hasOwnProperty(_)&&Gs(a,m.value,d,m.name,0,gr[_]?ar:yr[_]?sr:null):ru(i,d,m)}h=$s(t,e,n,r,i,o,a,f,d,c,l+1)|h,tu(o,d,l)}break;case Node.TEXT_NODE:var w=f.textContent||"",b=w.match(Us);nu(i,null,b?"":w,u,d),tu(o,d,l),b&&(h=Gs(a,w,d,null,0,null)|h);break;case Node.COMMENT_NODE:var k=qs.exec(f.textContent||"");if(k){var T=c[parseInt(k[1],10)];nu(i,ms,"",u,d),Ys(t,n,r,u,T,d),eu(o,d,l)}}f=f.nextSibling}return h}function tu(t,e,n){0===n&&t.push(e)}function eu(t,e,n){0===n&&(t.push(~e),t.push(e))}function nu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function ru(t,e,n){t.push(e<<1|1,n.name,n.value)}function iu(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=$t(),i=Xt(),o=20+t,a=Wt(r.consts,e),s=re();r.firstCreatePass&&function(t,e,n,r,i,o){for(var a,s=re(),u=[],c=[],l=[[]],h=(a=i=function(t,e){if(function(t){return-1===t}(e))return Ks(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,r=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return Ks(t.substring(n,r))}(i,o),a.replace(Zs," ")).split(Bs),f=0;f<h.length;f++){var d=h[f];if(0==(1&f))for(var p=Js(d),v=0;v<p.length;v++){var g=p[v];if(0==(1&v)){var y=g;""!==y&&zs(t,s,l[0],u,c,n,y)}else{var m=g;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(i,'" message.'));Ys(t,n,c,e,m,Hs(t,s,l[0],n,u,"",!0).index)}}else{var _=47===d.charCodeAt(0),w=(d.charCodeAt(_?1:0),20+Number.parseInt(d.substring(_?2:1)));if(_)l.shift(),ie(re(),!1);else{var b=As(t,l[0],w);l.unshift([]),ie(b,!0)}}}t.data[r]={create:u,update:c}}(r,null===s?0:s.index,i,o,a,n);var u=r.data[o],c=ii(r,s===i[6]?null:s,i);!function(t,e,n,r){for(var i=t[11],o=0;o<e.length;o++){var a=e[o++],s=e[o],u=(a&_s.COMMENT)===_s.COMMENT,c=(a&_s.APPEND_EAGERLY)===_s.APPEND_EAGERLY,l=a>>>_s.SHIFT,h=t[l];null===h&&(h=t[l]=u?i.createComment(s):Yr(i,s)),c&&null!==n&&oi(i,n,h,r,!1)}}(i,u.create,c,s&&8&s.type?i[s.index]:null),de(!0)})(t,e,n),de(!1)}function ou(t){return ca(Xt(),he(),t)&&(Ns|=1<<Math.min(Ps,31)),Ps++,ou}function au(t){!function(t,e,n){if(Ps>0){var r=t.data[n];Ds(t,e,Array.isArray(r)?r:r.update,le()-Ps-1,Ns)}Ns=0,Ps=0}($t(),Xt(),t+20)}function su(t,e,n,r,i){if(t=E(t),Array.isArray(t))for(var o=0;o<t.length;o++)su(t[o],e,n,r,i);else{var a=$t(),s=Xt(),u=Ko(t)?t:E(t.provide),c=zo(t),l=ee(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Ko(t)||!t.multi){var p=new Le(c,i,va),v=lu(u,e,i?h:h+d,f);-1===v?(Je(We(l,s),a,u),uu(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=lu(u,e,h+d,f),y=lu(u,e,h,h+d),m=g>=0&&n[g],_=y>=0&&n[y];if(i&&!_||!i&&!m){Je(We(l,s),a,u);var w=function(t,e,n,r,i){var o=new Le(t,n,va);return o.multi=[],o.index=e,o.componentProviders=0,cu(o,i,r&&!n),o}(i?fu:hu,n.length,i,r,c);!i&&_&&(n[y].providerFactory=w),uu(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),s.push(w)}else uu(a,t,g>-1?g:y,cu(n[i?y:g],c,!i&&r));!i&&r&&_&&n[y].componentProviders++}}}function uu(t,e,n,r){var i=Ko(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function cu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lu(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function hu(t,e,n,r){return du(this.multi,[])}function fu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=an(n,n[1],this.providerFactory.index,r);du(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else du(o,i=[]);return i}function du(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function pu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=$t();if(r.firstCreatePass){var i=Et(t);su(n,r.data,r.blueprint,i,!0),su(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var vu=function t(){f(this,t)},gu=function(){function t(){f(this,t)}return h(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),yu=function(){var t=function t(){f(this,t)};return t.NULL=new gu,t}();function mu(){}function _u(t,e){return new bu(Vt(t,e))}var wu=function(){return _u(ee(),Xt())},bu=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=wu,t}();function ku(t){return t instanceof bu?t.nativeElement:t}var Tu=function t(){f(this,t)},xu=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return Cu()},t}(),Cu=function(){var t=Xt(),e=Ht(ee().index,t);return function(t){return t[11]}(bt(e)?e:t)},Eu=function(){var t=function t(){f(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),Su=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Iu=new Su("12.0.2"),Au=function(){function t(){f(this,t)}return h(t,[{key:"supports",value:function(t){return aa(t)}},{key:"create",value:function(t){return new Nu(t)}}]),t}(),Ou=function(t,e){return e},Nu=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ou}return h(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Lu(n,r,i)?e:n,a=Lu(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!aa(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ia()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Pu(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Du),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Du),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Pu=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ru=function(){function t(){f(this,t),this._head=null,this._tail=null}return h(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Du=function(){function t(){f(this,t),this.map=new Map}return h(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ru,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Lu(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Mu=function(){function t(){f(this,t)}return h(t,[{key:"supports",value:function(t){return t instanceof Map||sa(t)}},{key:"create",value:function(){return new Fu}}]),t}(),Fu=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return h(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||sa(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Uu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Uu=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function qu(){return new ju([new Au])}var ju=function(){var t=function(){function t(e){f(this,t),this.factories=e}return h(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||qu())},deps:[[t,new Un,new Fn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:qu}),t}();function Vu(){return new Bu([new Mu])}var Bu=function(){var t=function(){function t(e){f(this,t),this.factories=e}return h(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Vu())},deps:[[t,new Un,new Fn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Vu}),t}();function Zu(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(qt(a)),kt(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Zu(u[1],u,c,r)}var l=n.type;if(8&l)Zu(t,e,n.child,r);else if(32&l)for(var h=Zr(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=gi(e,n);if(Array.isArray(d))r.push.apply(r,o(d));else{var p=Hr(e[16]);Zu(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var Hu=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return h(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Zu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(kt(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ti(t,n),wn(e,n))}this._attachedToViewContainer=!1}ei(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){io(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){xo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Co(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){ue(!0);try{Co(t,e,n)}finally{ue(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,wi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),zu=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return h(n,[{key:"detectChanges",value:function(){Eo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){ue(!0);try{Eo(t)}finally{ue(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Hu),Gu=function(t){return function(t,e,n){if(xt(t)&&!n){var r=Ht(t.index,e);return new Hu(r,r)}return 47&t.type?new Hu(e[16],e):null}(ee(),Xt(),16==(16&t))},Wu=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Gu,t}(),Ku=[new Mu],Yu=new ju([new Au]),Qu=new Bu(Ku),Ju=function(){return tc(ee(),Xt())},Xu=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Ju,t}(),$u=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return h(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=zi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Yi(e,n,t),new Hu(n)}}]),n}(Xu);function tc(t,e){return 4&t.type?new $u(e,t,_u(t,e)):null}var ec=function t(){f(this,t)},nc=function t(){f(this,t)},rc=function(){return uc(ee(),Xt())},ic=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=rc,t}(),oc=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return h(n,[{key:"element",get:function(){return _u(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new cn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Qe(this._hostTNode,this._hostLView);if(Ve(t)){var e=Ze(t,this._hostLView),n=Be(t);return new cn(e[1].data[n+8],e)}return new cn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=ac(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(ec,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(kt(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],_n(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=yi(u,c),h=r[11],f=ui(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,wi(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),_n(sc(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=ac(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=ti(this._lContainer,e);n&&(wn(sc(this._lContainer),e),ei(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=ti(this._lContainer,e);return n&&null!=wn(sc(this._lContainer),e)?new Hu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(ic);function ac(t){return t[8]}function sc(t){return t[8]||(t[8]=[])}function uc(t,e){var n,r=e[t.index];if(kt(r))n=r;else{var i;if(8&t.type)i=qt(r);else{var o=e[11];i=o.createComment("");var a=Vt(t,e);oi(o,ui(o,a),i,function(t,e){return Ft(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=_o(r,e,i,t),To(e,n)}return new oc(n,t,e)}var cc={},lc=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return h(n,[{key:"resolveComponentFactory",value:function(t){var e=_t(t);return new dc(e,this.ngModule)}}]),n}(yu);function hc(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var fc=new pn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ur}}),dc=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Di).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return h(n,[{key:"inputs",get:function(){return hc(this.componentDef.inputs)}},{key:"outputs",get:function(){return hc(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,cc,i);return o!==cc||r===cc?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Tu,Ut),u=a.get(Eu,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ft(t))return t.selectRootElement(e,n===K.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Xr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Ur,clean:Io,playerHandler:null,flags:0},p=ro(0,null,null,1,0,null,null,null,null,null),v=zi(null,p,d,f,null,null,s,c,u,a);we(v);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Gi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Do(s,u,!0),null!==t&&(Me(i,t,u),null!==s.classes&&Ti(i,t,s.classes),null!==s.styles&&ki(i,t,s.styles)));var c=r.createRenderer(t,e),l=zi(n,no(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Je(We(s,n),a,e.type),lo(a,s),fo(s,n.length,1)),To(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)Me(c,h,["ng-version",Iu.full]);else{var y=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,_=y.classes;m&&Me(c,h,m),_&&_.length>0&&Ti(c,h,_.join(" "))}if(o=Bt(p,20),void 0!==e)for(var w=o.projection=[],b=0;b<this.ngContentSelectors.length;b++){var k=e[b];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ee();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),po(t,r,e,Ki(t,e,1,null),n));var i=an(e,t,r.directiveStart,r);Or(i,e);var o=Vt(r,e);return o&&Or(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ee();e.contentQueries(1,a,s.directiveStart)}var u=ee();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Se(u.index),uo(n[1],u,0,u.directiveStart,u.directiveEnd,e),co(e,a)),a}(g,this.componentDef,v,d,[Jo]),Yi(p,v,null)}finally{Ce()}return new pc(this.componentType,i,_u(o,v),v,o)}}]),n}(vu),pc=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new zu(o),s.componentType=t,s}return h(n,[{key:"injector",get:function(){return new cn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){f(this,t)}}()),vc=new Map,gc=function(t){d(n,t);var e=p(n);function n(t,r){var i;f(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=g(i),i.destroyCbs=[],i.componentFactoryResolver=new lc(g(i));var o=wt(t),a=t[at]||null;return a&&bs(a),i._bootstrapComponents=jr(o.bootstrap),i._r3Injector=Bo(t,r,[{provide:ec,useValue:g(i)},{provide:yu,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return h(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z.Default;return t===Qo||t===ec||t===Mo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(ec),yc=function(t){d(n,t);var e=p(n);function n(t){var r,i,o;return f(this,n),(r=e.call(this)).moduleType=t,null!==wt(t)&&(i=t,o=new Set,function t(e){var n=wt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,vc.get(r),e),vc.set(r,e));var i,a=s(jr(n.imports));try{for(a.s();!(i=a.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){a.e(c)}finally{a.f()}}(i)),r}return h(n,[{key:"create",value:function(t){return new gc(this.moduleType,t)}}]),n}(nc);function mc(t,e,n,r){return kc(Xt(),ce(),t,e,n,r)}function _c(t,e,n,r,i){return Tc(Xt(),ce(),t,e,n,r,i)}function wc(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=la(t,e,n,r);return ca(t,e+2,i)||o}(t,u,i,o,a)?ua(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):bc(t,u+3)}(Xt(),ce(),t,e,n,r,i,o)}function bc(t,e){var n=t[e];return n===Li?void 0:n}function kc(t,e,n,r,i,o){var a=e+n;return ca(t,a,i)?ua(t,a+1,o?r.call(o,i):r(i)):bc(t,a+1)}function Tc(t,e,n,r,i,o,a){var s=e+n;return la(t,s,i,o)?ua(t,s+2,a?r.call(a,i,o):r(i,o)):bc(t,s+2)}function xc(t,e){var n,r=$t(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new I("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=St(n.type)),a=H(va);try{var s=ze(!1),u=o();return ze(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,Xt(),i,u),u}finally{H(a)}}function Cc(t,e,n){var r=t+20,i=Xt(),o=Zt(i,r);return Ic(i,Sc(i,r)?kc(i,ce(),e,o.transform,n,o):o.transform(n))}function Ec(t,e,n,r){var i=t+20,o=Xt(),a=Zt(o,i);return Ic(o,Sc(o,i)?Tc(o,ce(),e,a.transform,n,r,a):a.transform(n,r))}function Sc(t,e){return t[1].data[e].pure}function Ic(t,e){return oa.isWrapped(e)&&(e=oa.unwrap(e),t[le()]=Li),e}function Ac(t){return function(e){setTimeout(t,void 0,e)}}var Oc=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=r,t}return h(n,[{key:"emit",value:function(t){i(b(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a,s,c=t,l=e||function(){return null},h=r;if(t&&"object"==typeof t){var f=t;c=null===(o=f.next)||void 0===o?void 0:o.bind(f),l=null===(a=f.error)||void 0===a?void 0:a.bind(f),h=null===(s=f.complete)||void 0===s?void 0:s.bind(f)}this.__isAsync&&(l=Ac(l),c&&(c=Ac(c)),h&&(h=Ac(h)));var d=i(b(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:h});return t instanceof u.w&&t.add(d),d}}]),n}(a.xQ);function Nc(){return this._results[ia()]()}var Pc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ia(),r=t.prototype;r[n]||(r[n]=Nc)}return h(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Oc)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=yn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Rc=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return h(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Dc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return h(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Kc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Lc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,t),this.predicate=e,this.flags=n,this.read=r},Mc=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return h(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Fc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return h(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Uc(e,i)),this.matchTNodeWithReadOption(t,e,on(e,t,i,!1,!1))}else n===Xu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,on(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===bu||r===ic||r===Xu&&4&e.type)this.addMatch(e.index,-2);else{var i=on(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Uc(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function qc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?_u(t,e):4&t.type?tc(t,e):null}(e,t):-2===n?function(t,e,n){return n===bu?_u(e,t):n===Xu?tc(e,t):n===ic?uc(e,t):void 0}(t,e,r):an(t,t[1],n,e)}function jc(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:qc(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Vc(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=jc(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Vc(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Vc(v[1],v,c,r)}}}return r}function Bc(t){var e=Xt(),n=$t(),r=ge();ye(r+1);var i=Kc(n,r);if(t.dirty&&zt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Vc(n,e,r,[]):jc(n,e,i,r);t.reset(o,ku),t.notifyOnChanges()}return!0}return!1}function Zc(t,e,n){var r=$t();r.firstCreatePass&&(Wc(r,new Lc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Gc(r,Xt(),e)}function Hc(t,e,n,r){var i=$t();if(i.firstCreatePass){var o=ee();Wc(i,new Lc(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Gc(i,Xt(),n)}function zc(){return t=Xt(),e=ge(),t[19].queries[e].queryList;var t,e}function Gc(t,e,n){var r=new Pc(4==(4&n));io(t,e,r,r.destroy),null===e[19]&&(e[19]=new Dc),e[19].queries.push(new Rc(r))}function Wc(t,e,n){null===t.queries&&(t.queries=new Mc),t.queries.track(new Fc(e,n))}function Kc(t,e){return t.queries.getByIndex(e)}function Yc(t,e){return tc(t,e)}var Qc=new pn("Application Initializer"),Jc=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return h(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=function(n){var r=t.appInits[n]();if(xa(r))e.push(r);else if(Ea(r)){var i=new Promise(function(t,e){r.subscribe({complete:t,error:e})});e.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Qc,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Xc=new pn("AppId"),$c={provide:Xc,useFactory:function(){return"".concat(tl()).concat(tl()).concat(tl())},deps:[]};function tl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var el=new pn("Platform Initializer"),nl=new pn("Platform ID"),rl=new pn("appBootstrapListener"),il=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),ol=new pn("LocaleId"),al=new pn("DefaultCurrencyCode"),sl=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},ul=function(t){return new yc(t)},cl=ul,ll=function(t){return Promise.resolve(ul(t))},hl=function(t){var e=ul(t),n=jr(wt(t).declarations).reduce(function(t,e){var n=_t(e);return n&&t.push(new dc(n)),t},[]);return new sl(e,n)},fl=hl,dl=function(t){return Promise.resolve(hl(t))},pl=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=cl,this.compileModuleAsync=ll,this.compileModuleAndAllComponentsSync=fl,this.compileModuleAndAllComponentsAsync=dl}return h(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),vl=Promise.resolve(0);function gl(t){"undefined"==typeof Zone?vl.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var yl=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oc(!1),this.onMicrotaskEmpty=new Oc(!1),this.onStable=new Oc(!1),this.onError=new Oc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=$.requestAnimationFrame,e=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,wl(t),t.isCheckStableRunning=!0,_l(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),wl(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return bl(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),kl(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return bl(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),kl(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,wl(n),_l(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return h(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ml,mu,mu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),ml={};function _l(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function wl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kl(t){t._nesting--,_l(t)}var Tl=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oc,this.onMicrotaskEmpty=new Oc,this.onStable=new Oc,this.onError=new Oc}return h(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),xl=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return h(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){yl.assertNotInAngularZone(),gl(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())gl(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(yl))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Cl=function(){var t=function(){function t(){f(this,t),this._applications=new Map,Il.addToWindow(this)}return h(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Il.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function El(t){Il=t}var Sl,Il=new(function(){function t(){f(this,t)}return h(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Al=!0,Ol=!1;function Nl(){return Ol=!0,Al}function Pl(){if(Ol)throw new Error("Cannot enable prod mode after platform setup.");Al=!1}var Rl=new pn("AllowMultipleToken"),Dl=function t(e,n){f(this,t),this.name=e,this.token=n};function Ll(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new pn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ml();if(!o||o.injector.get(Rl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:Uo,useValue:"platform"});!function(t){if(Sl&&!Sl.destroyed&&!Sl.injector.get(Rl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sl=t.get(Fl);var e=t.get(el,null);e&&e.forEach(function(t){return t()})}(Qo.create({providers:a,name:r}))}return function(t){var e=Ml();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ml(){return Sl&&!Sl.destroyed?Sl:null}var Fl=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return h(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new Tl:("zone.js"===n?void 0:n)||new yl({enableLongStackTrace:Nl(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:yl,useValue:o}];return o.run(function(){var e=Qo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Lr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){jl(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(Jc)).runInitializers(),a.donePromise.then(function(){return bs(n.injector.get(ol,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return xa(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Ul({},n);return function(t,e,n){var r=new yc(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(ql);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(Qo))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Ul(t,e){return Array.isArray(e)?e.reduce(Ul,t):Object.assign(Object.assign({},t),e)}var ql=function(){var t=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new c.y(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new c.y(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){yl.assertNotInAngularZone(),gl(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){yl.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,l.T)(s,u.pipe((0,v.B)()))}return h(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof vu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(ec),o=n.create(Qo.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(xl,null),u=s&&o.injector.get(Cl);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),jl(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=s(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;jl(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(rl,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(yl),Nn(Qo),Nn(Lr),Nn(yu),Nn(Jc))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function jl(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Vl=function t(){f(this,t)},Bl=function t(){f(this,t)},Zl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Hl=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||Zl}return h(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r(8255)(o).then(function(t){return t[a]}).then(function(t){return zl(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return zl(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Nn(pl),Nn(Bl,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function zl(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Gl=function(t){return null},Wl=Ll(null,"core",[{provide:nl,useValue:"unknown"},{provide:Fl,deps:[Qo]},{provide:Cl,deps:[]},{provide:il,deps:[]}]),Kl=[{provide:ql,useClass:ql,deps:[yl,Qo,Lr,yu,Jc]},{provide:fc,deps:[yl],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Jc,useClass:Jc,deps:[[new Fn,Qc]]},{provide:pl,useClass:pl,deps:[]},$c,{provide:ju,useFactory:function(){return Yu},deps:[]},{provide:Bu,useFactory:function(){return Qu},deps:[]},{provide:ol,useFactory:function(t){return bs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Mn(ol),new Fn,new Un]]},{provide:al,useValue:"USD"}],Yl=function(){var t=function t(e){f(this,t)};return t.\u0275fac=function(e){return new(e||t)(Nn(ql))},t.\u0275mod=pt({type:t}),t.\u0275inj=D({providers:Kl}),t}()},2346:function(t,e,i){"use strict";i.d(e,{hO:function(){return R},xv:function(){return E},Dh:function(){return C},HU:function(){return w},GT:function(){return x},sI:function(){return N},on:function(){return I},ss:function(){return b},pX:function(){return T},yq:function(){return A}});var s=i(8489),c=i(8569),l=i(4019),d=i(2893),p=i(45),v=i(1572),g=i(1858);function y(){}t=i.hmd(t);var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.N;f(this,t),this.zone=e,this.delegate=n}return h(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),_=function(){function t(e){f(this,t),this.zone=e,this.task=null}return h(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",y,{},y,y)}),e.pipe((0,l.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){f(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.z)})};function b(t){return function(e){return(e=e.lift(new _(t.ngZone))).pipe((0,d.R)(t.outsideAngular),(0,p.QV)(t.insideAngular))}}var k=["ngOnDestroy"],T=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,a){return n.runOutsideAngular(function(){var i;if(t[a])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,i=t&&t.apply(void 0,o(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,i),i})}})})}})},x=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},C=new v.OlP("angularfire2.app.options"),E=new v.OlP("angularfire2.app.nameOrConfig"),S=new v.GfV("6.1.5");function I(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=g.Z.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return g.Z.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&O("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var A=function(){O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(0,v.X6Q)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function N(e,i,s,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(h=f)||a(h)||u(h)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error","".concat(i," was already initialized on the ").concat(s.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(y){}return p}var g=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[g].concat(o(l))),g}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var P={provide:function t(){f(this,t)},useFactory:I,deps:[C,v.R0b,[new v.FiY,E]]},R=function(){var t=function(){function t(e){f(this,t),g.Z.registerVersion("angularfire",S.full,e.toString()),g.Z.registerVersion("angular",v.q4F.full)}return h(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:C,useValue:e},{provide:E,useValue:n}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.LFG(v.Lbi))},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({providers:[P]}),t}()},6934:function(t,e,n){"use strict";var r=n(1062),i=n(5119),o=n(4762),a=n(250),s=n(308);var u,c,l=(c=r)&&"object"==typeof c&&"default"in c?c:{default:c},h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(t){return d.get(t)||p}function y(t,e){d.set(t,e)}function m(){return v}function _(){return self.grecaptcha}function w(t){if(!g(t).activated)throw f.create("use-before-activation",{appName:t.name})}function b(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return w(t),[4,g(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=g(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function k(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),a=g(t);y(t,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var T="https://content-firebaseappcheck.googleapis.com/v1beta",x=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function C(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,a,s,u,c,l,h,d,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function E(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function S(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var I="firebase-app-check-store",A=null;function O(){return A||(A=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(f.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(I,{keyPath:"compositeKey"})}}}catch(c){e(f.create("storage-open",{originalErrorMessage:c.message}))}}))}function N(t){return R(D(t))}function P(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,a;return o.__generator(this,function(o){switch(o.label){case 0:return[4,O()];case 1:return n=o.sent(),r=n.transaction(I,"readwrite"),i=r.objectStore(I),a=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){a.onsuccess=function(e){t()},r.onerror=function(t){var n;e(f.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function R(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,O()];case 1:return e=o.sent(),n=e.transaction(I,"readonly"),r=n.objectStore(I),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(f.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function D(t){return t.options.appId+"-"+t.name}var L=new s.Logger("@firebase/app-check");function M(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,N(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),L.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function F(t,e){return a.isIndexedDBAvailable()?function(t,e){return P(D(t),e)}(t,e).catch(function(t){L.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=m()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var q={error:"UNKNOWN_ERROR"};function j(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,s,u,c,l,h,d,p,v,_,k,T,x;return o.__generator(this,function(I){switch(I.label){case 0:return w(t),r=g(t),s=void 0,(i=r.token)?[3,2]:[4,M(t)];case 1:(u=I.sent())&&H(u)&&(i=u,y(t,o.__assign(o.__assign({},r),{token:i})),Z(t,{token:i.token})),I.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:m().enabled?(l=C,h=S,d=[t],[4,U()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([I.sent()])),e])];case 4:return c=I.sent(),[4,F(t,c)];case 5:return I.sent(),y(t,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return I.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=I.sent(),v=a.issuedAtTime(p.token),_=null!==v&&v<Date.now()&&v>0?1e3*v:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:_}),[3,11];case 8:return[4,b(t).catch(function(t){throw f.create("recaptcha-error")})];case 9:return k=I.sent(),[4,C(E(t,k),e)];case 10:i=I.sent(),I.label=11;case 11:return[3,13];case 12:return T=I.sent(),L.error(T),s=T,[3,13];case 13:return i?[3,14]:(x=function(t){return{token:(e=q,a.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(s),[3,16]);case 14:return x={token:i.token},y(t,o.__assign(o.__assign({},r),{token:i})),[4,F(t,i)];case 15:I.sent(),I.label=16;case 16:return Z(t,x),[2,x]}})})}function V(t,e,n,r,i){var a=g(t),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(t,e){var n=this;return new x(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return g(t).token?[3,2]:[4,j(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,j(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&H(a.token)){var l=a.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}y(t,u)}function B(t,e){var n=g(t),r=n.tokenObservers.filter(function(t){return t.next!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function Z(t,e){for(var n=0,r=g(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function H(t){return t.expireTimeMillis-Date.now()>0}!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,n){return function(t,e,n){var r=g(t);if(r.activated)throw f.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,y(t,i),i.siteKey&&function(t,e){var n=g(t),r=new a.Deferred;y(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u,c,l=_();return l?l.ready(function(){k(t,e,l,i),r.resolve(l)}):(u=function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready(function(){k(t,e,n,i),r.resolve(n)})},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(t,i.siteKey).catch(function(){})}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),y(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,j(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(e,n,t)},onTokenChanged:function(t,r,i){return function(t,e,n,r,i){var o,a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),V(t,e,"EXTERNAL",o,a),function(){return B(t,o)}}(e,n,t,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++)B(e,n[t].next);return Promise.resolve()}}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider("app-check-internal").initialize()})),t.INTERNAL.registerComponent(new i.Component("app-check-internal",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return j(e,n,t)},addTokenListener:function(t){return V(e,n,"INTERNAL",t)},removeTokenListener:function(t){return B(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.2.1")}(l.default),function(){var t=a.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=m();e.enabled=!0;var n=new a.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),P("debug-token",r)).catch(function(t){return L.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}())}}()},1062:function(t,e,n){"use strict";n.r(e),n.d(e,{firebase:function(){return _}});var r,i,o=n(4762),a=n(250),s=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,a.contains)(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=(0,o.__assign)((0,o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.deepExtend)(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,a.isBrowser)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.isNode)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var m,_=p;(m=_).INTERNAL.registerComponent(new s.Component("platform-logger",function(t){return new v(t)},"PRIVATE")),m.registerVersion("@firebase/app","0.6.29",void 0),m.registerVersion("fire-js",""),e.default=_},9738:function(t,e,n){"use strict";var r=n(1062);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),e),r=n.next()}while(!r.done)})},e});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function x(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(t){return t}function E(t,e,n){this.code=A+t,this.message=e||O[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new E(e.substring(A.length),t.message,t.serverResponse):null}x(E,Error),E.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.w()};var I,A="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function q(){this.b=this.a=null}I=P("__EID__")?"__EID__":void 0,x(D,Error),D.prototype.name="CustomError",x(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new F(function(){return new B},function(t){t.reset()});function V(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}q.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var Z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=Z(t,e)}function Y(t,e){var n;return(n=0<=(e=Z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function J(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){$=ht;break t}}$=""}function ft(t){return ut($,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function _t(t,e){this.a=t===Tt&&e||"",this.b=kt}function wt(t){return t instanceof _t&&t.constructor===_t&&t.b===kt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}_t.prototype.ta=!0,_t.prototype.sa=function(){return this.a},_t.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,kt={},Tt={};function xt(){if(void 0===bt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){s.console&&s.console.error(n.message)}bt=t}else bt=t}return bt}function Ct(t,e){this.a=e===Ot?t:""}function Et(t){return t instanceof Ct&&t.constructor===Ct?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=wt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=xt();return new Ct(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(It,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof _t?wt(t):encodeURIComponent(String(t))}))}Ct.prototype.ta=!0,Ct.prototype.sa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Nt(t,e){this.a=e===Ut?t:""}function Pt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t))t=new Nt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Nt(t,Ut):null}return t}function Ft(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Ut))}var Ut={},qt=new Nt("about:invalid#zClosurez",Ut);function jt(t,e,n){this.a=n===Vt?t:""}jt.prototype.ta=!0,jt.prototype.sa=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Bt(t,e,n,r){return t=t instanceof Nt?t:Ft(t),e=e||s,n=n instanceof _t?wt(n):n||"",e.open(Pt(t),n,r,void 0)}function Zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Gt,Wt,Kt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),Qt=ft("Edge"),Jt=Qt||Yt,Xt=ft("Gecko")&&!(ut($.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),$t=ut($.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=$,Xt?/rv:([^\);]+)(\)|;)/.exec(Wt):Qt?/Edge\/([\d\.]+)/.exec(Wt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):$t?/WebKit\/(\S+)/.exec(Wt):Kt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ae=s.document&&Yt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var se=!Yt||9<=Number(ae);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}H(a?X(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(_e)}}else he=function(){var t=_e;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),ye||(he(),ye=!0),me.add(t,e)}var ye=!1,me=new q;function _e(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){ve(e)}U(j,t)}ye=!1}function we(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,ke,t)},function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Te,t)})}catch(r){De(this,Te,r)}}var be=0,ke=2,Te=3;function xe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new F(function(){return new xe},function(t){t.reset()});function Ee(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Se(t){if(t instanceof we)return t;var e=new we(h);return De(e,ke,t),e}function Ie(t){return new we(function(e,n){n(t)})}function Ae(t,e,n){Le(t,e,n,null)||ge(k(e,t))}function Oe(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ae(t[o],k(i,o,!0),k(i,o,!1));else e(r)})}function Ne(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),Ue(n,i,Te,e)))}t.c=null}else De(t,Te,e)}function Pe(t,e){t.b||t.a!=ke&&t.a!=Te||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Ee(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Pe(t,i),i.a}function De(t,e,n){t.a==be&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Te||n instanceof Ve||function(t,e){t.g=!0,ge(function(){t.g&&je.call(null,e)})}(t,n)))}function Le(t,e,n,r){if(t instanceof we)return Pe(t,Ee(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ge(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(i){je.call(null,i)}U(Ce,e)}function qe(t,e,n){e==ke?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Ee(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);ge(function(){Ne(this,e)},this)}},t.$c=function(t){this.a=be,De(this,ke,t)},t.ad=function(t){this.a=be,De(this,Te,t)},t.gc=function(){for(var t;t=Fe(this);)Ue(this,t,this.a,this.i);this.h=!1};var je=ve;function Ve(t){D.call(this,t)}function Be(){0!=Ze&&(He[g(this)]=this),this.ya=this.ya,this.pa=this.pa}x(Ve,D),Ve.prototype.name="cancel";var Ze=0,He={};function ze(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Ze)){var e=g(t);if(0!=Ze&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Yt||9<=Number(ae),Ke=Yt&&!oe("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Je(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},x(Je,Qe);var Xe=Ge({2:"touch",3:"pen",4:"mouse"});Je.prototype.preventDefault=function(){Je.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Je.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=an(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[$e]?kn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=mn(t);if(s||(t[sn]=s=new rn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=yn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[$e]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=wn(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=an(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[$e])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(on(n,t),0==n.b&&(n.src=null,e[sn]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function yn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Je(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Je(e,this))}function mn(t){return(t=t[sn])instanceof rn?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function bn(){Be.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function kn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function xn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&on(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function En(t){var e=null;return new we(function(n,r){-1==(e=Cn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}x(bn,Be),bn.prototype[$e]=!0,bn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;yt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=xn(a,r,!0,t)&&i}if(i=xn(a=t.b=n,r,!0,t)&&i,i=xn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=xn(a=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=An.prototype).X=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Mn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Ln(this,n[4]),this.f=Vn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Dn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Wn)),t.b=new Yn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function qn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function jn(t,e,n,r){var i=new Rn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Kn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Mn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Jn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=Sn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(t,e){Qn(t),e=nr(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function $n(t,e){return Qn(t),e=nr(t,e),Nn(t.a.b,e)}function tr(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),X(n)),t.b+=n.length)}function er(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Qn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=J(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,$n(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,function(t){var e=ar[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ar[t]=e),e}),'"')}function cr(){var t=Ir();return Yt&&!!ae&&11==ae||/Edge\/\d+/.test(t)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||s.window;var n="about:blank";t&&(n=Pt(Mt(t)||qt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||s.window;try{t.close()}catch(e){}}function vr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Cr(Ir())==xr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Mt(void 0!==n.href?n.href:String(n))||qt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Ft(e),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=Pt(e),a&&(Jt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new jt(t=(r=xt())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof jt&&t.constructor===jt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new we(function(e){"complete"==s.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function _r(t){return t=t||Ir(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function kr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Tr(){var t=kr();return"ReactNative"===t||"Node"===t}var xr="Firefox";function Cr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?xr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Cr(i=Ir()):"Worker"===r&&(r=Cr(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return s.navigator&&s.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=s.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!s.indexedDB}catch(n){return br()&&!!s.indexedDB}return!1}function Nr(){return(Pr()||"chrome-extension:"===Rr()||_r())&&!Tr()&&Or()&&!br()}function Pr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return s.location&&s.location.protocol||null}function Dr(t){return!dr(t=t||Ir())&&Cr(t)!=xr}function Lr(t){return void 0===t?null:rr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Cr(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=kr(),this.b=dr(t)||"ReactNative"===e}function Br(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!Ar("fireauth.oauthhelper",s)&&!Ar("fireauth.iframe",s))}Vr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Wr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Kr.abcd}catch(Wt){zr=!1}function Yr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Jr(t){var e={};return Qr(e,t),e}function Xr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Xr(t[n]));return e}function $r(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ri]),Yr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){$r.call(this,t),Yr(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[li],r=t[fi],i=t[di];if(t=ti(t[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[yi]=n||null,e[pi]=r):(e[vi]=r||null,e[yi]=r||null,e[pi]=n||null),e[gi]=t||null,Yr(this,_i,i),Yr(this,mi,Xr(e))}x(oi,$r),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",yi="previousEmail",mi="data",_i="operation";function wi(t){var e=Un(t=qn(t),bi)||null,n=Un(t,ki)||null,r=Un(t,Ci)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new E("argument-error",bi+", "+ki+"and "+Ci+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,Ti)||null,languageCode:Un(t,xi)||null,tenantId:Un(t,Ei)||null})}var bi="apiKey",ki="oobCode",Ti="continueUrl",xi="languageCode",Ci="mode",Ei="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new wi(t)}catch(e){return null}}function Ai(t){var e=t[Di];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"==typeof n){e=n[Fi];var r=n[Li];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Li+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new E("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var Oi="android",Ni="dynamicLinkDomain",Pi="handleCodeInApp",Ri="iOS",Di="url",Li="installApp",Mi="minimumVersion",Fi="packageName",Ui="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function Vi(t){var e=Zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new Vi(t)}catch(e){return null}}function Zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:zi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:zi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:zi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Hi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Ki(t){var e={};e["facebook.com"]=$i,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Yi])return new Ji(t)}catch(r){}return null}var Yi="idToken",Qi="providerId";function Ji(t){var e=t[Qi];if(!e&&t[Yi]){var n=Bi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Xi(t){Ji.call(this,t),Yr(this,"profile",Xr((t=Fr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function ro(t){var e=qn(t),n=Un(e,"link"),r=Un(qn(n),"link");return e=Un(e,"deep_link_id"),Un(qn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}x(Xi,Ji),x($i,Xi),x(to,Xi),x(eo,Xi),x(no,Xi);var oo="enroll",ao="signin";function so(){}function uo(t,e){return t.then(function(t){if(t[Ya]){var n=Bi(t[Ya]);if(!n||e!=n.i)throw new E("user-mismatch");return t}throw new E("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new E("user-mismatch"):t})}function co(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Wi(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function mo(t){go.call(this,t,zi),this.a=[]}function _o(){mo.call(this,"facebook.com")}function wo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function bo(){mo.call(this,"github.com")}function ko(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function To(){mo.call(this,"google.com"),this.Ca("profile")}function xo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Co(){go.call(this,"twitter.com",Hi)}function Eo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function So(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new So(t.email,t.password,t.signInMethod):null}function Ao(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(t,e){if(!(e=No(e)))throw new E("argument-error","Invalid email link!");return new So(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Ii(t=ro(t)))&&t.operation===ui?t:null}function Po(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new E("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Po(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Lo(t){try{this.a=t||r.default.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Po({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return xo(o,n);case"facebook.com":return wo(n);case"github.com":return ko(n);case"twitter.com":return Eo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new co(e,a):new fo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Uo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function qo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function jo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return Se(this.a?this.a:this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(t){return gs(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ys(t,n)},co.prototype.c=function(t,e){return uo(ms(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return gs(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ys(t,n)},fo.prototype.c=function(t,e){return uo(ms(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Jb=vt(t),this},x(yo,go),x(mo,go),mo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},mo.prototype.Rb=function(){return X(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},x(_o,mo),Yr(_o,"PROVIDER_ID","facebook.com"),Yr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(bo,mo),Yr(bo,"PROVIDER_ID","github.com"),Yr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),x(To,mo),Yr(To,"PROVIDER_ID","google.com"),Yr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),x(Co,go),Yr(Co,"PROVIDER_ID","twitter.com"),Yr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),So.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?$s(t,Es,{email:this.a,oobCode:this.f}):$s(t,Ks,{email:this.a,password:this.f})},So.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?$s(t,Ss,{idToken:e,email:this.a,oobCode:this.f}):$s(t,js,{idToken:e,email:this.a,password:this.f})},So.prototype.c=function(t,e){return uo(this.ka(t),e)},So.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Ao,{PROVIDER_ID:"password"}),Qr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.gb(Do(this))},Po.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,$s(t,Qs,n)},Po.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",uo(t=$s(t,Js,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Lo.prototype.gb=function(t,e){var n=this.a.a;return Se(e.verify()).then(function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then(function(t){return function(t,e){return $s(t,Bs,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return $s(t,Zs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return $s(t,Us,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Lo,{PROVIDER_ID:"phone"}),Qr(Lo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Zo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function zo(t,e,n){E.call(this,t,n),(t=e||{}).Kb&&Yr(this,"email",t.Kb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.$b&&Yr(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Wo(){}function Ko(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function ta(t){this.f=t,this.b=this.c=this.a=null}function ea(t,e){this.name=t,this.value=e}x(Ho,E),x(zo,E),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},zo.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,x(Ko,Wo),Ko.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Ko,x(Qo,Wo),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},ea.prototype.toString=function(){return this.name};var na=new ea("SEVERE",1e3),ra=new ea("WARNING",900),ia=new ea("CONFIG",700),oa=new ea("FINE",500);function aa(t){return t.c?t.c:t.a?aa(t.a):(M("Root logger has no level set."),null)}ta.prototype.log=function(t,e,n){if(t.value>=aa(this).value)for(p(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var sa={},ua=null;function ca(t){var e;if(ua||(ua=new ta(""),sa[""]=ua,ua.c=ia),!(e=sa[t])){e=new ta(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ca(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,sa[t]=e}return e}function la(t,e){t&&t.log(oa,e,void 0)}function ha(t){this.f=t}function fa(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=da,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ca("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}x(ha,Wo),ha.prototype.a=function(){return new fa(this.f)},ha.prototype.b=function(t){return function(){return t}}({}),x(fa,bn);var da=0;function pa(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function va(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){bn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ma,this.u=this.S=!1}(t=fa.prototype).open=function(t,e){if(this.readyState!=da)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this)),this.readyState=da},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,pa(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?va(this):ga(this),3==this.readyState&&pa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,va(this))},t.sc=function(t){this.a&&(this.response=t,va(this))},t.Va=function(t){var e=this.i;e&&e.log(ra,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&va(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ra,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ra,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),x(ya,bn);var ma="";ya.prototype.b=ca("goog.net.XhrIo");var _a=/^https?$/i,wa=["POST","PUT"];function ba(t){return"content-type"==t.toLowerCase()}function ka(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ta(t),Ca(t)}function Ta(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xa(t){if(t.c&&void 0!==a)if(t.C[1]&&4==Sa(t)&&2==Ia(t))la(t.b,Aa(t,"Local request error detected and ignored"));else if(t.i&&4==Sa(t))Cn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Sa(t)){la(t.b,Aa(t,"Request complete")),t.c=!1;try{var e,n=Ia(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!_a.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Sa(t)?t.a.statusText:""}catch(l){la(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ia(t)+"]",Ta(t)}}finally{Ca(t)}}}function Ca(t,e){if(t.a){Ea(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(na,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ea(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Sa(t){return t.a?t.a.readyState:0}function Ia(t){try{return 2<Sa(t)?t.a.status:-1}catch(e){return-1}}function Aa(t,e){return e+" ["+t.P+" "+t.l+" "+Ia(t)+"]"}function Oa(t){var e=Va;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Na(t,e,n){t.a=!0,t.c=n,t.f=!e,La(t)}function Pa(t){if(t.a){if(!t.v)throw new Ma(t);t.v=!1}}function Ra(t,e,n,r){t.g.push([e,n,r]),t.a&&La(t)}function Da(t){return W(t.g,function(t){return p(t[1])})}function La(t){if(t.h&&t.a&&Da(t)){var e=t.h,n=qa[e];n&&(s.clearTimeout(n.a),delete qa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(R(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Da(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Oa?(Ra(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Ua(e),qa[e.a]=e,t.h=e.a)}function Ma(){D.call(this)}function Fa(){D.call(this)}function Ua(t){this.a=s.setTimeout(b(this.c,this),0),this.b=t}(t=ya.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",la(this.b,Aa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(la(this.b,Aa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ca(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ca(this,!0)),ya.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?xa(this):this.Jc())},t.Jc=function(){xa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return la(this.b,"Can not get response: "+e.message),null}},Oa.prototype.cancel=function(t){if(this.a)this.c instanceof Oa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fa(this),Pa(this),Na(this,!1,t))}},Oa.prototype.m=function(t,e){this.i=!1,Na(this,t,e)},Oa.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return Ra(this,r,function(t){t instanceof Fa?o.cancel():i(t)}),o.then(t,e,n)},Oa.prototype.$goog_Thenable=!0,x(Ma,D),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",x(Fa,D),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",Ua.prototype.c=function(){throw delete qa[this.a],this.b};var qa={};function ja(t){var e={},n=e.document||document,r=Et(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Oa(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Ba(i,!0);var t=new za(Ha,"Timeout reached for loading script "+r);Pa(a),Na(a,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,e.xd||!1,u),Pa(a),Na(a,!0,null))},i.onerror=function(){Ba(i,!0,u);var t=new za(Za,"Error while loading script "+r);Pa(a),Na(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=Et(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Va(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Ba(t,!0,this.Ma)}}function Ba(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Za=0,Ha=1;function za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Ga(t){this.f=t}function Wa(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Qa,this.g=vt(t.secureTokenHeaders||Ja),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Xa,this.a=vt(t.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!br())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new ha(self):Tr()?new Ga(n):new Qo,this.b=null}x(za,D),x(Ga,Wo),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Ka,Ya="idToken",Qa=new Vr(3e4,6e4),Ja={"Content-Type":"application/x-www-form-urlencoded"},Xa=new Vr(3e4,6e4),$a={"Content-Type":"application/json"};function ts(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function es(t,e){e&&(t.l=ns("https://securetoken.googleapis.com/v1/token",e),t.h=ns("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ns("https://identitytoolkit.googleapis.com/v2/",e))}function ns(t,e){return t=qn(t),e=qn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function rs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function is(t,e,n,r,i,o,a){(function(){var t=Ir();return!((t="Chrome"!=Cr(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&ae&&!(9<ae))})()||br()?t=b(t.u,t):(Ka||(Ka=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[as]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ra(t,null,e,void 0)}(ja(St(os,{onload:as})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=b(t.s,t)),t(e,n,r,i,o,a)}Wa.prototype.T=function(){return this.b},Wa.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ya(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}kn(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return la(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Tn(a,"ready",function(){u&&clearTimeout(u),ze(this)}),Tn(a,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Bo),t.a.onreadystatechange=b(t.Wb,t);try{la(t.b,Aa(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return la(t.b,Aa(t,"Error opening Xhr: "+a.message)),void ka(t,a)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=In(t),r=Sn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ba,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!K(wa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ea(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),la(t.b,Aa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),la(t.b,Aa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){la(t.b,Aa(t,"Send error: "+a.message)),ka(t,a)}}(a,t,n,r,i)};var os=new _t(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),as="__fcb"+Math.floor(1e6*Math.random()).toString();function ss(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new E("invalid-email")}function us(t){"email"in t&&ss(t)}function cs(t){if(!t[Ya]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,vt(t));throw new E("internal-error")}}function ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Wa.prototype.s=function(t,e,n,r,i){var o=this;Ka.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Wa.prototype.Ab=function(){return $s(this,Vs,{})},Wa.prototype.Cb=function(t,e){return $s(this,qs,{idToken:t,email:e})},Wa.prototype.Db=function(t,e){return $s(this,js,{idToken:t,password:e})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fs(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ds(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ps(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&$n(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function vs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=tu(t.errorMessage)),e)throw e;cs(t)}function gs(t,e){return e.returnIdpCredential=!0,$s(t,Hs,e)}function ys(t,e){return e.returnIdpCredential=!0,$s(t,Gs,e)}function ms(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$s(t,zs,e)}function _s(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Wa.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(hs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),$s(this,qs,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),$s(this,Ds,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),$s(this,Ns,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$s(this,Ps,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$s(this,Rs,t)},t.gb=function(t){return $s(this,Ys,t)},t.ob=function(t,e){return $s(this,Fs,{oobCode:t,newPassword:e})},t.Sa=function(t){return $s(this,bs,{oobCode:t})},t.kb=function(t){return $s(this,ws,{oobCode:t})};var ws={endpoint:"setAccountInfo",A:_s,Z:"email",B:!0},bs={endpoint:"resetPassword",A:_s,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(t){if(ss(t),!t.password)throw new E("weak-password")},G:cs,V:!0,B:!0},Ts={endpoint:"createAuthUri",B:!0},xs={endpoint:"deleteAccount",O:["idToken"]},Cs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new E("internal-error")}},Es={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ss,G:cs,V:!0,B:!0},Ss={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ss,G:cs,V:!0},Is={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fs,G:cs,B:!0,Na:!0},As={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fs,G:cs,B:!0,Na:!0},Os={endpoint:"getAccountInfo"},Ns={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ss(t)},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ss(t)},Z:"email",B:!0},Ls={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ms={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Fs={endpoint:"resetPassword",A:_s,Z:"email",B:!0},Us={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qs={endpoint:"setAccountInfo",O:["idToken"],A:us,V:!0},js={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(us(t),!t.password)throw new E("weak-password")},G:cs,V:!0},Vs={endpoint:"signupNewUser",G:cs,V:!0,B:!0},Bs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Zs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},B:!0,Na:!0},Hs={endpoint:"verifyAssertion",A:ds,Za:ps,G:vs,V:!0,B:!0},zs={endpoint:"verifyAssertion",A:ds,Za:ps,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw tu(t.errorMessage);cs(t)},V:!0,B:!0},Gs={endpoint:"verifyAssertion",A:function(t){if(ds(t),!t.idToken)throw new E("internal-error")},Za:ps,G:vs,V:!0},Ws={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:cs,V:!0,B:!0},Ks={endpoint:"verifyPassword",A:function(t){if(ss(t),!t.password)throw new E("wrong-password")},G:cs,V:!0,B:!0},Ys={endpoint:"verifyPhoneNumber",A:ls,G:cs,B:!0},Qs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");ls(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);cs(t)}},Js={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ls,G:cs,B:!0},Xs={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ya]^!!t.refreshToken)throw new E("internal-error")},B:!0,Na:!0};function $s(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ie(new E("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Se(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=qn(e+n);Fn(s,"key",t.c),a&&Fn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(s,c,i[c]);return new we(function(e,n){is(t,s.toString(),function(t){t?t.error?n(eu(t,o||{})):e(t):n(new E("network-request-failed"))},r,u?void 0:rr(Mr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new E("internal-error");return r[e.Z]})}function tu(t){return eu({error:{errors:[{message:t}],code:400,message:t}})}function eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Lr(t)),new E("internal-error",e)}function nu(t){this.b=t,this.a=null,this.sb=function(t){return(au||(au=new we(function(t,e){function n(){jr(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:iu.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},Se(ja(r=St(ru,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new we(function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ou.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ru=new _t(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new Vr(3e4,6e4),ou=new Vr(5e3,15e3),au=null;function su(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?jn((t=qn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):jn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(t){try{return r.default.app(t).auth().Ga()}catch(e){return[]}}function lu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(t){var e=lr();return function(t){return $s(t,Ls,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=qn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function fu(t){return t.m||(t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.i,r=cu(t.b),i=new su(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new nu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)})}(t)})),t.m}function du(t){return t.l||(t.C=t.c?Sr(t.c,cu(t.b)):null,t.l=new Wa(t.g,P(t.i),t.C),t.f&&es(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new uu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(l).toString()}function vu(t){if(this.a=t||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gu(t){this.b=t,this.a={},this.f=b(this.c,this)}su.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},uu.prototype.zb=function(t){return this.h=t,this},uu.prototype.toString=function(){if(this.v){var t=qn(this.v.url);t=jn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=jn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.default.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Fn(t,"providerId",this.a.providerId),e=Mr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",Lr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Un(t,s)&&Fn(t,s,this.b[s]);return this.h?Fn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Xn(t.b,"eid"),(s=cu(this.c)).length&&Fn(t,"fw",s.join(",")),t.toString()},(t=lu.prototype).Pb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.sb.then(function(){return new we(function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new we(function(e){return function n(){En(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return En(n).then(function(){e(r)})})},t.Yb=function(){var t=Ir();return!Dr(t)&&!qr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ie(new E("popup-blocked"));if(a&&!Dr())return this.ma().o(function(e){pr(t),i(e)}),r(),Se();this.a||(this.a=hu(du(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),a||hr(pu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then(function(){Uo(e),hr(pu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new E("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,function(e){return e==t})},(t=vu.prototype).get=function(t){return Se(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Se(this.a.setItem(t,Lr(e)))},t.U=function(t){return Se(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,mu=[];function _u(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ie(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Tu(t,c),e}).o(function(e){throw Tu(t,c),e})}function Tu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function xu(){if(!Iu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(H(mu,function(n){n.b==t&&(e=n)}),!e){var e=new gu(t);mu.push(e)}return e}(),_u(this.v,"keyChanged",function(e,n){return Ru(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),_u(this.v,"ping",function(){return Se(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Se().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Se(null)}().then(function(e){(t.h=e)&&(t.g=new bu(new wu(e)),ku(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Cu(t){return new we(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Cu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Eu(t){return t.i||(t.i=Cu(t)),t.i}function Su(t,e){var n=0;return new we(function r(i,o){Eu(t).then(e).then(i).o(function(e){if(!(3<++n))return Eu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Iu(){try{return!!s.indexedDB}catch(Wt){return!1}}function Au(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Pu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Se()}function Ru(t){return Eu(t).then(function(t){var e=Au(Ou(t,!1));return e.getAll?Nu(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Lu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then(function(){if(Iu()){var t=Ur(),r="__sak"+t;return yu||(yu=new xu),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==kr();if(!(t=Uu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==kr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Uu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=s.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){this.type="nullStorage"}function ju(){if(!function(){var t="Node"==kr();if(!(t=Vu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==kr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Vu()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Vu(){try{var t=s.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){var t={};t.Browser=zu,t.Node=Gu,t.ReactNative=Wu,t.Worker=Ku,this.a=t[kr()]}gu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Se().then(function(){return e(t.origin,t.data.data)}))}),Oe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)Tu(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return Su(this,function(e){return Nu((e=Au(Ou(e,!0))).get(t))}).then(function(i){return Su(n,function(o){if(o=Au(Ou(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Nu(o.add(a))})}).then(function(){return n.c[t]=e,Pu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Su(this,function(e){return Nu(Au(Ou(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Su(this,function(r){return n=!0,e.b++,Nu(Au(Ou(r,!0)).delete(t))}).then(function(){return delete e.c[t],Pu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Ru(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Lu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Mu.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.U=function(t){return delete this.a[t],Se()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Se().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Se().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Se().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&cn(s.window,"storage",t)},t.ia=function(t){s.window&&fn(s.window,"storage",t)},(t=qu.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.U=function(){return Se()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Se().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Se().then(function(){var r=Lr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Se().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Zu,Hu,zu={F:Fu,cb:ju},Gu={F:Fu,cb:ju},Wu={F:vu,cb:qu},Ku={F:Fu,cb:qu},Yu={rd:"local",NONE:"none",td:"session"};function Qu(){var t=!(qr(Ir())||!wr()),e=Dr(),n=Or();this.m=t,this.h=e,this.l=n,this.a={},Zu||(Zu=new Bu),t=Zu;try{this.g=!cr()&&Hr()||!s.indexedDB?new t.a.F:new Lu(br()?new Mu:new t.a.F)}catch(r){this.g=new Mu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Mu}this.v=new Mu,this.f=b(this.Zb,this),this.b={}}function Ju(){return Hu||(Hu=new Qu),Hu}function Xu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function $u(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tc(t,e,n){return n=$u(e,n),"local"==e.F&&(t.b[n]=null),Xu(t,e.F).U(n)}function ec(t){t.c&&(clearInterval(t.c),t.c=null)}function nc(t){this.a=t,this.b=Ju()}(t=Qu.prototype).get=function(t,e){return Xu(this,t.F).get($u(t,e))},t.set=function(t,e,n){var r=$u(t,n),i=this,o=Xu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=$u(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(Xu(this,"local").ca(this.f),this.h||(cr()||!Hr())&&s.indexedDB||!this.l||function(t){ec(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Je({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=$u(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Xu(this,"local").ia(this.f),ec(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xu(this,"local").ia(this.f):ec(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},Yt&&ae&&10==ae&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var rc,ic={name:"authEvent",F:"local"};function oc(){this.a=Ju()}function ac(t,e){this.b=sc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=s.Int32Array?new Int32Array(pc):pc),this.reset()}x(ac,function(){this.b=-1});for(var sc=64,uc=sc-1,cc=[],lc=0;lc<uc;lc++)cc[lc]=0;var hc=J(128,cc);function fc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|rc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function dc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vc(){ac.call(this,8,gc)}x(vc,ac);var gc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new oc,this.g=new nc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(t){return new E("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wc(t){return t.f||(t.f=t.ma().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),bc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Un(o=qn(i),"firebaseError")||null))?S(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)})}var n=new qo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=En(500).then(function(){return bc(t).then(function(){r||_c(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Zo||(Zo=new Vo),function(t){var e=Zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function bc(t){var e=null;return function(t){return t.b.get(ic,t.a).then(function(t){return jo(t)})}(t.g).then(function(n){return e=n,tc((n=t.g).b,ic,n.a)}).then(function(){return e})}function kc(t){this.a=t,this.b=Ju()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?mr().then(function(){return new we(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ar("universalLinks.subscribe",s))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",s))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",s))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",s))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new E("cordova-not-ready")})},t.Pb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Se()},t.Nb=function(){return Ie(new E("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ie(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Se().then(function(){return Uo(e),wc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new qo(e,r,null,o,new E("no-auth-event"),null,i),u=Ar("BuildInfo.packageName",s);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",s),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ir().toLowerCase().match(/android/))return Ie(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new vc;dc(e,t),t=[];var n=8*e.g;dc(e,hc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=pu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ic,a.w(),e)}).then(function(){var e=Ar("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=Ar("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Br()&&c()},o.addEventListener("resume",c=function(){a||(a=En(2e3).then(function(){e(new E("redirect-cancelled-by-user"))}))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return bc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),wc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new E("no-auth-event")),t(e))})},t.Ta=function(t){Q(this.b,function(e){return e==t})};var Tc={name:"pendingRedirect",F:"session"};function xc(t){return tc(t.b,Tc,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new jc,this.C=new zc,this.g=new kc(Uc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ec(this.D,this.v,this.m,I,this.J)}function Ec(t,e,n,i,o){var a=r.default.SDK_VERSION||null;return _r()?new yc(t,e,n,a,i,o):new lu(t,e,n,a,i,o)}function Sc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Ic(t){t.a.Yb()&&Sc(t).o(function(e){var n=new qo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Ub()||Vc(t.b)}function Ac(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Tc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?xc(t.g).then(function(){Sc(t).o(function(e){var n=new qo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Ic(t)}).o(function(){Ic(t)})}function Oc(t,e){Q(t.h,function(t){return t==e})}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Ec(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Vc(this.b),e};var Nc=new Vr(2e3,1e4),Pc=new Vr(3e4,6e4);function Rc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Lc(t,e,n,r,i){var o;return function(t){return t.b.set(Tc,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Dc(e))throw new E("operation-not-supported-in-this-environment");return o=e,xc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new we(function(){}):xc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Mc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Nc.get())}Cc.prototype.ra=function(){return this.b.ra()};var Fc={};function Uc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=Uc(e,n,r);return Fc[i]||(Fc[i]=new Cc(t,e,n,r)),Fc[i]}function jc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function Bc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function Zc(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Zc(t,n):Zc(t,{user:null}),t.f=[],t.c=[]}function zc(){}function Gc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Wc(t,e){this.a=e,Yr(this,"verificationId",t)}function Kc(t,e,n,r){return new Lo(t).gb(e,n).then(function(t){return new Wc(t,r)})}function Yc(t){var e=Zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Zr(1e3*e.exp),authTime:Zr(1e3*e.auth_time),issuedAtTime:Zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[Xc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;H(e[Jc]||[],function(t){(t=ti(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}jc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},jc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),Se()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){Hc(t,s,e,null)}).o(function(e){Hc(t,s,null,e)})}(this,t,e):Ie(new E("invalid-auth-event")):(Hc(this,!1,null,null),Se())}else Ie(new E("invalid-auth-event"))},jc.prototype.ra=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=En(Pc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},zc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Se()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ie(new E("invalid-auth-event"))}else Ie(new E("invalid-auth-event"))},Wc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Xc="mfaPendingCredential";function $c(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Yr(this,"resolver",this.b)}function tl(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new $c(e,t.serverResponse,n,t.message)}catch(r){}return null}function el(){}function nl(t){Yr(this,"factorId",t.fa),this.a=t}function rl(t){if(nl.call(this,t),this.a.fa!=Lo.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function ol(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function sl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return Br()||!t?Se():new we(function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){ul(t,!0)}).o(function(e){t.i(e)&&ul(t,!1)})}function cl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ll(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hl(t,e){t.b=Bi(e[Ya]||""),t.a=e.refreshToken,ll(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Zr(e||null),creationTime:Zr(t||null)})}function dl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.default.SDK_VERSION?Sr(r.default.SDK_VERSION):null;this.a=new Wa(this.l,P(I),i),(this.u=t.emulatorConfig||null)&&es(this.a,this.u),this.h=new cl(this.a),Tl(this,e[Ya]),hl(this.h,e),Yr(this,"refreshToken",this.h.a),El(this,n||{}),bn.call(this),this.P=!1,this.s&&Nr()&&(this.b=qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new sl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=b(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){vl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){ml(o,t.f)},this.ja=null,this.S=new ol(this,n),Yr(this,"multiFactor",this.S)}function vl(t,e){t.u=e,es(t.a,e),t.b&&(e=t.b,t.b=qc(t.s,t.l,t.m,t.u),t.P&&(Oc(e,t),Ac(t.b,t)))}function gl(t,e){t.qa&&fn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function yl(t,e){t.$&&fn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function ml(t,e){t.aa=e,rs(t.a,r.default.SDK_VERSION?Sr(r.default.SDK_VERSION,t.aa):null)}function _l(t,e){t.ja&&fn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function wl(t){try{return r.default.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function bl(t){t.J||t.D.b||(t.D.start(),fn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function kl(t){fn(t,"tokenChanged",t.ba),t.D.stop()}function Tl(t,e){t.Aa=e,Yr(t,"_lat",e)}function xl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Oe(e).then(function(){return t})}function Cl(t){t.b&&!t.P&&(t.P=!0,Ac(t.b,t))}function El(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Sl(){}function Il(t){return Se().then(function(){if(t.J)throw new E("app-deleted")})}function Al(t){return G(t.providerData,function(t){return t.providerId})}function Ol(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Rl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),H(e.providerData,function(e){Ol(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yr(t,"refreshToken",t.h.a),al(t.S,e.S.b))}function Dl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return $s(t.a,Os,{idToken:e}).then(b(t.Kc,t))}(t,e).then(function(){return n||Pl(t,"isAnonymous",!1),e})})}function Ll(t,e){e[Ya]&&t.Aa!=e[Ya]&&(hl(t.h,e),t.dispatchEvent(new il("tokenChanged")),Tl(t,e[Ya]),Pl(t,"refreshToken",t.h.a))}function Ml(t,e){return Dl(t).then(function(){if(K(Al(t),e))return xl(t).then(function(){throw new E("provider-already-linked")})})}function Fl(t,e,n){return Jr({user:t,credential:Fo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ul(t,e){return Ll(t,e),t.reload().then(function(){return t})}function ql(t,e,n,i,o){if(!Nr())return Ie(new E("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ie(t.i);var a=Wi(n.providerId),s=Ur(t.uid+":::"),u=null;(!Dr()||wr())&&t.s&&n.isOAuthProvider&&(u=pu(t.s,t.l,t.m,e,n,null,s,r.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=vr(u,a&&a.va,a&&a.ua);return i=i().then(function(){if(Vl(t),!o)return t.I().then(function(){})}).then(function(){return Rc(t.b,c,e,n,s,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.na(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Mc(t.b,t,e,c,s)})}).then(function(t){return c&&pr(c),t?Jr(t):null}).o(function(t){throw c&&pr(c),t}),Bl(t,i,o)}function jl(t,e,n,r,i){if(!Nr())return Ie(new E("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ie(t.i);var o=null,a=Ur(t.uid+":::");return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,xl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(zl,t.w(),e.a)),e}).then(function(){return Lc(t.b,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Gl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,r,i)}function Vl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Bl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ie(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new il("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){Y(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),wl(t),b(t.jc,t))),n||e})}function Zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ya]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new pl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Ol(i,Jr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Hl(t){this.a=t,this.b=Ju()}Qc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=vt(e.f);return delete n[Jc],delete n[Xc],yt(n,t),e.g(n)})},x($c,E),el.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:Do(t.a)}),$s(e,Is,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),$s(e,As,n)})}(this,t,e)},x(nl,el),x(rl,nl),x(il,Qe),(t=ol.prototype).yc=function(t){al(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new io(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ll(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return $s(r,Xs,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return al(e,r),Ll(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},sl.prototype.start=function(){this.a=this.c,ul(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},cl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new E("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?is(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(eu(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))},"POST",Jn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))})}(t.f,e).then(function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,ll(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(pl,bn),pl.prototype.xa=function(t){this.za=t,ts(this.a,t)},pl.prototype.la=function(){return this.za},pl.prototype.Ga=function(){return X(this.aa)},pl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return Bl(this,Il(this).then(function(){return Dl(t).then(function(){return xl(t)}).then(Sl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Yc(t)})},t.I=function(t){var e=this;return Bl(this,Il(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.Aa&&(Tl(e,t.accessToken),e.dispatchEvent(new il("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");El(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new dl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:t}))},t.Lc=function(t){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return Ll(e,t),n=Fl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Bl(this,Ml(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Fl(e,t,"link"),Ul(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bl(this,Ml(this,"phone").then(function(){return Kc(wl(n),t,e,b(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Bl(this,Se().then(function(){return Kc(wl(n),t,e,b(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ll(e,t),e.reload()}))},t.Db=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ll(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Il(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ll(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),xl(e)}).then(Sl))},t.cd=function(t){var e=this;return Bl(this,Dl(this).then(function(n){return K(Al(e),t)?function(t,e,n){return $s(t,Cs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Al(e),function(t){n[t]||Nl(e,t)}),n[Lo.PROVIDER_ID]||Yr(e,"phoneNumber",null),xl(e)}):xl(e).then(function(){throw new E("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return $s(t.a,xs,{idToken:e})}).then(function(){t.dispatchEvent(new il("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");gl(t,null),yl(t,null),_l(t,null),t.N=[],t.J=!0,kl(t),Yr(t,"refreshToken",null),t.b&&Oc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,function(){return Ml(e,t.providerId).then(function(){return xl(e)})},!1)},t.Nc=function(t){return ql(this,"reauthViaPopup",t,function(){return Se()},!0)},t.Fc=function(t){var e=this;return jl(this,"linkViaRedirect",t,function(){return Ml(e,t.providerId)},!1)},t.Oc=function(t){return jl(this,"reauthViaRedirect",t,function(){return Se()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return ys(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Fl(i,t,"link"),Ul(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,Se().then(function(){return uo(ms(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Fl(i,t,"reauthenticate"),Ll(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:qi(new Ai(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Bl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:qi(new Ai(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bl(this,t=uo(Se(t),n.uid).then(function(t){return e=Fl(n,t,"reauthenticate"),Ll(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.S.w()),t};var zl={name:"redirectUser",F:"session"};function Gl(t){return tc(t.b,zl,t.a)}function Wl(t){this.a=t,this.b=Ju(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),r=Ql("none");return function(t,e,n){var r=$u(e,n),i=Xu(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Fr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Yl,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,Kl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,b(this.g,this))}function Kl(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(tc(t.b,Ql(Yu[n]),t.a));return r.push(tc(t.b,Yl,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ae(t[s],k(o,s),a);else e(i)})}(r)}Wl.prototype.g=function(){var t=this,e=Ql("local");th(this,function(){return Se().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Kl(t,"local").then(function(){t.c=e})})})};var Yl={name:"persistence",F:"session"};function Ql(t){return{name:"authUser",F:t}}function Jl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Xl(t){return th(t,function(){return tc(t.b,t.c,t.a)})}function $l(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Zl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Yr(this,"settings",new Gc),Yr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new E("invalid-api-key");t=r.default.SDK_VERSION?Sr(r.default.SDK_VERSION):null,this.a=new Wa(ch(this).options&&ch(this).options.apiKey,P(I),t),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(b(this.Ac,this)),sh(this,null),this.i=new Wl(ch(this).options.apiKey+":"+ch(this).name),this.D=new Hl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(zl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Zl(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Gl(t.D)});return dh(t,e)}(t).then(function(){return $l(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Jl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Xl(t.i)})):null}).then(function(e){sh(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return ah(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ql("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=qc(e,n,ch(t).name,t.R),Ac(t.b,t),lh(t)&&Cl(lh(t)),t.m){Cl(t.m);var r=t.m;r.xa(t.la()),gl(r,t),ml(r=t.m,t.J),_l(r,t),vl(r=t.m,t.R),yl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=qn(this.R.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function nh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function rh(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Qe.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||Ie(new E("auth-domain-config-required"))}function ah(t){if(!Nr())return Ie(new E("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.ra()}).then(function(t){return t?Jr(t):null});return dh(t,e)}function sh(t,e){lh(t)&&(function(t,e){Q(t.W,function(t){return t==e})}(lh(t),t.Ba),fn(lh(t),"tokenChanged",t.qa),fn(lh(t),"userDeleted",t.za),fn(lh(t),"userInvalidated",t.Aa),kl(lh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&bl(e)),Yr(t,"currentUser",e),e&&(e.xa(t.la()),gl(e,t),ml(e,t.J),_l(e,t),vl(e,t.R),yl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then(function(e){return n=Fo(e),r=Ki(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new pl(t,e);return n&&(i.ha=n),r&&ml(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(sh(t,e),Cl(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,b(t.kc,t))),n||e}).then(function(){return Jr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](hh(t))}}function dh(t,e){return t.P.push(e),e.oa(function(){Y(t.P,e)}),e}function ph(){}function vh(){this.a={},this.b=1e12}Wl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(kr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Iu()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Kl(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):Se()})},x(eh,bn),x(nh,Qe),x(rh,Qe),x(ih,Qe),(t=eh.prototype).yb=function(t){return dh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ts(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new E("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,es(this.a,this.R),this.dispatchEvent(new rh(this.R))}},t.Gc=function(t){this.J.push(t),rs(this.a,r.default.SDK_VERSION?Sr(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return X(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,gs(i.a,o))})},t.Xc=function(t){if(!Nr())return Ie(new E("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),i=Ur(),o=null;(!Dr()||wr())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=pu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=vr(o,n&&n.va,n&&n.ua);return dh(this,n=oh(this).then(function(n){return Rc(n,a,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new we(function(t,n){e.na("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Mc(e.b,e,"signInViaPopup",a,i)})}).then(function(t){return a&&pr(a),t?Jr(t):null}).o(function(t){throw a&&pr(a),t}))},t.Yc=function(t){if(!Nr())return Ie(new E("operation-not-supported-in-this-environment"));var e=this;return dh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Yl,t.c.F,t.a)})}(e.i)}).then(function(){return Lc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return ah(this).then(function(e){return t.b&&Bc(t.b.b),e}).o(function(e){throw t.b&&Bc(t.b.b),e})},t.dd=function(t){if(!t)return Ie(new E("null-user"));if(this.S!=t.tenantId)return Ie(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ya]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new pl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&ml(e,r),Rl(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(sh(e,r),Cl(r),e.da(r))}).then(function(){fh(e)}))},t.Bb=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&Bc(t.b.b),lh(t)?(sh(t,null),Xl(t.i).then(function(){fh(t)})):Se()}))},t.Zc=function(){var t=this;return $l(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(lh(t),e),lh(t).I();(lh(t)||e)&&(sh(t,e),e&&(Cl(e),e.ha=t.D),t.b&&Ac(t.b,t),fh(t))}})},t.da=function(t){return Jl(this.i,t)},t.mc=function(){fh(this),this.da(lh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return uh(e,Se(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),dh(t,t.h.then(function(){!t.l&&K(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return uh(e,$s(e.a,Ws,{token:t}))}).then(function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return uh(n,$s(n.a,Ks,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,$s(n.a,ks,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return uh(e,t.ka(e.a))})},t.Sc=function(t){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.Ab()).then(function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&bl(lh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&kl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||K(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ql("local"),t.a,this.ja),this.b&&(Oc(this.b,this),Bc(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return $s(t,Ts,{identifier:e,continueUri:Pr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!No(t)},t.xb=function(t,e){var n=this;return dh(this,Se().then(function(){var t=new Ai(e);if(!t.c)throw new E("argument-error",Pi+" must be true when sending sign in link to email");return qi(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return dh(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return dh(this,this.a.Sa(t).then(function(t){return new ai(t)}))},t.kb=function(t){return dh(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return dh(this,Se().then(function(){return void 0===e||pt(e)?{}:qi(new Ai(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,Kc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return dh(this,Se().then(function(){var r=e||lr(),i=Oo(t,r);if(!(r=No(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new E("tenant-id-mismatch");return n.ab(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function yh(t,e){return(e=mh(e))&&t.a[e]||null}function mh(t){return(t=void 0===t?1e12:t)?t.toString():null}function _h(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function bh(){}function kh(){}vh.prototype.render=function(t,e){return this.a[this.b.toString()]=new _h(t,e),this.b++},vh.prototype.reset=function(t){var e=yh(this,t);t=mh(t),e&&t&&(e.delete(),delete this.a[t])},vh.prototype.getResponse=function(t){return(t=yh(this,t))?t.getResponse():null},vh.prototype.execute=function(t){(t=yh(this,t))&&t.execute()},_h.prototype.getResponse=function(){return wh(this),this.b},_h.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},_h.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Yr(bh,"FACTOR_ID","phone"),kh.prototype.g=function(){return gh||(gh=new vh),Se(gh)},kh.prototype.c=function(){};var Th=null;function xh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new _t(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Eh=new Vr(3e4,6e4);xh.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new E("network-request-failed"))},Eh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},Se(ja(St(Ch,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},xh.prototype.c=function(){this.b--};var Sh=null;function Ih(t,e,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Th||(Th=new kh),a=Th):(Sh||(Sh=new xh),a=Sh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wa(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ah];this.a[Ah]=function(t){if(Rh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ar(c,s);"function"==typeof e&&e(t)}};var l=this.a[Oh];this.a[Oh]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,s);"function"==typeof t&&t()}}}var Ah="callback",Oh="expired-callback",Nh="sitekey",Ph="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Dh(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function Lh(t){if(t.J)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function Mh(t,e,n){var i=!1;try{this.b=n||r.default.app()}catch(s){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.default.SDK_VERSION?Sr(r.default.SDK_VERSION,a):null,Ih.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,P(I),i)}function Fh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Uh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=Ih.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Dh(this,Se().then(function(){if(Pr()&&!br())return mr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,$s(t.s,Ms,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Lh(this);var t=this;return Dh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!se&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Lh(this);var t=this;return Dh(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){Q(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Lh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Lh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},x(Mh,Ih);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function jh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function zh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return v(t)&&"string"==typeof t.uid}function Wh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Kh(t,e){for(var n in e){var r=e[n].name;t[r]=Jh(r,t[n],e[n].j)}}function Yh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k(function(t){return this[t]},n),set:k(function(t,e,n,r){Fh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Jh(e,n,r)}function Jh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Fh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kh(eh.prototype,{kb:{name:"applyActionCode",j:[qh("code")]},Sa:{name:"checkActionCode",j:[qh("code")]},ob:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Wh(Vh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Wh(Vh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[qh("email"),Wh(Vh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[qh("email"),Vh("actionCodeSettings")]},yb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Wh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof pl)}},Zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Vh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Yh(eh.prototype,{lc:{name:"languageCode",lb:Wh(qh(),Zh(),"languageCode")},ti:{name:"tenantId",lb:Wh(qh(),Zh(),"tenantId")}}),(eh.Persistence=Yu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Kh(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[jh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},rb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},ub:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Wh(Vh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Cb:{name:"updateEmail",j:[qh("email")]},Db:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Eb:{name:"updateProfile",j:[Vh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Wh(Vh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(vh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:jh("appVerificationDisabledForTesting")}}),Kh(Wc.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),Qh(so,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,Io,Ro,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Wh(qh(),Vh(),"json")]),Qh(Ao,"credential",function(t,e){return new So(t,e)},[qh("email"),qh("password")]),Kh(So.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Kh(_o.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Qh(_o,"credential",wo,[Wh(qh(),Vh(),"token")]),Qh(Ao,"credentialWithLink",Oo,[qh("email"),qh("emailLink")]),Kh(bo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Qh(bo,"credential",ko,[Wh(qh(),Vh(),"token")]),Kh(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Qh(To,"credential",xo,[Wh(qh(),Wh(Vh(),Zh()),"idToken"),Wh(qh(),Zh(),"accessToken",!0)]),Kh(Co.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Qh(Co,"credential",Eo,[Wh(qh(),Vh(),"token"),qh("secret",!0)]),Kh(mo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Wh(qh(),Wh(Vh(),Zh()),"optionsOrIdToken"),Wh(qh(),Zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Kh(fo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Kh(co.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Qh(Lo,"credential",Mo,[qh("verificationId"),qh("verificationCode")]),Kh(Lo.prototype,{gb:{name:"verifyPhoneNumber",j:[Wh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?zh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?zh(t.session,ao)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?zh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Kh(Po.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Kh(E.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh(zo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh(Ho.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh($c.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh(Qc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Kh(ol.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Wh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},qh(),"multiFactorInfoIdentifier")]}}),Kh(Mh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(wi,"parseLink",Ii,[qh("link")]),Qh(bh,"assertion",function(t){return new rl(t)},[Hh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:so,Error:E};Qh(t,"EmailAuthProvider",Ao,[]),Qh(t,"FacebookAuthProvider",_o,[]),Qh(t,"GithubAuthProvider",bo,[]),Qh(t,"GoogleAuthProvider",To,[]),Qh(t,"TwitterAuthProvider",Co,[]),Qh(t,"OAuthProvider",mo,[qh("providerId")]),Qh(t,"SAMLAuthProvider",yo,[qh("providerId")]),Qh(t,"PhoneAuthProvider",Lo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Qh(t,"RecaptchaVerifier",Mh,[Wh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.default.app.App)}}]),Qh(t,"ActionCodeURL",wi,[]),Qh(t,"PhoneMultiFactorGenerator",bh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},5119:function(t,e,n){"use strict";n.r(e),n.d(e,{Component:function(){return o},ComponentContainer:function(){return s},Provider:function(){return a}});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.__read)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[1];a===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2107:function(t,e,n){"use strict";var r=n(1062),i=n(5119),o=n(250),a=n(4762),s=n(308);t=n.hmd(t);var u="";function c(t){u=t}var l,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new f},p=d("localStorage"),v=d("sessionStorage"),g=new s.Logger("@firebase/database"),y=(l=1,function(){return l++}),m=function(t){var e=(0,o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},_=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?(0,o.stringify)(a):a,r+=" "}return r},w=null,b=!0,k=function(t,e){(0,o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.LogLevel.VERBOSE,w=g.log.bind(g),e&&v.set("logging_enabled",!0)):"function"==typeof t?w=t:(w=null,v.remove("logging_enabled"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===w&&!0===v.get("logging_enabled")&&k(!0)),w){var n=_.apply(null,t);w(n)}},x=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,(0,a.__spreadArray)([t],(0,a.__read)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t)));g.error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t)));throw g.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t)));g.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",O="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===A||e===O)return-1;if(e===A||t===O)return 1;var n=q(t),r=q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},R=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.stringify)(e))},D=function t(e){if("object"!=typeof e||null===e)return(0,o.stringify)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.stringify)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},L=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){var e,n,r,i,a;(0,o.assert)(!I(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},U=new RegExp("^-?(0*)\\d{1,10}$"),q=function(t){if(U.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},j=function(t){try{t()}catch(e){setTimeout(function(){throw S("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},B=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){S('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),Z=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';S(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),H=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if((0,o.assert)("string"==typeof e,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return M(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},t}(),Y={},Q={};function J(t){var e=t.toString();return Y[e]||(Y[e]=new K),Y[e]}var X=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&j(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),$=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(t),this.stats_=J(e),this.urlFn=function(t){return s.appCheckToken&&(t.ac=s.appCheckToken),W(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new X(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new tt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.__read)(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.base64Encode)(e),r=L(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),tt=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){T("frame writing exception"),u.stack&&T(u.stack),T(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||T("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),et=null;"undefined"!=typeof MozWebSocket?et=MozWebSocket:"undefined"!=typeof WebSocket&&(et=WebSocket);var nt=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=J(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),W(t,"websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new et(this.connURL,[],r)}else this.mySock=new et(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==et&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=L(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),rt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[$,nt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=nt&&nt.isAvailable(),o=i&&!nt.previouslyFailed();if(e.webSocketOnly&&(i||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[nt];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),it=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new rt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=R("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?C("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ot=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),at=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),st=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(at),ut=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new ut("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ht(t){return t.pieces_.length-t.pieceNum_}function ft(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function vt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ut(e,0)}function gt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ut)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ut(n,0)}function yt(t){return t.pieceNum_>=t.pieces_.length}function mt(t,e){var n=lt(t),r=lt(e);if(null===n)return e;if(n===r)return mt(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _t(t,e){for(var n=pt(t,0),r=pt(e,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function wt(t,e){if(ht(t)!==ht(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ht(t)>ht(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var kt=function(t,e){this.errorPrefix_=e,this.parts_=pt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Tt(this)};function Tt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xt(t))}function xt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Ct,Et,St=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(at),It=function(t){function e(n,r,i,a,s,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=x("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return St.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return(0,a.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.contains)(t,"w")){var n=(0,o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+(0,o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,s,u,c,l,h,f,d,p,v,g=this;return(0,a.__generator)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=a.__read.apply(void 0,[y.sent(),2]),d=f[0],p=f[1],u?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){S(t+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},s)),[3,4];case 3:return v=y.sent(),this.log_("Failed to get token: "+v),u||(this.repoInfo_.nodeAdmin&&S(v),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){T("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ut(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){T("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?t["framework.cordova"]=1:(0,o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=st.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ot),At=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ot=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new At(A,t),r=new At(A,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return At.MIN},t}(),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ct},set:function(t){Ct=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return new At(O,Ct)},e.prototype.makePost=function(t,e){return(0,o.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new At(t,Ct)},e.prototype.toString=function(){return".key"},e}(Ot),Pt=new Nt,Rt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Mt.EMPTY_NODE,this.right=null!=o?o:Mt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Mt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Mt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Lt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Mt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Rt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Rt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Lt,t}();function Ft(t,e){return N(t.name,e.name)}function Ut(t,e){return N(t,e)}var qt,jt,Vt,Bt,Zt,Ht=function(t){return"number"==typeof t?"number:"+F(t):"string:"+t},zt=function(t){if(t.isLeafNode()){var e=t.val();(0,o.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.contains)(e,".sv"),"Priority must be a string or number.")}else(0,o.assert)(t===Et||t.isEmpty(),"priority of unexpected type.");(0,o.assert)(t===Et||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Gt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return qt},set:function(t){qt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return yt(e)?this:".priority"===lt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=lt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ht(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ht(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?F(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return new At(O,new Gt("[PRIORITY-POST]",Vt))},e.prototype.makePost=function(t,e){var n=jt(t);return new At(e,new Gt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ot)),Kt=Math.log(2),Yt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qt=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Dt(a,o.node,Dt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Dt(a,o.node,Dt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Dt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Dt.BLACK):(s(h,Dt.BLACK),s(h,Dt.RED))}return o}(new Yt(t.length));return new Mt(r||e,o)},Jt={},Xt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(Jt&&Wt,"ChildrenNode.ts has not been loaded"),Bt=Bt||new t({".priority":Jt},{".priority":Wt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Mt?e:null},t.prototype.hasIndex=function(t){return(0,o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==Pt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(At.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Qt(i,e.getCompare()):Jt;var l=e.toString(),h=(0,a.__assign)({},this.indexSet_);h[l]=e;var f=(0,a.__assign)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.map)(this.indexes_,function(t,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),t===Jt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(At.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Qt(s,a.getCompare())}return Jt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new At(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.map)(this.indexes_,function(t){if(t===Jt)return t;var r=n.get(e.name);return r?t.remove(new At(e.name,r)):t}),this.indexSet_)},t}(),$t=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&zt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Zt||(Zt=new t(new Mt(Ut),null,Xt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Zt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Zt:e},t.prototype.getChild=function(t){var e=lt(t);return null===e?this:this.getImmediateChild(e).getChild(ft(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new At(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Zt:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=lt(t);if(null===n)return e;(0,o.assert)(".priority"!==lt(t)||1===ht(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ft(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Wt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ht(this.getPriority().val())+":"),this.forEachChild(Wt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new At(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new At(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new At(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,At.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,At.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===Pt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Pt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Wt),r=e.getIterator(Wt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Pt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=new(function(t){function e(){return t.call(this,new Mt(Ut),$t.EMPTY_NODE,Xt.Default)||this}return(0,a.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return $t.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}($t));function ee(t,e){if(void 0===e&&(e=null),null===t)return $t.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gt(t,ee(e));if(t instanceof Array){var n=$t.EMPTY_NODE;return M(t,function(e,r){if((0,o.contains)(t,e)&&"."!==e.substring(0,1)){var i=ee(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ee(e))}var r=[],i=!1;if(M(t,function(t,e){if("."!==t.substring(0,1)){var n=ee(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new At(t,n)))}}),0===r.length)return $t.EMPTY_NODE;var a=Qt(r,Ft,function(t){return t.name},Ut);if(i){var s=Qt(r,Wt.getCompare());return new $t(a,ee(e),new Xt({".priority":s},{".priority":Wt}))}return new $t(a,ee(e),Xt.Default)}Object.defineProperties(At,{MIN:{value:new At(A,$t.EMPTY_NODE)},MAX:{value:new At(O,te)}}),Nt.__EMPTY_NODE=$t.EMPTY_NODE,Gt.__childrenNodeConstructor=$t,Et=te,Vt=te,jt=ee;var ne,re,ie=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.assert)(!yt(e)&&".priority"!==lt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ee(t),r=$t.EMPTY_NODE.updateChild(this.indexPath_,n);return new At(e,r)},e.prototype.maxPost=function(){var t=$t.EMPTY_NODE.updateChild(this.indexPath_,te);return new At(O,t)},e.prototype.toString=function(){return pt(this.indexPath_,0).join("/")},e}(Ot),oe=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return At.MIN},e.prototype.maxPost=function(){return At.MAX},e.prototype.makePost=function(t,e){var n=ee(t);return new At(e,n)},e.prototype.toString=function(){return".value"},e}(Ot)),ae="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",se=(ne=0,re=[],function(t){var e,n=t===ne;ne=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=ae.charAt(t%64),t=Math.floor(t/64);(0,o.assert)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===re[e];e--)re[e]=0;re[e]++}else for(e=0;e<12;e++)re[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=ae.charAt(re[e]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),ue=function(t){if("2147483647"===t)return"-";var e=q(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=ae.charAt(ae.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ce=function(t){if("-2147483648"===t)return A;var e=q(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ae.charAt(ae.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function le(t){return{type:"value",snapshotNode:t}}function he(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(fe(e,s)):(0,o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(he(e,n)):a.trackChildChange(de(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Wt,function(t,r){e.hasChild(t)||n.trackChildChange(fe(t,r))}),e.isLeafNode()||e.forEachChild(Wt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de(e,r,i))}else n.trackChildChange(he(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?$t.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ve=function(){function t(e){this.indexedFilter_=new pe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new At(e,n))||(n=$t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=$t.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority($t.EMPTY_NODE);var i=this;return e.forEachChild(Wt,function(t,e){i.matches(new At(t,e))||(r=r.updateImmediateChild(t,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ge=function(){function t(t){this.rangedFilter_=new ve(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new At(e,n))||(n=$t.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=$t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=$t.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority($t.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,$t.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new At(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(de(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(fe(e,f));var v=u.updateImmediateChild(e,$t.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(he(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(fe(l.name,l.node)),i.trackChildChange(he(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,$t.EMPTY_NODE)):t},t}(),ye=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Wt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function me(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _e(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function we(t,e){var n=t.copy();return n.index_=e,n}function be(t){var e,n={};return t.isDefault()||(t.index_===Wt?e="$priority":t.index_===oe?e="$value":t.index_===Pt?e="$key":((0,o.assert)(t.index_ instanceof ie,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.stringify)(e),t.startSet_&&(n.startAt=(0,o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function ke(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Wt&&(e.i=t.index_.toString()),e}var Te=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=x("p:rest:"),o.listens_={},o}return(0,a.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=be(t._queryParams);this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=be(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.jsonEval)(h.responseText)}catch(e){S("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&S("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ot),xe=function(){function t(){this.rootNode_=$t.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ce(){return{value:null,children:new Map}}function Ee(t,e,n){if(yt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=lt(e);t.children.has(r)||t.children.set(r,Ce()),Ee(t.children.get(r),e=ft(e),n)}}function Se(t,e){if(yt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Wt,function(e,n){Ee(t,new ut(e),n)}),Se(t,e)}if(t.children.size>0){var r=lt(e);return e=ft(e),t.children.has(r)&&Se(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Ie(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Ie(r,new ut(e.toString()+"/"+t),n)})}var Ae=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,a.__assign)({},t);return this.last_&&M(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Oe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ae(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,function(e,i){i>0&&(0,o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ne=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Pe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Re,De=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(yt(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(e));return new t(ct(),n,this.revert)}return(0,o.assert)(lt(this.path)===e,"operationForChild called for unrelated child."),new t(ft(this.path),this.affectedTree,this.revert)},t}(),Le=function(){function t(t,e){this.source=t,this.path=e,this.type=Ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return yt(this.path)?new t(this.source,ct()):new t(this.source,ft(this.path))},t}(),Me=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ne.OVERWRITE}return t.prototype.operationForChild=function(e){return yt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ft(this.path),this.snap)},t}(),Fe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ne.MERGE}return t.prototype.operationForChild=function(e){if(yt(this.path)){var n=this.children.subtree(new ut(e));return n.isEmpty()?null:n.value?new Me(this.source,ct(),n.value):new t(this.source,ct(),n)}return(0,o.assert)(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ft(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ue=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(yt(t))return this.isFullyInitialized()&&!this.filtered_;var e=lt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),qe=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function je(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new At(e.childName,e.snapshotNode),i=new At(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Ve(t,e){return{eventCache:t,serverCache:e}}function Be(t,e,n,r){return Ve(new Ue(e,n,r),t.serverCache)}function Ze(t,e,n,r){return Ve(t.eventCache,new Ue(e,n,r))}function He(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ze(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ge=function(){function t(t,e){void 0===e&&(Re||(Re=new Mt(P)),e=Re),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return M(e,function(t,e){n=n.set(new ut(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(yt(t))return null;var n=lt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ft(t),e);return null!=i?{path:gt(new ut(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(yt(e))return this;var n=lt(e),r=this.children.get(n);return null!==r?r.subtree(ft(e)):new t(null)},t.prototype.set=function(e,n){if(yt(e))return new t(n,this.children);var r=lt(e),i=(this.children.get(r)||new t(null)).set(ft(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(yt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=lt(e),r=this.children.get(n);if(r){var i=r.remove(ft(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(yt(t))return this.value;var e=lt(t),n=this.children.get(e);return n?n.get(ft(t)):null},t.prototype.setTree=function(e,n){if(yt(e))return n;var r,i=lt(e),o=(this.children.get(i)||new t(null)).setTree(ft(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(gt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(yt(t))return null;var i=lt(t),o=this.children.get(i);return o?o.findOnPath_(ft(t),gt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(yt(e))return this;this.value&&r(n,this.value);var i=lt(e),o=this.children.get(i);return o?o.foreachOnPath_(ft(e),gt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(gt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),We=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ge(null))},t}();function Ke(t,e,n){if(yt(e))return new We(new Ge(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=mt(i,e);return o=o.updateChild(a,n),new We(t.writeTree_.set(i,o))}var s=new Ge(n),u=t.writeTree_.setTree(e,s);return new We(u)}function Ye(t,e,n){var r=t;return M(n,function(t,n){r=Ke(r,gt(e,t),n)}),r}function Qe(t,e){if(yt(e))return We.empty();var n=t.writeTree_.setTree(e,new Ge(null));return new We(n)}function Je(t,e){return null!=Xe(t,e)}function Xe(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(mt(n.path,e)):null}function $e(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wt,function(t,n){e.push(new At(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new At(t,n.value))}),e}function tn(t,e){if(yt(e))return t;var n=Xe(t,e);return new We(null!=n?new Ge(n):t.writeTree_.subtree(e))}function en(t){return t.writeTree_.isEmpty()}function nn(t,e){return rn(ct(),t.writeTree_,e)}function rn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=rn(gt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(gt(t,".priority"),r)),n}function on(t,e){return gn(e,t)}function an(t,e){if(t.snap)return bt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bt(gt(t.path,n),e))return!0;return!1}function sn(t){return t.visible}function un(t,e,n){for(var r=We.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)bt(n,s)?r=Ke(r,u=mt(n,s),a.snap):bt(s,n)&&(u=mt(s,n),r=Ke(r,ct(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(bt(n,s))r=Ye(r,u=mt(n,s),a.children);else if(bt(s,n))if(yt(u=mt(s,n)))r=Ye(r,ct(),a.children);else{var c=(0,o.safeGet)(a.children,lt(u));if(c){var l=c.getChild(ft(u));r=Ke(r,ct(),l)}}}}}return r}function cn(t,e,n,r,i){if(r||i){var o=tn(t.visibleWrites,e);return!i&&en(o)?n:i||null!=n||Je(o,ct())?nn(un(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(bt(t.path,e)||bt(e,t.path))},e),n||$t.EMPTY_NODE):null}var a=Xe(t.visibleWrites,e);if(null!=a)return a;var s=tn(t.visibleWrites,e);return en(s)?n:null!=n||Je(s,ct())?nn(s,n||$t.EMPTY_NODE):null}function ln(t,e,n,r){return cn(t.writeTree,t.treePath,e,n,r)}function hn(t,e){return function(t,e,n){var r=$t.EMPTY_NODE,i=Xe(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=tn(t.visibleWrites,e);return n.forEachChild(Wt,function(t,e){var n=nn(tn(o,new ut(t)),e);r=r.updateImmediateChild(t,n)}),$e(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return $e(tn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function fn(t,e,n,r){return function(t,e,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=gt(e,n);if(Je(t.visibleWrites,a))return null;var s=tn(t.visibleWrites,a);return en(s)?i.getChild(n):nn(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function dn(t,e){return function(t,e){return Xe(t.visibleWrites,e)}(t.writeTree,gt(t.treePath,e))}function pn(t,e,n){return function(t,e,n,r){var i=gt(e,n),o=Xe(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?nn(tn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function vn(t,e){return gn(gt(t.treePath,e),t.writeTree)}function gn(t,e){return{treePath:t,writeTree:e}}var yn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,de(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,fe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,he(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),mn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_n=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ue(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ze(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=tn(t.visibleWrites,e),c=Xe(u,ct());if(null!=c)s=c;else{if(null==n)return[];s=nn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function wn(t,e,n,r,i,a){var s=e.eventCache;if(null!=dn(r,n))return e;var u=void 0,c=void 0;if(yt(n))if((0,o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=ze(e),h=hn(r,l instanceof $t?l:$t.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var f=ln(r,ze(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{var d=lt(n);if(".priority"===d){(0,o.assert)(1===ht(n),"Can't have a priority with additional path components");var p=s.getNode(),v=fn(r,n,p,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(p,v):s.getNode()}else{var g=ft(n),y=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var m=fn(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=pn(r,d,e.serverCache);u=null!=y?t.filter.updateChild(s.getNode(),d,y,g,i,a):s.getNode()}}return Be(e,u,s.isFullyInitialized()||yt(n),t.filter.filtersNodes())}function bn(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(yt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=lt(n);if(!c.isCompleteForPath(n)&&ht(n)>1)return e;var d=ft(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,mn,null)}var v=Ze(e,u,c.isFullyInitialized()||yt(n),l.filtersNodes());return wn(t,v,n,i,new _n(i,v,o),s)}function kn(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new _n(i,e,o);if(yt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Be(e,u,!0,t.filter.filtersNodes());else{var h=lt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Be(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=ft(n),d=c.getNode().getImmediateChild(h),p=void 0;if(yt(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===dt(f)&&v.getChild(vt(f)).isEmpty()?v:v.updateChild(f,r):$t.EMPTY_NODE}s=d.equals(p)?e:Be(e,t.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),t.filter.filtersNodes())}}return s}function Tn(t,e){return t.eventCache.isCompleteForChild(e)}function xn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Cn(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=yt(n)?r:new Ge(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=xn(0,e.serverCache.getNode().getImmediateChild(n),r);c=bn(t,c,new ut(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=xn(0,e.serverCache.getNode().getImmediateChild(n),r);c=bn(t,c,new ut(n),h,i,o,a,s)}}),c}var En,Sn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new pe(r.getIndex()),o=(n=r).loadsAllData()?new pe(n.getIndex()):n.hasLimit()?new ge(n):new ve(n);this.processor_=function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode($t.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode($t.EMPTY_NODE,s.getNode(),null),l=new Ue(u,a.isFullyInitialized(),i.filtersNodes()),h=new Ue(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ve(h,l),this.eventGenerator_=new qe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function In(t,e){var n=ze(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!yt(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function An(t){return 0===t.eventRegistrations_.length}function On(t,e,n){var r=[];if(n){(0,o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Nn(t,e,n,r){e.type===Ne.MERGE&&null!==e.source.queryId&&((0,o.assert)(ze(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(He(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=t.viewCache_,u=function(t,e,n,r,i){var a,s,u=new yn;if(n.type===Ne.OVERWRITE){var c=n;c.source.fromUser?a=kn(t,e,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!yt(c.path),a=bn(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===Ne.MERGE){var l=n;l.source.fromUser?a=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=gt(n,r);Tn(e,lt(c))&&(s=kn(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=gt(n,r);Tn(e,lt(c))||(s=kn(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=Cn(t,e,l.path,l.children,r,i,s,u))}else if(n.type===Ne.ACK_USER_WRITE){var h=n;a=h.revert?function(t,e,n,r,i,a){var s;if(null!=dn(r,n))return e;var u=new _n(r,e,i),c=e.eventCache.getNode(),l=void 0;if(yt(n)||".priority"===lt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=ln(r,ze(e));else{var f=e.serverCache.getNode();(0,o.assert)(f instanceof $t,"serverChildren would be complete if leaf node"),h=hn(r,f)}l=t.filter.updateFullNode(c,h=h,a)}else{var d=lt(n),p=pn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,ft(n),u,a):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,$t.EMPTY_NODE,ft(n),u,a):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=ln(r,ze(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,a))}return s=e.serverCache.isFullyInitialized()||null!=dn(r,ct()),Be(e,l,s,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=dn(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(yt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return bn(t,e,n,u.getNode().getChild(n),i,o,s,a);if(yt(n)){var c=new Ge(null);return u.getNode().forEachChild(Pt,function(t,e){c=c.set(new ut(t),e)}),Cn(t,e,n,c,i,o,s,a)}return e}var l=new Ge(null);return r.foreach(function(t,e){var r=gt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),Cn(t,e,n,l,i,o,s,a)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ne.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(t,e,n,r,i){var o=e.serverCache;return wn(t,Ze(e,o.getNode(),o.isFullyInitialized()||yt(n),o.isFiltered()),n,r,mn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=He(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(le(He(e)))}}(e,a,f),{viewCache:a,changes:f}}(t.processor_,s,e,n,r);return i=t.processor_,(0,o.assert)((a=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Pn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Pn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),je(t,i,"child_removed",e,r,n),je(t,i,"child_added",e,r,n),je(t,i,"child_moved",o,r,n),je(t,i,"child_changed",e,r,n),je(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Rn,Dn=function(){this.views=new Map};function Ln(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Nn(c,e,n,r)}var l=[];try{for(var h=(0,a.__values)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(Nn(c=f.value,e,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Mn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var a=ln(n,i?r:null),s=!1;a?s=!0:r instanceof $t?(a=hn(n,r),s=!1):(a=$t.EMPTY_NODE,s=!1);var u=Ve(new Ue(a,s,!1),new Ue(r,i,!1));return new Sn(e,u)}return o}function Fn(t){var e,n,r=[];try{for(var i=(0,a.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Un(t,e){var n,r,i=null;try{for(var o=(0,a.__values)(t.views.values()),s=o.next();!s.done;s=o.next())i=i||In(s.value,e)}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function qn(t,e){return e._queryParams.loadsAllData()?Bn(t):t.views.get(e._queryIdentifier)}function jn(t,e){return null!=qn(t,e)}function Vn(t){return null!=Bn(t)}function Bn(t){var e,n;try{for(var r=(0,a.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Zn=1,Hn=function(t){this.listenProvider_=t,this.syncPointTree_=new Ge(null),this.pendingWriteTree_={visibleWrites:We.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function zn(t,e,n,r,i){return function(t,e,n,r,i){(0,o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ke(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Jn(t,new Me({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Gn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&an(u,r.path)?i=!1:bt(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(function(t){t.visibleWrites=un(t.allWrites,sn,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Qe(t.visibleWrites,r.path):M(r.children,function(e){t.visibleWrites=Qe(t.visibleWrites,gt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Ge(null);return null!=r.snap?i=i.set(ct(),!0):M(r.children,function(t){i=i.set(new ut(t),!0)}),Jn(t,new De(r.path,i,n))}return[]}function Wn(t,e,n){return Jn(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Kn(t,e,n,r){var i=e._path,s=t.syncPointTree_.get(i),u=[];if(s&&("default"===e._queryIdentifier||jn(s,e))){var c=function(t,e,n,r){var i,s,u=e._queryIdentifier,c=[],l=[],h=Vn(t);if("default"===u)try{for(var f=(0,a.__values)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,v=(0,a.__read)(d.value,2),g=v[0];l=l.concat(On(p=v[1],n,r)),An(p)&&(t.views.delete(g),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(On(p,n,r)),An(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Vn(t)&&c.push(new((0,o.assert)(En,"Reference.ts has not been loaded"),En)(e._repo,e._path)),{removed:c,events:l}}(s,e,n,r);0===s.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(i,function(t,e){return Vn(e)});if(h&&!f){var d=t.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Vn(e))return[Bn(e)];var r=[];return e&&(r=Fn(e)),M(n,function(t,e){r=r.concat(e)}),r})}(d),v=0;v<p.length;++v){var g=p[v],y=g.query,m=tr(t,g);t.listenProvider_.startListening(ar(y),er(t,y),m.hashFn,m.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(ar(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(nr(e));t.listenProvider_.stopListening(ar(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=nr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Yn(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=mt(t,r);i=i||Un(e,n),a=a||Vn(e)});var s,u=t.syncPointTree_.get(r);u?(a=a||Vn(u),i=i||Un(u,ct())):(u=new Dn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=$t.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Un(e,ct());n&&(i=i.updateImmediateChild(t,n))}));var c=jn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=nr(e);(0,o.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Zn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var a=Mn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,function(t,e){r.push(he(t,e))}),n.isFullyInitialized()&&r.push(le(n.getNode())),Pn(t,r,n.getNode(),e)}(a,n)}(u,e,n,on(t.pendingWriteTree_,r),i,s);if(!c&&!a){var d=qn(u,e);f=f.concat(function(t,e,n){var r=e._path,i=er(t,e),a=tr(t,n),s=t.listenProvider_.startListening(ar(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Vn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!yt(t)&&e&&Vn(e))return[Bn(e).query];var r=[];return e&&(r=r.concat(Fn(e).map(function(t){return t.query}))),M(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(ar(h),er(t,h))}return s}(t,e,d))}return f}function Qn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Un(n,mt(t,e));if(r)return r});return cn(r,e,i,n,!0)}function Jn(t,e){return Xn(e,t.syncPointTree_,null,on(t.pendingWriteTree_,ct()))}function Xn(t,e,n,r){if(yt(t.path))return $n(t,e,n,r);var i=e.get(ct());null==n&&null!=i&&(n=Un(i,ct()));var o=[],a=lt(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=vn(r,a);o=o.concat(Xn(s,u,c,l))}return i&&(o=o.concat(Ln(i,t,r,n))),o}function $n(t,e,n,r){var i=e.get(ct());null==n&&null!=i&&(n=Un(i,ct()));var o=[];return e.children.inorderTraversal(function(e,i){var a=n?n.getImmediateChild(e):null,s=vn(r,e),u=t.operationForChild(e);u&&(o=o.concat($n(u,i,a,s)))}),i&&(o=o.concat(Ln(i,t,r,n))),o}function tr(t,e){var n=e.query,r=er(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||$t.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=rr(t,n);if(r){var i=ir(r),o=i.path,a=i.queryId,s=mt(o,e);return or(t,o,new Le(Pe(a),s))}return[]}(t,n._path,r):function(t,e){return Jn(t,new Le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Kn(t,n,null,i)}}}function er(t,e){var n=nr(e);return t.queryToTagMap.get(n)}function nr(t){return t._path.toString()+"$"+t._queryIdentifier}function rr(t,e){return t.tagToQueryMap.get(e)}function ir(t){var e=t.indexOf("$");return(0,o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function or(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Ln(r,n,on(t.pendingWriteTree_,e),null)}function ar(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.assert)(Rn,"Reference.ts has not been loaded"),Rn)(t._repo,t._path):t}var sr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ur=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=gt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Qn(this.syncTree_,this.path_)},t}(),cr=function(t,e,n){return t&&"object"==typeof t?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?lr(t[".sv"],e,n):"object"==typeof t[".sv"]?hr(t[".sv"],e):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},lr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+t)}},hr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},fr=function(t,e,n,r){return pr(e,new ur(n,t),r)},dr=function(t,e,n){return pr(t,new sr(e),n)};function pr(t,e,n){var r,i=t.getPriority().val(),o=cr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=cr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Gt(s,ee(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Gt(o))),u.forEachChild(Wt,function(t,i){var o=pr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var vr=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function gr(t,e){for(var n=e instanceof ut?e:new ut(e),r=t,i=lt(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new vr(i,r,a),i=lt(n=ft(n))}return r}function yr(t){return t.node.value}function mr(t,e){t.node.value=e,Tr(t)}function _r(t){return t.node.childCount>0}function wr(t,e){M(t.node.children,function(n,r){e(new vr(n,t,r))})}function br(t,e,n,r){n&&!r&&e(t),wr(t,function(t){br(t,e,!0,r)}),n&&r&&e(t)}function kr(t){return new ut(null===t.parent?t.name:kr(t.parent)+"/"+t.name)}function Tr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===yr(t)&&!_r(t)}(n),i=(0,o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Tr(t))}(t.parent,t.name,t)}var xr=/[\[\].#$\/\u0000-\u001F\u007F]/,Cr=/[\[\].#$\u0000-\u001F\u007F]/,Er=function(t){return"string"==typeof t&&0!==t.length&&!xr.test(t)},Sr=function(t){return"string"==typeof t&&0!==t.length&&!Cr.test(t)},Ir=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&(0,o.contains)(t,".sv")},Ar=function(t,e,n,r){r&&void 0===e||Or((0,o.errorPrefix)(t,"value"),e,n)},Or=function t(e,n,r){var i=r instanceof ut?new kt(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+xt(i));if("function"==typeof n)throw new Error(e+"contains a function "+xt(i)+" with contents = "+n.toString());if(I(n))throw new Error(e+"contains "+n.toString()+" "+xt(i));if("string"==typeof n&&n.length>10485760/3&&(0,o.stringLength)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+xt(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(M(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Er(n)))throw new Error(e+" contains an invalid key ("+n+") "+xt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.stringLength)(e),Tt(t)}(i,n),t(e,r,i),c=(u=i).parts_.pop(),u.byteLength_-=(0,o.stringLength)(c),u.parts_.length>0&&(u.byteLength_-=1)}),a&&s)throw new Error(e+' contains ".value" child '+xt(i)+" in addition to actual children.")}},Nr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(e,function(t,e){var r=new ut(t);if(Or(i,e,gt(n,r)),".priority"===dt(r)&&!Ir(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=pt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Er(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(_t);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&bt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Pr=function(t,e,n){if(!n||void 0!==e){if(I(e))throw new Error((0,o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ir(e))throw new Error((0,o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dr=function(t,e,n,r){if(!(r&&void 0===n||Er(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Lr=function(t,e,n,r){if(!(r&&void 0===n||Sr(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Mr=function(t,e){if(".info"===lt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Fr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Er(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Sr(t)}(n))throw new Error((0,o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ur=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(t,e)+"must be a boolean.")},qr=function(){this.eventLists_=[],this.recursionDepth_=0};function jr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||wt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Vr(t,e,n){jr(t,n),Zr(t,function(t){return wt(t,e)})}function Br(t,e,n){jr(t,n),Zr(t,function(t){return bt(t,e)||bt(e,t)})}function Zr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Hr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Hr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();w&&T("event: "+n.toString()),j(r)}}}var zr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ce(),this.transactionQueueTree_=new vr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Gr(t){var e=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Wr(t){return(e=(e={timestamp:Gr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Kr(t,e,n,r,i){t.dataUpdateCount++;var a=new ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,function(t){return ee(t)});s=function(t,e,n,r){var i=rr(t,r);if(i){var o=ir(i),a=o.path,s=o.queryId,u=mt(a,e),c=Ge.fromObject(n);return or(t,a,new Fe(Pe(s),u,c))}return[]}(t.serverSyncTree_,a,u,i)}else{var c=ee(n);s=function(t,e,n,r){var i=rr(t,r);if(null!=i){var o=ir(i),a=o.path,s=o.queryId,u=mt(a,e);return or(t,a,new Me(Pe(s),u,n))}return[]}(t.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,function(t){return ee(t)});s=function(t,e,n){var r=Ge.fromObject(n);return Jn(t,new Fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,a,l)}else{var h=ee(n);s=Wn(t.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=si(t,a)),Br(t.eventQueue_,f,s)}function Yr(t,e){Qr(t,"connected",e),!1===e&&function(t){ri(t,"onDisconnectEvents");var e=Wr(t),n=Ce();Ie(t.onDisconnect_,ct(),function(r,i){var o=fr(r,i,t.serverSyncTree_,e);Ee(n,r,o)});var r=[];Ie(n,ct(),function(e,n){r=r.concat(Wn(t.serverSyncTree_,e,n));var i=fi(t,e);si(t,i)}),t.onDisconnect_=Ce(),Br(t.eventQueue_,ct(),r)}(t)}function Qr(t,e,n){var r=new ut("/.info/"+e),i=ee(n);t.infoData_.updateSnapshot(r,i);var o=Wn(t.infoSyncTree_,r,i);Br(t.eventQueue_,r,o)}function Jr(t){return t.nextWriteId_++}function Xr(t,e,n,r,i){ri(t,"set",{path:e.toString(),value:n,priority:r});var o=Wr(t),a=ee(n,r),s=Qn(t.serverSyncTree_,e),u=dr(a,s,o),c=Jr(t),l=zn(t.serverSyncTree_,e,u,c,!0);jr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||S("set at "+e+" failed: "+n);var a=Gn(t.serverSyncTree_,c,!o);Br(t.eventQueue_,e,a),ii(0,i,n,r)});var h=fi(t,e);si(t,h),Br(t.eventQueue_,h,[])}function $r(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Se(t.onDisconnect_,e),ii(0,n,r,i)})}function ti(t,e,n,r){var i=ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Ee(t.onDisconnect_,e,i),ii(0,r,n,o)})}function ei(t,e,n){var r;r=".info"===lt(e._path)?Kn(t.infoSyncTree_,e,n):Kn(t.serverSyncTree_,e,n),Vr(t.eventQueue_,e._path,r)}function ni(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function ri(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),T.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(e)))}function ii(t,e,n,r){e&&j(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function oi(t,e,n){return Qn(t.serverSyncTree_,e,n)||$t.EMPTY_NODE}function ai(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||hi(t,e),yr(e)){var n=ci(t,e);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=oi(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=mt(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;t.server_.put(f.toString(),h,function(r){ri(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(Gn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},s=0;s<n.length;s++)a(s);for(hi(t,gr(t.transactionQueueTree_,e)),ai(t,t.transactionQueueTree_),Br(t.eventQueue_,e,i),s=0;s<o.length;s++)j(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)n[s].status=3===n[s].status?4:0;else for(S("transaction at "+f.toString()+" failed: "+r),s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r;si(t,e)}},s)}(t,kr(e),n)}else _r(e)&&wr(e,function(e){ai(t,e)})}function si(t,e){var n=ui(t,e),r=kr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],a=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=function(s){var u,c=e[s],l=mt(n,c.path),h=!1;if((0,o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Gn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Gn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=oi(t,c.path,a);c.currentInputSnapshot=f;var d=e[s].update(f.val());if(void 0!==d){Or("transaction failed: Data returned ",d,c.path);var p=ee(d);"object"==typeof d&&null!=d&&(0,o.contains)(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=c.currentWriteId,g=Wr(t),y=dr(p,f,g);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=Jr(t),a.splice(a.indexOf(v),1),i=(i=i.concat(zn(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally))).concat(Gn(t.serverSyncTree_,v,!0))}else h=!0,u="nodata",i=i.concat(Gn(t.serverSyncTree_,c.currentWriteId,!0))}Br(t.eventQueue_,n,i),i=[],h&&(e[s].status=2,setTimeout(e[s].unwatcher,Math.floor(0)),e[s].onComplete&&r.push("nodata"===u?function(){return e[s].onComplete(null,!1,e[s].currentInputSnapshot)}:function(){return e[s].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)s(u);for(hi(t,t.transactionQueueTree_),u=0;u<r.length;u++)j(r[u]);ai(t,t.transactionQueueTree_)}}(t,ci(t,n),r),r}function ui(t,e){var n,r=t.transactionQueueTree_;for(n=lt(e);null!==n&&void 0===yr(r);)r=gr(r,n),n=lt(e=ft(e));return r}function ci(t,e){var n=[];return li(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function li(t,e,n){var r=yr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);wr(e,function(e){li(t,e,n)})}function hi(t,e){var n=yr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,mr(e,n.length>0?n:void 0)}wr(e,function(e){hi(t,e)})}function fi(t,e){var n=kr(ui(t,e)),r=gr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){di(t,e)}),di(t,r),br(r,function(e){di(t,e)}),n}function di(t,e){var n=yr(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Gn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));for(-1===a?mr(e,void 0):n.length=a+1,Br(t.eventQueue_,kr(e),i),s=0;s<r.length;s++)j(r[s])}}var pi=function(t,e){var n=vi(t),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ut(n.pathString)}},vi=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,a.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):S("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},gi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},t}(),yi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),mi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),_i=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return $r(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Mr("OnDisconnect.remove",this._path);var t=new o.Deferred;return ti(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Mr("OnDisconnect.set",this._path),Ar("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return ti(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Mr("OnDisconnect.setWithPriority",this._path),Ar("OnDisconnect.setWithPriority",t,this._path,!1),Pr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=ee(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Ee(t.onDisconnect_,e,o),ii(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Mr("OnDisconnect.update",this._path),Nr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if((0,o.isEmpty)(n))return T("onDisconnect().update() called with empty data.  Don't do anything."),void ii(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&M(n,function(n,r){var i=ee(r);Ee(t.onDisconnect_,gt(e,n),i)}),ii(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),wi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return yt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=ke(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ke(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=wt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function bi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ki(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Pt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==A)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Wt){if(null!=e&&!Ir(e)||null!=n&&!Ir(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(t.getIndex()instanceof ie||t.getIndex()===oe,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ti(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var xi=function(t){function e(e,n){return t.call(this,e,n,new ye,!1)||this}return(0,a.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=vt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(wi),Ci=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ut(e),r=Ii(this.ref,e);return new t(this._node.getChild(n),r,Wt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Ii(n.ref,r),Wt))})},t.prototype.hasChild=function(t){var e=new ut(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ei(t,e){return(t=(0,o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Ii(t._root,e):t._root}function Si(t,e){(t=(0,o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=pi(e,t._repo.repoInfo_.nodeAdmin);Fr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ei(t,n.path.toString())}function Ii(t,e){var n;return null===lt((t=(0,o.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Lr("child","path",n,!1)):Lr("child","path",e,!1),new xi(t._repo,gt(t._path,e))}function Ai(t,e){t=(0,o.getModularInstance)(t),Mr("push",t._path),Ar("push",e,t._path,!0);var n,r=Gr(t._repo),i=se(r),a=Ii(t,i),s=Ii(t,i);return n=null!=e?Ni(s,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Oi(t){return Mr("remove",t._path),Ni(t,null)}function Ni(t,e){t=(0,o.getModularInstance)(t),Mr("set",t._path),Ar("set",e,t._path,!1);var n=new o.Deferred;return Xr(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Pi(t,e){t=(0,o.getModularInstance)(t),Mr("setPriority",t._path),Pr("setPriority",e,!1);var n=new o.Deferred;return Xr(t._repo,gt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Ri(t,e,n){if(Mr("setWithPriority",t._path),Ar("setWithPriority",e,t._path,!1),Pr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return Xr(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Di(t,e){Nr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){ri(t,"update",{path:e.toString(),value:n});var i=!0,a=Wr(t),s={};if(M(n,function(n,r){i=!1,s[n]=fr(gt(e,n),ee(r),t.serverSyncTree_,a)}),i)T("update() called with empty data.  Don't do anything."),ii(0,r,"ok",void 0);else{var u=Jr(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ye(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Ge.fromObject(n);return Jn(t,new Fe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,s,u);jr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||S("update at "+e+" failed: "+n);var a=Gn(t.serverSyncTree_,u,!o),s=a.length>0?si(t,e):e;Br(t.eventQueue_,s,a),ii(0,r,n,i)}),M(n,function(n){var r=fi(t,gt(e,n));si(t,r)}),Br(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Li=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new gi("value",this,new Ci(t.snapshotNode,new xi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new yi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Mi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new yi(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.assert)(null!=t.childName,"Child events should have a childName.");var n=Ii(new xi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new gi(t.type,this,new Ci(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Fi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){ei(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new mi(n,o||void 0),c="value"===e?new Li(u):new Mi(e,u);return function(t,e,n){var r;r=".info"===lt(e._path)?Yn(t.infoSyncTree_,e,n):Yn(t.serverSyncTree_,e,n),Vr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ei(t._repo,t,c)}}function Ui(t,e,n,r){return Fi(t,"value",e,n,r)}function qi(t,e,n,r){return Fi(t,"child_added",e,n,r)}function ji(t,e,n,r){return Fi(t,"child_changed",e,n,r)}function Vi(t,e,n,r){return Fi(t,"child_moved",e,n,r)}function Bi(t,e,n,r){return Fi(t,"child_removed",e,n,r)}function Zi(t,e,n){var r=null,i=n?new mi(n):null;"value"===e?r=new Li(i):e&&(r=new Mi(e,i)),ei(t._repo,t,r)}var Hi=function(){},zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Ar("endAt",this._value,t._path,!0);var e=_e(t._queryParams,this._value,this._key);if(Ti(e),ki(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wi(t._repo,t._path,e,t._orderByCalled)},e}(Hi);function Gi(t,e){return Dr("endAt","key",e,!0),new zi(t,e)}var Wi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Ar("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Pt?("string"==typeof n&&(n=ce(n)),i=_e(e,n,r)):i=_e(e,n,null==r?A:ce(r)),i.endBeforeSet_=!0,i);if(Ti(o),ki(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wi(t._repo,t._path,o,t._orderByCalled)},e}(Hi);function Ki(t,e){return Dr("endBefore","key",e,!0),new Wi(t,e)}var Yi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Ar("startAt",this._value,t._path,!0);var e=me(t._queryParams,this._value,this._key);if(Ti(e),ki(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wi(t._repo,t._path,e,t._orderByCalled)},e}(Hi);function Qi(t,e){return void 0===t&&(t=null),Dr("startAt","key",e,!0),new Yi(t,e)}var Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Ar("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Pt?("string"==typeof n&&(n=ue(n)),i=me(e,n,r)):i=me(e,n,null==r?O:ue(r)),i.startAfterSet_=!0,i);if(Ti(o),ki(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wi(t._repo,t._path,o,t._orderByCalled)},e}(Hi);function Xi(t,e){return Dr("startAfter","key",e,!0),new Ji(t,e)}var $i=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Hi);function to(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $i(t)}var eo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Hi);function no(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eo(t)}var ro=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,a.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByChild");var e=new ut(this._path);if(yt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ie(e),r=we(t._queryParams,n);return ki(r),new wi(t._repo,t._path,r,!0)},e}(Hi);function io(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Lr("orderByChild","path",t,!1),new ro(t)}var oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByKey");var e=we(t._queryParams,Pt);return ki(e),new wi(t._repo,t._path,e,!0)},e}(Hi);function ao(){return new oo}var so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByPriority");var e=we(t._queryParams,Wt);return ki(e),new wi(t._repo,t._path,e,!0)},e}(Hi);function uo(){return new so}var co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByValue");var e=we(t._queryParams,oe);return ki(e),new wi(t._repo,t._path,e,!0)},e}(Hi);function lo(){return new co}var ho,fo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){if(Ar("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zi(this._value,this._key)._apply(new Yi(this._value,this._key)._apply(t))},e}(Hi);function po(t,e){return Dr("equalTo","key",e,!0),new fo(t,e)}function vo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(t);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}ho=xi,(0,o.assert)(!En,"__referenceConstructor has already been defined"),En=ho,function(t){(0,o.assert)(!Rn,"__referenceConstructor has already been defined"),Rn=t}(xi);var go={},yo=!1;function mo(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=pi(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,u=(s=pi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new H(H.OWNER):new Z(t.name,t.options,e);Fr("Invalid Firebase Database URL",s),yt(s.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=go[e.name];i||(go[e.name]=i={});var o=i[t.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zr(t,yo,n,r),i[t.toURLString()]=o,o}(u,t,l,new B(t.name,n));return new _o(h,t)}var _o=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=J(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Te(t.repoInfo_,function(e,n,r,i){Kr(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return Yr(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}t.persistentConnection_=new It(t.repoInfo_,e,function(e,n,r,i){Kr(t,e,n,r,i)},function(e){Yr(t,e)},function(e){!function(t,e){M(e,function(e,n){Qr(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Oe(t.stats_,t.server_)},i=t.repoInfo_.toString(),Q[i]||(Q[i]=r()),Q[i]),t.infoData_=new xe,t.infoSyncTree_=new Hn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=Wn(t.infoSyncTree_,e._path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),Qr(t,"connected",!1),t.serverSyncTree_=new Hn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Br(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new xi(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=go[e=this.app.name])&&n[t.key]===t||E("Database "+e+"("+t.repoInfo_+") has already been deleted."),ni(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&E("Cannot call "+t+" on a deleted database.")},t}();function wo(t){(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOffline"),ni(t._repo)}function bo(t){var e;(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ko={".sv":"timestamp"},To=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function xo(t,e,n){var r;if(t=(0,o.getModularInstance)(t),Mr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=Ui(t,function(){});return function(e,n,r,i,s,u){ri(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?a.reject(e):(i=new Ci(r,new xi(t._repo,t._path),Wt),a.resolve(new To(n,i)))},status:null,order:y(),applyLocally:u,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=oi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Or("transaction failed: Data returned ",h,c.path),c.status=0;var f=gr(e.transactionQueueTree_,n),d=yr(f)||[];d.push(c),mr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.contains)(h,".priority")?(p=(0,o.safeGet)(h,".priority"),(0,o.assert)(Ir(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(Qn(e.serverSyncTree_,n)||$t.EMPTY_NODE).getPriority().val();var v=Wr(e),g=ee(h,p),m=dr(g,l,v);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=m,c.currentWriteId=Jr(e);var _=zn(e.serverSyncTree_,n,m,c.currentWriteId,c.applyLocally);Br(e.eventQueue_,n,_),ai(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,s,i),a.promise}var Co=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Eo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),So=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Lr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Lr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Ao(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Io=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new So(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return Ui(this._delegate,c,l),n;case"child_added":return qi(this._delegate,c,l),n;case"child_removed":return Bi(this._delegate,c,l),n;case"child_changed":return ji(this._delegate,c,l),n;case"child_moved":return Vi(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Rr("Query.off",t,!0),(0,o.validateCallback)("Query.off","callback",e,!0),(0,o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Zi(this._delegate,t,r)}else Zi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=mt(t,n);r=r||Un(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Un(i,ct()):(i=new Dn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new Ue(r,!0,!1):null;return He(Mn(i,e,on(t.pendingWriteTree_,e._path),o?a.getNode():$t.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=ee(n).withIndex(e._queryParams.getIndex()),i=Wn(t.serverSyncTree_,e._path,r);return Vr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ri(t,"get for query "+(0,o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.getModularInstance)(t))._repo,t).then(function(e){return new Ci(e,new xi(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new So(t.database,e)})},t.prototype.once=function(e,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new So(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":Ui(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Bi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":ji(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Vi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,vo(this._delegate,to(e)))},t.prototype.limitToLast=function(e){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,vo(this._delegate,no(e)))},t.prototype.orderByChild=function(e){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,vo(this._delegate,io(e)))},t.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,vo(this._delegate,ao()))},t.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,vo(this._delegate,uo()))},t.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,vo(this._delegate,lo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,vo(this._delegate,Qi(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,vo(this._delegate,Xi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,vo(this._delegate,Gi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,vo(this._delegate,Ki(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,vo(this._delegate,po(e,n)))},t.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this.database,new xi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Ao=function(t){function e(e,n){var r=t.call(this,e,new wi(n._repo,n._path,new ye,!1))||this;return r.database=e,r._delegate=n,r}return(0,a.__extends)(e,t),e.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ii(this._delegate,t))},e.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",e,!0);var n=Ni(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Mr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",e,!0);var i=Di(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ri(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Oi(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,o.validateCallback)("Reference.transaction","onComplete",e,!0),Ur("Reference.transaction","applyLocally",n,!0);var i=xo(this._delegate,t,{applyLocally:n}).then(function(t){return new Eo(t.committed,new So(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Pi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Ai(this._delegate,t),a=i.then(function(t){return new e(r.database,t)});n&&a.then(function(){return n(null)},function(t){return n(t)});var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return Mr("Reference.onDisconnect",this._delegate._path),new Co(new _i(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Io),Oo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new H(H.OWNER);else if(r.mockUserToken){var s=(0,o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);a=new H(s)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,a)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof Ao){var e=Si(this._delegate,t.toString());return new Ao(this,e)}return e=Ei(this._delegate,t),new Ao(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.validateArgCount)(e,1,1,arguments.length);var n=Si(this._delegate,t);return new Ao(this,n)},t.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),wo(this._delegate)},t.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),bo(this._delegate)},t.ServerValue={TIMESTAMP:ko,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),No=Object.freeze({__proto__:null,forceLongPolling:function(){nt.forceDisallow(),$.forceAllow()},forceWebSockets:function(){$.forceDisallow()},isWebSocketsAvailable:function(){return nt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ae(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);M(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;c(t.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new Oo(mo(e,u,void 0,n,s),e),namespace:o}}}),Po=It;It.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},It.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Ro=Object.freeze({__proto__:null,DataConnection:Po,RealTimeConnection:it,hijackHash:function(t){var e=It.prototype.put;return It.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){It.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){yo=t}(t)}}),Do=Oo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Oo(mo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Ao,Query:Io,Database:Oo,DataSnapshot:So,enableLogging:k,INTERNAL:No,ServerValue:Do,TEST_ACCESS:Ro}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.9"),(0,o.isNodeSdk)()&&(t.exports=n)}(r.default)},308:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(e),n.d(e,{LogLevel:function(){return s},Logger:function(){return f},setLogLevel:function(){return d},setUserLogHandler:function(){return p}});var o,a=[],s=((o={})[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT",o),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),h=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=l[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=h,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){a.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=a;r<i.length;r++)n(i[r])}},250:function(t,e,n){"use strict";n.r(e),n.d(e,{CONSTANTS:function(){return i},Deferred:function(){return d},ErrorFactory:function(){return N},FirebaseError:function(){return O},MAX_VALUE_MILLIS:function(){return ut},RANDOM_FACTOR:function(){return ct},Sha1:function(){return Q},areCookiesEnabled:function(){return I},assert:function(){return o},assertionError:function(){return a},async:function(){return $},base64:function(){return u},base64Decode:function(){return l},base64Encode:function(){return c},calculateBackoffMillis:function(){return lt},contains:function(){return V},createMockUserToken:function(){return p},createSubscribe:function(){return J},decode:function(){return M},deepCopy:function(){return h},deepEqual:function(){return z},deepExtend:function(){return f},errorPrefix:function(){return nt},extractQuerystring:function(){return Y},getGlobal:function(){return A},getModularInstance:function(){return ft},getUA:function(){return v},isAdmin:function(){return j},isBrowser:function(){return m},isBrowserExtension:function(){return _},isElectron:function(){return b},isEmpty:function(){return Z},isIE:function(){return k},isIndexedDBAvailable:function(){return E},isMobileCordova:function(){return g},isNode:function(){return y},isNodeSdk:function(){return x},isReactNative:function(){return w},isSafari:function(){return C},isUWP:function(){return T},isValidFormat:function(){return q},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return D},map:function(){return H},ordinal:function(){return ht},querystring:function(){return W},querystringDecode:function(){return K},safeGet:function(){return B},stringLength:function(){return st},stringToByteArray:function(){return at},stringify:function(){return L},validateArgCount:function(){return et},validateCallback:function(){return it},validateContextObject:function(){return ot},validateIndexedDBOpenable:function(){return S},validateNamespace:function(){return rt}});var r=n(4762),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return u.encodeByteArray(e,!0)},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return f(void 0,t)}function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function m(){return"object"==typeof self&&self.self===self}function _(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return v().indexOf("Electron/")>=0}function k(){var t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return v().indexOf("MSAppHost/")>=0}function x(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function C(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E(){return"indexedDB"in self&&null!=indexedDB}function S(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function I(){return!(!navigator||!navigator.cookieEnabled)}function A(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var O=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return(0,r.__extends)(e,t),e}(Error),N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?P(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new O(i,s,r);return u},t}();function P(t,e){return t.replace(R,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var R=/\{\$([^}]+)}/g;function D(t){return JSON.parse(t)}function L(t){return JSON.stringify(t)}var M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},F=function(t){var e=M(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(t){var e=M(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},q=function(t){var e=M(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=M(t).claims;return"object"==typeof e&&!0===e.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function H(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function z(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var a=t[l],s=e[l];if(G(a)&&G(s)){if(!z(a,s))return!1}else if(a!==s)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function G(t){return null!==t&&"object"==typeof t}function W(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function K(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),e}function Y(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Q=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function J(t,e){var n=new X(t,e);return n.subscribe.bind(n)}var X=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=tt),void 0===r.error&&(r.error=tt),void 0===r.complete&&(r.complete=tt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function $(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function tt(){}var et=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function nt(t,e){return t+" failed: "+e+" argument "}function rt(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(nt(t,"namespace")+"must be a valid firebase namespace.")}function it(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(nt(t,e)+"must be a valid function.")}function ot(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(nt(t,e)+"must be a valid context object.")}var at=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},st=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},ut=144e5,ct=.5;function lt(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(ct*r*(Math.random()-.5)*2);return Math.min(ut,r+i)}function ht(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function ft(t){return t&&t._delegate?t._delegate:t}},1858:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.default}});var r=n(1062);r.default.registerVersion("firebase","8.8.1","app"),r.default.SDK_VERSION="8.8.1"},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,a){n(i=t[e].apply(t,r)).then(o,a)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},8861:function(t,e,n){"use strict";n.d(e,{P:function(){return a}});var r=n(653),i=n(878),o=n(8318),a=function(){var t=function(){function t(e,n,r){f(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return h(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new o.y(function(e){return e.error(t)});case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},8318:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var r=n(6673),i=n(5331),o=n(7498),a=n(6197),s=n(3392),u=n(1484),c=function(){var t=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return h(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.v.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.L?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=l(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:a.L,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?s.y:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}();return t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(1484),i=n(4294),o={closed:!0,next:function(t){},error:function(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete:function(){}}},5959:function(t,e,n){"use strict";n.d(e,{Yc:function(){return l},xQ:function(){return v}});var r=n(8318),o=n(6673),a=n(7570),s=n(3895),u=n(9291),c=n(5331),l=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destination=t,r}return n}(o.L),v=function(){var t=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return h(n,[{key:c.b,value:function(){return new l(this)}},{key:"lift",value:function(t){var e=new g(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new s.N;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new s.N;return i(b(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),a.w.EMPTY):this.isStopped?(t.complete(),a.w.EMPTY):(this.observers.push(t),new u.W(this,t))}},{key:"asObservable",value:function(){var t=new r.y;return t.source=this,t}}]),n}(r.y);return t.create=function(t,e){return new g(t,e)},t}(),g=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).destination=t,i.source=r,i}return h(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):a.w.EMPTY}}]),n}(v)},9291:function(t,e,n){"use strict";n.d(e,{W:function(){return r}});var r=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return h(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n(7570).w)},6673:function(t,e,n){"use strict";n.d(e,{L:function(){return l}});var r=n(5024),o=n(7498),a=n(7570),s=n(5331),u=n(1484),c=n(4294),l=function(t){d(n,t);var e=p(n);function n(t,r,i){var a;switch(f(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.c;break;case 1:if(!t){a.destination=o.c;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(g(a))):(a.syncErrorThrowable=!0,a.destination=new v(g(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new v(g(a),t,r,i)}return a}return h(n,[{key:s.b,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,i(b(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(a.w),v=function(t){d(n,t);var e=p(n);function n(t,i,a,s){var u,c;f(this,n),(u=e.call(this))._parentSubscriber=t;var l=g(u);return(0,r.m)(i)?c=i:i&&(c=i.next,a=i.error,s=i.complete,i!==o.c&&(l=Object.create(i),(0,r.m)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(g(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return h(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,c.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,c.z)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!u.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(l)},7570:function(t,e,n){"use strict";n.d(e,{w:function(){return s}});var r=n(8470),i=n(2056),o=n(5024),a=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),s=function(){var t,e=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return h(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,c=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if((0,o.m)(c)){s&&(this._unsubscribe=void 0);try{c.call(this)}catch(v){e=v instanceof a?u(v.errors):[v]}}if((0,r.k)(l))for(var f=-1,d=l.length;++f<d;){var p=l[f];if((0,i.K)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof a?e=e.concat(u(v.errors)):e.push(v)}}if(e)throw new a(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();return e.EMPTY=((t=new e).closed=!0,t),e}();function u(t){return t.reduce(function(t,e){return t.concat(e instanceof a?e.errors:e)},[])}},1484:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:function(t,e,n){"use strict";n.d(e,{IY:function(){return a},Ds:function(){return s},ft:function(){return u}});var r=n(6673),i=n(8318),o=n(6015),a=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this)).parent=t,r}return h(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.L),s=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.L);function u(t,e){if(!e.closed){if(t instanceof i.y)return t.subscribe(e);var n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}}},2875:function(t,e,n){"use strict";n.d(e,{c:function(){return c},N:function(){return l}});var r,o=n(5959),a=n(8318),s=n(7570),u=n(1564),c=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return h(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.w).add(this.source.subscribe(new v(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}},{key:"refCount",value:function(){return(0,u.x)()(this)}}]),n}(a.y),l={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=c.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},v=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return h(n,[{key:"_error",value:function(t){this._unsubscribe(),i(b(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),i(b(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(o.Yc)},653:function(t,e,n){"use strict";n.d(e,{E:function(){return i},c:function(){return o}});var r=n(8318),i=new r.y(function(t){return t.complete()});function o(t){return t?function(t){return new r.y(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},9764:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var r=n(8318),i=n(6015),o=n(7570),a=n(6197),s=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.L]}(t))return function(t,e){return new r.y(function(n){var r=new o.w;return r.add(e.schedule(function(){var i=t[a.L]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(function(n){var r=new o.w;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if((0,l.z)(t))return(0,s.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(function(n){var r,i=new o.w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.hZ](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:function(t,e,n){"use strict";n.d(e,{n:function(){return a}});var r=n(8318),i=n(625),o=n(2570);function a(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:function(t,e,n){"use strict";n.d(e,{T:function(){return s}});var r=n(8318),i=n(6163),o=n(7471),a=n(9342);function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return(0,i.K)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(s)((0,a.n)(e,u))}},878:function(t,e,n){"use strict";n.d(e,{of:function(){return a}});var r=n(6163),i=n(9342),o=n(2570);function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return(0,r.K)(a)?(e.pop(),(0,o.r)(e,a)):(0,i.n)(e)}},9996:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||g(o),o}return h(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.L)},7471:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});var r=n(3982),i=n(3392);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,r.zg)(i.y,t)}},3982:function(t,e,n){"use strict";n.d(e,{zg:function(){return a}});var r=n(9996),i=n(9764),o=n(6882);function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(a(function(n,o){return(0,i.D)(t(n,o)).pipe((0,r.U)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}]),t}(),u=function(t){d(n,t);var e=p(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return h(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.IY(this),n=this.destination;n.add(e);var r=(0,o.ft)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.Ds)},45:function(t,e,n){"use strict";n.d(e,{QV:function(){return o},ht:function(){return s}});var r=n(6673),i=n(8861);function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new a(t,e))}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.scheduler=e,this.delay=n}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){d(n,t);var e=p(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return h(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(i.P.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.L),u=function t(e,n){f(this,t),this.notification=e,this.destination=n}},1564:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){f(this,t),this.connectable=e}return h(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return h(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.L)},1055:function(t,e,n){"use strict";n.d(e,{B:function(){return s}});var r=n(2875),i=n(1564),o=n(5959);function a(){return new o.xQ}function s(){return function(t){return(0,i.x)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2893:function(t,e,n){"use strict";n.d(e,{R:function(){return _}});var r=n(8318),o=1,a=Promise.resolve(),s={};function u(t){return t in s&&(delete s[t],!0)}var c=function(t){var e=o++;return s[e]=!0,a.then(function(){return u(e)&&t()}),e},l=function(t){u(t)},v=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return h(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?i(b(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=c(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return i(b(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(l(e),t.scheduled=void 0)}}]),n}(n(8277).o),g=new(function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n(1098).v))(v),y=n(2293),m=function(t){d(n,t);var e=p(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return f(this,n),(r=e.call(this)).source=t,r.delayTime=i,r.scheduler=o,(!(0,y.k)(i)||i<0)&&(r.delayTime=0),o&&"function"==typeof o.schedule||(r.scheduler=g),r}return h(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.y);function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){f(this,t),this.scheduler=e,this.delay=n}return h(t,[{key:"call",value:function(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},4019:function(t,e,n){"use strict";n.d(e,{b:function(){return a}});var r=n(6673),i=n(6054),o=n(5024);function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){d(n,t);var e=p(n);function n(t,r,a,s){var u;return f(this,n),(u=e.call(this,t))._tapNext=i.Z,u._tapError=i.Z,u._tapComplete=i.Z,u._tapError=a||i.Z,u._tapComplete=s||i.Z,(0,o.m)(r)?(u._context=g(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i.Z,u._tapError=r.error||i.Z,u._tapComplete=r.complete||i.Z),u}return h(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.L)},2570:function(t,e,n){"use strict";n.d(e,{r:function(){return o}});var r=n(8318),i=n(7570);function o(t,e){return new r.y(function(n){var r=new i.w,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:function(t,e,n){"use strict";n.d(e,{o:function(){return r}});var r=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return h(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){d(n,t);var e=p(n);function n(t,r){return f(this,n),e.call(this)}return h(n,[{key:"schedule",value:function(t){return this}}]),n}(n(7570).w))},1098:function(t,e,n){"use strict";n.d(e,{v:function(){return o}});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return h(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),o=function(t){d(n,t);var e=p(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return f(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==g(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return h(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):i(b(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},8569:function(t,e,n){"use strict";n.d(e,{z:function(){return i},P:function(){return o}});var r=n(8277),i=new(n(1098).v)(r.o),o=i},8489:function(t,e,n){"use strict";n.d(e,{c:function(){return a},N:function(){return o}});var r=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return h(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?i(b(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?i(b(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?i(b(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n(8277).o),o=new(function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(n(1098).v))(r),a=o},5686:function(t,e,n){"use strict";n.d(e,{hZ:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6197:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},5331:function(t,e,n){"use strict";n.d(e,{b:function(){return r}});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},3895:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},4294:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,{z:function(){return r}})},3392:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},8470:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},9653:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},5024:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},2293:function(t,e,n){"use strict";n.d(e,{k:function(){return i}});var r=n(8470);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},2056:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return r}})},5168:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return r}})},6163:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return r}})},6054:function(t,e,n){"use strict";function r(){}n.d(e,{Z:function(){return r}})},6015:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(625),i=n(4294),o=n(5686),a=n(6197),s=n(9653),u=n(5168),c=n(2056),l=function(t){if(t&&"function"==typeof t[a.L])return l=t,function(t){var e=l[a.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,s.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.z),t};if(t&&"function"==typeof t[o.hZ])return e=t,function(t){for(var n=e[o.hZ]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=(0,c.K)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},625:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},9686:function(n,r,a){"use strict";var u=a(1572),c=null;function l(){return c}var y=new u.OlP("DocumentToken"),m=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:_,token:t,providedIn:"platform"}),t}();function _(){return(0,u.LFG)(k)}var w=new u.OlP("Location Initialized"),k=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return h(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){var e=l().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),function(){return e.removeEventListener("popstate",t)}}},{key:"onHashChange",value:function(t){var e=l().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),function(){return e.removeEventListener("hashchange",t)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){T()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){T()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(t)}},{key:"getState",value:function(){return this._history.state}}]),n}(m);return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=(0,u.Yz7)({factory:x,token:t,providedIn:"platform"}),t}();function T(){return!!window.history.pushState}function x(){return new k((0,u.LFG)(y))}function C(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function E(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function S(t){return t&&"?"!==t[0]?"?"+t:t}var I=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:A,token:t,providedIn:"root"}),t}();function A(t){var e=(0,u.LFG)(y).location;return new N((0,u.LFG)(m),e&&e.origin||"")}var O=new u.OlP("appBaseHref"),N=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;if(f(this,n),(i=e.call(this))._platformLocation=t,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,v(i)}return h(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return C(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+S(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(I);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(O,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),P=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return h(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=C(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(I);return t.\u0275fac=function(e){return new(e||t)(u.LFG(m),u.LFG(O,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),R=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=E(L(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return h(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+S(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,L(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+S(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+S(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformStrategy).historyGo)||void 0===e||e.call(t,n)}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(I),u.LFG(m))},t.normalizeQueryParams=S,t.joinWithSlash=C,t.stripTrailingSlash=E,t.\u0275prov=(0,u.Yz7)({factory:D,token:t,providedIn:"root"}),t}();function D(){return new R((0,u.LFG)(I),(0,u.LFG)(m))}function L(t){return t.replace(/\/index.html$/,"")}var M=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),F=u.kL8,U=function t(){f(this,t)},q=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return h(n,[{key:"getPluralCategory",value:function(t,e){switch(F(e||this.locale)(t)){case M.Zero:return"zero";case M.One:return"one";case M.Two:return"two";case M.Few:return"few";case M.Many:return"many";default:return"other"}}}]),n}(U);return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.soG))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}();function j(t,n){n=encodeURIComponent(n);var r,i=s(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.indexOf("="),u=e(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}var V=function(){var t=function(){function t(e,n,r,i){f(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return h(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,u.AaK)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),B=function(){function t(e,n,r,i){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return h(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Z=function(){var t=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return h(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(rx){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new B(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new H(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new H(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),H=function t(e,n){f(this,t),this.record=e,this.view=n},z=function(){var t=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new G,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return h(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){W("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){W("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.s_b),u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),G=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function W(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat((0,u.AaK)(e),"'."))}var K=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:U,useClass:q}]}),t}();function Y(t){return"server"===t}var Q=function(){var t=function t(){f(this,t)};return t.\u0275prov=(0,u.Yz7)({token:t,providedIn:"root",factory:function(){return new J((0,u.LFG)(y),window)}}),t}(),J=function(){function t(e,n){f(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return h(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(e)||o.querySelector('[name="'.concat(e,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=X(this.window.history)||X(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(rx){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(rx){return!1}}}]),t}();function X(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var $,tt=function t(){f(this,t)},et=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getBaseHref",value:function(t){var e=(nt=nt||document.querySelector("base"))?nt.getAttribute("href"):null;return null==e?null:function(t){($=$||document.createElement("a")).setAttribute("href",t);var e=$.pathname;return"/"===e.charAt(0)?e:"/".concat(e)}(e)}},{key:"resetBaseElement",value:function(){nt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(t){return j(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,c||(c=t)}}]),n}(function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).supportsDOMEvents=!0,t}return n}(function(){return function t(){f(this,t)}}())),nt=null,rt=new u.OlP("TRANSITION_ID"),it=[{provide:u.ip1,useFactory:function(t,e,n){return function(){n.get(u.CZH).donePromise.then(function(){var n=l();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[rt,y,u.zs3],multi:!0}],ot=function(){function t(){f(this,t)}return h(t,[{key:"addToWindow",value:function(t){u.dqk.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},u.dqk.getAllAngularTestabilities=function(){return t.getAllTestabilities()},u.dqk.getAllAngularRootElements=function(){return t.getAllRootElements()},u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(function(t){var e=u.dqk.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){(0,u.VLi)(new t)}}]),t}(),at=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),st=new u.OlP("EventManagerPlugins"),ut=function(){var t=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return h(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(st),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ct=function(){function t(e){f(this,t),this._doc=e}return h(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=l().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),lt=function(){var t=function(){function t(){f(this,t),this._stylesSet=new Set}return h(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ht=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Map,r._hostNodes.set(t.head,[]),r}return h(n,[{key:"_addStylesToHost",value:function(t,e,n){var r=this;t.forEach(function(t){var i=r._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(ft),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,r){e._addStylesToHost(t,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(ft)})}}]),n}(lt);return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}();function ft(t){l().remove(t)}var dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pt=/%COMP%/g;function vt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?vt(t,i,n):(i=i.replace(pt,t),n.push(i))}return n}function gt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var yt=function(){var t=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mt(e)}return h(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case u.ifc.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new _t(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case u.ifc.ShadowDom:return new wt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=vt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(ut),u.LFG(ht),u.LFG(u.AFp))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),mt=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return h(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(dt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=dt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=dt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,n,r&u.JOm.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gt(n)):this.eventManager.addEventListener(t,e,gt(n))}}]),t}(),_t=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).component=i;var s=vt(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(pt,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(pt,o+"-"+i.id),a}return h(n,[{key:"applyToHost",value:function(t){i(b(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=i(b(n.prototype),"createElement",this).call(this,t,e);return i(b(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(mt),wt=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=vt(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return h(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return i(b(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return i(b(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return i(b(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(i(b(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(mt),bt=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return h(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(ct);return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),kt=["alt","control","meta","shift"],Tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ct={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Et=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return h(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return l().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(kt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&xt.hasOwnProperty(e)&&(e=xt[e]))}return Tt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),kt.forEach(function(r){r!=n&&(0,Ct[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ct);return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),St=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(At)},token:t,providedIn:"root"}),t}();function It(t){return new At(t.get(y))}var At=function(){var t=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r}return h(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case u.q3G.NONE:return e;case u.q3G.HTML:return(0,u.qzn)(e,"HTML")?(0,u.z3N)(e):(0,u.EiD)(this._doc,String(e)).toString();case u.q3G.STYLE:return(0,u.qzn)(e,"Style")?(0,u.z3N)(e):e;case u.q3G.SCRIPT:if((0,u.qzn)(e,"Script"))return(0,u.z3N)(e);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(e),(0,u.qzn)(e,"URL")?(0,u.z3N)(e):(0,u.mCW)(String(e));case u.q3G.RESOURCE_URL:if((0,u.qzn)(e,"ResourceURL"))return(0,u.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return(0,u.JVY)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return(0,u.L6k)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return(0,u.eBb)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return(0,u.LAX)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return(0,u.pB0)(t)}}]),n}(St);return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=(0,u.Yz7)({factory:function(){return It((0,u.LFG)(u.gxx))},token:t,providedIn:"root"}),t}(),Ot=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){et.makeCurrent(),ot.init()},multi:!0},{provide:y,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Nt=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:st,useClass:bt,multi:!0,deps:[y,u.R0b,u.Lbi]},{provide:st,useClass:Et,multi:!0,deps:[y]},[],{provide:yt,useClass:yt,deps:[ut,ht,u.AFp]},{provide:u.FYo,useExisting:yt},{provide:lt,useExisting:ht},{provide:ht,useClass:ht,deps:[y]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:ut,useClass:ut,deps:[st,u.R0b]},{provide:tt,useClass:at,deps:[]},[]],Pt=function(){var t=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return h(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:u.AFp,useValue:e.appId},{provide:rt,useExisting:u.AFp},it]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(t,12))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:Nt,imports:[K,u.hGG]}),t}();"undefined"!=typeof window&&window;var Rt=function t(){f(this,t)};function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Mt(t){return{type:6,styles:t,offset:null}}function Ft(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function qt(t){Promise.resolve(null).then(t)}var jt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return h(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;qt(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Vt=function(){function t(e){var n=this;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?qt(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++r==a&&n._onFinish()}),t.onDestroy(function(){++i==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return h(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function Bt(){return"undefined"!=typeof window&&void 0!==window.document}function Zt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ht(t){switch(t.length){case 0:return new jt;case 1:return t[0];default:return new Vt(t)}}function zt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function Gt(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&Wt(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&Wt(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&Wt(n,"destroy",t))})}}function Wt(t,e,n){var r=n.totalTime,i=Kt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Kt(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Yt(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Qt(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Jt=function(t,e){return!1},Xt=function(t,e){return!1},$t=function(t,e,n){return[]},te=Zt();(te||"undefined"!=typeof Element)&&(Jt=Bt()?function(t,e){for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:function(t,e){return t.contains(e)},Xt=function(){if(te||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Xt}(),$t=function(t,e,n){var r=[];if(n)for(var i=t.querySelectorAll(e),o=0;o<i.length;o++)r.push(i[o]);else{var a=t.querySelector(e);a&&r.push(a)}return r});var ee=null,ne=!1;function re(t){ee||(ee=("undefined"!=typeof document?document.body:null)||{},ne=!!ee.style&&"WebkitAppearance"in ee.style);var e=!0;return ee.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in ee.style)&&ne)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ee.style),e}var ie=Xt,oe=Jt,ae=$t;function se(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var ue=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"validateStyleProperty",value:function(t){return re(t)}},{key:"matchesElement",value:function(t,e){return ie(t,e)}},{key:"containsElement",value:function(t,e){return oe(t,e)}},{key:"query",value:function(t,e,n){return ae(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new jt(n,r)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ce=function(){var t=function t(){f(this,t)};return t.NOOP=new ue,t}();function le(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:he(parseFloat(e[1]),e[2])}function he(t,e){switch(e){case"s":return 1e3*t;default:return t}}function fe(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=he(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=he(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function de(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function pe(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else de(t,n);return n}function ve(t,e,n){return n?e+":"+n+";":""}function ge(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=ve(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=ve(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function ye(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=Ce(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Zt()&&ge(t))}function me(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=Ce(e);t.style[n]=""}),Zt()&&ge(t))}function _e(t){return Array.isArray(t)?1==t.length?t[0]:Lt(t):t}var we=new RegExp("{{\\s*(.+?)\\s*}}","g");function be(t){var e=[];if("string"==typeof t){for(var n;n=we.exec(t);)e.push(n[1]);we.lastIndex=0}return e}function ke(t,e,n){var r=t.toString(),i=r.replace(we,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?t:i}function Te(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var xe=/-+([a-z0-9])/g;function Ce(t){return t.replace(xe,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function Ee(t,e){return 0===t||0===e}function Se(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=Ae(t,e)})},s=1;s<e.length;s++)a()}return e}function Ie(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function Ae(t,e){return window.getComputedStyle(t)[e]}var Oe=new Set(["true","1"]),Ne=new Set(["false","0"]);function Pe(t,e){var n=Oe.has(t)||Ne.has(t),r=Oe.has(e)||Ne.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?Oe.has(t):Ne.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?Oe.has(e):Ne.has(e)),a&&s}}var Re=new RegExp("s*:selfs*,?","g");function De(t,e,n){return new Le(t).build(e,n)}var Le=function(){function t(e){f(this,t),this._driver=e}return h(t,[{key:"build",value:function(t,e){var n=new Me(e);return this._resetContextStyleTimingState(n),Ie(this,_e(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(Fe(t)){var e=t;Object.keys(e).forEach(function(t){be(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=Te(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=Ie(this,_e(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(Pe(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Pe(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Ue(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return Ie(n,t,e)}),options:Ue(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=Ie(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:Ue(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qe(fe(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=qe(0,0,"");return i.dynamic=!0,i.strValue=r,i}return qe((n=n||fe(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Mt({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Mt(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(Fe(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a=e.collectedStyles[e.currentQuerySelector],s=a[r],u=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),u=!1),o=s.startTime),u&&(a[r]={startTime:o,endTime:i}),e.options&&function(t,e,n){var r=e.params||{},i=be(t);i.length&&i.forEach(function(t){r.hasOwnProperty(t)||n.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})}(t[r],e.options,e.errors)}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Fe(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Fe(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:Ie(this,_e(t.animation),e),options:Ue(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Ue(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ue(t.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(Re,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,Yt(n.collectedStyles,n.currentQuerySelector,{});var u=Ie(this,_e(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:Ue(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:fe(t.timings,e.errors,!0);return{type:12,animation:Ie(this,_e(t.animation),e),timings:n,options:null}}}]),t}(),Me=function t(e){f(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Fe(t){return!Array.isArray(t)&&"object"==typeof t}function Ue(t){var e;return t?(t=de(t)).params&&(t.params=(e=t.params)?de(e):null):t={},t}function qe(t,e,n){return{duration:t,delay:e,easing:n}}function je(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Ve=function(){function t(){f(this,t),this._map=new Map}return h(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,o(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Be=new RegExp(":enter","g"),Ze=new RegExp(":leave","g");function He(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ze).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var ze=function(){function t(){f(this,t)}return h(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Ve;var l=new We(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),Ie(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[je(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?le(n.duration):null,o=null!=n.delay?le(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Ie(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ge);var a=le(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return Ie(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?le(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Ie(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return fe(e.params?ke(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?le(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ge);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),Ie(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;Ie(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),Ge={},We=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ge,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ke(this._driver,n,0),s.push(this.currentTimeline)}return h(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=le(r.duration)),null!=r.delay&&(i.delay=le(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=ke(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Ge,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Ye(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,i,a){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Be,"."+this._enterClassName)).replace(Ze,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,o(u))}return i||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}}]),t}(),Ke=function(){function t(e,n,r,i){f(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return h(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]="*"}):pe(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=ke(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=pe(o,!0);Object.keys(s).forEach(function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?Te(e.values()):[],a=n.size?Te(n.values()):[];if(r){var s=i[0],u=de(s);s.offset=0,u.offset=1,i=[s,u]}return je(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),Ye=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return h(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=pe(t[0],!1);u.offset=0,o.push(u);var c=pe(t[0],!1);c.offset=Qe(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=pe(t[h],!1);f.offset=Qe((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return je(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Ke);function Qe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Je=function t(){f(this,t)},Xe=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"normalizePropertyName",value:function(t,e){return Ce(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if($e[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(Je),$e=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function tn(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var en={},nn=function(){function t(e,n,r){f(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return h(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||en,f=this.buildStyles(n,a&&a.params||en,l),d=s&&s.params||en,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,_={params:Object.assign(Object.assign({},h),d)},w=c?[]:He(t,e,this.ast.animation,i,o,f,p,_,u,l),b=0;if(w.forEach(function(t){b=Math.max(t.duration+t.delay,b)}),l.length)return tn(e,this._triggerName,n,r,m,f,p,[],[],g,y,b,l);w.forEach(function(t){var n=t.element,r=Yt(g,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=Yt(y,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&v.add(n)});var k=Te(v.values());return tn(e,this._triggerName,n,r,m,f,p,w,k,g,y,b)}}]),t}(),rn=function(){function t(e,n){f(this,t),this.styles=e,this.defaultParams=n}return h(t,[{key:"buildStyles",value:function(t,e){var n={},r=de(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=ke(o,r,e)),n[t]=o})}}),n}}]),t}(),on=function(){function t(e,n){var r=this;f(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){r.states[t.name]=new rn(t.style,t.options&&t.options.params||{})}),an(this.states,"true","1"),an(this.states,"false","0"),n.transitions.forEach(function(t){r.transitionFactories.push(new nn(e,t,r.states))}),this.fallbackTransition=new nn(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return h(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function an(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var sn=new Ve,un=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return h(t,[{key:"register",value:function(t,e){var n=[],r=De(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=zt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=He(this._driver,e,a,"ng-enter","ng-leave",{},{},i,sn,o)).forEach(function(t){var e=Yt(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,"*")})});var u=Ht(n.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=Kt(e,"","","");return Gt(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),cn=[],ln={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=de(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return h(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),dn=new fn("void"),pn=function(){function t(e,n,r){f(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,bn(n,this._hostClassName)}return h(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=Yt(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Yt(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(bn(t,"ng-trigger"),bn(t,"ng-trigger-"+e),u[e]=dn),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new gn(this.id,e,t),s=this._engine.statesByElement.get(t);s||(bn(t,"ng-trigger"),bn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new fn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=dn),"void"===c.value||u.value!==c.value){var l=Yt(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(bn(t,"ng-animate-queued"),a.onStart(function(){kn(t,"ng-animate-queued")})),a.onDone(function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){me(t,p),ye(t,v)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach(function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ht(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=e._triggers[o].fallbackTransition,s=r[o]||dn,u=new fn("void"),c=new gn(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==ln||(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){bn(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=Kt(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,Gt(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),vn=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return h(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new pn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(yn(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(yn(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bn(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kn(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(yn(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return yn(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return Ht(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=ln,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)bn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Ht(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Ve,i=[],a=new Map,s=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=wn(d,this.collectedEnterElements),v=new Map,g=0;p.forEach(function(t,e){var n="ng-enter"+g++;v.set(e,n),t.forEach(function(t){return bn(t,n)})});for(var y=[],m=new Set,_=new Set,w=0;w<this.collectedLeaveElements.length;w++){var b=this.collectedLeaveElements[w],k=b.__ng_removed;k&&k.setForRemoval&&(y.push(b),m.add(b),k.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach(function(t){return m.add(t)}):_.add(b))}var T=new Map,x=wn(d,Array.from(m));x.forEach(function(t,e){var n="ng-leave"+g++;T.set(e,n),t.forEach(function(t){return bn(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=v.get(e);t.forEach(function(t){return kn(t,n)})}),x.forEach(function(t,e){var n=T.get(e);t.forEach(function(t){return kn(t,n)})}),y.forEach(function(t){n.processLeaveNode(t)})});for(var C=[],E=[],S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(C.push(e),n.collectedEnterElements.length){var a=o.__ng_removed;if(a&&a.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,o),d=T.get(o),p=v.get(o),g=n._buildInstruction(t,r,p,d,h);if(g.errors&&g.errors.length)E.push(g);else{if(h)return e.onStart(function(){return me(o,g.fromStyles)}),e.onDestroy(function(){return ye(o,g.toStyles)}),void i.push(e);if(t.isFallbackTransition)return e.onStart(function(){return me(o,g.fromStyles)}),e.onDestroy(function(){return ye(o,g.toStyles)}),void i.push(e);g.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(o,g.timelines),s.push({instruction:g,player:e,element:o}),g.queriedElements.forEach(function(t){return Yt(u,t,[]).push(e)}),g.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),g.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(E.length){var I=[];E.forEach(function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return I.push("- ".concat(t,"\n"))})}),C.forEach(function(t){return t.destroy()}),this.reportError(I)}var A=new Map,O=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(O.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),i.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Yt(A,e,[]).push(t),t.destroy()})});var N=y.filter(function(t){return Cn(t,c,l)}),P=new Map;_n(P,this.driver,_,l,"*").forEach(function(t){Cn(t,c,l)&&N.push(t)});var R=new Map;p.forEach(function(t,e){_n(R,n.driver,new Set(t),c,"!")}),N.forEach(function(t){var e=P.get(t),n=R.get(t);P.set(t,Object.assign(Object.assign({},e),n))});var D=[],L=[],M={};s.forEach(function(t){var e=t.element,o=t.player,s=t.instruction;if(r.has(e)){if(h.has(e))return o.onDestroy(function(){return ye(e,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=M;if(O.size>1){for(var c=e,l=[];c=c.parentNode;){var f=O.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return O.set(t,u)})}var d=n._buildAnimation(o.namespaceId,s,A,a,R,P);if(o.setRealPlayer(d),u===M)D.push(o);else{var p=n.playersByElement.get(u);p&&p.length&&(o.parentPlayer=Ht(p)),i.push(o)}}else me(e,s.fromStyles),o.onDestroy(function(){return ye(e,s.toStyles)}),L.push(o),h.has(e)&&i.push(o)}),L.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=Ht(e);t.setRealPlayer(n)}}),i.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var F=0;F<y.length;F++){var U=y[F],q=U.__ng_removed;if(kn(U,"ng-leave"),!q||!q.hasAnimation){var j=[];if(u.size){var V=u.get(U);V&&V.length&&j.push.apply(j,o(V));for(var B=this.driver.query(U,".ng-animating",!0),Z=0;Z<B.length;Z++){var H=u.get(B[Z]);H&&H.length&&j.push.apply(j,o(H))}}var z=j.filter(function(t){return!t.destroyed});z.length?Tn(this,U,z):this.processLeaveNode(U)}}return y.length=0,D.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),D}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=s(e.timelines);try{var l=function(){var t=r.value.element,s=t!==o,c=Yt(n,t,[]);i._getPreviousPlayers(t,s,a,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})};for(c.s();!(r=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}me(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new jt(e.duration,e.delay);var p,v,g=f!==u,y=(p=(n.get(f)||cn).map(function(t){return t.getRealPlayer()}),v=[],xn(p,v),v).filter(function(t){return!!t.element&&t.element===f}),m=i.get(f),_=o.get(f),w=zt(0,a._normalizer,0,e.keyframes,m,_),b=a._buildPlayer(e,w,y);if(e.subTimeline&&r&&h.add(f),g){var k=new gn(t,s,f);k.setRealPlayer(b),c.push(k)}return b});c.forEach(function(t){Yt(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return bn(t,"ng-animating")});var d=Ht(f);return d.onDestroy(function(){l.forEach(function(t){return kn(t,"ng-animating")}),ye(u,e.toStyles)}),h.forEach(function(t){Yt(r,t,[]).push(d)}),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new jt(t.duration,t.delay)}}]),t}(),gn=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new jt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return h(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return Gt(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){Yt(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function yn(t){return t&&1===t.nodeType}function mn(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function _n(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(mn(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=hn,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return mn(t,o[s++])}),a}function wn(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;function o(t){if(!t)return 1;var e=i.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:r.has(a)?1:o(a),i.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function bn(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function kn(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Tn(t,e,n){Ht(n).onDone(function(){return t.processLeaveNode(e)})}function xn(t,e){for(var n=0;n<t.length;n++){var r=t[n];r instanceof Vt?xn(r.players,e):e.push(r)}}function Cn(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var En=function(){function t(e,n,r){var i=this;f(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new vn(e,n,r),this._timelineEngine=new un(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return h(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=De(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new on(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(Qt(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var a=e(Qt(r),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function Sn(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=An(e[0]),e.length>1&&(r=An(e[e.length-1]))):e&&(n=An(e)),n||r?new In(t,n,r):null}var In=function(){var t=function(){function t(e,n,r){f(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return h(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&ye(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(ye(this._element,this._initialStyles),this._endStyles&&(ye(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(me(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(me(this._element,this._endStyles),this._endStyles=null),ye(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function An(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];On(i)&&((e=e||{})[i]=t[i])}return e}function On(t){return"display"===t||"position"===t}var Nn=function(){function t(e,n,r,i,o,a,s){var u=this;f(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return h(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Fn(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Mn(t,"",e),Ln(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Pn(this._element,this._name,"paused")}},{key:"resume",value:function(){Pn(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Rn(this._element,this._name);this._position=t*this._duration,Mn(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Ln(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=Fn(t,"").split(","),(r=Dn(n,e))>=0&&(n.splice(r,1),Mn(t,"",n.join(","))))}}]),t}();function Pn(t,e,n){Mn(t,"PlayState",n,Rn(t,e))}function Rn(t,e){var n=Fn(t,"");return n.indexOf(",")>0?Dn(n.split(","),e):Dn([n],e)}function Dn(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ln(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Mn(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function Fn(t,e){return t.style["animation"+e]||""}var Un=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return h(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Nn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:Ae(t.element,r))})}this.currentSnapshot=e}}]),t}(),qn=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=se(r),i}return h(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),i(b(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),i(b(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,i(b(n.prototype),"destroy",this).call(this))}}]),n}(jt),jn=function(){function t(){f(this,t),this._count=0}return h(t,[{key:"validateStyleProperty",value:function(t){return re(t)}},{key:"matchesElement",value:function(t,e){return ie(t,e)}},{key:"containsElement",value:function(t,e){return oe(t,e)}},{key:"query",value:function(t,e,n){return ae(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return se(t)});var r="@keyframes ".concat(e," {\n"),i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof Un}),s={};Ee(n,r)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Se(t,e,s));if(0==n)return new qn(t,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(t,c,e);(function(t){var e,n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(l);var h=Sn(t,e),f=new Un(t,e,c,n,r,i,u,h);return f.onDestroy(function(){var t;(t=l).parentNode.removeChild(t)}),f}}]),t}(),Vn=function(){function t(e,n,r,i){f(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return h(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Ae(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Bn=function(){function t(){f(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Zn().toString()),this._cssKeyframesDriver=new jn}return h(t,[{key:"validateStyleProperty",value:function(t){return re(t)}},{key:"matchesElement",value:function(t,e){return ie(t,e)}},{key:"containsElement",value:function(t,e){return oe(t,e)}},{key:"query",value:function(t,e,n){return ae(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(t){return t instanceof Vn});Ee(n,r)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=Sn(t,e=Se(t,e=e.map(function(t){return pe(t,!1)}),u));return new Vn(t,e,s,l)}}]),t}();function Zn(){return Bt()&&Element.prototype.animate||{}}var Hn=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}}),i}return h(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Lt(t):t;return Wn(this._renderer,null,e,"register",[n]),new zn(e,this._renderer)}}]),n}(Rt);return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.FYo),u.LFG(y))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),zn=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return h(n,[{key:"create",value:function(t,e){return new Gn(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){f(this,t)}}()),Gn=function(){function t(e,n,r,i){f(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return h(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Wn(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function Wn(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var Kn=function(){var t=function(){function t(e,n,r){f(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return h(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Yn("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);return e.data.animation.forEach(function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)}),new Qn(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.FYo),u.LFG(En),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Yn=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return h(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),Qn=function(t){d(r,t);var n=p(r);function r(t,e,i,o){var a;return f(this,r),(a=n.call(this,e,i,o)).factory=t,a.namespaceId=e,a}return h(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,r){var i,o,a=this;if("@"==n.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(s=e([i.substring(0,o),i.substr(o+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){a.factory.scheduleListenerCallback(t._data||-1,r,t)})}return this.delegate.listen(t,n,r)}}]),r}(Yn),Jn=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){return f(this,n),e.call(this,t.body,r,i)}return h(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(En);return t.\u0275fac=function(e){return new(e||t)(u.LFG(y),u.LFG(ce),u.LFG(Je))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Xn=new u.OlP("AnimationModuleType"),$n=[{provide:Rt,useClass:Hn},{provide:Je,useFactory:function(){return new Xe}},{provide:En,useClass:Jn},{provide:u.FYo,useFactory:function(t,e,n){return new Kn(t,e,n)},deps:[yt,En,u.R0b]}],tr=[{provide:ce,useFactory:function(){return"function"==typeof Zn()?new Bn:new jn}},{provide:Xn,useValue:"BrowserAnimations"}].concat($n),er=[{provide:ce,useClass:ue},{provide:Xn,useValue:"NoopAnimations"}].concat($n),nr=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:e.disableAnimations?er:tr}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:tr,imports:[Pt]}),t}(),rr=a(9764),ir=a(8318),or=a(8470),ar=a(9996),sr=a(2056);function ur(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if((0,or.k)(r))return cr(r,null);if((0,sr.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return cr(i.map(function(t){return r[t]}),i)}}if("function"==typeof e[e.length-1]){var a=e.pop();return cr(e=1===e.length&&(0,or.k)(e[0])?e[0]:e,null).pipe((0,ar.U)(function(t){return a.apply(void 0,o(t))}))}return cr(e,null)}function cr(t,e){return new ir.y(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=(0,rr.D)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var lr=function(){var t=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return h(t,[{key:"setProperty",value:function(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"setDisabledState",value:function(t){this.setProperty("disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t}),t}(),hr=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(lr);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,features:[u.qOj]}),e}(),fr=new u.OlP("NgValueAccessor"),dr={provide:fr,useExisting:(0,u.Gpc)(function(){return vr}),multi:!0},pr=new u.OlP("CompositionEventMode"),vr=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i){var o,a;return f(this,n),(o=e.call(this,t,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=l()?l().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return h(n,[{key:"writeValue",value:function(t){this.setProperty("value",null==t?"":t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),n}(lr);return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(pr,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&u.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[u._Bn([dr]),u.qOj]}),t}(),gr=new u.OlP("NgValidators"),yr=new u.OlP("NgAsyncValidators");function mr(t){return null!=t}function _r(t){var e=(0,u.QGY)(t)?(0,rr.D)(t):t;return(0,u.CqO)(e),e}function wr(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function br(t,e){return e.map(function(e){return e(t)})}function kr(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Tr(t){return null!=t?function(t){if(!t)return null;var e=t.filter(mr);return 0==e.length?null:function(t){return wr(br(t,e))}}(kr(t)):null}function xr(t){return null!=t?function(t){if(!t)return null;var e=t.filter(mr);return 0==e.length?null:function(t){return ur(br(t,e).map(_r)).pipe((0,ar.U)(wr))}}(kr(t)):null}function Cr(t,e){return null===t?[e]:Array.isArray(t)?[].concat(o(t),[e]):[t,e]}var Er=function(){var t=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return h(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Tr(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xr(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t}),t}(),Sr=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Er);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275dir=u.lG2({type:e,features:[u.qOj]}),e}(),Ir=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(Er),Ar=function(){function t(e){f(this,t),this._cd=e}return h(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),Or=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return n}(Ar);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Ir,2))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&u.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[u.qOj]}),t}(),Nr=function(){var t=function(t){d(n,t);var e=p(n);function n(t){return f(this,n),e.call(this,t)}return n}(Ar);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Sr,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&u.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[u.qOj]}),t}();function Pr(t,e){Dr(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Lr(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Lr(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function Rr(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Dr(t,e){var n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Cr(n,e.validator)):"function"==typeof n&&t.setValidators([n]);var r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Cr(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);var i=function(){return t.updateValueAndValidity()};Rr(e._rawValidators,i),Rr(e._rawAsyncValidators,i)}function Lr(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Mr(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Fr(t){return(Vr(t)?t.validators:t)||null}function Ur(t){return Array.isArray(t)?Tr(t):t||null}function qr(t,e){return(Vr(e)?e.asyncValidators:t)||null}function jr(t){return Array.isArray(t)?xr(t):t||null}function Vr(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Br=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Ur(this._rawValidators),this._composedAsyncValidatorFn=jr(this._rawAsyncValidators)}return h(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Ur(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jr(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=_r(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof Hr?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof zr&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Vr(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Zr=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,Fr(i),qr(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return h(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){Mr(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){Mr(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Br),Hr=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,Fr(r),qr(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return h(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Zr?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Br),zr=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,Fr(r),qr(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return h(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Zr?t.value:t.getRawValue()})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=s(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Br),Gr={provide:Sr,useExisting:(0,u.Gpc)(function(){return Kr})},Wr=Promise.resolve(null),Kr=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new u.vpe,i.form=new Hr({},Tr(t),xr(r)),i}return h(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Wr.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Pr(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Wr.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Mr(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Wr.then(function(){var n=e._findContainer(t.path),r=new Hr({});(function(t,e){Dr(t,e)})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Wr.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Wr.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Sr);return t.\u0275fac=function(e){return new(e||t)(u.Y36(gr,10),u.Y36(yr,10))},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&u.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Gr]),u.qOj]}),t}(),Yr={provide:Ir,useExisting:(0,u.Gpc)(function(){return Jr})},Qr=Promise.resolve(null),Jr=function(){var t=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this)).control=new Zr,a._registered=!1,a.update=new u.vpe,a._parent=t,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=function(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===vr?n=t:Object.getPrototypeOf(t.constructor)===hr?r=t:i=t}),i||r||n||null):null;var n,r,i}(0,o),a}return h(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?[].concat(o(this._parent.path),[this.name]):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Pr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;Qr.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Qr.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),n}(Ir);return t.\u0275fac=function(e){return new(e||t)(u.Y36(Sr,9),u.Y36(gr,10),u.Y36(yr,10),u.Y36(fr,10))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Yr]),u.qOj,u.TTD]}),t}(),Xr=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t}(),$r=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),ti=new u.OlP("NgModelWithFormControlWarning"),ei=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[$r]]}),t}(),ni=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ei]}),t}(),ri=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:ti,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[ei]}),t}(),ii=a(878),oi=a(3982);function ai(t,e){return(0,oi.zg)(t,e,1)}var si=a(6673);function ui(t,e){return function(n){return n.lift(new ci(t,e))}}var ci=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new li(t,this.predicate,this.thisArg))}}]),t}(),li=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return h(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(si.L),hi=function t(){f(this,t)},fi=function t(){f(this,t)},di=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return h(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,o(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),pi=function(){function t(){f(this,t)}return h(t,[{key:"encodeKey",value:function(t){return vi(t)}},{key:"encodeValue",value:function(t){return vi(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function vi(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function gi(t){return"".concat(t)}var yi=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new pi,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return h(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(gi(e.value)),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(gi(e.value));-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),mi=function(){function t(){f(this,t),this.map=new Map}return h(t,[{key:"set",value:function(t,e){return this.map.set(t,e),this}},{key:"get",value:function(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}},{key:"delete",value:function(t){return this.map.delete(t),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function _i(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function wi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function bi(t){return"undefined"!=typeof FormData&&t instanceof FormData}var ki=function(){function t(e,n,r,i){var o;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new di),this.context||(this.context=new mi),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new yi,this.urlWithParams=n}return h(t,[{key:"serializeBody",value:function(){return null===this.body?null:_i(this.body)||wi(this.body)||bi(this.body)||"string"==typeof this.body?this.body:this.body instanceof yi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||bi(this.body)?null:wi(this.body)?this.body.type||null:_i(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,h=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(t,e){return t.set(e,n.setHeaders[e])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(t,e){return t.set(e,n.setParams[e])},l)),new t(r,i,a,{params:l,headers:c,context:h,reportProgress:u,responseType:o,withCredentials:s})}}]),t}(),Ti=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),xi=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new di,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Ci=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=Ti.ResponseHeader,t}return h(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(xi),Ei=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=Ti.Response,t.body=void 0!==r.body?r.body:null,t}return h(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(xi),Si=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(xi);function Ii(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Ai=function(){var t=function(){function t(e){f(this,t),this.handler=e}return h(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof ki?n=t:(r=a.headers instanceof di?a.headers:new di(a.headers),a.params&&(i=a.params instanceof yi?a.params:new yi({fromObject:a.params})),n=new ki(t,e,void 0!==a.body?a.body:null,{headers:r,context:a.context,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=(0,ii.of)(n).pipe(ai(function(t){return o.handler.handle(t)}));if(t instanceof ki||"events"===a.observe)return s;var u=s.pipe(ui(function(t){return t instanceof Ei}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe((0,ar.U)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe((0,ar.U)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe((0,ar.U)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe((0,ar.U)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new yi).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Ii(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Ii(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Ii(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(hi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Oi=function(){function t(e,n){f(this,t),this.next=e,this.interceptor=n}return h(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Ni=new u.OlP("HTTP_INTERCEPTORS"),Pi=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Ri=/^\)\]\}',?\n/,Di=function(){var t=function(){function t(e){f(this,t),this.xhrFactory=e}return h(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ir.y(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new di(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Ci({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Ri,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Ei({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Si({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new Si({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Ti.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Ti.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Ti.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(tt))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Li=new u.OlP("XSRF_COOKIE_NAME"),Mi=new u.OlP("XSRF_HEADER_NAME"),Fi=function t(){f(this,t)},Ui=function(){var t=function(){function t(e,n,r){f(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return h(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=j(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(y),u.LFG(u.Lbi),u.LFG(Li))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),qi=function(){var t=function(){function t(e,n){f(this,t),this.tokenService=e,this.headerName=n}return h(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(Fi),u.LFG(Mi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ji=function(){var t=function(){function t(e,n){f(this,t),this.backend=e,this.injector=n,this.chain=null}return h(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Ni,[]);this.chain=e.reduceRight(function(t,e){return new Oi(t,e)},this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(fi),u.LFG(u.zs3))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),Vi=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:qi,useClass:Pi}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Li,useValue:e.cookieName}:[],e.headerName?{provide:Mi,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[qi,{provide:Ni,useExisting:qi,multi:!0},{provide:Fi,useClass:Ui},{provide:Li,useValue:"XSRF-TOKEN"},{provide:Mi,useValue:"X-XSRF-TOKEN"}]}),t}(),Bi=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Ai,{provide:hi,useClass:ji},Di,{provide:fi,useExisting:Di}],imports:[[Vi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),Zi=a(5959),Hi=a(3895),zi=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this))._value=t,r}return h(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=i(b(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Hi.N;return this._value}},{key:"next",value:function(t){i(b(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Zi.xQ),Gi=a(6163),Wi=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(si.L),Ki=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return h(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(si.L),Yi=a(6015);function Qi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ki(t,n,r);if(!i.closed)return e instanceof ir.y?e.subscribe(i):(0,Yi.s)(e)(i)}var Ji=a(9342),Xi={},$i=function(){function t(e){f(this,t),this.resultSelector=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new to(t,this.resultSelector))}}]),t}(),to=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return h(n,[{key:"_next",value:function(t){this.values.push(Xi),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Qi(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===Xi?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Wi),eo=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),no=a(7471);function ro(){return(0,no.J)(1)(ii.of.apply(void 0,arguments))}var io=a(653);function oo(t){return new ir.y(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,rr.D)(n):(0,io.c)()).subscribe(e)})}var ao=a(2875),so=a(6882);function uo(t,e){return"function"==typeof e?function(n){return n.pipe(uo(function(n,r){return(0,rr.D)(t(n,r)).pipe((0,ar.U)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new co(t))}}var co=function(){function t(e){f(this,t),this.project=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new lo(t,this.project))}}]),t}(),lo=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return h(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new so.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,so.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||i(b(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&i(b(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(so.Ds),ho=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function fo(t){return function(e){return 0===t?(0,io.c)():e.lift(new po(t))}}var po=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new ho}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new vo(t,this.total))}}]),t}(),vo=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return h(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(si.L);function go(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return(0,Gi.K)(r)?(e.pop(),function(t){return ro(e,t,r)}):function(t){return ro(e,t)}}function yo(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new mo(t,e,n))}}var mo=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new _o(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),_o=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return h(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(si.L);function wo(t){return function(e){var n=new bo(t),r=e.lift(n);return n.caught=r}}var bo=function(){function t(e){f(this,t),this.selector=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new ko(t,this.selector,this.caught))}}]),t}(),ko=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return h(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(a){return void i(b(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var r=new so.IY(this);this.add(r);var o=(0,so.ft)(e,r);o!==r&&this.add(o)}}}]),n}(so.Ds);function To(t){return function(e){return 0===t?(0,io.c)():e.lift(new xo(t))}}var xo=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new ho}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new Co(t,this.total))}}]),t}(),Co=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return h(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(si.L);function Eo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao;return function(e){return e.lift(new So(t))}}var So=function(){function t(e){f(this,t),this.errorFactory=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new Io(t,this.errorFactory))}}]),t}(),Io=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return h(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(_C){t=_C}this.destination.error(t)}}]),n}(si.L);function Ao(){return new eo}function Oo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new No(t))}}var No=function(){function t(e){f(this,t),this.defaultValue=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new Po(t,this.defaultValue))}}]),t}(),Po=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return h(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(si.L),Ro=a(3392);function Do(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ui(function(e,n){return t(e,n,r)}):Ro.y,fo(1),n?Oo(e):Eo(function(){return new eo}))}}var Lo=a(4019),Mo=a(1564),Fo=a(7570),Uo=function(){function t(e){f(this,t),this.callback=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new qo(t,this.callback))}}]),t}(),qo=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).add(new Fo.w(r)),i}return n}(si.L),jo=function t(e,n){f(this,t),this.id=e,this.url=n},Vo=function(t){d(n,t);var e=p(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return h(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(jo),Bo=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return h(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(jo),Zo=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).reason=i,o}return h(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(jo),Ho=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).error=i,o}return h(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(jo),zo=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return h(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jo),Go=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return h(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jo),Wo=function(t){d(n,t);var e=p(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return h(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(jo),Ko=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return h(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jo),Yo=function(t){d(n,t);var e=p(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return h(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jo),Qo=function(){function t(e){f(this,t),this.route=e}return h(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Jo=function(){function t(e){f(this,t),this.route=e}return h(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Xo=function(){function t(e){f(this,t),this.snapshot=e}return h(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),$o=function(){function t(e){f(this,t),this.snapshot=e}return h(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ta=function(){function t(e){f(this,t),this.snapshot=e}return h(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ea=function(){function t(e){f(this,t),this.snapshot=e}return h(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),na=function(){function t(e,n,r){f(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return h(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),ra=function(){function t(e){f(this,t),this.params=e||{}}return h(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function ia(t){return new ra(t)}function oa(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function aa(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sa(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!ua(t[n=r[o]],e[n]))return!1;return!0}function ua(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=o(t).sort(),r=o(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function ca(t){return Array.prototype.concat.apply([],t)}function la(t){return t.length>0?t[t.length-1]:null}function ha(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function fa(t){return(0,u.CqO)(t)?t:(0,u.QGY)(t)?(0,rr.D)(Promise.resolve(t)):(0,ii.of)(t)}var da={exact:function t(e,n,r){if(!ka(e.segments,n.segments))return!1;if(!ma(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:ga},pa={exact:function(t,e){return sa(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return ua(t[n],e[n])})},ignored:function(){return!0}};function va(t,e,n){return da[n.paths](t.root,e.root,n.matrixParams)&&pa[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function ga(t,e,n){return ya(t,e,e.segments,n)}function ya(t,e,n,r){if(t.segments.length>n.length){var i=t.segments.slice(0,n.length);return!!ka(i,n)&&!e.hasChildren()&&!!ma(i,n,r)}if(t.segments.length===n.length){if(!ka(t.segments,n))return!1;if(!ma(t.segments,n,r))return!1;for(var o in e.children){if(!t.children[o])return!1;if(!ga(t.children[o],e.children[o],r))return!1}return!0}var a=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!ka(t.segments,a)&&!!ma(t.segments,a,r)&&!!t.children.primary&&ya(t.children.primary,e,s,r)}function ma(t,e,n){return e.every(function(e,r){return pa[n](t[r].parameters,e.parameters)})}var _a=function(){function t(e,n,r){f(this,t),this.root=e,this.queryParams=n,this.fragment=r}return h(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ia(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Ca.serialize(this)}}]),t}(),wa=function(){function t(e,n){var r=this;f(this,t),this.segments=e,this.children=n,this.parent=null,ha(n,function(t,e){return t.parent=r})}return h(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Ea(this)}}]),t}(),ba=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return h(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ia(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Ra(this)}}]),t}();function ka(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Ta=function t(){f(this,t)},xa=function(){function t(){f(this,t)}return h(t,[{key:"parse",value:function(t){var e=new Ua(t);return new _a(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Sa(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Aa(t),"=").concat(Aa(e))}).join("&"):"".concat(Aa(t),"=").concat(Aa(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Ca=new xa;function Ea(t){return t.segments.map(function(t){return Ra(t)}).join("/")}function Sa(t,e){if(!t.hasChildren())return Ea(t);if(e){var n=t.children.primary?Sa(t.children.primary,!1):"",r=[];return ha(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Sa(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return ha(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),ha(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Sa(t.children.primary,!1)]:["".concat(n,":").concat(Sa(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Ea(t),"/").concat(i[0]):"".concat(Ea(t),"/(").concat(i.join("//"),")")}function Ia(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Aa(t){return Ia(t).replace(/%3B/gi,";")}function Oa(t){return Ia(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Na(t){return decodeURIComponent(t)}function Pa(t){return Na(t.replace(/\+/g,"%20"))}function Ra(t){return"".concat(Oa(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Oa(t),"=").concat(Oa(e[t]))}).join("")));var e}var Da=/^[^\/()?;=#]+/;function La(t){var e=t.match(Da);return e?e[0]:""}var Ma=/^[^=?&#]+/,Fa=/^[^?&#]+/,Ua=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return h(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wa([],{}):new wa([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new wa(t,e)),n}},{key:"parseSegment",value:function(){var t=La(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new ba(Na(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=La(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=La(this.remaining);r&&(n=r,this.capture(n))}t[Na(e)]=Na(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Ma);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Fa);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Pa(e),o=Pa(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=La(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new wa([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),qa=function(){function t(e){f(this,t),this._root=e}return h(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=ja(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=ja(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Va(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Va(t,this._root).map(function(t){return t.value})}}]),t}();function ja(t,e){if(t===e.value)return e;var n,r=s(e.children);try{for(r.s();!(n=r.n()).done;){var i=ja(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function Va(t,e){if(t===e.value)return[e];var n,r=s(e.children);try{for(r.s();!(n=r.n()).done;){var i=Va(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var Ba=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return h(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Za(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Ha=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).snapshot=r,Qa(g(i),t),i}return h(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(qa);function za(t,e){var n=function(t,e){var n=new Ka([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Ya("",new Ba(n,[]))}(t,e),r=new zi([new ba("",{})]),i=new zi({}),o=new zi({}),a=new zi({}),s=new zi(""),u=new Ga(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new Ha(new Ba(u,[]),n)}var Ga=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return h(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,ar.U)(function(t){return ia(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ar.U)(function(t){return ia(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function Wa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Ka=function(){function t(e,n,r,i,o,a,s,u,c,l,h){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return h(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ia(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ia(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Ya=function(t){d(n,t);var e=p(n);function n(t,r){var i;return f(this,n),(i=e.call(this,r)).url=t,Qa(g(i),r),i}return h(n,[{key:"toString",value:function(){return Ja(this._root)}}]),n}(qa);function Qa(t,e){e.value._routerState=t,e.children.forEach(function(e){return Qa(t,e)})}function Ja(t){var e=t.children.length>0?" { ".concat(t.children.map(Ja).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Xa(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sa(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),sa(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!sa(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),sa(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $a(t,e){return sa(t.params,e.params)&&function(t,e){return ka(t,e)&&t.every(function(t,n){return sa(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||$a(t.parent,e.parent))}function ts(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=s(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return ts(t,e,o)}}catch(a){i.e(a)}finally{i.f()}return ts(t,e)})}(t,e,n);return new Ba(r,i)}if(t.shouldAttach(e.value)){var o=t.retrieve(e.value);if(null!==o){var a=o.route;return es(e,a),a}}var u,c=new Ga(new zi((u=e.value).url),new zi(u.params),new zi(u.queryParams),new zi(u.fragment),new zi(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return ts(t,e)});return new Ba(c,l)}function es(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)es(t.children[n],e.children[n])}function ns(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function rs(t){return"object"==typeof t&&null!=t&&t.outlets}function is(t,e,n,r,i){var o={};return r&&ha(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new _a(n.root===t?e:os(n.root,t,e),o,i)}function os(t,e,n){var r={};return ha(t.children,function(t,i){r[i]=t===e?n:os(t,e,n)}),new wa(t.segments,r)}var as=function(){function t(e,n,r){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ns(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(rs);if(i&&i!==la(r))throw new Error("{outlets:{}} has to be the last command")}return h(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),ss=function t(e,n,r){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function us(t,e,n){if(t||(t=new wa([],{})),0===t.segments.length&&t.hasChildren())return cs(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(rs(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ds(u,c,a))return o;r+=2}else{if(!ds(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new wa(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new wa(t.segments.slice(r.pathIndex),t.children),cs(o,0,i)}return r.match&&0===i.length?new wa(t.segments,{}):r.match&&!t.hasChildren()?ls(t,e,n):r.match?cs(t,0,i):ls(t,e,n)}function cs(t,e,n){if(0===n.length)return new wa(t.segments,{});var r=function(t){return rs(t[0])?t[0].outlets:{primary:t}}(n),i={};return ha(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=us(t.children[r],e,n))}),ha(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new wa(t.segments,i)}function ls(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(rs(o)){var a=hs(o.outlets);return new wa(r,a)}if(0===i&&ns(n[0]))r.push(new ba(t.segments[e].path,fs(n[0]))),i++;else{var s=rs(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&ns(u)?(r.push(new ba(s,fs(u))),i+=2):(r.push(new ba(s,{})),i++)}}return new wa(r,{})}function hs(t){var e={};return ha(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ls(new wa([],{}),0,t))}),e}function fs(t){var e={};return ha(t,function(t,n){return e[n]="".concat(t)}),e}function ds(t,e,n){return t==n.path&&sa(e,n.parameters)}var ps=function(){function t(e,n,r,i){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return h(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xa(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Za(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),ha(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Za(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Za(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new ea(t.value.snapshot))}),t.children.length&&this.forwardEvent(new $o(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Xa(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),vs(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function vs(t){Xa(t.value),t.children.forEach(vs)}var gs=function t(e,n){f(this,t),this.routes=e,this.module=n};function ys(t){return"function"==typeof t}function ms(t){return t instanceof _a}var _s=Symbol("INITIAL_VALUE");function ws(){return uo(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i;return(0,Gi.K)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&(0,or.k)(e[0])&&(e=e[0]),(0,Ji.n)(e,i).lift(new $i(r))}(t.map(function(t){return t.pipe(fo(1),go(_s))})).pipe(yo(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==_s)return t;if(r===_s&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ms(r))return r}return t},t)},_s),ui(function(t){return t!==_s}),(0,ar.U)(function(t){return ms(t)?t:!0===t}),fo(1))})}var bs=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[gu]},encapsulation:2}),t}();function ks(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Ts(r,xs(e,r))}}function Ts(t,e){t.children&&ks(t.children,e)}function xs(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Cs(t){var e=t.children&&t.children.map(Cs),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=bs),n}function Es(t){return t.outlet||"primary"}function Ss(t,e){var n=t.filter(function(t){return Es(t)===e});return n.push.apply(n,o(t.filter(function(t){return Es(t)!==e}))),n}var Is={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function As(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Is):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||aa)(n,t,e);if(!i)return Object.assign({},Is);var o={};ha(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Os(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Ns(t,e,n)&&"primary"!==Es(n)})}(t,n,r)){var o=new wa(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=s(n);try{for(a.s();!(o=a.n()).done;){var u=o.value;if(""===u.path&&"primary"!==Es(u)){var c=new wa([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Es(u)]=c}}}catch(l){a.e(l)}finally{a.f()}return i}(t,e,r,new wa(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Ns(t,e,n)})}(t,n,r)){var a=new wa(t.segments,function(t,e,n,r,i,o){var a,u={},c=s(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(Ns(t,n,l)&&!i[Es(l)]){var h=new wa([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[Es(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var u=new wa(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Ns(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ps(t,e,n,r){return!!(Es(t)===r||"primary"!==r&&Ns(e,n,t))&&("**"===t.path||As(e,t,n).matched)}function Rs(t,e,n){return 0===e.length&&!t.children[n]}var Ds=function t(e){f(this,t),this.segmentGroup=e||null},Ls=function t(e){f(this,t),this.urlTree=e};function Ms(t){return new ir.y(function(e){return e.error(new Ds(t))})}function Fs(t){return new ir.y(function(e){return e.error(new Ls(t))})}function Us(t){return new ir.y(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var qs=function(){function t(e,n,r,i,o){f(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}return h(t,[{key:"apply",value:function(){var t=this,e=Os(this.urlTree.root,[],[],this.config).segmentGroup,n=new wa(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe((0,ar.U)(function(e){return t.createUrlTree(js(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(wo(function(e){if(e instanceof Ls)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ds)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe((0,ar.U)(function(n){return e.createUrlTree(js(n),t.queryParams,t.fragment)})).pipe(wo(function(t){if(t instanceof Ds)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new wa([],{primary:t}):t;return new _a(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,ar.U)(function(t){return new wa([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return(0,rr.D)(i).pipe(ai(function(i){var o=n.children[i],a=Ss(e,i);return r.expandSegmentGroup(t,a,o,i).pipe((0,ar.U)(function(t){return{segment:t,outlet:i}}))}),yo(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ui(function(e,n){return t(e,n,r)}):Ro.y,To(1),n?Oo(e):Eo(function(){return new eo}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return(0,rr.D)(n).pipe(ai(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(wo(function(t){if(t instanceof Ds)return(0,ii.of)(null);throw t}))}),Do(function(t){return!!t}),wo(function(t,n){if(t instanceof eo||"EmptyError"===t.name){if(Rs(e,r,i))return(0,ii.of)(new wa([],{}));throw new Ds(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Ps(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ms(e):Ms(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fs(o):this.lineralizeSegments(n,o).pipe((0,oi.zg)(function(n){var o=new wa(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=As(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Ms(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Fs(f):this.lineralizeSegments(r,f).pipe((0,oi.zg)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,ii.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,ar.U)(function(t){return n._loadedConfig=t,new wa(r,{})})):(0,ii.of)(new wa(r,{}));var a=As(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Ms(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe((0,oi.zg)(function(t){var r=t.module,a=t.routes,s=Os(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new wa(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe((0,ar.U)(function(t){return new wa(u,t)}));if(0===a.length&&0===h.length)return(0,ii.of)(new wa(u,{}));var d=Es(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe((0,ar.U)(function(t){return new wa(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?(0,ii.of)(new gs(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ii.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,oi.zg)(function(n){return n?r.configLoader.load(t.injector,e).pipe((0,ar.U)(function(t){return e._loadedConfig=t,t})):function(t){return new ir.y(function(e){return e.error(oa("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):(0,ii.of)(new gs([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return(0,ii.of)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&ys(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!ys(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return fa(i)});return(0,ii.of)(o).pipe(ws(),(0,Lo.b)(function(t){if(ms(t)){var e=oa('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),(0,ar.U)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,ii.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Us(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new _a(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return ha(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return ha(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new wa(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=s(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function js(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=js(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new wa(t.segments.concat(e.segments),e.children)}return t}(new wa(t.segments,e))}var Vs=function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]},Bs=function t(e,n){f(this,t),this.component=e,this.route=n};function Zs(t,e,n){var r=t._root;return zs(r,e?e._root:null,n,[r.value])}function Hs(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function zs(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Za(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ka(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ka(t.url,e.url)||!sa(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$a(t,e)||!sa(t.queryParams,e.queryParams);case"paramsChange":default:return!$a(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vs(r)):(o.data=a.data,o._resolvedData=a._resolvedData),zs(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Bs(s.outlet.component,a))}else a&&Gs(e,s,i),i.canActivateChecks.push(new Vs(r)),zs(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ha(o,function(t,e){return Gs(t,n.getContext(e),i)}),i}function Gs(t,e,n){var r=Za(t),i=t.value;ha(r,function(t,r){Gs(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Bs(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Ws=function t(){f(this,t)};function Ks(t){return new ir.y(function(e){return e.error(t)})}var Ys=function(){function t(e,n,r,i,o,a){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return h(t,[{key:"recognize",value:function(){var t=Os(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Ka([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ba(n,e),i=new Ya(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Wa(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,i=Object.keys(e.children);r<i.length;r++){var a=i[r],s=e.children[a],u=Ss(t,a),c=this.processSegmentGroup(u,s,a);if(null===c)return null;n.push.apply(n,o(c))}var l=Qs(n);return l.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),l}},{key:"processSegment",value:function(t,e,n,r){var i,o=s(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,u=this.processSegmentAgainstRoute(a,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return Rs(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Ps(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?la(n).parameters:{};i=new Ka(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$s(t),Es(t),t.component,t,Js(e),Xs(e)+n.length,tu(t))}else{var u=As(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Ka(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$s(t),Es(t),t.component,t,Js(e),Xs(e)+o.length,tu(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Os(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new Ba(i,d)]}if(0===c.length&&0===f.length)return[new Ba(i,[])];var p=Es(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new Ba(i,v)]}}]),t}();function Qs(t){var e,n=[],r=new Set,i=s(t);try{var a=function(){var t,i=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(i))return n.push(i),"continue";var a=n.find(function(t){return i.value.routeConfig===t.value.routeConfig});void 0!==a?((t=a.children).push.apply(t,o(i.children)),r.add(a)):n.push(i)};for(i.s();!(e=i.n()).done;)a()}catch(f){i.e(f)}finally{i.f()}var u,c=s(r);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=Qs(l.children);n.push(new Ba(l.value,h))}}catch(f){c.e(f)}finally{c.f()}return n.filter(function(t){return!r.has(t)})}function Js(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Xs(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function $s(t){return t.data||{}}function tu(t){return t.resolve||{}}function eu(t){return uo(function(e){var n=t(e);return n?(0,rr.D)(n).pipe((0,ar.U)(function(){return e})):(0,ii.of)(e)})}var nu=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(function(){function t(){f(this,t)}return h(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),ru=new u.OlP("ROUTES"),iu=function(){function t(e,n,r,i){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return h(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe((0,ar.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new gs(ca(i.injector.get(ru,void 0,u.XFs.Self|u.XFs.Optional)).map(Cs),i)}),wo(function(t){throw e._loader$=void 0,t}));return e._loader$=new ao.c(r,function(){return new Zi.xQ}).pipe((0,Mo.x)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?(0,rr.D)(this.loader.load(t)):fa(t()).pipe((0,oi.zg)(function(t){return t instanceof u.YKP?(0,ii.of)(t):(0,rr.D)(e.compiler.compileModuleAsync(t))}))}}]),t}(),ou=function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new au,this.attachRef=null},au=function(){function t(){f(this,t),this.contexts=new Map}return h(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ou,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),su=function(){function t(){f(this,t)}return h(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function uu(t){throw t}function cu(t,e,n){return e.parse("/")}function lu(t,e){return(0,ii.of)(null)}var hu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},du=function(){var t=function(){function t(e,n,r,i,o,a,s,c){var l=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Zi.xQ,this.errorHandler=uu,this.malformedUriErrorHandler=cu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lu,afterPreactivation:lu},this.urlHandlingStrategy=new su,this.routeReuseStrategy=new nu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(u.h0i),this.console=o.get(u.c2e);var h=o.get(u.R0b);this.isNgZoneEnabled=h instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new _a(new wa([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iu(a,s,function(t){return l.triggerEvent(new Qo(t))},function(t){return l.triggerEvent(new Jo(t))}),this.routerState=za(this.currentUrlTree,this.rootComponentType),this.transitions=new zi({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return h(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(ui(function(t){return 0!==t.id}),(0,ar.U)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),uo(function(t){var r,i,o,a,s=!1,u=!1;return(0,ii.of)(t).pipe((0,Lo.b)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),uo(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,ii.of)(t).pipe(uo(function(t){var r=e.transitions.getValue();return n.next(new Vo(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?io.E:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,uo(function(t){return function(t,e,n,r,i){return new qs(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe((0,ar.U)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),(0,Lo.b)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return(0,oi.zg)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Ys(t,e,n,r,i,o).recognize();return null===a?Ks(new Ws):(0,ii.of)(a)}catch(_C){return Ks(_C)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe((0,ar.U)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),(0,Lo.b)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new zo(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new Vo(u,e.serializeUrl(c),l,h);n.next(d);var p=za(c,e.rootComponentType).snapshot;return(0,ii.of)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),io.E}),eu(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),(0,Lo.b)(function(t){var n=new Go(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(0,ar.U)(function(t){return Object.assign(Object.assign({},t),{guards:Zs(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return(0,oi.zg)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?(0,ii.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,rr.D)(t).pipe((0,oi.zg)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,ii.of)(!0);var a=o.map(function(o){var a,s=Hs(o,e,i);if(function(t){return t&&ys(t.canDeactivate)}(s))a=fa(s.canDeactivate(t,e,n,r));else{if(!ys(s))throw new Error("Invalid CanDeactivate guard");a=fa(s(t,e,n,r))}return a.pipe(Do())});return(0,ii.of)(a).pipe(ws())}(t.component,t.route,n,e,r)}),Do(function(t){return!0!==t},!0))}(s,r,i,t).pipe((0,oi.zg)(function(n){return n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,rr.D)(e).pipe(ai(function(e){return ro(function(t,e){return null!==t&&e&&e(new Xo(t)),(0,ii.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ta(t)),(0,ii.of)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return oo(function(){var i=e.guards.map(function(i){var o,a=Hs(i,e.node,n);if(function(t){return t&&ys(t.canActivateChild)}(a))o=fa(a.canActivateChild(r,t));else{if(!ys(a))throw new Error("Invalid CanActivateChild guard");o=fa(a(r,t))}return o.pipe(Do())});return(0,ii.of)(i).pipe(ws())})});return(0,ii.of)(i).pipe(ws())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ii.of)(!0);var i=r.map(function(r){return oo(function(){var i,o=Hs(r,e,n);if(function(t){return t&&ys(t.canActivate)}(o))i=fa(o.canActivate(e,t));else{if(!ys(o))throw new Error("Invalid CanActivate guard");i=fa(o(e,t))}return i.pipe(Do())})});return(0,ii.of)(i).pipe(ws())}(t,e.route,n))}),Do(function(t){return!0!==t},!0))}(r,a,t,e):(0,ii.of)(n)}),(0,ar.U)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),(0,Lo.b)(function(t){if(ms(t.guardsResult)){var n=oa('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new Wo(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),ui(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new Zo(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),eu(function(t){if(t.guards.canActivateChecks.length)return(0,ii.of)(t).pipe((0,Lo.b)(function(t){var n=new Ko(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),uo(function(t){var r,i,o=!1;return(0,ii.of)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,(0,oi.zg)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return(0,ii.of)(t);var o=0;return(0,rr.D)(n).pipe(ai(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return(0,ii.of)({});var o={};return(0,rr.D)(i).pipe((0,oi.zg)(function(i){return function(t,e,n,r){var i=Hs(t,e,r);return fa(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Lo.b)(function(t){o[i]=t}))}),To(1),(0,oi.zg)(function(){return Object.keys(o).length===i.length?(0,ii.of)(o):io.E}))}(t._resolve,t,e,r).pipe((0,ar.U)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Wa(t,n).resolve),null}))}(t.route,e,r,i)}),(0,Lo.b)(function(){return o++}),To(1),(0,oi.zg)(function(e){return o===n.length?(0,ii.of)(t):io.E}))})),(0,Lo.b)({next:function(){return o=!0},complete:function(){if(!o){var r=new Zo(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),(0,Lo.b)(function(t){var n=new Yo(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),eu(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),(0,ar.U)(function(t){var n=function(t,e,n){var r=ts(t,e._root,n?n._root:void 0);return new Ha(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),(0,Lo.b)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},(0,ar.U)(function(t){return new ps(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),(0,Lo.b)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new Zo(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Uo(r))}),wo(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=ms(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Zo(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Ho(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Fg){t.reject(Fg)}}var s;return io.E}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){ks(t),this.config=t.map(Cs),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return is(e.root,e.root,e,r,i);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new as(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return ha(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(o(t),[{outlets:a}])}if(r.segmentPath)return[].concat(o(t),[r.segmentPath])}return"string"!=typeof r?[].concat(o(t),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(o(t),[r])},[]);return new as(n,e,r)}(n);if(a.toRoot())return is(e.root,new wa([],{}),e,r,i);var s=function(t,e,n){if(t.isAbsolute)return new ss(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new ss(r,r===e.root,0)}var i=ns(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ss(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?cs(s.segmentGroup,s.index,a.commands):us(s.segmentGroup,s.index,a.commands);return is(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,l,null!=c?c:null)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=ms(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(_C){e=this.malformedUriErrorHandler(_C,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){var n;if(n=!0===e?Object.assign({},hu):!1===e?Object.assign({},fu):e,ms(t))return va(this.currentUrlTree,t,n);var r=this.parseUrl(t);return va(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Bo(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.DyG),u.LFG(Ta),u.LFG(au),u.LFG(R),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),pu=function(){var t=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new Zi.xQ,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return h(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:vu(this.skipLocationChange),replaceUrl:vu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:vu(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(du),u.Y36(Ga),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&u.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),t}();function vu(t){return""===t||!!t}var gu=function(){var t=function(){function t(e,n,r,i,o){f(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return h(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yu(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(au),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},t.\u0275dir=u.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),yu=function(){function t(e,n,r){f(this,t),this.route=e,this.childContexts=n,this.parent=r}return h(t,[{key:"get",value:function(t,e){return t===Ga?this.route:t===au?this.childContexts:this.parent.get(t,e)}}]),t}(),mu=function t(){f(this,t)},_u=function(){function t(){f(this,t)}return h(t,[{key:"preload",value:function(t,e){return(0,ii.of)(null)}}]),t}(),wu=function(){var t=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new iu(n,r,function(t){return e.triggerEvent(new Qo(t))},function(t){return e.triggerEvent(new Jo(t))})}return h(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(ui(function(t){return t instanceof Bo}),ai(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=s(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return(0,rr.D)(r).pipe((0,no.J)(),(0,ar.U)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?(0,ii.of)(e._loadedConfig):n.loader.load(t.injector,e)).pipe((0,oi.zg)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(du),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(mu))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),bu=function(){var t=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return h(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Vo?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bo&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof na&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new na(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(du),u.LFG(Q),u.LFG(void 0))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),ku=new u.OlP("ROUTER_CONFIGURATION"),Tu=new u.OlP("ROUTER_FORROOT_GUARD"),xu=[R,{provide:Ta,useClass:xa},{provide:du,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new du(null,t,e,n,r,i,o,ca(a));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(function(t){var e,n;null===(e=console.group)||void 0===e||e.call(console,"Router Event: ".concat(t.constructor.name)),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Ta,au,R,u.zs3,u.v3s,u.Sil,ru,ku,[function(){return function t(){f(this,t)}}(),new u.FiY],[function(){return function t(){f(this,t)}}(),new u.FiY]]},au,{provide:Ga,useFactory:function(t){return t.routerState.root},deps:[du]},{provide:u.v3s,useClass:u.EAV},wu,_u,function(){function t(){f(this,t)}return h(t,[{key:"preload",value:function(t,e){return e().pipe(wo(function(){return(0,ii.of)(null)}))}}]),t}(),{provide:ku,useValue:{enableTracing:!1}}];function Cu(){return new u.PXZ("Router",du)}var Eu=function(){var t=function(){function t(e,n){f(this,t)}return h(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[xu,Ou(e),{provide:Tu,useFactory:Au,deps:[[du,new u.FiY,new u.tp0]]},{provide:ku,useValue:n||{}},{provide:I,useFactory:Iu,deps:[m,[new u.tBr(O),new u.FiY],ku]},{provide:bu,useFactory:Su,deps:[du,Q,ku]},{provide:mu,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_u},{provide:u.PXZ,multi:!0,useFactory:Cu},[Nu,{provide:u.ip1,multi:!0,useFactory:Pu,deps:[Nu]},{provide:Du,useFactory:Ru,deps:[Nu]},{provide:u.tb,multi:!0,useExisting:Du}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ou(e)]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(Tu,8),u.LFG(du,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}();function Su(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new bu(t,e,n)}function Iu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new P(t,e):new N(t,e)}function Au(t){return"guarded"}function Ou(t){return[{provide:u.deG,multi:!0,useValue:t},{provide:ru,multi:!0,useValue:t}]}var Nu=function(){var t=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Zi.xQ}return h(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(w,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(du),i=t.injector.get(ku);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?(0,ii.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(ku),n=this.injector.get(wu),r=this.injector.get(bu),i=this.injector.get(du),o=this.injector.get(u.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.zs3))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}();function Pu(t){return t.appInitializer.bind(t)}function Ru(t){return t.bootstrapListener.bind(t)}var Du=new u.OlP("Router Initializer"),Lu=a(5024);function Mu(t,e,n,r){return(0,Lu.m)(n)&&(r=n,n=void 0),r?Mu(t,e,n).pipe((0,ar.U)(function(t){return(0,or.k)(t)?r.apply(void 0,o(t)):r(t)})):new ir.y(function(r){Fu(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Fu(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)Fu(t[c],e,n,r,i)}r.add(o)}var Uu=a(8569),qu=a(2293);function ju(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var Vu=function(){function t(){f(this,t)}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new Bu(t))}}]),t}(),Bu=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return h(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=Qi(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)}}]),n}(Wi);a(6054);var Zu=a(5686);function Hu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return"function"==typeof r&&e.pop(),(0,Ji.n)(e,void 0).lift(new zu(r))}var zu=function(){function t(e){f(this,t),this.resultSelector=e}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new Gu(t,this.resultSelector))}}]),t}(),Gu=function(t){d(n,t);var e=p(n);function n(t,r){var i;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return f(this,n),(i=e.call(this,t)).resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return h(n,[{key:"_next",value:function(t){var e=this.iterators;(0,or.k)(t)?e.push(new Ku(t)):e.push("function"==typeof t[Zu.hZ]?new Wu(t[Zu.hZ]()):new Yu(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<e;s++){var u=t[s],c=u.next();if(u.hasCompleted()&&(o=!0),c.done)return void n.complete();a.push(c.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(si.L),Wu=function(){function t(e){f(this,t),this.iterator=e,this.nextResult=e.next()}return h(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),Ku=function(){function t(e){f(this,t),this.array=e,this.index=0,this.length=0,this.length=e.length}return h(t,[{key:Zu.hZ,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),t}(),Yu=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return h(n,[{key:Zu.hZ,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return(0,so.ft)(this.observable,new so.IY(this))}}]),n}(so.Ds),Qu=a(1906);function Ju(t){return function(e){return e.lift(new Xu(t))}}var Xu=function(){function t(e){f(this,t),this.notifier=e}return h(t,[{key:"call",value:function(t,e){var n=new $u(t),r=(0,so.ft)(this.notifier,new so.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),$u=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).seenValue=!1,r}return h(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(so.Ds),tc=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new ec(t,this.compare,this.keySelector))}}]),t}(),ec=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return h(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(si.L);function nc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new rc(e,n))}}var rc=function(){function t(e,n){f(this,t),this.observables=e,this.project=n}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new ic(t,this.observables,this.project))}}]),t}(),ic=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;f(this,n),(o=e.call(this,t)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++)o.add(Qi(g(o),r[u],void 0,u));return o}return h(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(o(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Wi);a(8861),a(1055);var oc=["*"],ac=["dialog"];function sc(t){return null!=t}function uc(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var cc=!0,lc=5,hc=function(){var t=function t(){f(this,t),this.animation=cc};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),fc=function(){},dc=lc,pc=new Map,vc=function(t,e,n,r){var i=r.context||{},o=pc.get(e);if(o)switch(r.runningTransition){case"continue":return io.E;case"stop":t.run(function(){return o.transition$.complete()}),i=Object.assign(o.context,i),pc.delete(e)}var a=n(e,r.animation,i)||fc;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return a()}),(0,ii.of)(void 0).pipe(function(t){return function(e){return new ir.y(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new Zi.xQ,u=new Zi.xQ,c=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return ro(t,ii.of.apply(void 0,e))}}(!0));pc.set(e,{transition$:s,complete:function(){u.next(),u.complete()},context:i});var l=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,r=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(r))}(e);return t.runOutsideAngular(function(){var n=Mu(e,"transitionend").pipe(Ju(c),ui(function(t){return t.target===e}));(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!(0,or.k)(e[0]))return e[0];e=e[0]}return(0,Ji.n)(e,void 0).lift(new Vu)})(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return(0,qu.k)(e)?r=Number(e)<1?1:Number(e):(0,Gi.K)(e)&&(n=e),(0,Gi.K)(n)||(n=Uu.P),new ir.y(function(e){var i=(0,qu.k)(t)?t:+t-n.now();return n.schedule(ju,i,{index:0,period:r,subscriber:e})})}(l+dc).pipe(Ju(c)),n,u).pipe(Ju(c)).subscribe(function(){pc.delete(e),t.run(function(){a(),s.next(),s.complete()})})}),s.asObservable()},gc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),yc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),mc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),_c=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),wc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),bc=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var kc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Tc(t){var e=Array.from(t.querySelectorAll(kc)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}new(function(){function t(){f(this,t)}return h(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var i=this.offsetParent(t);e=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return e.top-=r.top,e.bottom-=r.top,e.left-=r.left,e.right-=r.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(t,n,r,i){var o=e(r.split("-"),2),a=o[0],s=void 0===a?"top":a,u=o[1],c=void 0===u?"center":u,l=i?this.offset(t,!1):this.position(t,!1),h=this.getAllStyles(n),f=parseFloat(h.marginTop),d=parseFloat(h.marginBottom),p=parseFloat(h.marginLeft),v=parseFloat(h.marginRight),g=0,y=0;switch(s){case"top":g=l.top-(n.offsetHeight+f+d);break;case"bottom":g=l.top+l.height;break;case"left":y=l.left-(n.offsetWidth+p+v);break;case"right":y=l.left+l.width}switch(c){case"top":g=l.top;break;case"bottom":g=l.top+l.height-n.offsetHeight;break;case"left":y=l.left;break;case"right":y=l.left+l.width-n.offsetWidth;break;case"center":"top"===s||"bottom"===s?y=l.left+l.width/2-n.offsetWidth/2:g=l.top+l.height/2-n.offsetHeight/2}n.style.transform="translate(".concat(Math.round(y),"px, ").concat(Math.round(g),"px)");var m=n.getBoundingClientRect(),_=document.documentElement,w=window.innerHeight||_.clientHeight,b=window.innerWidth||_.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=w}}]),t}()),new Date(1882,10,12),new Date(2174,10,25);var xc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K,ni]]}),t}(),Cc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),Ec=function(){var t=function(){function t(e){f(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return h(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(hc))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(hc))},token:t,providedIn:"root"}),t}(),Sc=function t(e,n,r){f(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},Ic=function(){},Ac=function(){var t=function(){function t(e){f(this,t),this._document=e}return h(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Ic}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(r+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(y))},token:t,providedIn:"root"}),t}(),Oc=function(){var t=function(){function t(e,n){f(this,t),this._el=e,this._zone=n}return h(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(fo(1)).subscribe(function(){vc(t._zone,t._el.nativeElement,function(t,e){e&&uc(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return vc(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(u.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),u.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),Nc=function(){function t(){f(this,t)}return h(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),Pc=function(){function t(e,n,r,i){var o=this;f(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Zi.xQ,this._dismissed=new Zi.xQ,this._hidden=new Zi.xQ,e.instance.dismissEvent.subscribe(function(t){o.dismiss(t)}),this.result=new Promise(function(t,e){o._resolve=t,o._reject=e}),this.result.then(null,function(){})}return h(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(Ju(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(Ju(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ii.of)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),Hu(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),Rc=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),Dc=function(){var t=function(){function t(e,n,r){f(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new Zi.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Zi.xQ,this.hidden=new Zi.xQ}return h(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){var t=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(fo(1)).subscribe(function(){t._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},r=Hu(vc(this._zone,e,function(){return e.classList.remove("show")},n),vc(this._zone,this._dialogEl.nativeElement,function(){},n));return r.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};Hu(vc(this._zone,this._elRef.nativeElement,function(t,e){e&&uc(t),t.classList.add("show")},e),vc(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){Mu(e,"keydown").pipe(Ju(t._closed$),ui(function(t){return t.which===bc.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(Rc.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;Mu(t._dialogEl.nativeElement,"mousedown").pipe(Ju(t._closed$),(0,Lo.b)(function(){return n=!1}),uo(function(){return Mu(e,"mouseup").pipe(Ju(t._closed$),fo(1))}),ui(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),Mu(e,"click").pipe(Ju(t._closed$)).subscribe(function(r){var i=r.target;e===i&&("static"===t.backdrop?t._bumpBackdrop():!0!==t.backdrop||n||t._zone.run(function(){return t.dismiss(Rc.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=Tc(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,r=this._elWithFocus;t=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&vc(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(y),u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;(1&t&&u.Gf(ac,7),2&t)&&(u.iGM(n=u.CRH())&&(e._dialogEl=n.first))},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),u.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),u.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:oc,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t}(),Lc=function(){var t=function(){function t(n,r,i,o,a,s){var c=this;f(this,t),this._applicationRef=n,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=a,this._ngZone=s,this._activeWindowCmptHasChanged=new Zi.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(function(){if(c._windowCmpts.length){var t=c._windowCmpts[c._windowCmpts.length-1];(function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c._ngZone.runOutsideAngular(function(){var t=Mu(n,"focusin").pipe(Ju(r),(0,ar.U)(function(t){return t.target}));Mu(n,"keydown").pipe(Ju(r),ui(function(t){return t.which===bc.Tab}),nc(t)).subscribe(function(t){var r=e(t,2),i=r[0],o=r[1],a=e(Tc(n),2),s=a[0],u=a[1];o!==s&&o!==n||!i.shiftKey||(u.focus(),i.preventDefault()),o!==u||i.shiftKey||(s.focus(),i.preventDefault())}),i&&Mu(n,"click").pipe(Ju(r),nc(t),(0,ar.U)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(0,t.location.nativeElement,c._activeWindowCmptHasChanged),c._revertAriaHidden(),c._setAriaHidden(t.location.nativeElement)}})}return h(t,[{key:"open",value:function(t,e,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:sc(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new Nc,l=this._getContentRef(t,r.injector||e,n,c,r),h=!1!==r.backdrop?this._attachBackdrop(t,o):void 0,f=this._attachWindowComponent(t,o,l),d=new Pc(f,l,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),c.close=function(t){d.close(t)},c.dismiss=function(t){d.dismiss(t)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),d}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(Oc).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var r=t.resolveComponentFactory(Dc).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){sc(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){sc(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,i){return n?n instanceof u.Rgc?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new Sc([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Sc([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new Sc([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,i){var o=t.resolveComponentFactory(n),a=u.zs3.create({providers:[{provide:Nc,useValue:r}],parent:e}),s=o.create(a),c=s.location.nativeElement;return i.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new Sc([[c]],s.hostView,s)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(y),u.LFG(Ac),u.LFG(u.FYo),u.LFG(u.R0b))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(u.z2F),(0,u.LFG)(u.gxx),(0,u.LFG)(y),(0,u.LFG)(Ac),(0,u.LFG)(u.FYo),(0,u.LFG)(u.R0b))},token:t,providedIn:"root"}),t}(),Mc=function(){var t=function(){function t(e,n,r,i){f(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=r,this._config=i}return h(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(Lc),u.LFG(Ec))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(u._Vd),(0,u.LFG)(u.gxx),(0,u.LFG)(Lc),(0,u.LFG)(Ec))},token:t,providedIn:"root"}),t}(),Fc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Mc]}),t}(),Uc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),qc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),jc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),Vc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),Bc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),Zc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),Hc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),zc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});var Gc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),Wc=[gc,yc,mc,_c,wc,xc,Cc,Fc,Uc,qc,jc,Vc,Bc,Zc,Hc,zc,Gc],Kc=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Wc,gc,yc,mc,_c,wc,xc,Cc,Fc,Uc,qc,jc,Vc,Bc,Zc,Hc,zc,Gc]}),t}(),Yc=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}();function Qc(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function Jc(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function Xc(t,e){if(1&t&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.Oqu(n._placeholder)}}function $c(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"span",14),u._uU(1),u.TgZ(2,"a",15),u.NdJ("click",function(t){var e=u.CHM(n).$implicit;return u.oxw().onItemClick(t,e)}),u._uU(3,"x"),u.qZA(),u.qZA()}if(2&t){var r=e.$implicit,i=e.index,o=u.oxw();u.Q6J("hidden",i>o._settings.itemsShowLimit-1),u.xp6(1),u.hij(" ",r.text," ")}}function tl(t,e){if(1&t&&(u.TgZ(0,"span",16),u._uU(1),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.hij("+",n.itemShowRemaining(),"")}}function el(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"li",17),u.NdJ("click",function(){return u.CHM(n),u.oxw().toggleSelectAll()}),u._UZ(1,"input",18),u.TgZ(2,"div"),u._uU(3),u.qZA(),u.qZA()}if(2&t){var r=u.oxw();u.xp6(1),u.Q6J("checked",r.isAllItemsSelected())("disabled",r.disabled||r.isLimitSelectionReached()),u.xp6(2),u.Oqu(r.isAllItemsSelected()?r._settings.unSelectAllText:r._settings.selectAllText)}}function nl(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"li",19),u.TgZ(1,"input",20),u.NdJ("ngModelChange",function(t){return u.CHM(n),u.oxw().filter.text=t})("ngModelChange",function(t){return u.CHM(n),u.oxw().onFilterTextChange(t)}),u.qZA(),u.qZA()}if(2&t){var r=u.oxw();u.xp6(1),u.Q6J("readOnly",r.disabled)("placeholder",r._settings.searchPlaceholderText)("ngModel",r.filter.text)}}function rl(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"li",21),u.NdJ("click",function(t){var e=u.CHM(n).$implicit;return u.oxw().onItemClick(t,e)}),u._UZ(1,"input",22),u.TgZ(2,"div"),u._uU(3),u.qZA(),u.qZA()}if(2&t){var r=e.$implicit,i=u.oxw();u.xp6(1),u.Q6J("checked",i.isSelected(r))("disabled",i.disabled||i.isLimitSelectionReached()&&!i.isSelected(r)||r.isDisabled),u.uIk("aria-label",r.text),u.xp6(2),u.Oqu(r.text)}}function il(t,e){if(1&t&&(u.TgZ(0,"li",23),u.TgZ(1,"h5"),u._uU(2),u.qZA(),u.qZA()),2&t){var n=u.oxw();u.xp6(2),u.Oqu(n._settings.noDataAvailablePlaceholderText)}}var ol,al=function(t){return{"dropdown-multiselect--active":t}},sl=function t(e){f(this,t),"string"!=typeof e&&"number"!=typeof e||(this.id=this.text=e,this.isDisabled=!1),"object"==typeof e&&(this.id=e.id,this.text=e.text,this.isDisabled=e.isDisabled)},ul=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"transform",value:function(t,e){var n=this;return t&&e?t.filter(function(t){return n.applyFilter(t,e)}):t}},{key:"applyFilter",value:function(t,e){return"string"==typeof t.text&&"string"==typeof e.text?!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase())):!(e.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(e.text.toString().toLowerCase()))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=u.Yjl({name:"multiSelectFilter",type:t,pure:!1}),t}(),cl={provide:fr,useExisting:(0,u.Gpc)(function(){return hl}),multi:!0},ll=function(){},hl=function(){var t=function(){function t(e){f(this,t),this.listFilterPipe=e,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new sl(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new u.vpe,this.onDropDownClose=new u.vpe,this.onSelect=new u.vpe,this.onDeSelect=new u.vpe,this.onSelectAll=new u.vpe,this.onDeSelectAll=new u.vpe,this.onTouchedCallback=ll,this.onChangeCallback=ll}return h(t,[{key:"placeholder",set:function(t){this._placeholder=t||"Select"}},{key:"settings",set:function(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}},{key:"data",set:function(t){var e=this;if(t){var n=t[0];this._sourceDataType=typeof n,this._sourceDataFields=this.getFields(n),this._data=t.map(function(t){return new sl("string"==typeof t||"number"==typeof t?t:{id:t[e._settings.idField],text:t[e._settings.textField],isDisabled:t[e._settings.disabledField]})})}else this._data=[]}},{key:"onFilterTextChange",value:function(t){this.onFilterChange.emit(t)}},{key:"onItemClick",value:function(t,e){if(this.disabled||e.isDisabled)return!1;var n=this.isSelected(e),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(e):r&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}},{key:"writeValue",value:function(t){var e=this;if(null!=t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){var n=t[0];this.selectedItems=[new sl("string"==typeof n||"number"==typeof n?n:{id:n[this._settings.idField],text:n[this._settings.textField],isDisabled:n[this._settings.disabledField]})]}}catch(_C){}else{var r=t.map(function(t){return new sl("string"==typeof t||"number"==typeof t?t:{id:t[e._settings.idField],text:t[e._settings.textField],isDisabled:t[e._settings.disabledField]})});this.selectedItems=this._settings.limitSelection>0?r.splice(0,this._settings.limitSelection):r}else this.selectedItems=[];this.onChangeCallback(t)}},{key:"registerOnChange",value:function(t){this.onChangeCallback=t}},{key:"registerOnTouched",value:function(t){this.onTouchedCallback=t}},{key:"onTouched",value:function(){this.closeDropdown(),this.onTouchedCallback()}},{key:"trackByFn",value:function(t,e){return e.id}},{key:"isSelected",value:function(t){var e=!1;return this.selectedItems.forEach(function(n){t.id===n.id&&(e=!0)}),e}},{key:"isLimitSelectionReached",value:function(){return this._settings.limitSelection===this.selectedItems.length}},{key:"isAllItemsSelected",value:function(){var t=this.listFilterPipe.transform(this._data,this.filter),e=t.filter(function(t){return t.isDisabled}).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+e}},{key:"showButton",value:function(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}},{key:"itemShowRemaining",value:function(){return this.selectedItems.length-this._settings.itemsShowLimit}},{key:"addSelected",value:function(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}},{key:"removeSelected",value:function(t){var e=this;this.selectedItems.forEach(function(n){t.id===n.id&&e.selectedItems.splice(e.selectedItems.indexOf(n),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}},{key:"emittedValue",value:function(t){var e=this,n=[];if(Array.isArray(t))t.map(function(t){n.push(e.objectify(t))});else if(t)return this.objectify(t);return n}},{key:"objectify",value:function(t){if("object"===this._sourceDataType){var e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(e[this._settings.disabledField]=t.isDisabled),e}return"number"===this._sourceDataType?Number(t.id):t.text}},{key:"toggleDropdown",value:function(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}},{key:"closeDropdown",value:function(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}},{key:"toggleSelectAll",value:function(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(function(t){return!t.isDisabled}).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}},{key:"getFields",value:function(t){var e=[];if("object"!=typeof t)return e;for(var n in t)e.push(n);return e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(ul))},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,e){1&t&&u.NdJ("blur",function(){return e.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[u._Bn([cl])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 6px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.NdJ("blur",function(){return e.onTouched()})("clickOutside",function(){return e.closeDropdown()}),u.TgZ(1,"div"),u.TgZ(2,"span",1),u.NdJ("click",function(t){return e.toggleDropdown(t)}),u.YNc(3,Xc,2,1,"span",2),u.YNc(4,$c,4,2,"span",3),u.TgZ(5,"span",4),u.YNc(6,tl,2,1,"span",5),u._UZ(7,"span",6),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.TgZ(9,"ul",8),u.YNc(10,el,4,3,"li",9),u.YNc(11,nl,2,3,"li",10),u.qZA(),u.TgZ(12,"ul",11),u.YNc(13,rl,4,4,"li",12),u.ALo(14,"multiSelectFilter"),u.YNc(15,il,3,1,"li",13),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(1),u.ekj("disabled",e.disabled),u.xp6(2),u.Q6J("ngIf",0==e.selectedItems.length),u.xp6(1),u.Q6J("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByFn),u.xp6(1),u.Q6J("ngClass",u.VKq(17,al,e._settings.defaultOpen)),u.xp6(1),u.Q6J("ngIf",e.itemShowRemaining()>0),u.xp6(2),u.Q6J("hidden",!e._settings.defaultOpen),u.xp6(2),u.Q6J("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),u.xp6(1),u.Q6J("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&e._settings.allowSearchFilter),u.xp6(1),u.Udp("max-height",e._settings.maxHeight+"px"),u.xp6(1),u.Q6J("ngForOf",u.xi3(14,14,e._data,e.filter)),u.xp6(2),u.Q6J("ngIf",0==e._data.length&&!e._settings.allowRemoteDataSearch))},directives:function(){return[fl,z,Z,V,vr,Or,Jr]},pipes:function(){return[ul]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),t=Qc([Jc("design:paramtypes",[ul])],t)}(),fl=function(){var t=function(){function t(e){f(this,t),this._elementRef=e,this.clickOutside=new u.vpe}return h(t,[{key:"onClick",value:function(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&u.NdJ("click",function(t){return e.onClick(t,t.target)},!1,u.evT)},outputs:{clickOutside:"clickOutside"}}),t=Qc([Jc("design:paramtypes",[u.SBq])],t)}(),dl=function(){var t=ol=function(){function t(){f(this,t)}return h(t,null,[{key:"forRoot",value:function(){return{ngModule:ol}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[ul],imports:[[K,ni]]}),t}(),pl=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}();function vl(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function gl(t,e){return function(n,r){e(n,r,t)}}var yl=["toast-component",""];function ml(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(n),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA(),u.qZA()}}function _l(t,e){if(1&t&&(u.ynx(0),u._uU(1),u.BQk()),2&t){var n=u.oxw(2);u.xp6(1),u.hij("[",n.duplicatesCount+1,"]")}}function wl(t,e){if(1&t&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,_l,2,1,"ng-container",4),u.qZA()),2&t){var n=u.oxw();u.Tol(n.options.titleClass),u.uIk("aria-label",n.title),u.xp6(1),u.hij(" ",n.title," "),u.xp6(1),u.Q6J("ngIf",n.duplicatesCount)}}function bl(t,e){if(1&t&&u._UZ(0,"div",7),2&t){var n=u.oxw();u.Tol(n.options.messageClass),u.Q6J("innerHTML",n.message,u.oJD)}}function kl(t,e){if(1&t&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&t){var n=u.oxw();u.Tol(n.options.messageClass),u.uIk("aria-label",n.message),u.xp6(1),u.hij(" ",n.message," ")}}function Tl(t,e){if(1&t&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.Udp("width",n.width+"%")}}function xl(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(n),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA(),u.qZA()}}function Cl(t,e){if(1&t&&(u.ynx(0),u._uU(1),u.BQk()),2&t){var n=u.oxw(2);u.xp6(1),u.hij("[",n.duplicatesCount+1,"]")}}function El(t,e){if(1&t&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,Cl,2,1,"ng-container",4),u.qZA()),2&t){var n=u.oxw();u.Tol(n.options.titleClass),u.uIk("aria-label",n.title),u.xp6(1),u.hij(" ",n.title," "),u.xp6(1),u.Q6J("ngIf",n.duplicatesCount)}}function Sl(t,e){if(1&t&&u._UZ(0,"div",7),2&t){var n=u.oxw();u.Tol(n.options.messageClass),u.Q6J("innerHTML",n.message,u.oJD)}}function Il(t,e){if(1&t&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&t){var n=u.oxw();u.Tol(n.options.messageClass),u.uIk("aria-label",n.message),u.xp6(1),u.hij(" ",n.message," ")}}function Al(t,e){if(1&t&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&t){var n=u.oxw();u.xp6(1),u.Udp("width",n.width+"%")}}var Ol,Nl=function(){function t(e,n,r,i,o,a){var s=this;f(this,t),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=a,this._onTap=new Zi.xQ,this._onAction=new Zi.xQ,this.toastRef.afterClosed().subscribe(function(){s._onAction.complete(),s._onTap.complete()})}return h(t,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(t){this._onAction.next(t)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),Pl={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Rl=new u.OlP("ToastConfig"),Dl=function(){function t(e,n){f(this,t),this.component=e,this.injector=n}return h(t,[{key:"attach",value:function(t,e){return this._attachedHost=t,t.attach(this,e)}},{key:"detach",value:function(){var t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),Ll=function(t){d(n,t);var e=p(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._hostDomElement=t,o._componentFactoryResolver=r,o._appRef=i,o}return h(n,[{key:"attachComponentPortal",value:function(t,e){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(t.component);return n=i.create(t.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(function(){r._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(function(){function t(){f(this,t)}return h(t,[{key:"attach",value:function(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}}]),t}()),Ml=function(){var t=function(){function t(e){f(this,t),this._document=e}return h(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(y))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(y))},token:t,providedIn:"root"}),t=vl([gl(0,(0,u.tBr)(y))],t)}(),Fl=function(){function t(e){f(this,t),this._portalHost=e}return h(t,[{key:"attach",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(t,e)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),t}(),Ul=function(){var t=function(){function t(e,n,r,i){f(this,t),this._overlayContainer=e,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return h(t,[{key:"create",value:function(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}},{key:"getPaneElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}},{key:"_createPaneElement",value:function(t,e){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(t){return new Ll(t,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(t){return new Fl(this._createPortalHost(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(Ml),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(y))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(Ml),(0,u.LFG)(u._Vd),(0,u.LFG)(u.z2F),(0,u.LFG)(y))},token:t,providedIn:"root"}),t=vl([gl(3,(0,u.tBr)(y))],t)}(),ql=function(){function t(e){f(this,t),this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Zi.xQ,this._activate=new Zi.xQ,this._manualClose=new Zi.xQ,this._resetTimeout=new Zi.xQ,this._countDuplicate=new Zi.xQ}return h(t,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}]),t}(),jl=function(){function t(e,n){f(this,t),this._toastPackage=e,this._parentInjector=n}return h(t,[{key:"get",value:function(t,e,n){return t===Nl?this._toastPackage:this._parentInjector.get(t,e,n)}}]),t}(),Vl=function(){var t=function(){function t(e,n,r,i,o){f(this,t),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},e.default.iconClasses),e.config.iconClasses))}return h(t,[{key:"show",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,t,e,this.applyConfig(n))}},{key:"success",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}},{key:"error",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}},{key:"info",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}},{key:"warning",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}},{key:"clear",value:function(t){var e,n=s(this.toasts);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(t){var e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(t,e,n){var r,i=s(this.toasts);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.message===t)return o.toastRef.onDuplicate(e,n),o}}catch(a){i.e(a)}finally{i.f()}return null}},{key:"applyConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),t)}},{key:"_findToast",value:function(t){for(var e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}},{key:"_preBuildNotification",value:function(t,e,n,r){var i=this;return r.onActivateTick?this.ngZone.run(function(){return i._buildNotification(t,e,n,r)}):this._buildNotification(t,e,n,r)}},{key:"_buildNotification",value:function(t,e,n,r){if(!r.toastComponent)throw new Error("toastComponent required");var i=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==i)return i;this.previousToastMessage=e;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var a=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;var s=e;e&&r.enableHtml&&(s=this.sanitizer.sanitize(u.q3G.HTML,e));var c=new ql(a),l=new Nl(this.index,r,s,n,t,c),h=new jl(l,this._injector),f=new Dl(r.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;var p={toastId:this.index,message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(function(){p.toastRef.activate()})),this.toasts.push(p),p}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(Rl),u.LFG(Ul),u.LFG(u.zs3),u.LFG(St),u.LFG(u.R0b))},t.\u0275prov=(0,u.Yz7)({factory:function(){return new t((0,u.LFG)(Rl),(0,u.LFG)(Ul),(0,u.LFG)(u.gxx),(0,u.LFG)(St),(0,u.LFG)(u.R0b))},token:t,providedIn:"root"}),t=vl([gl(0,(0,u.tBr)(Rl))],t)}(),Bl=function(){var t,e=function(){function t(e,n,r){var i=this;f(this,t),this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(t){i.duplicatesCount=t})}return h(t,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var t=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(function(){return t.remove()},this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10)}},{key:"remove",value:function(){var t=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(function(){return t.toastrService.remove(t.toastPackage.toastId)},+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var t=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return t.updateProgress()},10))}},{key:"outsideTimeout",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.timeout=setTimeout(function(){return n.runInsideAngular(t)},e)}):this.timeout=setTimeout(function(){return t()},e)}},{key:"outsideInterval",value:function(t,e){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.intervalId=setInterval(function(){return n.runInsideAngular(t)},e)}):this.intervalId=setInterval(function(){return t()},e)}},{key:"runInsideAngular",value:function(t){this.ngZone?this.ngZone.run(function(){return t()}):t()}}]),t}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(Vl),u.Y36(Nl),u.Y36(u.R0b))},e.\u0275cmp=u.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&u.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",e.state),u.Tol(e.toastClasses),u.Udp("display",e.displayStyle))},attrs:yl,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(u.YNc(0,ml,3,0,"button",0),u.YNc(1,wl,3,5,"div",1),u.YNc(2,bl,1,3,"div",2),u.YNc(3,kl,2,4,"div",3),u.YNc(4,Tl,2,2,"div",4)),2&t&&(u.Q6J("ngIf",e.options.closeButton),u.xp6(1),u.Q6J("ngIf",e.title),u.xp6(1),u.Q6J("ngIf",e.message&&e.options.enableHtml),u.xp6(1),u.Q6J("ngIf",e.message&&!e.options.enableHtml),u.xp6(1),u.Q6J("ngIf",e.options.progressBar))},directives:[z],encapsulation:2,data:{animation:[(t=[Ft("inactive",Mt({opacity:0})),Ft("active",Mt({opacity:1})),Ft("removed",Mt({opacity:0})),Ut("inactive => active",Dt("{{ easeTime }}ms {{ easing }}")),Ut("active => removed",Dt("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:t,options:{}})]}}),e}(),Zl=Object.assign(Object.assign({},Pl),{toastComponent:Bl}),Hl=function(){var t=Ol=function(){function t(){f(this,t)}return h(t,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:Ol,providers:[{provide:Rl,useValue:{default:Zl,config:t}}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K]]}),t}(),zl=function(){var t=function(){function t(e,n,r){var i=this;f(this,t),this.toastrService=e,this.toastPackage=n,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(t){i.duplicatesCount=t})}return h(t,[{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var t=this;this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(function(){t.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var t=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(function(){return t.remove()},this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10))}},{key:"remove",value:function(){var t=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return t.toastrService.remove(t.toastPackage.toastId)}))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var t=this;!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(function(){return t.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return t.updateProgress()},10)))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(Vl),u.Y36(Nl),u.Y36(u.z2F))},t.\u0275cmp=u.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&u.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(u.Tol(e.toastClasses),u.Udp("display",e.displayStyle))},attrs:yl,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(u.YNc(0,xl,3,0,"button",0),u.YNc(1,El,3,5,"div",1),u.YNc(2,Sl,1,3,"div",2),u.YNc(3,Il,2,4,"div",3),u.YNc(4,Al,2,2,"div",4)),2&t&&(u.Q6J("ngIf",e.options.closeButton),u.xp6(1),u.Q6J("ngIf",e.title),u.xp6(1),u.Q6J("ngIf",e.message&&e.options.enableHtml),u.xp6(1),u.Q6J("ngIf",e.message&&!e.options.enableHtml),u.xp6(1),u.Q6J("ngIf",e.options.progressBar))},directives:[z],encapsulation:2}),t}();Object.assign(Object.assign({},Pl),{toastComponent:zl});var Gl=function t(e){f(this,t),this.icons=e},Wl=function(){var t=function(){function t(e){if(f(this,t),this.icons=e,!this.icons)throw new Error("No icon provided. Make sure to use 'FeatherModule.pick({ ... })' when importing the module\nRefer to documentation on https://github.com/michaelbazos/angular-feather")}return h(t,null,[{key:"pick",value:function(e){return{ngModule:t,providers:[{provide:Gl,multi:!0,useValue:e}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(Gl,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),Kl={Activity:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-activity">\n    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>\n</svg>',Airplay:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-airplay">\n    <path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>\n</svg>',AlertCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>\n</svg>',AlertOctagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>\n</svg>',AlertTriangle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-triangle">\n    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>\n</svg>',AlignCenter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-center">\n    <line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>\n</svg>',AlignJustify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-justify">\n    <line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>\n</svg>',AlignLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-left">\n    <line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>\n</svg>',AlignRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-right">\n    <line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>\n</svg>',Anchor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-anchor">\n    <circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>\n</svg>',Aperture:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-aperture">\n    <circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>\n</svg>',Archive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-archive">\n    <polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>\n</svg>',ArrowDownCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>\n</svg>',ArrowDownLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-left">\n    <line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>\n</svg>',ArrowDownRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-right">\n    <line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>\n</svg>',ArrowDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down">\n    <line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>\n</svg>',ArrowLeftCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-left-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>\n</svg>',ArrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-left">\n    <line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>\n</svg>',ArrowRightCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-right-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',ArrowRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-right">\n    <line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>\n</svg>',ArrowUpCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>\n</svg>',ArrowUpLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-left">\n    <line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>\n</svg>',ArrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-right">\n    <line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>\n</svg>',ArrowUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up">\n    <line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>\n</svg>',AtSign:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-at-sign">\n    <circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>\n</svg>',Award:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-award">\n    <circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>\n</svg>',BarChart2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bar-chart-2">\n    <line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>\n</svg>',BarChart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bar-chart">\n    <line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>\n</svg>',BatteryCharging:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-battery-charging">\n    <path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>\n</svg>',Battery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-battery">\n    <rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>\n</svg>',BellOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bell-off">\n    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Bell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bell">\n    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>\n</svg>',Bluetooth:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bluetooth">\n    <polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>\n</svg>',Bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bold">\n    <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>\n</svg>',BookOpen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-book-open">\n    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>\n</svg>',Book:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-book">\n    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>\n</svg>',Bookmark:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bookmark">\n    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>\n</svg>',Box:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-box">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Briefcase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-briefcase">\n    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>\n</svg>',Calendar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-calendar">\n    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>\n</svg>',CameraOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-camera-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>\n</svg>',Camera:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-camera">\n    <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>\n</svg>',Cast:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cast">\n    <path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>\n</svg>',CheckCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check-circle">\n    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>\n</svg>',CheckSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check-square">\n    <polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>\n</svg>',Check:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check">\n    <polyline points="20 6 9 17 4 12"></polyline>\n</svg>',ChevronDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-down">\n    <polyline points="6 9 12 15 18 9"></polyline>\n</svg>',ChevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-left">\n    <polyline points="15 18 9 12 15 6"></polyline>\n</svg>',ChevronRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-right">\n    <polyline points="9 18 15 12 9 6"></polyline>\n</svg>',ChevronUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-up">\n    <polyline points="18 15 12 9 6 15"></polyline>\n</svg>',ChevronsDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-down">\n    <polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>\n</svg>',ChevronsLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-left">\n    <polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>\n</svg>',ChevronsRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-right">\n    <polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>\n</svg>',ChevronsUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-up">\n    <polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>\n</svg>',Chrome:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chrome">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>\n</svg>',Circle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-circle">\n    <circle cx="12" cy="12" r="10"></circle>\n</svg>',Clipboard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-clipboard">\n    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n</svg>',Clock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-clock">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>\n</svg>',CloudDrizzle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-drizzle">\n    <line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>\n</svg>',CloudLightning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-lightning">\n    <path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>\n</svg>',CloudOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-off">\n    <path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',CloudRain:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-rain">\n    <line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>\n</svg>',CloudSnow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-snow">\n    <path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>\n</svg>',Cloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud">\n    <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>\n</svg>',Code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-code">\n    <polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>\n</svg>',Codepen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-codepen">\n    <polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>\n</svg>',Codesandbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-codesandbox">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Coffee:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-coffee">\n    <path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>\n</svg>',Columns:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-columns">\n    <path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>\n</svg>',Command:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-command">\n    <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>\n</svg>',Compass:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-compass">\n    <circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>\n</svg>',Copy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-copy">\n    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>\n</svg>',CornerDownLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-down-left">\n    <polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>\n</svg>',CornerDownRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-down-right">\n    <polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>\n</svg>',CornerLeftDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-left-down">\n    <polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>\n</svg>',CornerLeftUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-left-up">\n    <polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>\n</svg>',CornerRightDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-right-down">\n    <polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>\n</svg>',CornerRightUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-right-up">\n    <polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>\n</svg>',CornerUpLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-up-left">\n    <polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>\n</svg>',CornerUpRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-up-right">\n    <polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>\n</svg>',Cpu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cpu">\n    <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>\n</svg>',CreditCard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-credit-card">\n    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>\n</svg>',Crop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-crop">\n    <path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>\n</svg>',Crosshair:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-crosshair">\n    <circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>\n</svg>',Database:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-database">\n    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>\n</svg>',Delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-delete">\n    <path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>\n</svg>',Disc:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-disc">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>\n</svg>',DollarSign:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-dollar-sign">\n    <line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>\n</svg>',DownloadCloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-download-cloud">\n    <polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>\n</svg>',Download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-download">\n    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>\n</svg>',Droplet:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-droplet">\n    <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>\n</svg>',Edit2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit-2">\n    <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>\n</svg>',Edit3:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit-3">\n    <path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>\n</svg>',Edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit">\n    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n</svg>',ExternalLink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-external-link">\n    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>\n</svg>',EyeOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-eye-off">\n    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Eye:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-eye">\n    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>\n</svg>',Facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-facebook">\n    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>\n</svg>',FastForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-fast-forward">\n    <polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>\n</svg>',Feather:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-feather">\n    <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>\n</svg>',Figma:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-figma">\n    <path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>\n</svg>',FileMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-minus">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>\n</svg>',FilePlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-plus">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>\n</svg>',FileText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-text">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>\n</svg>',File:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file">\n    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>\n</svg>',Film:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-film">\n    <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>\n</svg>',Filter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-filter">\n    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>\n</svg>',Flag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-flag">\n    <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>\n</svg>',FolderMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder-minus">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>\n</svg>',FolderPlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder-plus">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>\n</svg>',Folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>\n</svg>',Framer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-framer">\n    <path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>\n</svg>',Frown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-frown">\n    <circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Gift:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-gift">\n    <polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>\n</svg>',GitBranch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-branch">\n    <line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>\n</svg>',GitCommit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-commit">\n    <circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>\n</svg>',GitMerge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-merge">\n    <circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>\n</svg>',GitPullRequest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-pull-request">\n    <circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>\n</svg>',Github:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-github">\n    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>\n</svg>',Gitlab:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-gitlab">\n    <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>\n</svg>',Globe:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-globe">\n    <circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>\n</svg>',Grid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-grid">\n    <rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>\n</svg>',HardDrive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hard-drive">\n    <line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>\n</svg>',Hash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hash">\n    <line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>\n</svg>',Headphones:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-headphones">\n    <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>\n</svg>',Heart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-heart">\n    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>\n</svg>',HelpCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-help-circle">\n    <circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>\n</svg>',Hexagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hexagon">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>\n</svg>',Home:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-home">\n    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>\n</svg>',Image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-image">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>\n</svg>',Inbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-inbox">\n    <polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>\n</svg>',Info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-info">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>\n</svg>',Instagram:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-instagram">\n    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>\n</svg>',Italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-italic">\n    <line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>\n</svg>',Key:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-key">\n    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>\n</svg>',Layers:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layers">\n    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>\n</svg>',Layout:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layout">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>\n</svg>',LifeBuoy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-life-buoy">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>\n</svg>',Link2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-link-2">\n    <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-link">\n    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>\n</svg>',Linkedin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-linkedin">\n    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>\n</svg>',List:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-list">\n    <line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>\n</svg>',Loader:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-loader">\n    <line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>\n</svg>',Lock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-lock">\n    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>\n</svg>',LogIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-log-in">\n    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>\n</svg>',LogOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-log-out">\n    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>\n</svg>',Mail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mail">\n    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>\n</svg>',MapPin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-map-pin">\n    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>\n</svg>',Map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-map">\n    <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>\n</svg>',Maximize2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-maximize-2">\n    <polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>\n</svg>',Maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-maximize">\n    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>\n</svg>',Meh:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-meh">\n    <circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-menu">\n    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>\n</svg>',MessageCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-message-circle">\n    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>\n</svg>',MessageSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-message-square">\n    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n</svg>',MicOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mic-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>\n</svg>',Mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mic">\n    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>\n</svg>',Minimize2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minimize-2">\n    <polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>\n</svg>',Minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minimize">\n    <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>\n</svg>',MinusCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',MinusSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Minus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus">\n    <line x1="5" y1="12" x2="19" y2="12"></line>\n</svg>',Monitor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-monitor">\n    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>\n</svg>',Moon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-moon">\n    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>\n</svg>',MoreHorizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-more-horizontal">\n    <circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>\n</svg>',MoreVertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-more-vertical">\n    <circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>\n</svg>',MousePointer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mouse-pointer">\n    <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>\n</svg>',Move:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-move">\n    <polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>\n</svg>',Music:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-music">\n    <path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>\n</svg>',Navigation2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-navigation-2">\n    <polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>\n</svg>',Navigation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-navigation">\n    <polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>\n</svg>',Octagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>\n</svg>',Package:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-package">\n    <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Paperclip:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-paperclip">\n    <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>\n</svg>',PauseCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pause-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>\n</svg>',Pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pause">\n    <rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>\n</svg>',PenTool:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pen-tool">\n    <path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>\n</svg>',Percent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-percent">\n    <line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>\n</svg>',PhoneCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-call">\n    <path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneForwarded:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-forwarded">\n    <polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneIncoming:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-incoming">\n    <polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneMissed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-missed">\n    <line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-off">\n    <path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>\n</svg>',PhoneOutgoing:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-outgoing">\n    <polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',Phone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone">\n    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PieChart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pie-chart">\n    <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>\n</svg>',PlayCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-play-circle">\n    <circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>\n</svg>',Play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-play">\n    <polygon points="5 3 19 12 5 21 5 3"></polygon>\n</svg>',PlusCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',PlusSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus">\n    <line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>\n</svg>',Pocket:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pocket">\n    <path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>\n</svg>',Power:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-power">\n    <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>\n</svg>',Printer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-printer">\n    <polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>\n</svg>',Radio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-radio">\n    <circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>\n</svg>',RefreshCcw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-refresh-ccw">\n    <polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>\n</svg>',RefreshCw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-refresh-cw">\n    <polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>\n</svg>',Repeat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-repeat">\n    <polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>\n</svg>',Rewind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rewind">\n    <polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>\n</svg>',RotateCcw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rotate-ccw">\n    <polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>\n</svg>',RotateCw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rotate-cw">\n    <polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>\n</svg>',Rss:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rss">\n    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>\n</svg>',Save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-save">\n    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>\n</svg>',Scissors:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-scissors">\n    <circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>\n</svg>',Search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-search">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>\n</svg>',Send:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-send">\n    <line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>\n</svg>',Server:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-server">\n    <rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>\n</svg>',Settings:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-settings">\n    <circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>\n</svg>',Share2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-share-2">\n    <circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>\n</svg>',Share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-share">\n    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>\n</svg>',ShieldOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shield-off">\n    <path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Shield:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shield">\n    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>\n</svg>',ShoppingBag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shopping-bag">\n    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>\n</svg>',ShoppingCart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shopping-cart">\n    <circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>\n</svg>',Shuffle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shuffle">\n    <polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>\n</svg>',Sidebar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sidebar">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>\n</svg>',SkipBack:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-skip-back">\n    <polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>\n</svg>',SkipForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-skip-forward">\n    <polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>\n</svg>',Slack:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-slack">\n    <path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>\n</svg>',Slash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-slash">\n    <circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>\n</svg>',Sliders:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sliders">\n    <line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>\n</svg>',Smartphone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-smartphone">\n    <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>\n</svg>',Smile:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-smile">\n    <circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Speaker:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-speaker">\n    <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>\n</svg>',Square:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>\n</svg>',Star:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-star">\n    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>\n</svg>',StopCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-stop-circle">\n    <circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>\n</svg>',Sun:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sun">\n    <circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>\n</svg>',Sunrise:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sunrise">\n    <path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>\n</svg>',Sunset:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sunset">\n    <path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>\n</svg>',Tablet:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tablet">\n    <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>\n</svg>',Tag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tag">\n    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>\n</svg>',Target:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-target">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>\n</svg>',Terminal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-terminal">\n    <polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>\n</svg>',Thermometer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thermometer">\n    <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>\n</svg>',ThumbsDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thumbs-down">\n    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>\n</svg>',ThumbsUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thumbs-up">\n    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>\n</svg>',ToggleLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-toggle-left">\n    <rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>\n</svg>',ToggleRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-toggle-right">\n    <rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>\n</svg>',Tool:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tool">\n    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>\n</svg>',Trash2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trash-2">\n    <polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>\n</svg>',Trash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trash">\n    <polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n</svg>',Trello:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trello">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>\n</svg>',TrendingDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trending-down">\n    <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>\n</svg>',TrendingUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trending-up">\n    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>\n</svg>',Triangle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-triangle">\n    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>\n</svg>',Truck:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-truck">\n    <rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>\n</svg>',Tv:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tv">\n    <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>\n</svg>',Twitch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-twitch">\n    <path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>\n</svg>',Twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-twitter">\n    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>\n</svg>',Type:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-type">\n    <polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>\n</svg>',Umbrella:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-umbrella">\n    <path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>\n</svg>',Underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-underline">\n    <path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>\n</svg>',Unlock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-unlock">\n    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>\n</svg>',UploadCloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-upload-cloud">\n    <polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>\n</svg>',Upload:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-upload">\n    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>\n</svg>',UserCheck:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-check">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>\n</svg>',UserMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-minus">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>\n</svg>',UserPlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-plus">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>\n</svg>',UserX:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-x">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>\n</svg>',User:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user">\n    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>\n</svg>',Users:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-users">\n    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>\n</svg>',VideoOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-video-off">\n    <path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-video">\n    <polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>\n</svg>',Voicemail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-voicemail">\n    <circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>\n</svg>',Volume1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-1">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>\n</svg>',Volume2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-2">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>\n</svg>',VolumeX:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-x">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>\n</svg>',Volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>\n</svg>',Watch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-watch">\n    <circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>\n</svg>',WifiOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wifi-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>\n</svg>',Wifi:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wifi">\n    <path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>\n</svg>',Wind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wind">\n    <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>\n</svg>',XCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>\n</svg>',XOctagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>\n</svg>',XSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>\n</svg>',X:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x">\n    <line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>\n</svg>',Youtube:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-youtube">\n    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>\n</svg>',ZapOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zap-off">\n    <polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Zap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zap">\n    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>\n</svg>',ZoomIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zoom-in">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>\n</svg>',ZoomOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zoom-out">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>\n</svg>'},Yl=a(1062),Ql=(a(9738),a(2107),a(4762)),Jl=a(250),Xl=a(308),$l=function(t,e){return($l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function th(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var eh,nh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rh=rh||{},ih=nh||self;function oh(){}function ah(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function sh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var uh="closure_uid_"+(1e9*Math.random()>>>0),ch=0;function lh(t,e,n){return t.call.apply(t.bind,arguments)}function hh(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function fh(t,e,n){return(fh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lh:hh).apply(null,arguments)}function dh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ph(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function vh(){this.s=this.s,this.o=this.o}var gh={};vh.prototype.s=!1,vh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,uh)&&t[uh]||(t[uh]=++ch)}(this);delete gh[t]}},vh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var yh=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},mh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function _h(t){return Array.prototype.concat.apply([],arguments)}function wh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bh(t){return/^[\s\xa0]*$/.test(t)}var kh,Th=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xh(t,e){return-1!=t.indexOf(e)}function Ch(t,e){return t<e?-1:t>e?1:0}t:{var Eh=ih.navigator;if(Eh){var Sh=Eh.userAgent;if(Sh){kh=Sh;break t}}kh=""}function Ih(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ah(t){var e={};for(var n in t)e[n]=t[n];return e}var Oh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nh(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Oh.length;o++)n=Oh[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ph(t){return Ph[" "](t),t}Ph[" "]=oh;var Rh,Dh,Lh=xh(kh,"Opera"),Mh=xh(kh,"Trident")||xh(kh,"MSIE"),Fh=xh(kh,"Edge"),Uh=Fh||Mh,qh=xh(kh,"Gecko")&&!(xh(kh.toLowerCase(),"webkit")&&!xh(kh,"Edge"))&&!(xh(kh,"Trident")||xh(kh,"MSIE"))&&!xh(kh,"Edge"),jh=xh(kh.toLowerCase(),"webkit")&&!xh(kh,"Edge");function Vh(){var t=ih.document;return t?t.documentMode:void 0}t:{var Bh="",Zh=(Dh=kh,qh?/rv:([^\);]+)(\)|;)/.exec(Dh):Fh?/Edge\/([\d\.]+)/.exec(Dh):Mh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Dh):jh?/WebKit\/(\S+)/.exec(Dh):Lh?/(?:Version)[ \/]?(\S+)/.exec(Dh):void 0);if(Zh&&(Bh=Zh?Zh[1]:""),Mh){var Hh=Vh();if(null!=Hh&&Hh>parseFloat(Bh)){Rh=String(Hh);break t}}Rh=Bh}var zh={},Gh=ih.document&&Mh&&(Vh()||parseInt(Rh,10))||void 0,Wh=function(){if(!ih.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ih.addEventListener("test",oh,e),ih.removeEventListener("test",oh,e)}catch(n){}return t}();function Kh(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Yh(t,e){if(Kh.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qh){t:{try{Ph(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Qh[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Yh.Z.h.call(this)}}Kh.prototype.h=function(){this.defaultPrevented=!0},ph(Yh,Kh);var Qh={2:"touch",3:"pen",4:"mouse"};Yh.prototype.h=function(){Yh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jh="closure_listenable_"+(1e6*Math.random()|0),Xh=0;function $h(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Xh,this.ca=this.fa=!1}function tf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ef(t){this.src=t,this.g={},this.h=0}function nf(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=yh(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(tf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function rf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ef.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=rf(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new $h(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var of="closure_lm_"+(1e6*Math.random()|0),af={};function sf(t,e,n,r,i){if(r&&r.once)return cf(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)sf(t,e[o],n,r,i);return null}return n=gf(n),t&&t[Jh]?t.N(e,n,sh(r)?!!r.capture:!!r,i):uf(t,e,n,!1,r,i)}function uf(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=sh(i)?!!i.capture:!!i,s=pf(t);if(s||(t[of]=s=new ef(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=df;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Wh||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ff(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function cf(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)cf(t,e[o],n,r,i);return null}return n=gf(n),t&&t[Jh]?t.O(e,n,sh(r)?!!r.capture:!!r,i):uf(t,e,n,!0,r,i)}function lf(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)lf(t,e[o],n,r,i);else r=sh(r)?!!r.capture:!!r,n=gf(n),t&&t[Jh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=rf(o=t.g[e],n,r,i))&&(tf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=pf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=rf(e,n,r,i)),(n=-1<t?e[t]:null)&&hf(n))}function hf(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Jh])nf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ff(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pf(e))?(nf(n,t),0==n.h&&(n.src=null,e[of]=null)):tf(t)}}}function ff(t){return t in af?af[t]:af[t]="on"+t}function df(t,e){if(t.ca)t=!0;else{e=new Yh(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&hf(t),t=n.call(r,e)}return t}function pf(t){return(t=t[of])instanceof ef?t:null}var vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(t){return"function"==typeof t?t:(t[vf]||(t[vf]=function(e){return t.handleEvent(e)}),t[vf])}function yf(){vh.call(this),this.i=new ef(this),this.P=this,this.I=null}function mf(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Kh(e,t);else if(e instanceof Kh)e.target=e.target||t;else{var i=e;Nh(e=new Kh(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=_f(a,r,!0,e)&&i}if(i=_f(a=e.g=t,r,!0,e)&&i,i=_f(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=_f(a=e.g=n[o],r,!1,e)&&i}function _f(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&nf(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ph(yf,vh),yf.prototype[Jh]=!0,yf.prototype.removeEventListener=function(t,e,n,r){lf(this,t,e,n,r)},yf.prototype.M=function(){if(yf.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)tf(n[r]);delete e.g[t],e.h--}}this.I=null},yf.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},yf.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var wf=ih.JSON.stringify;function bf(){var t=Af,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var kf,Tf=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=xf.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),xf=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Cf},function(t){return t.reset()}),Cf=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ef(t){ih.setTimeout(function(){throw t},0)}function Sf(t,e){kf||function(){var t=ih.Promise.resolve(void 0);kf=function(){t.then(Of)}}(),If||(kf(),If=!0),Af.add(t,e)}var If=!1,Af=new Tf;function Of(){for(var t;t=bf();){try{t.h.call(t.g)}catch(n){Ef(n)}var e=xf;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}If=!1}function Nf(t,e){yf.call(this),this.h=t||1,this.g=e||ih,this.j=fh(this.kb,this),this.l=Date.now()}function Pf(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Rf(t,e,n){if("function"==typeof t)n&&(t=fh(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=fh(t.handleEvent,t)}return 2147483647<Number(e)?-1:ih.setTimeout(t,e||0)}function Df(t){t.g=Rf(function(){t.g=null,t.i&&(t.i=!1,Df(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}ph(Nf,yf),(eh=Nf.prototype).da=!1,eh.S=null,eh.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mf(this,"tick"),this.da&&(Pf(this),this.start()))}},eh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},eh.M=function(){Nf.Z.M.call(this),Pf(this),delete this.g};var Lf=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Df(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(ih.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(vh);function Mf(t){vh.call(this),this.h=t,this.g={}}ph(Mf,vh);var Ff=[];function Uf(t,e,n,r){Array.isArray(n)||(n&&(Ff[0]=n.toString()),n=Ff);for(var i=0;i<n.length;i++){var o=sf(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function qf(t){Ih(t.g,function(t,e){this.g.hasOwnProperty(e)&&hf(t)},t),t.g={}}function jf(){this.g=!0}function Vf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return wf(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}Mf.prototype.M=function(){Mf.Z.M.call(this),qf(this)},Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jf.prototype.Aa=function(){this.g=!1},jf.prototype.info=function(){};var Bf={},Zf=null;function Hf(){return Zf=Zf||new yf}function zf(t){Kh.call(this,Bf.Ma,t)}function Gf(t){var e=Hf();mf(e,new zf(e,t))}function Wf(t,e){Kh.call(this,Bf.STAT_EVENT,t),this.stat=e}function Kf(t){var e=Hf();mf(e,new Wf(e,t))}function Yf(t,e){Kh.call(this,Bf.Na,t),this.size=e}function Qf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ih.setTimeout(function(){t()},e)}Bf.Ma="serverreachability",ph(zf,Kh),Bf.STAT_EVENT="statevent",ph(Wf,Kh),Bf.Na="timingevent",ph(Yf,Kh);var Jf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $f(){}function td(){}$f.prototype.h=null;var ed,nd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rd(){Kh.call(this,"d")}function id(){Kh.call(this,"c")}function od(){}function ad(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Mf(this),this.P=ud,this.W=new Nf(t=Uh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sd}function sd(){this.i=null,this.g="",this.h=!1}ph(rd,Kh),ph(id,Kh),ph(od,$f),od.prototype.g=function(){return new XMLHttpRequest},od.prototype.i=function(){return{}},ed=new od;var ud=45e3,cd={},ld={};function hd(t,e,n){t.K=1,t.v=Dd(Id(e)),t.s=n,t.U=!0,fd(t,null)}function fd(t,e){t.F=Date.now(),gd(t),t.A=Id(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Wd(n.h,"t",r),t.C=0,n=t.l.H,t.h=new sd,t.g=Kp(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Lf(fh(t.Ia,t,t.g),t.O)),Uf(t.V,t.g,"readystatechange",t.gb),e=t.H?Ah(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Gf(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.j,t.u,t.A,t.m,t.X,t.s)}function dd(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function pd(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=vd(t,n))==ld){4==e&&(t.o=4,Kf(14),i=!1),Vf(t.j,t.m,null,"[Incomplete Response]");break}if(r==cd){t.o=4,Kf(15),Vf(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Vf(t.j,t.m,r,null),bd(t,r)}dd(t)&&r!=ld&&r!=cd&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Kf(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jp(e),e.L=!0,Kf(11))):(Vf(t.j,t.m,n,"[Invalid Chunked Response]"),wd(t),_d(t))}function vd(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ld:(n=Number(e.substring(n,r)),isNaN(n)?cd:(r+=1)+n>e.length?ld:(e=e.substr(r,n),t.C=r+n,e))}function gd(t){t.Y=Date.now()+t.P,yd(t,t.P)}function yd(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Qf(fh(t.eb,t),e)}function md(t){t.B&&(ih.clearTimeout(t.B),t.B=null)}function _d(t){0==t.l.G||t.I||Zp(t.l,t)}function wd(t){md(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Pf(t.W),qf(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function bd(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||tp(n.i,t)))if(n.I=t.N,!t.J&&tp(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Bp(n),Np(n)}qp(n),Kf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Qf(fh(n.ab,n),6e3));if(1>=$d(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else zp(n,11)}else if((t.J||n.g==t)&&Bp(n),!bh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(xh(l,"spdy")||xh(l,"quic")||xh(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ep(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Rd(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Wp(r,r.H?r.la:null,r.W),d.J){np(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(md(p),gd(p)),r.g=d}else Up(r);0<n.l.length&&Dp(n)}else"stop"!=o[0]&&"close"!=o[0]||zp(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?zp(n,7):Op(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Gf(4)}catch(o){}}function kd(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ah(t)||"string"==typeof t)mh(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ah(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ah(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Td(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Td)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xd(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Cd(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Cd(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Cd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(eh=ad.prototype).setTimeout=function(t){this.P=t},eh.gb=function(t){t=t.target;var e=this.L;e&&3==Cp(t)?e.l():this.Ia(t)},eh.Ia=function(t){try{if(t==this.g)t:{var e=Cp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Uh||this.g&&(this.h.h||this.g.ga()||Ep(this.g)))){this.I||4!=e||7==n||Gf(8==n||0>=r?3:2),md(this);var i=this.g.ba();this.N=i;e:if(dd(this)){var o=Ep(this.g);t="";var a=o.length,s=4==Cp(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wd(this),_d(this);var u="";break e}this.h.i=new ih.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bh(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Kf(12),wd(this),_d(this);break t}Vf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bd(this,i)}this.U?(pd(this,e,u),Uh&&this.i&&3==e&&(Uf(this.V,this.W,"tick",this.fb),this.W.start())):(Vf(this.j,this.m,u,null),bd(this,u)),4==e&&wd(this),this.i&&!this.I&&(4==e?Zp(this.l,this):(this.i=!1,gd(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Kf(12)):(this.o=0,Kf(13)),wd(this),_d(this)}}}catch(e){}},eh.fb=function(){if(this.g){var t=Cp(this.g),e=this.g.ga();this.C<e.length&&(md(this),pd(this,t,e),this.i&&4!=t&&gd(this))}},eh.cancel=function(){this.I=!0,wd(this)},eh.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gf(3),Kf(17)),wd(this),this.o=2,_d(this)):yd(this,this.Y-t)},(eh=Td.prototype).R=function(){xd(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},eh.T=function(){return xd(this),this.g.concat()},eh.get=function(t,e){return Cd(this.h,t)?this.h[t]:e},eh.set=function(t,e){Cd(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},eh.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sd(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Sd){this.g=void 0!==e?e:t.g,Ad(this,t.j),this.s=t.s,Od(this,t.i),Nd(this,t.m),this.l=t.l,e=t.h;var n=new Zd;n.i=e.i,e.g&&(n.g=new Td(e.g),n.h=e.h),Pd(this,n),this.o=t.o}else t&&(n=String(t).match(Ed))?(this.g=!!e,Ad(this,n[1]||"",!0),this.s=Ld(n[2]||""),Od(this,n[3]||"",!0),Nd(this,n[4]),this.l=Ld(n[5]||"",!0),Pd(this,n[6]||"",!0),this.o=Ld(n[7]||"")):(this.g=!!e,this.h=new Zd(null,this.g))}function Id(t){return new Sd(t)}function Ad(t,e,n){t.j=n?Ld(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Od(t,e,n){t.i=n?Ld(e,!0):e}function Nd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pd(t,e,n){e instanceof Zd?(t.h=e,function(t,e){e&&!t.j&&(Hd(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(zd(this,e),Wd(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Md(e,Vd)),t.h=new Zd(e,t.g))}function Rd(t,e,n){t.h.set(e,n)}function Dd(t){return Rd(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ld(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Md(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Md(e,Ud,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Md(e,Ud,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Md(n,"/"==n.charAt(0)?jd:qd,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Md(n,Bd)),t.join("")};var Ud=/[#\/\?@]/g,qd=/[#\?:]/g,jd=/[#\?]/g,Vd=/[#\?@]/g,Bd=/#/g;function Zd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Hd(t){t.g||(t.g=new Td,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zd(t,e){Hd(t),e=Kd(t,e),Cd(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Cd((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&xd(t)))}function Gd(t,e){return Hd(t),e=Kd(t,e),Cd(t.g.h,e)}function Wd(t,e,n){zd(t,e),0<n.length&&(t.i=null,t.g.set(Kd(t,e),wh(n)),t.h+=n.length)}function Kd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(eh=Zd.prototype).add=function(t,e){Hd(this),this.i=null,t=Kd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},eh.forEach=function(t,e){Hd(this),this.g.forEach(function(n,r){mh(n,function(n){t.call(e,n,r,this)},this)},this)},eh.T=function(){Hd(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},eh.R=function(t){Hd(this);var e=[];if("string"==typeof t)Gd(this,t)&&(e=_h(e,this.g.get(Kd(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=_h(e,t[n])}return e},eh.set=function(t,e){return Hd(this),this.i=null,Gd(this,t=Kd(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},eh.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},eh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var Yd=function(t,e){this.h=t,this.g=e};function Qd(t){this.l=t||Jd,t=ih.PerformanceNavigationTiming?0<(t=ih.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ih.g&&ih.g.Ea&&ih.g.Ea()&&ih.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jd=10;function Xd(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $d(t){return t.h?1:t.g?t.g.size:0}function tp(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ep(t,e){t.g?t.g.add(e):t.h=e}function np(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function rp(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=th(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return wh(t.i)}function ip(){}function op(){this.g=new ip}function ap(t,e,n){var r=n||"";try{kd(t,function(t,n){var i=t;sh(t)&&(i=wf(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(_C){throw e.push(r+"type="+encodeURIComponent("_badmap")),_C}}function sp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function up(t){this.l=t.$b||null,this.j=t.ib||!1}function cp(t,e){yf.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=lp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qd.prototype.cancel=function(){var t,e;if(this.i=rp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=th(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},ip.prototype.stringify=function(t){return ih.JSON.stringify(t,void 0)},ip.prototype.parse=function(t){return ih.JSON.parse(t,void 0)},ph(up,$f),up.prototype.g=function(){return new cp(this.l,this.j)},up.prototype.i=function(t){return function(){return t}}({}),ph(cp,yf);var lp=0;function hp(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function fp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dp(t)}function dp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(eh=cp.prototype).open=function(t,e){if(this.readyState!=lp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dp(this)},eh.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ih).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},eh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fp(this)),this.readyState=lp},eh.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dp(this)),this.g&&(this.readyState=3,dp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ih.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hp(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},eh.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fp(this):dp(this),3==this.readyState&&hp(this)}},eh.Ua=function(t){this.g&&(this.response=this.responseText=t,fp(this))},eh.Ta=function(t){this.g&&(this.response=t,fp(this))},eh.ha=function(){this.g&&fp(this)},eh.setRequestHeader=function(t,e){this.v.append(t,e)},eh.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},eh.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var pp=ih.JSON.parse;function vp(t){yf.call(this),this.headers=new Td,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gp,this.K=this.L=!1}ph(vp,yf);var gp="",yp=/^https?$/i,mp=["POST","PUT"];function _p(t){return"content-type"==t.toLowerCase()}function wp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bp(t),Tp(t)}function bp(t){t.D||(t.D=!0,mf(t,"complete"),mf(t,"error"))}function kp(t){if(t.h&&void 0!==rh&&(!t.C[1]||4!=Cp(t)||2!=t.ba()))if(t.v&&4==Cp(t))Rf(t.Fa,0,t);else if(mf(t,"readystatechange"),4==Cp(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Ed)[1]||null;if(!o&&ih.self&&ih.self.location){var a=ih.self.location.protocol;o=a.substr(0,a.length-1)}i=!yp.test(o?o.toLowerCase():"")}e=i}if(e)mf(t,"complete"),mf(t,"success");else{t.m=6;try{var s=2<Cp(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",bp(t)}}finally{Tp(t)}}}function Tp(t,e){if(t.g){xp(t);var n=t.g,r=t.C[0]?oh:null;t.g=null,t.C=null,e||mf(t,"ready");try{n.onreadystatechange=r}catch(_C){}}}function xp(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ih.clearTimeout(t.A),t.A=null)}function Cp(t){return t.g?t.g.readyState:0}function Ep(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case gp:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Sp(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ih(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Rd(t,e,n))}function Ip(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ap(t){this.za=0,this.l=[],this.h=new jf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ip("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ip("baseRetryDelayMs",5e3,t),this.$a=Ip("retryDelaySeedMs",1e4,t),this.Ya=Ip("forwardChannelMaxRetries",2,t),this.ra=Ip("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Qd(t&&t.concurrentRequestLimit),this.Ca=new op,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Op(t){if(Pp(t),3==t.G){var e=t.V++,n=Id(t.F);Rd(n,"SID",t.J),Rd(n,"RID",e),Rd(n,"TYPE","terminate"),Mp(t,n),(e=new ad(t,t.h,e,void 0)).K=2,e.v=Dd(Id(n)),n=!1,ih.navigator&&ih.navigator.sendBeacon&&(n=ih.navigator.sendBeacon(e.v.toString(),"")),!n&&ih.Image&&((new Image).src=e.v,n=!0),n||(e.g=Kp(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gd(e)}Gp(t)}function Np(t){t.g&&(jp(t),t.g.cancel(),t.g=null)}function Pp(t){Np(t),t.u&&(ih.clearTimeout(t.u),t.u=null),Bp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ih.clearTimeout(t.m),t.m=null)}function Rp(t,e){t.l.push(new Yd(t.Za++,e)),3==t.G&&Dp(t)}function Dp(t){Xd(t.i)||t.m||(t.m=!0,Sf(t.Ha,t),t.C=0)}function Lp(t,e){var n;n=e?e.m:t.V++;var r=Id(t.F);Rd(r,"SID",t.J),Rd(r,"RID",n),Rd(r,"AID",t.U),Mp(t,r),t.o&&t.s&&Sp(r,t.o,t.s),n=new ad(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Fp(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ep(t.i,n),hd(n,r,e)}function Mp(t,e){t.j&&kd({},function(t,n){Rd(e,n,t)})}function Fp(t,e,n){n=Math.min(t.l.length,n);var r=t.j?fh(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].h)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{ap(l,a,"req"+c+"_")}catch(Sv){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Up(t){t.g||t.u||(t.Y=1,Sf(t.Ga,t),t.A=0)}function qp(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Qf(fh(t.Ga,t),Hp(t,t.A)),t.A++,0))}function jp(t){null!=t.B&&(ih.clearTimeout(t.B),t.B=null)}function Vp(t){t.g=new ad(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Id(t.oa);Rd(e,"RID","rpc"),Rd(e,"SID",t.J),Rd(e,"CI",t.N?"0":"1"),Rd(e,"AID",t.U),Mp(t,e),Rd(e,"TYPE","xmlhttp"),t.o&&t.s&&Sp(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Dd(Id(e)),n.s=null,n.U=!0,fd(n,t)}function Bp(t){null!=t.v&&(ih.clearTimeout(t.v),t.v=null)}function Zp(t,e){var n=null;if(t.g==e){Bp(t),jp(t),t.g=null;var r=2}else{if(!tp(t.i,e))return;n=e.D,np(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;mf(r=Hf(),new Yf(r,n,e,i)),Dp(t)}else Up(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!($d(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Qf(fh(t.Ha,t,e),Hp(t,t.C)),t.C++,0)))}(t,e)||2==r&&qp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zp(t,5);break;case 4:zp(t,10);break;case 3:zp(t,6);break;default:zp(t,2)}}function Hp(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function zp(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=fh(t.jb,t);n||(n=new Sd("//www.google.com/images/cleardot.gif"),ih.location&&"http"==ih.location.protocol||Ad(n,"https"),Dd(n)),function(t,e){var n=new jf;if(ih.Image){var r=new Image;r.onload=dh(sp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=dh(sp,n,r,"TestLoadImage: error",!1,e),r.onabort=dh(sp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=dh(sp,n,r,"TestLoadImage: timeout",!1,e),ih.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Kf(2);t.G=0,t.j&&t.j.va(e),Gp(t),Pp(t)}function Gp(t){t.G=0,t.I=-1,t.j&&(0==rp(t.i).length&&0==t.l.length||(t.i.i.length=0,wh(t.l),t.l.length=0),t.j.ua())}function Wp(t,e,n){var r=function(t){return t instanceof Sd?Id(t):new Sd(t,void 0)}(n);if(""!=r.i)e&&Od(r,e+"."+r.i),Nd(r,r.m);else{var i=ih.location;r=function(t,e,n,r){var i=new Sd(null,void 0);return t&&Ad(i,t),e&&Od(i,e),n&&Nd(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ih(t.aa,function(t,e){Rd(r,e,t)}),n=t.sa,(e=t.D)&&n&&Rd(r,e,n),Rd(r,"VER",t.ma),Mp(t,r),r}function Kp(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vp(n&&t.Ba&&!t.qa?new up({ib:!0}):t.qa)).L=t.H,e}function Yp(){}function Qp(){if(Mh&&!(10<=Number(Gh)))throw Error("Environmental error: no available transport.")}function Jp(t,e){yf.call(this),this.g=new Ap(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!bh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new tv(this)}function Xp(t){rd.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $p(){id.call(this),this.status=1}function tv(t){this.g=t}(eh=vp.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ed.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:ed),this.g.onreadystatechange=fh(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void wp(this,o)}t=n||"";var i=new Td(this.headers);r&&kd(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=_p,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=ih.FormData&&t instanceof ih.FormData,!(0<=yh(mp,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xp(this),0<this.B&&((this.K=function(t){return Mh&&function(){return t=zh,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Th(String(Rh)).split("."),n=Th("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=Ch(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ch(0==o[2].length,0==a[2].length)||Ch(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fh(this.pa,this)):this.A=Rf(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){wp(this,o)}},eh.pa=function(){void 0!==rh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mf(this,"timeout"),this.abort(8))},eh.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mf(this,"complete"),mf(this,"abort"),Tp(this))},eh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tp(this,!0)),vp.Z.M.call(this)},eh.Fa=function(){this.s||(this.F||this.v||this.l?kp(this):this.cb())},eh.cb=function(){kp(this)},eh.ba=function(){try{return 2<Cp(this)?this.g.status:-1}catch(Dh){return-1}},eh.ga=function(){try{return this.g?this.g.responseText:""}catch(Dh){return""}},eh.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pp(e)}},eh.Da=function(){return this.m},eh.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(eh=Ap.prototype).ma=8,eh.G=1,eh.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},eh.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ad(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Nh(n=Ah(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Fp(this,e,r),Rd(i=Id(this.F),"RID",t),Rd(i,"CVER",22),this.D&&Rd(i,"X-HTTP-Session-Id",this.D),Mp(this,i),this.o&&n&&Sp(i,this.o,n),ep(this.i,e),this.Ra&&Rd(i,"TYPE","init"),this.ja?(Rd(i,"$req",r),Rd(i,"SID","null"),e.$=!0,hd(e,i,null)):hd(e,i,r),this.G=2}}else 3==this.G&&(t?Lp(this,t):0==this.l.length||Xd(this.i)||Lp(this))},eh.Ga=function(){if(this.u=null,Vp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Qf(fh(this.bb,this),t)}},eh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kf(10),Np(this),Vp(this))},eh.ab=function(){null!=this.v&&(this.v=null,Np(this),qp(this),Kf(19))},eh.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Kf(2)):(this.h.info("Failed to ping google.com"),Kf(1))},(eh=Yp.prototype).xa=function(){},eh.wa=function(){},eh.va=function(){},eh.ua=function(){},eh.Oa=function(){},Qp.prototype.g=function(t,e){return new Jp(t,e)},ph(Jp,yf),Jp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Sf(fh(t.hb,t,e))),Kf(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Wp(t,null,t.W),Dp(t)},Jp.prototype.close=function(){Op(this.g)},Jp.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Rp(this.g,e)}else this.v?((e={}).__data__=wf(t),Rp(this.g,e)):Rp(this.g,t)},Jp.prototype.M=function(){this.g.j=null,delete this.j,Op(this.g),delete this.g,Jp.Z.M.call(this)},ph(Xp,rd),ph($p,id),ph(tv,Yp),tv.prototype.xa=function(){mf(this.g,"a")},tv.prototype.wa=function(t){mf(this.g,new Xp(t))},tv.prototype.va=function(t){mf(this.g,new $p(t))},tv.prototype.ua=function(){mf(this.g,"b")},Qp.prototype.createWebChannel=Qp.prototype.g,Jp.prototype.send=Jp.prototype.u,Jp.prototype.open=Jp.prototype.m,Jp.prototype.close=Jp.prototype.close,Jf.NO_ERROR=0,Jf.TIMEOUT=8,Jf.HTTP_ERROR=6,Xf.COMPLETE="complete",td.EventType=nd,nd.OPEN="a",nd.CLOSE="b",nd.ERROR="c",nd.MESSAGE="d",yf.prototype.listen=yf.prototype.N,vp.prototype.listenOnce=vp.prototype.O,vp.prototype.getLastError=vp.prototype.La,vp.prototype.getLastErrorCode=vp.prototype.Da,vp.prototype.getStatus=vp.prototype.ba,vp.prototype.getResponseJson=vp.prototype.Qa,vp.prototype.getResponseText=vp.prototype.ga,vp.prototype.send=vp.prototype.ea;var ev=Jf,nv=Xf,rv=Bf,iv=up,ov=td,av=vp,sv=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();sv.o=-1;var uv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},cv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ql.__extends)(e,t),e}(Error),lv=new Xl.Logger("@firebase/firestore");function hv(){return lv.logLevel}function fv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lv.logLevel<=Xl.LogLevel.DEBUG){var r=e.map(vv);lv.debug.apply(lv,(0,Ql.__spreadArray)(["Firestore (8.8.1): "+t],r))}}function dv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lv.logLevel<=Xl.LogLevel.ERROR){var r=e.map(vv);lv.error.apply(lv,(0,Ql.__spreadArray)(["Firestore (8.8.1): "+t],r))}}function pv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lv.logLevel<=Xl.LogLevel.WARN){var r=e.map(vv);lv.warn.apply(lv,(0,Ql.__spreadArray)(["Firestore (8.8.1): "+t],r))}}function vv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(_C){return t}}function gv(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw dv(e),new Error(e)}function yv(t,e){t||gv()}function mv(t,e){return t}function _v(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var wv=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_v(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function bv(t,e){return t<e?-1:t>e?1:0}function kv(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Tv(t){return t+"\0"}var xv=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cv(uv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cv(uv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cv(uv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cv(uv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?bv(this.nanoseconds,t.nanoseconds):bv(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Cv=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new xv(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Ev(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Iv(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Av=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&gv(),void 0===n?n=t.length-e:n>t.length-e&&gv(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new cv(uv.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Av),Nv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Nv.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new cv(uv.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new cv(uv.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new cv(uv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new cv(uv.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Av),Rv=function(){function t(t){this.fields=t,t.sort(Pv.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return kv(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Dv=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return bv(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Dv.EMPTY_BYTE_STRING=new Dv("");var Lv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mv(t){if(yv(!!t),"string"==typeof t){var e=0,n=Lv.exec(t);if(yv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fv(t.seconds),nanos:Fv(t.nanos)}}function Fv(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Uv(t){return"string"==typeof t?Dv.fromBase64String(t):Dv.fromUint8Array(t)}function qv(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jv(t){var e=t.mapValue.fields.__previous_value__;return qv(e)?jv(e):e}function Vv(t){var e=Mv(t.mapValue.fields.__local_write_time__.timestampValue);return new xv(e.seconds,e.nanos)}function Bv(t){return null==t}function Zv(t){return 0===t&&1/t==-1/0}function Hv(t){return"number"==typeof t&&Number.isInteger(t)&&!Zv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zv=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ov.fromString(e))},t.fromName=function(e){return new t(Ov.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ov.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ov.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ov(e.slice()))},t}();function Gv(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qv(t)?4:10:gv()}function Wv(t,e){var n=Gv(t);if(n!==Gv(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vv(t).isEqual(Vv(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Mv(t.timestampValue),r=Mv(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Uv(t.bytesValue).isEqual(Uv(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Fv(t.geoPointValue.latitude)===Fv(e.geoPointValue.latitude)&&Fv(t.geoPointValue.longitude)===Fv(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Fv(t.integerValue)===Fv(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Fv(t.doubleValue),r=Fv(e.doubleValue);return n===r?Zv(n)===Zv(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return kv(t.arrayValue.values||[],e.arrayValue.values||[],Wv);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ev(n)!==Ev(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wv(n[i],r[i])))return!1;return!0}(t,e);default:return gv()}}function Kv(t,e){return void 0!==(t.values||[]).find(function(t){return Wv(t,e)})}function Yv(t,e){var n=Gv(t),r=Gv(e);if(n!==r)return bv(n,r);switch(n){case 0:return 0;case 1:return bv(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Fv(t.integerValue||t.doubleValue),r=Fv(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Qv(t.timestampValue,e.timestampValue);case 4:return Qv(Vv(t),Vv(e));case 5:return bv(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Uv(t),r=Uv(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=bv(n[i],r[i]);if(0!==o)return o}return bv(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=bv(Fv(t.latitude),Fv(e.latitude));return 0!==n?n:bv(Fv(t.longitude),Fv(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Yv(n[i],r[i]);if(o)return o}return bv(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=bv(r[a],o[a]);if(0!==s)return s;var u=Yv(n[r[a]],i[o[a]]);if(0!==u)return u}return bv(r.length,o.length)}(t.mapValue,e.mapValue);default:throw gv()}}function Qv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return bv(t,e);var n=Mv(t),r=Mv(e),i=bv(n.seconds,r.seconds);return 0!==i?i:bv(n.nanos,r.nanos)}function Jv(t){return Xv(t)}function Xv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Mv(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Uv(t.bytesValue).toBase64():"referenceValue"in t?zv.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Xv(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Xv(t.fields[o])}return e+"}"}(t.mapValue):gv();var e}function $v(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function tg(t){return!!t&&"integerValue"in t}function eg(t){return!!t&&"arrayValue"in t}function ng(t){return!!t&&"nullValue"in t}function rg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ig(t){return!!t&&"mapValue"in t}function og(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Sv(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=og(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=og(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ag=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ig(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=og(e)},t.prototype.setAll=function(t){var e=this,n=Pv.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=og(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ig(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Wv(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ig(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Sv(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(og(this.value))},t}();function sg(t){var e=[];return Sv(t.fields,function(t,n){var r=new Pv([t]);if(ig(n)){var i=sg(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new Rv(e)}var ug=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Cv.min(),ag.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ag.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ag.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ag.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ag.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),cg=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function lg(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new cg(t,e,n,r,i,o,a)}function hg(t){var e=mv(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Jv(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=xg(e.startAt)),e.endAt&&(n+="|ub:",n+=xg(e.endAt)),e.h=n}return e.h}function fg(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Eg(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Wv(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ig(t.startAt,e.startAt)&&Ig(t.endAt,e.endAt)}function dg(t){return zv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var pg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ql.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new vg(t,n,r):"array-contains"===n?new _g(t,r):"in"===n?new wg(t,r):"not-in"===n?new bg(t,r):"array-contains-any"===n?new kg(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new gg(t,n):new yg(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Yv(e,this.value)):null!==e&&Gv(this.value)===Gv(e)&&this.m(Yv(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gv()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=zv.fromName(r.referenceValue),i}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){var e=zv.comparator(t.key,this.key);return this.m(e)},e}(pg),gg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=mg(0,n),r}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(pg),yg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=mg(0,n),r}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(pg);function mg(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return zv.fromName(t.referenceValue)})}var _g=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return eg(e)&&Kv(e.arrayValue,this.value)},e}(pg),wg=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Kv(this.value.arrayValue,e)},e}(pg),bg=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){if(Kv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Kv(this.value.arrayValue,e)},e}(pg),kg=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ql.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!eg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Kv(e.value.arrayValue,t)})},e}(pg),Tg=function(t,e){this.position=t,this.before=e};function xg(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Jv(t)}).join(",")}var Cg=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Eg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Sg(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?zv.comparator(zv.fromName(a.referenceValue),n.key):Yv(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ig(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Wv(t.position[n],e.position[n]))return!1;return!0}var Ag=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Og(t,e,n,r,i,o,a,s){return new Ag(t,e,n,r,i,o,a,s)}function Ng(t){return new Ag(t)}function Pg(t){return!Bv(t.limit)&&"F"===t.limitType}function Rg(t){return!Bv(t.limit)&&"L"===t.limitType}function Dg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Lg(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Mg(t){return null!==t.collectionGroup}function Fg(t){var e=mv(t);if(null===e.p){e.p=[];var n=Lg(e),r=Dg(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Cg(n)),e.p.push(new Cg(Pv.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Cg(Pv.keyField(),u))}}}return e.p}function Ug(t){var e=mv(t);if(!e.T)if("F"===e.limitType)e.T=lg(e.path,e.collectionGroup,Fg(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Fg(e);r<i.length;r++){var o=i[r];n.push(new Cg(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Tg(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Tg(e.startAt.position,!e.startAt.before):null;e.T=lg(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function qg(t,e,n){return new Ag(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jg(t,e){return fg(Ug(t),Ug(e))&&t.limitType===e.limitType}function Vg(t){return hg(Ug(t))+"|lt:"+t.limitType}function Bg(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Jv(e.value);var e}).join(", ")+"]"),Bv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+xg(t.startAt)),t.endAt&&(e+=", endAt: "+xg(t.endAt)),"Target("+e+")"}(Ug(t))+"; limitType="+t.limitType+")"}function Zg(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):zv.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Sg(t.startAt,Fg(t),e)||t.endAt&&Sg(t.endAt,Fg(t),e))}(t,e)}function Hg(t){return function(e,n){for(var r=!1,i=0,o=Fg(t);i<o.length;i++){var a=o[i],s=zg(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function zg(t,e,n){var r=t.field.isKeyField()?zv.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Yv(r,i):gv()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return gv()}}function Gg(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zv(e)?"-0":e}}function Wg(t){return{integerValue:""+t}}function Kg(t,e){return Hv(e)?Wg(e):Gg(t,e)}var Yg=function(){this._=void 0};function Qg(t,e,n){return t instanceof $g?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ty?ey(t,e):t instanceof ny?ry(t,e):function(t,e){var n=Xg(t,e),r=oy(n)+oy(t.A);return tg(n)&&tg(t.A)?Wg(r):Gg(t.R,r)}(t,e)}function Jg(t,e,n){return t instanceof ty?ey(t,e):t instanceof ny?ry(t,e):n}function Xg(t,e){return t instanceof iy?tg(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e}(Yg),ty=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ql.__extends)(e,t),e}(Yg);function ey(t,e){for(var n=ay(e),r=function(t){n.some(function(e){return Wv(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ny=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ql.__extends)(e,t),e}(Yg);function ry(t,e){for(var n=ay(e),r=function(t){n=n.filter(function(e){return!Wv(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var iy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Ql.__extends)(e,t),e}(Yg);function oy(t){return Fv(t.integerValue||t.doubleValue)}function ay(t){return eg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var sy=function(t,e){this.field=t,this.transform=e},uy=function(t,e){this.version=t,this.transformResults=e},cy=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ly(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var hy=function(){};function fy(t,e,n){t instanceof yy?function(t,e,n){var r=t.value.clone(),i=wy(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof my?function(t,e,n){if(ly(t.precondition,e)){var r=wy(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(_y(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function dy(t,e,n){t instanceof yy?function(t,e,n){if(ly(t.precondition,e)){var r=t.value.clone(),i=by(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(gy(e),r).setHasLocalMutations()}}(t,e,n):t instanceof my?function(t,e,n){if(ly(t.precondition,e)){var r=by(t.fieldTransforms,n,e),i=e.data;i.setAll(_y(t)),i.setAll(r),e.convertToFoundDocument(gy(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ly(t.precondition,e)&&e.convertToNoDocument(Cv.min())}(t,e)}function py(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Xg(o.transform,a||null);null!=s&&(null==n&&(n=ag.empty()),n.set(o.field,s))}return n||null}function vy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&kv(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ty&&e instanceof ty||t instanceof ny&&e instanceof ny?kv(t.elements,e.elements,Wv):t instanceof iy&&e instanceof iy?Wv(t.A,e.A):t instanceof $g&&e instanceof $g}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function gy(t){return t.isFoundDocument()?t.version:Cv.min()}var yy=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Ql.__extends)(e,t),e}(hy),my=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,Ql.__extends)(e,t),e}(hy);function _y(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function wy(t,e,n){var r=new Map;yv(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Jg(a,s,n[i]))}return r}function by(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Qg(s,u,e))}return r}var ky,Ty,xy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ql.__extends)(e,t),e}(hy),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ql.__extends)(e,t),e}(hy),Ey=function(t){this.count=t};function Sy(t){switch(t){case uv.OK:return gv();case uv.CANCELLED:case uv.UNKNOWN:case uv.DEADLINE_EXCEEDED:case uv.RESOURCE_EXHAUSTED:case uv.INTERNAL:case uv.UNAVAILABLE:case uv.UNAUTHENTICATED:return!1;case uv.INVALID_ARGUMENT:case uv.NOT_FOUND:case uv.ALREADY_EXISTS:case uv.PERMISSION_DENIED:case uv.FAILED_PRECONDITION:case uv.ABORTED:case uv.OUT_OF_RANGE:case uv.UNIMPLEMENTED:case uv.DATA_LOSS:return!0;default:return gv()}}function Iy(t){if(void 0===t)return dv("GRPC error has no .code"),uv.UNKNOWN;switch(t){case ky.OK:return uv.OK;case ky.CANCELLED:return uv.CANCELLED;case ky.UNKNOWN:return uv.UNKNOWN;case ky.DEADLINE_EXCEEDED:return uv.DEADLINE_EXCEEDED;case ky.RESOURCE_EXHAUSTED:return uv.RESOURCE_EXHAUSTED;case ky.INTERNAL:return uv.INTERNAL;case ky.UNAVAILABLE:return uv.UNAVAILABLE;case ky.UNAUTHENTICATED:return uv.UNAUTHENTICATED;case ky.INVALID_ARGUMENT:return uv.INVALID_ARGUMENT;case ky.NOT_FOUND:return uv.NOT_FOUND;case ky.ALREADY_EXISTS:return uv.ALREADY_EXISTS;case ky.PERMISSION_DENIED:return uv.PERMISSION_DENIED;case ky.FAILED_PRECONDITION:return uv.FAILED_PRECONDITION;case ky.ABORTED:return uv.ABORTED;case ky.OUT_OF_RANGE:return uv.OUT_OF_RANGE;case ky.UNIMPLEMENTED:return uv.UNIMPLEMENTED;case ky.DATA_LOSS:return uv.DATA_LOSS;default:return gv()}}(Ty=ky||(ky={}))[Ty.OK=0]="OK",Ty[Ty.CANCELLED=1]="CANCELLED",Ty[Ty.UNKNOWN=2]="UNKNOWN",Ty[Ty.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ty[Ty.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ty[Ty.NOT_FOUND=5]="NOT_FOUND",Ty[Ty.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ty[Ty.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ty[Ty.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ty[Ty.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ty[Ty.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ty[Ty.ABORTED=10]="ABORTED",Ty[Ty.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ty[Ty.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ty[Ty.INTERNAL=13]="INTERNAL",Ty[Ty.UNAVAILABLE=14]="UNAVAILABLE",Ty[Ty.DATA_LOSS=15]="DATA_LOSS";var Ay=function(){function t(t,e){this.comparator=t,this.root=e||Ny.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ny.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ny.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Oy(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Oy(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Oy(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Oy(this.root,t,this.comparator,!0)},t}(),Oy=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ny=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw gv();if(this.right.isRed())throw gv();var t=this.left.check();if(t!==this.right.check())throw gv();return t+(this.isRed()?0:1)},t}();Ny.EMPTY=null,Ny.RED=!0,Ny.BLACK=!1,Ny.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw gv()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw gv()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw gv()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw gv()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw gv()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ny(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Py=function(){function t(t){this.comparator=t,this.data=new Ay(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ry(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ry(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ry=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Dy=new Ay(zv.comparator);function Ly(){return Dy}var My=new Ay(zv.comparator);function Fy(){return My}var Uy=new Ay(zv.comparator);function qy(){return Uy}var jy=new Py(zv.comparator);function Vy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jy,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var By=new Py(bv);function Zy(){return By}var Hy=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,zy.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Cv.min(),r,Zy(),Ly(),Vy())},t}(),zy=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Dv.EMPTY_BYTE_STRING,n,Vy(),Vy(),Vy())},t}(),Gy=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Wy=function(t,e){this.targetId=t,this.V=e},Ky=function(t,e,n,r){void 0===n&&(n=Dv.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Yy=function(){function t(){this.S=0,this.D=Xy(),this.C=Dv.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Vy(),e=Vy(),n=Vy();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:gv()}}),new zy(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Xy()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Qy=function(){function t(t){this.W=t,this.G=new Map,this.H=Ly(),this.J=Jy(),this.Y=new Py(bv)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:gv()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(dg(i))if(0===n){var o=new zv(i.path);this.tt(e,o,ug.newNoDocument(o,Cv.min()))}else yv(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&dg(o.target)){var a=new zv(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,ug.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Vy();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Hy(t,n,this.Y,this.H,r);return this.H=Ly(),this.J=Jy(),this.Y=new Py(bv),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Yy,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Py(bv),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||fv("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Yy),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Jy(){return new Ay(zv.comparator)}function Xy(){return new Ay(zv.comparator)}var $y={asc:"ASCENDING",desc:"DESCENDING"},tm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},em=function(t,e){this.databaseId=t,this.I=e};function nm(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function rm(t,e){return t.I?e.toBase64():e.toUint8Array()}function im(t,e){return nm(t,e.toTimestamp())}function om(t){return yv(!!t),Cv.fromTimestamp(function(t){var e=Mv(t);return new xv(e.seconds,e.nanos)}(t))}function am(t,e){return function(t){return new Ov(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function sm(t){var e=Ov.fromString(t);return yv(Nm(e)),e}function um(t,e){return am(t.databaseId,e.path)}function cm(t,e){var n=sm(e);if(n.get(1)!==t.databaseId.projectId)throw new cv(uv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new cv(uv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new zv(dm(n))}function lm(t,e){return am(t.databaseId,e)}function hm(t){var e=sm(t);return 4===e.length?Ov.emptyPath():dm(e)}function fm(t){return new Ov(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dm(t){return yv(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function pm(t,e,n){return{name:um(t,e),fields:n.value.mapValue.fields}}function vm(t,e,n){var r=cm(t,e.name),i=om(e.updateTime),o=new ag({mapValue:{fields:e.fields}}),a=ug.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function gm(t,e){var n;if(e instanceof yy)n={update:pm(t,e.key,e.value)};else if(e instanceof xy)n={delete:um(t,e.key)};else if(e instanceof my)n={update:pm(t,e.key,e.data),updateMask:Om(e.fieldMask)};else{if(!(e instanceof Cy))return gv();n={verify:um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $g)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ty)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ny)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof iy)return{fieldPath:e.field.canonicalString(),increment:n.A};throw gv()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:im(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:gv()}(t,e.precondition)),n}function ym(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?cy.updateTime(om(t.updateTime)):void 0!==t.exists?cy.exists(t.exists):cy.none()}(e.currentDocument):cy.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(yv("REQUEST_TIME"===e.setToServerValue),n=new $g):"appendMissingElements"in e?n=new ty(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new ny(e.removeAllFromArray.values||[]):"increment"in e?n=new iy(t,e.increment):gv();var r=Pv.fromServerFormat(e.fieldPath);return new sy(r,n)}(t,e)}):[];if(e.update){var i=cm(t,e.update.name),o=new ag({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Rv((t.fieldPaths||[]).map(function(t){return Pv.fromServerFormat(t)}))}(e.updateMask);return new my(i,o,a,n,r)}return new yy(i,o,n,r)}if(e.delete){var s=cm(t,e.delete);return new xy(s,n)}if(e.verify){var u=cm(t,e.verify);return new Cy(u,n)}return gv()}function mm(t,e){return{documents:[lm(t,e.path)]}}function _m(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=lm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(rg(t.value))return{unaryFilter:{field:Em(t.field),op:"IS_NAN"}};if(ng(t.value))return{unaryFilter:{field:Em(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rg(t.value))return{unaryFilter:{field:Em(t.field),op:"IS_NOT_NAN"}};if(ng(t.value))return{unaryFilter:{field:Em(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Em(t.field),op:Cm(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Em(t.field),direction:xm(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||Bv(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=km(e.startAt)),e.endAt&&(n.structuredQuery.endAt=km(e.endAt)),n}function wm(t){var e=hm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yv(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=bm(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new Cg(Sm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Bv(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Tm(n.startAt));var l=null;return n.endAt&&(l=Tm(n.endAt)),Og(e,i,s,a,u,"F",c,l)}function bm(t){return t?void 0!==t.unaryFilter?[Am(t)]:void 0!==t.fieldFilter?[Im(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return bm(t)}).reduce(function(t,e){return t.concat(e)}):gv():[]}function km(t){return{before:t.before,values:t.position}}function Tm(t){return new Tg(t.values||[],!!t.before)}function xm(t){return $y[t]}function Cm(t){return tm[t]}function Em(t){return{fieldPath:t.canonicalString()}}function Sm(t){return Pv.fromServerFormat(t.fieldPath)}function Im(t){return pg.create(Sm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return gv()}}(t.fieldFilter.op),t.fieldFilter.value)}function Am(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Sm(t.unaryFilter.field);return pg.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Sm(t.unaryFilter.field);return pg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Sm(t.unaryFilter.field);return pg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Sm(t.unaryFilter.field);return pg.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return gv()}}function Om(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Nm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Pm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Dm(e)),e=Rm(t.get(n),e);return Dm(e)}function Rm(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Dm(t){return t+"\x01\x01"}function Lm(t){var e=t.length;if(yv(e>=2),2===e)return yv("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ov.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&gv(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:gv()}o=a+2}return new Ov(r)}var Mm=function(t,e){this.seconds=t,this.nanoseconds=e},Fm=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fm.store="owner",Fm.key="owner";var Um=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Um.store="mutationQueues",Um.keyPath="userId";var qm=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qm.store="mutations",qm.keyPath="batchId",qm.userMutationsIndex="userMutationsIndex",qm.userMutationsKeyPath=["userId","batchId"];var jm=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pm(e)]},t.key=function(t,e,n){return[t,Pm(e),n]},t}();jm.store="documentMutations",jm.PLACEHOLDER=new jm;var Vm=function(t,e){this.path=t,this.readTime=e},Bm=function(t,e){this.path=t,this.version=e},Zm=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Zm.store="remoteDocuments",Zm.readTimeIndex="readTimeIndex",Zm.readTimeIndexPath="readTime",Zm.collectionReadTimeIndex="collectionReadTimeIndex",Zm.collectionReadTimeIndexPath=["parentPath","readTime"];var Hm=function(t){this.byteSize=t};Hm.store="remoteDocumentGlobal",Hm.key="remoteDocumentGlobalKey";var zm=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};zm.store="targets",zm.keyPath="targetId",zm.queryTargetsIndexName="queryTargetsIndex",zm.queryTargetsKeyPath=["canonicalId","targetId"];var Gm=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Gm.store="targetDocuments",Gm.keyPath=["targetId","path"],Gm.documentTargetsIndex="documentTargetsIndex",Gm.documentTargetsKeyPath=["path","targetId"];var Wm=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Wm.key="targetGlobalKey",Wm.store="targetGlobal";var Km=function(t,e){this.collectionId=t,this.parent=e};Km.store="collectionParents",Km.keyPath=["collectionId","parent"];var Ym=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ym.store="clientMetadata",Ym.keyPath="clientId";var Qm=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Qm.store="bundles",Qm.keyPath="bundleId";var Jm=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jm.store="namedQueries",Jm.keyPath="name";var Xm=(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],[Um.store,qm.store,jm.store,Zm.store,zm.store,Fm.store,Wm.store,Gm.store]),[Ym.store])),[Hm.store])),[Km.store])),[Qm.store,Jm.store]),$m="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",t_=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),e_=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},n_=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&gv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),r_=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new e_,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new a_(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=h_(e.target.error);n.ft.reject(new a_(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new a_(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(fv("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new u_(e)},t}(),i_=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Jl.getUA)())&&dv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return fv("SimpleDb","Removing database:",t),c_(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Jl.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(fv("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new a_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new cv(uv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new a_(t,n))},i.onupgradeneeded=function(t){fv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){fv("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,Ql.__generator)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return(0,Ql.__generator)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=r_.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),n_.reject(t)}).toPromise(),u={},a.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return fv("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),o_=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return c_(this.Pt.delete())},t}(),a_=function(t){function e(e,n){var r=this;return(r=t.call(this,uv.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ql.__extends)(e,t),e}(cv);function s_(t){return"IndexedDbTransactionError"===t.name}var u_=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(fv("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(fv("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),c_(n)},t.prototype.add=function(t){return fv("SimpleDb","ADD",this.store.name,t,t),c_(this.store.add(t))},t.prototype.get=function(t){var e=this;return c_(this.store.get(t)).next(function(n){return void 0===n&&(n=null),fv("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return fv("SimpleDb","DELETE",this.store.name,t),c_(this.store.delete(t))},t.prototype.count=function(){return fv("SimpleDb","COUNT",this.store.name),c_(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){fv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new n_(function(n,r){e.onerror=function(t){var e=h_(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new n_(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new o_(i),a=e(i.primaryKey,i.value,o);if(a instanceof n_){var s=a.catch(function(t){return o.done(),n_.reject(t)});n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return n_.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function c_(t){return new n_(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=h_(t.target.error);n(e)}})}var l_=!1;function h_(t){var e=i_._t((0,Jl.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new cv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return l_||(l_=!0,setTimeout(function(){throw r},0)),r}}return t}var f_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Ql.__extends)(e,t),e}(t_);function d_(t,e){var n=mv(t);return i_.It(n.Mt,e)}var p_=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&fy(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&dy(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&dy(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Cv.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Vy())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&kv(this.mutations,t.mutations,function(t,e){return vy(t,e)})&&kv(this.baseMutations,t.baseMutations,function(t,e){return vy(t,e)})},t}(),v_=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){yv(e.mutations.length===r.length);for(var i=qy(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),g_=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Cv.min()),void 0===o&&(o=Cv.min()),void 0===a&&(a=Dv.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),y_=function(t){this.Lt=t};function m_(t,e){if(e.document)return vm(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=zv.fromSegments(e.noDocument.path),r=T_(e.noDocument.readTime),i=ug.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=zv.fromSegments(e.unknownDocument.path);return r=T_(e.unknownDocument.version),ug.newUnknownDocument(o,r)}return gv()}function __(t,e,n){var r=w_(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:um(t,e.key),fields:e.data.value.mapValue.fields,updateTime:nm(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Zm(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=k_(e.version);return a=e.hasCommittedMutations,new Zm(null,new Vm(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=k_(e.version);return new Zm(new Bm(c,l),null,null,!0,r,i)}return gv()}function w_(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function b_(t){var e=new xv(t[0],t[1]);return Cv.fromTimestamp(e)}function k_(t){var e=t.toTimestamp();return new Mm(e.seconds,e.nanoseconds)}function T_(t){var e=new xv(t.seconds,t.nanoseconds);return Cv.fromTimestamp(e)}function x_(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ym(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ym(t.Lt,e)}),o=xv.fromMillis(e.localWriteTimeMs);return new p_(e.batchId,o,n,i)}function C_(t){var e,n,r=T_(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?T_(t.lastLimboFreeSnapshotVersion):Cv.min();return void 0!==t.query.documents?(yv(1===(n=t.query).documents.length),e=Ug(Ng(hm(n.documents[0])))):e=function(t){return Ug(wm(t))}(t.query),new g_(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Dv.fromBase64String(t.resumeToken))}function E_(t,e){var n,r=k_(e.snapshotVersion),i=k_(e.lastLimboFreeSnapshotVersion);n=dg(e.target)?mm(t.Lt,e.target):_m(t.Lt,e.target);var o=e.resumeToken.toBase64();return new zm(e.targetId,hg(e.target),r,o,e.sequenceNumber,i,n)}function S_(t){var e=wm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?qg(e,e.limit,"L"):e}var I_=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return A_(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:T_(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return A_(t).put({bundleId:(n=e).id,createTime:k_(om(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return O_(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:S_(e.bundledQuery),readTime:T_(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return O_(t).put(function(t){return{name:t.name,readTime:k_(om(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function A_(t){return d_(t,Qm.store)}function O_(t){return d_(t,Jm.store)}var N_=function(){function t(){this.Bt=new P_}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),n_.resolve()},t.prototype.getCollectionParents=function(t,e){return n_.resolve(this.Bt.getEntries(e))},t}(),P_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Py(Ov.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Py(Ov.comparator)).toArray()},t}(),R_=function(){function t(){this.qt=new P_}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Pm(i)};return D_(t).put(o)}return n_.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Tv(e),""],!1,!0);return D_(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Lm(o.parent))}return n})},t}();function D_(t){return d_(t,Km.store)}var L_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M_=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function F_(t,e,n){var r=t.store(qm.store),i=t.store(jm.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){yv(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=jm.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return n_.waitFor(o).next(function(){return c})}function U_(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw gv();e=t.noDocument}return JSON.stringify(e).length}M_.DEFAULT_COLLECTION_PERCENTILE=10,M_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,M_.DEFAULT=new M_(41943040,M_.DEFAULT_COLLECTION_PERCENTILE,M_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),M_.DISABLED=new M_(-1,0,0);var q_=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return yv(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return V_(t).$t({index:qm.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=B_(t),a=V_(t);return a.add({}).next(function(s){yv("number"==typeof s);for(var u=new p_(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return gm(t.Lt,e)}),i=n.mutations.map(function(e){return gm(t.Lt,e)});return new qm(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Py(function(t,e){return bv(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],v=jm.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,jm.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[s]=u.keys()}),n_.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return V_(t).get(e).next(function(t){return t?(yv(t.userId===n.userId),x_(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?n_.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return V_(t).$t({index:qm.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(yv(e.batchId>=r),o=x_(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return V_(t).$t({index:qm.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return V_(t).Nt(qm.userMutationsIndex,n).next(function(t){return t.map(function(t){return x_(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=jm.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return B_(t).$t({range:i},function(r,i,a){var s=r[0],u=r[2],c=Lm(r[1]);if(s===n.userId&&e.path.isEqual(c))return V_(t).get(u).next(function(t){if(!t)throw gv();yv(t.userId===n.userId),o.push(x_(n.R,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Py(bv),i=[];return e.forEach(function(e){var o=jm.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=B_(t).$t({range:a},function(t,i,o){var a=t[0],s=t[2],u=Lm(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),n_.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=jm.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Py(bv);return B_(t).$t({range:a},function(t,e,o){var a=t[0],u=t[2],c=Lm(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Wt(t,s)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(V_(t).get(e).next(function(t){if(null===t)throw gv();yv(t.userId===n.userId),r.push(x_(n.R,t))}))}),n_.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return F_(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),n_.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return n_.resolve();var r=IDBKeyRange.lowerBound(jm.prefixForUser(e.userId)),i=[];return B_(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Lm(t[1]);i.push(o)}else r.done()}).next(function(){yv(0===i.length)})})},t.prototype.containsKey=function(t,e){return j_(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Z_(t).get(this.userId).next(function(t){return t||new Um(e.userId,-1,"")})},t}();function j_(t,e,n){var r=jm.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return B_(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function V_(t){return d_(t,qm.store)}function B_(t){return d_(t,jm.store)}function Z_(t){return d_(t,Um.store)}var H_=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),z_=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new H_(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Cv.fromTimestamp(new xv(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return G_(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return yv(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return G_(t).$t(function(a,s){var u=C_(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return n_.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return G_(t).$t(function(t,n){var r=C_(n);e(r)})},t.prototype.Xt=function(t){return W_(t).get(Wm.key).next(function(t){return yv(null!==t),t})},t.prototype.Zt=function(t,e){return W_(t).put(Wm.key,e)},t.prototype.te=function(t,e){return G_(t).put(E_(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=hg(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return G_(t).$t({range:r,index:zm.queryTargetsIndexName},function(t,n,r){var o=C_(n);fg(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=K_(t);return e.forEach(function(e){var a=Pm(e.path);i.push(o.put(new Gm(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),n_.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=K_(t);return n_.forEach(e,function(e){var o=Pm(e.path);return n_.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=K_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=K_(t),i=Vy();return r.$t({range:n,kt:!0},function(t,e,n){var r=Lm(t[1]),o=new zv(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Pm(e.path),r=IDBKeyRange.bound([n],[Tv(n)],!1,!0),i=0;return K_(t).$t({index:Gm.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return G_(t).get(e).next(function(t){return t?C_(t):null})},t}();function G_(t){return d_(t,zm.store)}function W_(t){return d_(t,Wm.store)}function K_(t){return d_(t,Gm.store)}function Y_(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){if(t.code!==uv.FAILED_PRECONDITION||t.message!==$m)throw t;return fv("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Q_(t,e){var n=t[1],r=e[1],i=bv(t[0],e[0]);return 0===i?bv(n,r):i}var J_=function(){function t(t){this.ne=t,this.buffer=new Py(Q_),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Q_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),X_=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;fv("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return s_(e=n.sent())?(fv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Y_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),$_=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return n_.resolve(sv.o);var r=new J_(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fv("LruGarbageCollector","Garbage collection skipped; disabled"),n_.resolve(L_)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(fv("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),L_):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(fv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),hv()<=Xl.LogLevel.DEBUG&&fv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),n_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),tw=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $_(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return ew(t,n)},t.prototype.removeReference=function(t,e,n){return ew(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ew(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Z_(t).Ot(function(r){return j_(t,r,e).next(function(t){return t&&(n=!0),n_.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){if(s<=e){var u=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),K_(t).delete([0,Pm(a.path)])})});i.push(u)}}).next(function(){return n_.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ew(t,e)},t.prototype.we=function(t,e){var n,r=K_(t),i=sv.o;return r.$t({index:Gm.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==sv.o&&e(new zv(Lm(n)),i),i=a,n=o):i=sv.o}).next(function(){i!==sv.o&&e(new zv(Lm(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ew(t,e){return K_(t).put(function(t,e){return new Gm(0,Pm(t.path),e)}(e,t.currentSequenceNumber))}var nw=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Sv(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Iv(this.inner)},t}(),rw=function(){function t(){this.changes=new nw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Cv.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ug.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?n_.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),iw=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return sw(t).put(uw(e),n)},t.prototype.removeEntry=function(t,e){var n=sw(t),r=uw(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return sw(t).get(uw(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return sw(t).get(uw(e)).next(function(t){return{document:n.ye(e,t),size:U_(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ly();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ly(),i=new Ay(zv.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,U_(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return n_.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return sw(t).$t({range:r},function(t,e,r){for(var a=zv.fromSegments(t);o&&zv.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ly(),o=e.path.length+1,a={};if(n.isEqual(Cv.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=w_(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Zm.collectionReadTimeIndex}return sw(t).$t(a,function(t,n,a){if(t.length===o){var s=m_(r.R,n);e.path.isPrefixOf(s.key.path)?Zg(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ow(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return aw(t).get(Hm.key).next(function(t){return yv(!!t),t})},t.prototype.me=function(t,e){return aw(t).put(Hm.key,e)},t.prototype.ye=function(t,e){if(e){var n=m_(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Cv.min()))return n}return ug.newInvalidDocument(t)},t}(),ow=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new nw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Ql.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Py(function(t,e){return bv(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=__(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=U_(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=__(e.Ie.R,ug.newNoDocument(o,Cv.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),n_.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(rw);function aw(t){return d_(t,Hm.store)}function sw(t){return d_(t,Zm.store)}function uw(t){return t.path.toArray()}var cw=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;yv(n<r&&n>=0&&r<=11);var o=new r_("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fm.store)}(t),function(t){t.createObjectStore(Um.store,{keyPath:Um.keyPath}),t.createObjectStore(qm.store,{keyPath:qm.keyPath,autoIncrement:!0}).createIndex(qm.userMutationsIndex,qm.userMutationsKeyPath,{unique:!0}),t.createObjectStore(jm.store)}(t),lw(t),function(t){t.createObjectStore(Zm.store)}(t));var a=n_.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Gm.store),t.deleteObjectStore(zm.store),t.deleteObjectStore(Wm.store)}(t),lw(t)),a=a.next(function(){return function(t){var e=t.store(Wm.store),n=new Wm(0,0,Cv.min().toTimestamp(),0);return e.put(Wm.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(qm.store).Nt().next(function(n){t.deleteObjectStore(qm.store),t.createObjectStore(qm.store,{keyPath:qm.keyPath,autoIncrement:!0}).createIndex(qm.userMutationsIndex,qm.userMutationsKeyPath,{unique:!0});var r=e.store(qm.store),i=n.map(function(t){return r.put(t)});return n_.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Ym.store,{keyPath:Ym.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.Re(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Hm.store)}(t),i.be(o)})),n<7&&r>=7&&(a=a.next(function(){return i.ve(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zm.store);e.createIndex(Zm.readTimeIndex,Zm.readTimeIndexPath,{unique:!1}),e.createIndex(Zm.collectionReadTimeIndex,Zm.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Ve(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Qm.store,{keyPath:Qm.keyPath})}(t),function(t){t.createObjectStore(Jm.store,{keyPath:Jm.keyPath})}(t)})),a},t.prototype.be=function(t){var e=0;return t.store(Zm.store).$t(function(t,n){e+=U_(n)}).next(function(){var n=new Hm(e);return t.store(Hm.store).put(Hm.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Um.store),r=t.store(qm.store);return n.Nt().next(function(n){return n_.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(qm.userMutationsIndex,i).next(function(r){return n_.forEach(r,function(r){yv(r.userId===n.userId);var i=x_(e.R,r);return F_(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Gm.store),n=t.store(Zm.store);return t.store(Wm.store).get(Wm.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ov(n),a=function(t){return[0,Pm(t)]}(o);r.push(e.get(a).next(function(n){return n?n_.resolve():function(n){return e.put(new Gm(0,Pm(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return n_.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Km.store,{keyPath:Km.keyPath});var n=e.store(Km.store),r=new P_,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Pm(i)})}};return e.store(Zm.store).$t({kt:!0},function(t,e){var n=new Ov(t);return i(n.popLast())}).next(function(){return e.store(jm.store).$t({kt:!0},function(t,e){var n=Lm(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(zm.store);return n.$t(function(t,r){var i=C_(r),o=E_(e.R,i);return n.put(o)})},t}();function lw(t){t.createObjectStore(Gm.store,{keyPath:Gm.keyPath}).createIndex(Gm.documentTargetsIndex,Gm.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(zm.store,{keyPath:zm.keyPath}).createIndex(zm.queryTargetsIndexName,zm.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wm.store)}var hw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fw=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new cv(uv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tw(this,i),this.Le=n+"main",this.R=new y_(u),this.Be=new i_(this.Le,11,new cw(this.R)),this.qe=new z_(this.referenceDelegate,this.R),this.Ut=new R_,this.Ue=function(t,e){return new iw(t,e)}(this.R,this.Ut),this.Ke=new I_,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&dv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new cv(uv.FAILED_PRECONDITION,hw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new sv(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Ql.__awaiter)(e,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Ql.__awaiter)(e,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return pw(e).put(new Ym(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(s_(e))return fv("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return fv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return dw(t).get(Fm.key).next(function(t){return n_.resolve(e.tn(t))})},t.prototype.en=function(t){return pw(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=d_(t,Ym.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return n_.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?n_.resolve(!0):dw(t).get(Fm.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new cv(uv.FAILED_PRECONDITION,hw);return!1}}return!(!e.networkEnabled||!e.inForeground)||pw(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&fv("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fm.store,Ym.store],function(e){var n=new f_(e,sv.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return pw(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return q_.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return fv("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xm,function(o){return r=new f_(o,i.Ne?i.Ne.next():sv.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw dv("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new cv(uv.FAILED_PRECONDITION,$m);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return dw(t).get(Fm.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new cv(uv.FAILED_PRECONDITION,hw)})},t.prototype.Ze=function(t){var e=new Fm(this.clientId,this.allowTabSynchronization,Date.now());return dw(t).put(Fm.key,e)},t.yt=function(){return i_.yt()},t.prototype.Xe=function(t){var e=this,n=dw(t);return n.get(Fm.key).next(function(t){return e.tn(t)?(fv("IndexedDbPersistence","Releasing primary lease."),n.delete(Fm.key)):n_.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(dv("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Jl.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return fv("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return dv("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){dv("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dw(t){return d_(t,Fm.store)}function pw(t){return d_(t,Ym.store)}function vw(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var gw=function(t,e){this.progress=t,this.wn=e},yw=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return zv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Mg(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new zv(e)).next(function(t){var e=Fy();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Fy();return this.Ut.getCollectionParents(t,i).next(function(a){return n_.forEach(a,function(a){var s=function(t,e){return new Ag(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ug.newInvalidDocument(c),r=r.insert(c,l)),dy(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Zg(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Vy(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof my&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),mw=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Vy(),i=Vy(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),_w=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Cv.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Pg(e)||Rg(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(hv()<=Xl.LogLevel.DEBUG&&fv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bg(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Py(Hg(t));return e.forEach(function(e,r){Zg(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return hv()<=Xl.LogLevel.DEBUG&&fv("QueryEngine","Using full collection scan to execute query:",Bg(e)),this.Sn.getDocumentsMatchingQuery(t,e,Cv.min())},t}(),ww=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ay(bv),this.kn=new nw(function(t){return hg(t)},fg),this.$n=Cv.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new yw(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function bw(t,e,n,r){return new ww(t,e,n,r)}function kw(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return n=mv(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new yw(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Vy(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Tw(t,e){var n=mv(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=n_.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);yv(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),a.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function xw(t){var e=mv(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Cw(t,e){var n=mv(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return yv(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}});var s=Ly();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(Ew(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Cv.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return n_.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,s)}).next(function(){return s})}).then(function(t){return n.Fn=i,t})}function Ew(t,e,n,r,i){var o=Vy();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ly();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Cv.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):fv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Sw(t,e){var n=mv(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Iw(t,e){var n=mv(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?n_.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new g_(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Aw(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:r=mv(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!s_(a=s.sent()))throw a;return fv("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Ow(t,e,n){var r=mv(t),i=Cv.min(),o=Vy();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=mv(t),i=r.kn.get(n);return void 0!==i?n_.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ug(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Cv.min(),n?o:Vy())}).next(function(t){return{documents:t,Bn:o}})})}function Nw(t,e){var n=mv(t),r=mv(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Pw(t){var e=mv(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=mv(t),i=Ly(),o=w_(n),a=sw(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Zm.readTimeIndex,range:s},function(t,e){var n=m_(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:b_(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Rw(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){return[2,(e=mv(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=sw(t),n=Cv.min();return e.$t({index:Zm.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=b_(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Dw(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return(0,Ql.__generator)(this,function(p){switch(p.label){case 0:for(i=mv(t),o=Vy(),a=Ly(),s=qy(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Iw(i,function(t){return Ug(Ng(Ov.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Ew(t,f,a,Cv.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Lw(t,e,n){return void 0===n&&(n=Vy()),(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return[4,Iw(t,Ug(S_(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=mv(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=om(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(Dv.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Mw=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return n_.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:om(n.createTime)}),n_.resolve()},t.prototype.getNamedQuery=function(t,e){return n_.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:S_(t.bundledQuery),readTime:om(t.readTime)}}(e)),n_.resolve()},t}(),Fw=function(){function t(){this.Wn=new Py(Uw.Gn),this.zn=new Py(Uw.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Uw(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Uw(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new zv(new Ov([])),r=new Uw(n,t),i=new Uw(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new zv(new Ov([])),n=new Uw(e,t),r=new Uw(e,t+1),i=Vy();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Uw(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Uw=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return zv.comparator(t.key,e.key)||bv(t.ns,e.ns)},t.Hn=function(t,e){return bv(t.ns,e.ns)||zv.comparator(t.key,e.key)},t}(),qw=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Py(Uw.Gn)}return t.prototype.checkEmpty=function(t){return n_.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new p_(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Uw(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return n_.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return n_.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return n_.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return n_.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return n_.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Uw(e,0),i=new Uw(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),n_.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Py(bv);return e.forEach(function(t){var e=new Uw(t,0),i=new Uw(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),n_.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;zv.isDocumentKey(i)||(i=i.child(""));var o=new Uw(new zv(i),0),a=new Py(bv);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)},o),n_.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;yv(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return n_.forEach(e.mutations,function(i){var o=new Uw(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Uw(e,0),r=this.rs.firstAfterOrEqual(n);return n_.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return n_.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),jw=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ay(zv.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return n_.resolve(n?n.document.clone():ug.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ly();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ug.newInvalidDocument(t))}),n_.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ly(),i=new zv(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||Zg(e,u)&&(r=r.insert(u.key,u.clone()))}return n_.resolve(r)},t.prototype.fs=function(t,e){return n_.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Vw(this)},t.prototype.getSize=function(t){return n_.resolve(this.size)},t}(),Vw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Ql.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),n_.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(rw),Bw=function(){function t(t){this.persistence=t,this.ds=new nw(function(t){return hg(t)},fg),this.lastRemoteSnapshotVersion=Cv.min(),this.highestTargetId=0,this.ws=0,this._s=new Fw,this.targetCount=0,this.ys=H_.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),n_.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return n_.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return n_.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),n_.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),n_.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new H_(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,n_.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),n_.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,n_.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),n_.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return n_.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return n_.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),n_.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),n_.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),n_.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return n_.resolve(n)},t.prototype.containsKey=function(t,e){return n_.resolve(this._s.containsKey(e))},t}(),Zw=function(){function t(t,e){var n=this;this.gs={},this.Ne=new sv(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Bw(this),this.Ut=new N_,this.Ue=function(t,e){return new jw(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new y_(e),this.Ke=new Mw(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new qw(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;fv("MemoryPersistence","Starting transaction:",t);var i=new Hw(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return n_.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Hw=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Ql.__extends)(e,t),e}(t_),zw=function(){function t(t){this.persistence=t,this.As=new Fw,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw gv()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),n_.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),n_.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),n_.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return n_.forEach(this.vs,function(r){var i=zv.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return n_.or([function(){return n_.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Gw=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Ww(t,e){return"firestore_clients_"+t+"_"+e}function Kw(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Yw(t,e){return"firestore_targets_"+t+"_"+e}Gw.UNAUTHENTICATED=new Gw(null),Gw.GOOGLE_CREDENTIALS=new Gw("google-credentials-uid"),Gw.FIRST_PARTY=new Gw("first-party-uid");var Qw=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new cv(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(dv("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Jw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new cv(i.error.code,i.error.message)),o?new t(e,i.state,r):(dv("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Zy(),a=0;i&&a<r.activeTargetIds.length;++a)i=Hv(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(dv("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$w=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(dv("SharedClientState","Failed to parse online state: "+e),null)},t}(),tb=function(){function t(){this.activeTargetIds=Zy()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),eb=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ay(bv),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Ww(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new tb),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return(0,Ql.__generator)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Ww(this.persistenceKey,r)))&&(o=Xw.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Yw(this.persistenceKey,t));if(n){var r=Jw.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Yw(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return fv("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){fv("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){fv("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(fv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void dv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){var t,e,r,i,o,a;return(0,Ql.__generator)(this,function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=sv.o;if(null!=t)try{var n=JSON.parse(t);yv("number"==typeof n),e=n}catch(t){dv("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==sv.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Qw(this.currentUser,t,e,n),i=Kw(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Kw(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Yw(this.persistenceKey,t),i=new Jw(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Xw.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Qw.Vs(new Gw(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Jw.Vs(r,e)},t.prototype.js=function(t){return $w.Vs(t)},t.prototype.ii=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(fv("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zy();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),nb=function(){function t(){this.li=new tb,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new tb,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),rb=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),ib=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){fv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){fv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ob={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ab=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),sb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Ql.__extends)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var a=new av;a.listenOnce(nv.COMPLETE,function(){try{switch(a.getLastErrorCode()){case ev.NO_ERROR:var e=a.getResponseJson();fv("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ev.TIMEOUT:fv("Connection",'RPC "'+t+'" timed out'),o(new cv(uv.DEADLINE_EXCEEDED,"Request time out"));break;case ev.HTTP_ERROR:var n=a.getStatus();if(fv("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(uv).indexOf(e)>=0?e:uv.UNKNOWN}(r.status);o(new cv(s,r.message))}else o(new cv(uv.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new cv(uv.UNAVAILABLE,"Connection failed."));break;default:gv()}}finally{fv("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Qp,i=Hf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new iv({})),this.Fi(o.initMessageHeaders,e),(0,Jl.isMobileCordova)()||(0,Jl.isReactNative)()||(0,Jl.isElectron)()||(0,Jl.isIE)()||(0,Jl.isUWP)()||(0,Jl.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");fv("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new ab({Ei:function(t){c?fv("Connection","Not sending because WebChannel is closed:",t):(u||(fv("Connection","Opening WebChannel transport."),s.open(),u=!0),fv("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,ov.EventType.OPEN,function(){c||fv("Connection","WebChannel transport opened.")}),h(s,ov.EventType.CLOSE,function(){c||(c=!0,fv("Connection","WebChannel transport closed"),l.Vi())}),h(s,ov.EventType.ERROR,function(t){c||(c=!0,pv("Connection","WebChannel transport errored:",t),l.Vi(new cv(uv.UNAVAILABLE,"The operation could not be completed")))}),h(s,ov.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];yv(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){fv("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ky[t];if(void 0!==e)return Iy(e)}(i),a=r.message;void 0===o&&(o=uv.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new cv(o,a)),s.close()}else fv("Connection","WebChannel received:",n),l.Si(n)}}),h(i,rv.STAT_EVENT,function(t){10===t.stat?fv("Connection","Detected buffering proxy"):11===t.stat&&fv("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);fv("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return fv("RestConnection","Received: ",t),t},function(e){throw pv("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+ob[t]},t}());function ub(){return"undefined"!=typeof window?window:null}function cb(){return"undefined"!=typeof document?document:null}function lb(t){return new em(t,!0)}var hb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&fv("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),fb=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new hb(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===uv.RESOURCE_EXHAUSTED?(dv(e.toString()),dv("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===uv.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new cv(uv.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Ql.__awaiter)(t,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return fv("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(fv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),db=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,Ql.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:gv()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(yv(void 0===e||"string"==typeof e),Dv.fromBase64String(e||"")):(yv(void 0===e||e instanceof Uint8Array),Dv.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?uv.UNKNOWN:Iy(t.code);return new cv(e,t.message||"")}(s);n=new Ky(r,i,o,a||null)}else if("documentChange"in e){i=cm(t,(r=e.documentChange).document.name),o=om(r.document.updateTime);var s=new ag({mapValue:{fields:r.document.fields}}),u=(a=ug.newFoundDocument(i,o,s),r.targetIds||[]);n=new Gy(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=cm(t,(r=e.documentDelete).document),o=r.readTime?om(r.readTime):Cv.min(),s=ug.newNoDocument(i,o),n=new Gy([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=cm(t,(r=e.documentRemove).document),n=new Gy([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return gv();var c=e.filter;i=new Ey(r=c.count||0),n=new Wy(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Cv.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Cv.min():e.readTime?om(e.readTime):Cv.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=fm(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=dg(r)?{documents:mm(t,r)}:{query:_m(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=rm(t,e.resumeToken):e.snapshotVersion.compareTo(Cv.min())>0&&(n.readTime=nm(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gv()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=fm(this.R),e.removeTarget=t,this.cr(e)},e}(fb),pb=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,Ql.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(yv(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(yv(void 0!==e),t.map(function(t){return function(t,e){var n=om(t.updateTime?t.updateTime:e);return n.isEqual(Cv.min())&&(n=om(e)),new uy(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=om(t.commitTime);return this.listener.Tr(n,e)}return yv(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=fm(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return gm(e.R,t)})};this.cr(n)},e}(fb),vb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ql.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new cv(uv.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===uv.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new cv(uv.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===uv.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new cv(uv.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),gb=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(dv(e),this.Vr=!1):fv("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),yb=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Ql.__awaiter)(o,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return Eb(this)?(fv("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return(e=mv(t)).Or.add(4),[4,_b(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,mb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new gb(n,r)};function mb(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:if(!Eb(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function _b(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function wb(t,e){var n=mv(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Cb(n)?xb(n):Vb(n).er()&&kb(n,e))}function bb(t,e){var n=mv(t),r=Vb(n);n.$r.delete(e),r.er()&&Tb(n,e),0===n.$r.size&&(r.er()?r.ir():Eb(n)&&n.Br.set("Unknown"))}function kb(t,e){t.qr.U(e.targetId),Vb(t).mr(e)}function Tb(t,e){t.qr.U(e),Vb(t).yr(e)}function xb(t){t.qr=new Qy({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Vb(t).start(),t.Br.Sr()}function Cb(t){return Eb(t)&&!Vb(t).tr()&&t.$r.size>0}function Eb(t){return 0===mv(t).Or.size}function Sb(t){t.qr=void 0}function Ib(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){return t.$r.forEach(function(e,n){kb(t,e)}),[2]})})}function Ab(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(n){return Sb(t),Cb(t)?(t.Br.Nr(e),xb(t)):t.Br.set("Unknown"),[2]})})}function Ob(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Ky&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),fv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Nb(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Gy?t.qr.X(e):e instanceof Wy?t.qr.rt(e):t.qr.et(e),n.isEqual(Cv.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,xw(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Dv.EMPTY_BYTE_STRING,n.snapshotVersion)),Tb(t,e);var r=new g_(n.target,e,1,n.sequenceNumber);kb(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return fv("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Nb(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Nb(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:if(!s_(e))throw e;return t.Or.add(1),[4,_b(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return xw(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Ql.__awaiter)(r,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return fv("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,mb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Pb(t,e){return e().catch(function(n){return Nb(t,n,e)})}function Rb(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:e=mv(t),n=Bb(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Eb(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Sw(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Bb(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Nb(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Db(e)&&Lb(e),[2]}})})}function Db(t){return Eb(t)&&!Bb(t).tr()&&t.kr.length>0}function Lb(t){Bb(t).start()}function Mb(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){return Bb(t).Ar(),[2]})})}function Fb(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ql.__generator)(this,function(i){for(e=Bb(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Ub(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=v_.from(r,e,n),[4,Pb(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Rb(t)];case 2:return o.sent(),[2]}})})}function qb(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e&&Bb(t).pr?[4,function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return Sy(r=e.code)&&r!==uv.ABORTED?(n=t.kr.shift(),Bb(t).sr(),[4,Pb(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Rb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Db(t)&&Lb(t),[2]}})})}function jb(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return n=mv(t),e?(n.Or.delete(2),[4,mb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,_b(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Vb(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=mv(t);return r.br(),new db(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ib.bind(null,t),Ri:Ab.bind(null,t),_r:Ob.bind(null,t)}),t.Mr.push(function(n){return(0,Ql.__awaiter)(e,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Cb(t)?xb(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Sb(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Bb(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=mv(t);return r.br(),new pb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Mb.bind(null,t),Ri:qb.bind(null,t),Ir:Fb.bind(null,t),Tr:Ub.bind(null,t)}),t.Mr.push(function(n){return(0,Ql.__awaiter)(e,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Rb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(fv("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Zb=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new e_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new cv(uv.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Hb(t,e){if(dv("AsyncQueue",e+": "+t),s_(t))return new cv(uv.UNAVAILABLE,e+": "+t);throw t}var zb=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||zv.comparator(e.key,n.key)}:function(t,e){return zv.comparator(t.key,e.key)},this.keyedMap=Fy(),this.sortedSet=new Ay(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Gb=function(){function t(){this.Qr=new Ay(zv.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):gv():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Wb=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,zb.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&jg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Kb=function(){this.Wr=void 0,this.listeners=[]},Yb=function(){this.queries=new nw(function(t){return Vg(t)},jg),this.onlineState="Unknown",this.Gr=new Set};function Qb(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,Ql.__generator)(this,function(c){switch(c.label){case 0:if(n=mv(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Kb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Hb(s,"Initialization of query '"+Bg(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&tk(n),[2]}})})}function Jb(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ql.__generator)(this,function(s){return n=mv(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Xb(t,e){for(var n=mv(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&tk(n)}function $b(t,e,n){var r=mv(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function tk(t){t.Gr.forEach(function(t){t.next()})}var ek=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Wb(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Wb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),nk=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),rk=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return cm(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?vm(this.R,t.document,!1):ug.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return om(t)},t}(),ik=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=ok(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new rk(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Vy()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return[4,Dw(this.localStore,new rk(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Lw(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new gw(Object.assign({},this.progress),t))]}})})},t}();function ok(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var ak=function(t){this.key=t},sk=function(t){this.key=t},uk=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Vy(),this.mutatedKeys=Vy(),this.lo=Hg(t),this.fo=new zb(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Gb,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Pg(this.query)&&i.size===this.query.limit?i.last():null,c=Rg(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Zg(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),Pg(this.query)||Rg(this.query))for(;a.size>this.query.limit;){var l=Pg(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gv()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Wb(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Gb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Vy(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new sk(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ak(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Vy();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Wb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ck=function(t,e,n){this.query=t,this.targetId=e,this.view=n},lk=function(t){this.key=t,this.bo=!1},hk=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new nw(function(t){return Vg(t)},jg),this.Vo=new Map,this.So=new Set,this.Do=new Ay(zv.comparator),this.Co=new Map,this.No=new Fw,this.xo={},this.Fo=new Map,this.ko=H_.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function fk(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return n=Vk(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Iw(n.localStore,Ug(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,dk(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&wb(n.remoteStore,o),s.label=4;case 4:return[2,r]}})})}function dk(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u,c;return(0,Ql.__generator)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Ow(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Ek(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Ow(t.localStore,e,!0)];case 1:return i=l.sent(),o=new uk(e,i.Bn),a=o._o(i.documents),s=zy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),Ek(t,n,u.To),c=new ck(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function pk(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return n=mv(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!jg(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Aw(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),bb(n.remoteStore,r.targetId),xk(n,r.targetId)}).catch(Y_)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return xk(n,r.targetId),[4,Aw(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function vk(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:r=Bk(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=mv(t),i=xv.now(),o=e.reduce(function(t,e){return t.add(e.key)},Vy());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=py(c,n.get(c.key));null!=l&&a.push(new my(c.key,l,sg(l.value.mapValue),cy.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ay(bv)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ak(r,i.changes)];case 3:return s.sent(),[4,Rb(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Hb(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function gk(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:n=mv(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cw(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(yv(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?yv(r.bo):t.removedDocuments.size>0&&(yv(r.bo),r.bo=!1))}),[4,Ak(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Y_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function yk(t,e,n){var r=mv(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=mv(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&tk(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mk(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,Ql.__generator)(this,function(c){switch(c.label){case 0:return(r=mv(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new Ay(zv.comparator)).insert(o,ug.newNoDocument(o,Cv.min())),s=Vy().add(o),u=new Hy(Cv.min(),new Map,new Py(bv),a,s),[4,gk(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Ik(r),[3,4];case 2:return[4,Aw(r.localStore,e,!1).then(function(){return xk(r,e,n)}).catch(Y_)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function _k(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:n=mv(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Tw(n.localStore,e)];case 2:return i=o.sent(),Tk(n,r,null),kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ak(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Y_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function wk(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:r=mv(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=mv(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return yv(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Tk(r,e,n),kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ak(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Y_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function bk(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:Eb((n=mv(t)).remoteStore)||fv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=mv(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Hb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function kk(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Tk(t,e,n){var r=mv(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function xk(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Ck(t,e)})}function Ck(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(bb(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ik(t))}function Ek(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ak?(t.No.addReference(o.key,e),Sk(t,o)):o instanceof sk?(fv("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Ck(t,o.key)):gv()}}function Sk(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(fv("SyncEngine","New document in limbo: "+n),t.So.add(r),Ik(t))}function Ik(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new zv(Ov.fromString(e)),r=t.ko.next();t.Co.set(r,new lk(n)),t.Do=t.Do.insert(n,r),wb(t.remoteStore,new g_(Ug(Ng(n.path)),r,2,sv.o))}}function Ak(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return r=mv(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,s){a.push(r.Oo(s,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=mw.Pn(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return(0,Ql.__generator)(this,function(l){switch(l.label){case 0:n=mv(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return n_.forEach(e,function(e){return n_.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return n_.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!s_(r=l.sent()))throw r;return fv("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}})})}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Ok(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return(n=mv(t)).currentUser.isEqual(e)?[3,3]:(fv("SyncEngine","User change. New user:",e.toKey()),[4,kw(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new cv(uv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ak(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Nk(t,e){var n=mv(t),r=n.Co.get(e);if(r&&r.bo)return Vy().add(r.key);var i=Vy(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function Pk(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return[4,Ow((n=mv(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Ek(n,e.targetId,i.To),i)]}})})}function Rk(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){return[2,Pw((e=mv(t)).localStore).then(function(t){return Ak(e,t)})]})})}function Dk(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=mv(t),r=mv(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):n_.resolve(null)})})}((i=mv(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Rb(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Tk(i,e,r||null),kk(i,e),function(t,e){mv(mv(t)._n).Gt(e)}(i.localStore,e)):gv(),a.label=4;case 4:return[4,Ak(i,o)];case 5:return a.sent(),[3,7];case 6:fv("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Lk(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return(0,Ql.__generator)(this,function(c){switch(c.label){case 0:return Vk(n=mv(t)),Bk(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Mk(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,jb(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)wb(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return xk(n,e),Aw(n.localStore,e,!0)}),bb(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Mk(n,s)];case 5:return c.sent(),function(t){var e=mv(t);e.Co.forEach(function(t,n){bb(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Ay(zv.comparator)}(n),n.$o=!1,[4,jb(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Mk(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return(0,Ql.__generator)(this,function(v){switch(v.label){case 0:n=mv(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Iw(n.localStore,Ug(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Pk(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Nw(n.localStore,s)];case 8:return p=v.sent(),[4,Iw(n.localStore,p)];case 9:return u=v.sent(),[4,dk(n,Fk(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Fk(t){return Og(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Uk(t){var e=mv(t);return mv(mv(e.localStore).persistence).fn()}function qk(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return(i=mv(t)).$o?(fv("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pw(i.localStore)];case 3:return o=s.sent(),a=Hy.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ak(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Aw(i.localStore,e,!0)];case 6:return s.sent(),xk(i,e,r),[3,8];case 7:gv(),s.label=8;case 8:return[2]}})})}function jk(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return(0,Ql.__generator)(this,function(f){switch(f.label){case 0:if(!(r=Vk(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(fv("SyncEngine","Adding an already active target "+a),[3,5]):[4,Nw(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Iw(r.localStore,s)];case 3:return u=f.sent(),[4,dk(r,Fk(s),u.targetId,!1)];case 4:f.sent(),wb(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Aw(r.localStore,t,!1).then(function(){bb(r.remoteStore,t),xk(r,t)}).catch(Y_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Vk(t){var e=mv(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mk.bind(null,e),e.vo._r=Xb.bind(null,e.eventManager),e.vo.Mo=$b.bind(null,e.eventManager),e}function Bk(t){var e=mv(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wk.bind(null,e),e}function Zk(t,e,n){var r=mv(t);(function(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u;return(0,Ql.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=mv(t),r=om(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(ok(r)),i=new ik(r,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Ak(t,s.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=mv(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return pv("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Hk=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return this.R=lb(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return bw(this.persistence,new _w,t.initialUser,this.R)},t.prototype.qo=function(t){return new Zw(zw.bs,this.R)},t.prototype.Bo=function(t){return new nb},t.prototype.terminate=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),zk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ql.__extends)(e,t),e.prototype.initialize=function(e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Rw(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Bk(this.Qo.syncEngine)];case 4:return n.sent(),[4,Rb(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return bw(this.persistence,new _w,t.initialUser,this.R)},e.prototype.Uo=function(t){return new X_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=vw(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?M_.withCacheSize(this.cacheSizeBytes):M_.DEFAULT;return new fw(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ub(),cb(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new nb},e}(Hk),Gk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ql.__extends)(e,t),e.prototype.initialize=function(e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof eb?(this.sharedClientState.syncEngine={ui:Dk.bind(null,n),ai:qk.bind(null,n),hi:jk.bind(null,n),fn:Uk.bind(null,n),ci:Rk.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Ql.__awaiter)(r,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return[4,Lk(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ub();if(!eb.yt(e))throw new cv(uv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=vw(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new eb(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(zk),Wk=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return yk(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ok.bind(null,this.syncEngine),[4,jb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Yb},t.prototype.createDatastore=function(t){var e=lb(t.databaseInfo.databaseId),n=new sb(t.databaseInfo);return function(t,e,n){return new vb(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return yk(a.syncEngine,t,0)},o=ib.yt()?new ib:new rb,new yb(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new hk(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e=mv(t),fv("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,_b(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function Kk(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r;return(0,Ql.__generator)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Yk=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Qk=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new e_,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new nk(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),Jk=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new cv(uv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return n=mv(t),r=fm(n.R)+"/documents",i={documents:e.map(function(t){return um(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){yv(!!e.found);var n=cm(t,e.found.name),r=om(e.found.updateTime),i=new ag({mapValue:{fields:e.found.fields}});return ug.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){yv(!!e.missing),yv(!!e.readTime);var n=cm(t,e.missing),r=om(e.readTime);return ug.newNoDocument(n,r)}(t,e):gv()}(n.R,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());yv(!!e),s.push(e)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new xy(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=zv.fromPath(n);e.mutations.push(new Cy(r,e.precondition(r)))}),[4,function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return n=mv(t),r=fm(n.R)+"/documents",i={writes:e.map(function(t){return gm(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw gv();e=Cv.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new cv(uv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?cy.updateTime(e):cy.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Cv.min()))throw new cv(uv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cy.updateTime(e)}return cy.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Xk=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new hb(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Ql.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return(0,Ql.__generator)(this,function(r){return t=new Jk(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Bv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Sy(e)}return!1},t}(),$k=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Gw.UNAUTHENTICATED,this.clientId=wv.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Ql.__awaiter)(r,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return fv("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new cv(uv.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new e_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ql.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Hb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function tT(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),fv("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Ql.__awaiter)(i,void 0,void 0,function(){return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,kw(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function eT(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,nT(t)];case 1:return n=i.sent(),fv("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return(n=mv(t)).asyncQueue.verifyOperationInProgress(),fv("RemoteStore","RemoteStore received new credentials"),r=Eb(n),n.Or.add(3),[4,_b(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,mb(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function nT(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(fv("FirestoreClient","Using default OfflineComponentProvider"),[4,tT(t,new Hk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function rT(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(fv("FirestoreClient","Using default OnlineComponentProvider"),[4,eT(t,new Wk)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function iT(t){return nT(t).then(function(t){return t.persistence})}function oT(t){return nT(t).then(function(t){return t.localStore})}function aT(t){return rT(t).then(function(t){return t.remoteStore})}function sT(t){return rT(t).then(function(t){return t.syncEngine})}function uT(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,rT(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=fk.bind(null,e.syncEngine),n.onUnlisten=pk.bind(null,e.syncEngine),n)]}})})}function cT(t,e,n){var r=this;void 0===n&&(n={});var i=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(r,void 0,void 0,function(){var r;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yk({next:function(o){e.enqueueAndForget(function(){return Jb(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new cv(uv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new cv(uv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ek(Ng(n.path),o,{includeMetadataChanges:!0,so:!0});return Qb(t,a)},[4,uT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function lT(t,e,n){var r=this;void 0===n&&(n={});var i=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(r,void 0,void 0,function(){var r;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Yk({next:function(n){e.enqueueAndForget(function(){return Jb(t,a)}),n.fromCache&&"server"===r.source?i.reject(new cv(uv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ek(n,o,{includeMetadataChanges:!0,so:!0});return Qb(t,a)},[4,uT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var hT=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},fT=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),dT=new Map,pT=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},vT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Gw.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),gT=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),yT=function(){function t(t){var e=this;this.currentUser=Gw.UNAUTHENTICATED,this.oc=new e_,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){fv("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(fv("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(fv("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(yv("string"==typeof n.accessToken),new pT(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return yv(null===t||"string"==typeof t),new Gw(t)},t}(),mT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Gw.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),_T=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new mT(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Gw.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function wT(t,e,n){if(!n)throw new cv(uv.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function bT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new cv(uv.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function kT(t,e,n,r){if(!0===e&&!0===r)throw new cv(uv.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function TT(t){if(!zv.isDocumentKey(t))throw new cv(uv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xT(t){if(zv.isDocumentKey(t))throw new cv(uv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function CT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":gv()}function ET(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new cv(uv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=CT(t);throw new cv(uv.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ST(t,e){if(e<=0)throw new cv(uv.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var IT=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new cv(uv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new cv(uv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,kT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),AT=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,t instanceof fT?(this._databaseId=t,this._credentials=new vT):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new cv(uv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fT(t.options.projectId)}(t),this._credentials=new yT(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new cv(uv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new cv(uv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new vT;switch(t.type){case"gapi":var e=t.client;return yv(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new _T(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new cv(uv.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=dT.get(this))&&(fv("ComponentProvider","Removing Datastore"),dT.delete(this),t.terminate()),Promise.resolve();var t},t}(),OT=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new PT(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),NT=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),PT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ng(r))||this)._path=r,i.type="collection",i}return(0,Ql.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new OT(this.firestore,null,new zv(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(NT);function RT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Jl.getModularInstance)(t),wT("collection","path",e),t instanceof AT)return xT(n=Ov.fromString.apply(Ov,(0,Ql.__spreadArray)([e],r))),new PT(t,null,n);if(!(t instanceof OT||t instanceof PT))throw new cv(uv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xT(n=Ov.fromString.apply(Ov,(0,Ql.__spreadArray)([t.path],r)).child(Ov.fromString(e))),new PT(t.firestore,null,n)}function DT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Jl.getModularInstance)(t),1===arguments.length&&(e=wv.u()),wT("doc","path",e),t instanceof AT)return TT(n=Ov.fromString.apply(Ov,(0,Ql.__spreadArray)([e],r))),new OT(t,null,new zv(n));if(!(t instanceof OT||t instanceof PT))throw new cv(uv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TT(n=t._path.child(Ov.fromString.apply(Ov,(0,Ql.__spreadArray)([e],r)))),new OT(t.firestore,t instanceof PT?t.converter:null,new zv(n))}function LT(t,e){return t=(0,Jl.getModularInstance)(t),e=(0,Jl.getModularInstance)(e),(t instanceof OT||t instanceof PT)&&(e instanceof OT||e instanceof PT)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function MT(t,e){return t=(0,Jl.getModularInstance)(t),e=(0,Jl.getModularInstance)(e),t instanceof NT&&e instanceof NT&&t.firestore===e.firestore&&jg(t._query,e._query)&&t.converter===e.converter}var FT=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new hb(this,"async_queue_retry"),this.Ic=function(){var e=cb();e&&fv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=cb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=cb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new e_;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!s_(t=n.sent()))throw t;return fv("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,dv("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Zb.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&gv()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function UT(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var qT=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new e_,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),jT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new FT,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Ql.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||BT(this),this._firestoreClient.terminate()},e}(AT);function VT(t){return t._firestoreClient||BT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BT(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new hT(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $k(t._credentials,t._queue,r)}function ZT(t,e,n){var r=this,i=new e_;return t.asyncQueue.enqueue(function(){return(0,Ql.__awaiter)(r,void 0,void 0,function(){var r;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,tT(t,n)];case 1:return o.sent(),[4,eT(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===uv.FAILED_PRECONDITION||t.code===uv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function HT(t){if(t._initialized||t._terminated)throw new cv(uv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new cv(uv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pv(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),GT=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Dv.fromBase64String(e))}catch(e){throw new cv(uv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Dv.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),WT=function(t){this._methodName=t},KT=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new cv(uv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cv(uv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return bv(this._lat,t._lat)||bv(this._long,t._long)},t}(),YT=/^__.*__$/,QT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new my(t,this.data,this.fieldMask,e,this.fieldTransforms):new yy(t,this.data,e,this.fieldTransforms)},t}(),JT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new my(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function XT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gv()}}var $T=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return _x(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(XT(this.Nc)&&YT.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),tx=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||lb(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new $T({Nc:t,methodName:e,qc:n,path:Pv.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function ex(t){var e=t._freezeSettings(),n=lb(t._databaseId);return new tx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nx(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);vx("Data must be an object, but it was:",a,r);var s,u,c=dx(r,a);if(o.merge)s=new Rv(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gx(e,f[h],n);if(!a.contains(d))throw new cv(uv.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wx(l,d)||l.push(d)}s=new Rv(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new QT(new ag(c),s,u)}var rx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(WT);function ix(t,e,n){return new $T({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ox=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new sy(t.path,new $g)},e.prototype.isEqual=function(t){return t instanceof e},e}(WT),ax=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ql.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=ix(this,t,!0),n=this.Kc.map(function(t){return fx(t,e)}),r=new ty(n);return new sy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(WT),sx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ql.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=ix(this,t,!0),n=this.Kc.map(function(t){return fx(t,e)}),r=new ny(n);return new sy(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(WT),ux=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Ql.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new iy(t.R,Kg(t.R,this.Qc));return new sy(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(WT);function cx(t,e,n,r){var i=t.Uc(1,e,n);vx("Data must be an object, but it was:",i,r);var o=[],a=ag.empty();Sv(r,function(t,r){var s=mx(e,t,n);r=(0,Jl.getModularInstance)(r);var u=i.Oc(s);if(r instanceof rx)o.push(s);else{var c=fx(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Rv(o);return new JT(a,s,i.fieldTransforms)}function lx(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[gx(e,r,n)],u=[i];if(o.length%2!=0)throw new cv(uv.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(gx(e,o[c])),u.push(o[c+1]);for(var l=[],h=ag.empty(),f=s.length-1;f>=0;--f)if(!wx(l,s[f])){var d=s[f],p=u[f];p=(0,Jl.getModularInstance)(p);var v=a.Oc(d);if(p instanceof rx)l.push(d);else{var g=fx(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new Rv(l);return new JT(h,y,a.fieldTransforms)}function hx(t,e,n,r){return void 0===r&&(r=!1),fx(n,t.Uc(r?4:3,e))}function fx(t,e){if(px(t=(0,Jl.getModularInstance)(t)))return vx("Unsupported field value:",e,t),dx(t,e);if(t instanceof WT)return function(t,e){if(!XT(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=fx(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Jl.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kg(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=xv.fromDate(t);return{timestampValue:nm(e.R,n)}}if(t instanceof xv)return n=new xv(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:nm(e.R,n)};if(t instanceof KT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof GT)return{bytesValue:rm(e.R,t._byteString)};if(t instanceof OT){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:am(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+CT(t))}(t,e)}function dx(t,e){var n={};return Iv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sv(t,function(t,r){var i=fx(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function px(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xv||t instanceof KT||t instanceof GT||t instanceof OT||t instanceof WT)}function vx(t,e,n){if(!px(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=CT(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function gx(t,e,n){if((e=(0,Jl.getModularInstance)(e))instanceof zT)return e._internalPath;if("string"==typeof e)return mx(t,e);throw _x("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yx=new RegExp("[~\\*/\\[\\]]");function mx(t,e,n){if(e.search(yx)>=0)throw _x("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(zT.bind.apply(zT,(0,Ql.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(_C){throw _x("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function _x(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new cv(uv.INVALID_ARGUMENT,(s+=". ")+t+u)}function wx(t,e){return t.some(function(t){return t.isEqual(e)})}var bx=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new OT(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Tx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),kx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(bx);function Tx(t,e){return"string"==typeof e?mx(t,e):e instanceof zT?e._internalPath:e._delegate._internalPath}var xx=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Cx=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,Ql.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ex(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Tx("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(bx),Ex=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Cx),Sx=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xx(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Ex(n._firestore,n._userDataWriter,r.key,r,new xx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new cv(uv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Ex(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xx(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ex(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xx(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ix(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ix(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gv()}}function Ax(t,e){return t instanceof Cx&&e instanceof Cx?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Sx&&e instanceof Sx&&t._firestore===e._firestore&&MT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ox(t){if(Rg(t)&&0===t.explicitOrderBy.length)throw new cv(uv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nx=function(){};function Px(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Rx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Ql.__extends)(e,t),e.prototype._apply=function(t){var e=ex(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new cv(uv.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){jx(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(qx(r,t,l[c]));s={arrayValue:{values:u}}}else s=qx(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||jx(a,o),s=hx(n,"where",a,"in"===o||"not-in"===o);var h=pg.create(i,o,s);return function(t,e){if(e.g()){var n=Lg(t);if(null!==n&&!n.isEqual(e.field))throw new cv(uv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Dg(t);null!==r&&Vx(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new cv(uv.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new NT(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Ag(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Nx),Dx=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Ql.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new cv(uv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new cv(uv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cg(e,n);return function(t,e){if(null===Dg(t)){var n=Lg(t);null!==n&&Vx(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new NT(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ag(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Nx),Lx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Ql.__extends)(e,t),e.prototype._apply=function(t){return new NT(t.firestore,t.converter,qg(t._query,this.Hc,this.Jc))},e}(Nx),Mx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ql.__extends)(e,t),e.prototype._apply=function(t){var e=Ux(t,this.type,this.Yc,this.Xc);return new NT(t.firestore,t.converter,function(t,e){return new Ag(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Nx),Fx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ql.__extends)(e,t),e.prototype._apply=function(t){var e=Ux(t,this.type,this.Yc,this.Xc);return new NT(t.firestore,t.converter,function(t,e){return new Ag(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Nx);function Ux(t,e,n,r){if(n[0]=(0,Jl.getModularInstance)(n[0]),n[0]instanceof bx)return function(t,e,n,r,i){if(!r)throw new cv(uv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Fg(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push($v(e,r.key));else{var c=r.data.field(u.field);if(qv(c))throw new cv(uv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new cv(uv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Tg(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=ex(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new cv(uv.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new cv(uv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Mg(t)&&-1!==c.indexOf("/"))throw new cv(uv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ov.fromString(c));if(!zv.isDocumentKey(l))throw new cv(uv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new zv(l);s.push($v(e,h))}else{var f=hx(n,r,c);s.push(f)}}return new Tg(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function qx(t,e,n){if("string"==typeof(n=(0,Jl.getModularInstance)(n))){if(""===n)throw new cv(uv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mg(e)&&-1!==n.indexOf("/"))throw new cv(uv.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ov.fromString(n));if(!zv.isDocumentKey(r))throw new cv(uv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $v(t,new zv(r))}if(n instanceof OT)return $v(t,n._key);throw new cv(uv.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+CT(n)+".")}function jx(t,e){if(!Array.isArray(t)||0===t.length)throw new cv(uv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new cv(uv.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vx(t,e,n){if(!n.isEqual(e))throw new cv(uv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Bx=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Gv(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fv(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Uv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw gv()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Sv(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new KT(Fv(t.latitude),Fv(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=jv(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Vv(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Mv(t);return new xv(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ov.fromString(t);yv(Nm(n));var r=new fT(n.get(1),n.get(3)),i=new zv(n.popFirst(5));return r.isEqual(e)||dv("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Zx(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Hx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ql.__extends)(e,t),e.prototype.convertBytes=function(t){return new GT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new OT(this.firestore,null,e)},e}(Bx),zx=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ex(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Gx(t,this._firestore),i=Zx(r.converter,e,n),o=nx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,cy.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Gx(t,this._firestore);return o="string"==typeof(e=(0,Jl.getModularInstance)(e))||e instanceof zT?lx(this._dataReader,"WriteBatch.update",a._key,e,n,r):cx(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,cy.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Gx(t,this._firestore);return this._mutations=this._mutations.concat(new xy(e._key,cy.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new cv(uv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Gx(t,e){if((t=(0,Jl.getModularInstance)(t)).firestore!==e)throw new cv(uv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Wx=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ql.__extends)(e,t),e.prototype.convertBytes=function(t){return new GT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new OT(this.firestore,null,e)},e}(Bx);function Kx(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ET(t,OT);var o=ET(t.firestore,jT),a=ex(o);return Qx(o,[("string"==typeof(e=(0,Jl.getModularInstance)(e))||e instanceof zT?lx(a,"updateDoc",t._key,e,n,r):cx(a,"updateDoc",t._key,e)).toMutation(t._key,cy.exists(!0))])}function Yx(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Jl.getModularInstance)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||UT(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(UT(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof OT)c=ET(t.firestore,jT),l=Ng(t._key.path),u={next:function(e){i[s]&&i[s](Jx(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=ET(t,NT);c=ET(d.firestore,jT),l=d._query;var p=new Wx(c);u={next:function(t){i[s]&&i[s](new Sx(c,p,d,t))},error:i[s+1],complete:i[s+2]},Ox(t._query)}return function(t,e,n,r){var i=this,o=new Yk(r),a=new ek(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(i,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e=Qb,[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(i,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e=Jb,[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(VT(c),l,h,u)}function Qx(t,e){return function(t,e){var n=this,r=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return n=vk,[4,sT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(VT(t),e)}function Jx(t,e,n){var r=n.docs.get(e._key),i=new Wx(t);return new Cx(t,i,e._key,r,new xx(n.hasPendingWrites,n.fromCache),e.converter)}var Xx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Ql.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Gx(e,this._firestore),i=new Wx(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Cx(n._firestore,i,r._key,t._document,new xx(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=ex(t)}return t.prototype.get=function(t){var e=this,n=Gx(t,this._firestore),r=new Hx(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return gv();var i=t[0];if(i.isFoundDocument())return new bx(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new bx(e._firestore,r,n._key,null,n.converter);throw gv()})},t.prototype.set=function(t,e,n){var r=Gx(t,this._firestore),i=Zx(r.converter,e,n),o=nx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Gx(t,this._firestore);return o="string"==typeof(e=(0,Jl.getModularInstance)(e))||e instanceof zT?lx(this._dataReader,"Transaction.update",a._key,e,n,r):cx(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Gx(t,this._firestore);return this._transaction.delete(e._key),this},t}());function $x(){if("undefined"==typeof Uint8Array)throw new cv(uv.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tC(){if("undefined"==typeof atob)throw new cv(uv.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var eC=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return tC(),new t(GT.fromBase64String(e))},t.fromUint8Array=function(e){return $x(),new t(GT.fromUint8Array(e))},t.prototype.toBase64=function(){return tC(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return $x(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),nC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){HT(t=ET(t,jT));var n=VT(t),r=t._freezeSettings(),i=new Wk;return ZT(n,i,new zk(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){HT(t=ET(t,jT));var e=VT(t),n=t._freezeSettings(),r=new Wk;return ZT(e,r,new Gk(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new cv(uv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new e_;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return i_.yt()?[4,i_.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(vw(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),rC=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof fT||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||pv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=ET(t,AT))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&pv("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Jl.createMockUserToken)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new cv(uv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new gT(new pT(o,new Gw(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,iT(t)];case 1:return e=r.sent(),[4,aT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=mv(t);return e.Or.delete(0),mb(e)}(n))]}})})})}(VT(ET(this._delegate,jT)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,iT(t)];case 1:return e=r.sent(),[4,aT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return(e=mv(t)).Or.add(0),[4,_b(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(VT(ET(this._delegate,jT)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&kT("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(e,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return e=bk,[4,sT(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(VT(ET(this._delegate,jT)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Yk(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){mv(t).Gr.add(e),e.next()},[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){mv(t).Gr.delete(e)},[4,uT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(VT(t=ET(t,jT)),UT(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new cv(uv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new yC(this,RT(this._delegate,t))}catch(t){throw cC(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new uC(this,DT(this._delegate,t))}catch(t){throw cC(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new pC(this,function(t,e){if(t=ET(t,AT),wT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new cv(uv.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new NT(t,null,function(t){return new Ag(Ov.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw cC(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t){return rT(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Xk(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(VT(t),function(n){return e(new Xx(t,n))})}(this._delegate,function(n){return t(new oC(e,n))})},t.prototype.batch=function(){var t=this;return VT(this._delegate),new aC(new zx(this._delegate,function(e){return Qx(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new cv(uv.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new cv(uv.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),iC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ql.__extends)(e,t),e.prototype.convertBytes=function(t){return new eC(new GT(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return uC.eu(e,this.firestore,null)},e}(Bx),oC=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new iC(t)}return t.prototype.get=function(t){var e=this,n=mC(t);return this._delegate.get(n).then(function(t){return new fC(e._firestore,new Cx(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=mC(t);return n?(bT("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=mC(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,Ql.__spreadArray)([a,e,n],i)),this},t.prototype.delete=function(t){var e=mC(t);return this._delegate.delete(e),this},t}(),aC=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=mC(t);return n?(bT("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=mC(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,Ql.__spreadArray)([a,e,n],i)),this},t.prototype.delete=function(t){var e=mC(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),sC=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ex(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new dC(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new iC(e),n),i.set(n,o)),o},t}();sC.su=new WeakMap;var uC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iC(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new cv(uv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new OT(n._delegate,r,new zv(e)))},t.eu=function(e,n,r){return new t(n,new OT(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yC(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new yC(this.firestore,RT(this._delegate,t))}catch(t){throw cC(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Jl.getModularInstance)(t))instanceof OT&&LT(this._delegate,t)},t.prototype.set=function(t,e){e=bT("DocumentReference.set",e);try{return function(t,e,n){t=ET(t,OT);var r=ET(t.firestore,jT),i=Zx(t.converter,e,n);return Qx(r,[nx(ex(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,cy.none())])}(this._delegate,t,e)}catch(t){throw cC(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Kx(this._delegate,t):Kx.apply(void 0,(0,Ql.__spreadArray)([this._delegate,t,e],n))}catch(t){throw cC(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Qx(ET((t=this._delegate).firestore,jT),[new xy(t._key,cy.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lC(e),i=hC(e,function(e){return new fC(t.firestore,new Cx(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Yx(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ET(t,OT);var e=ET(t.firestore,jT),n=VT(e),r=new Wx(e);return function(t,e){var n=this,r=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=mv(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new cv(uv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Hb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,oT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Cx(e,r,t._key,n,new xx(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ET(t,OT);var e=ET(t.firestore,jT);return cT(VT(e),t._key,{source:"server"}).then(function(n){return Jx(e,t,n)})}(this._delegate):function(t){t=ET(t,OT);var e=ET(t.firestore,jT);return cT(VT(e),t._key).then(function(n){return Jx(e,t,n)})}(this._delegate)).then(function(t){return new fC(e.firestore,new Cx(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sC.nu(this.firestore,e):null))},t}();function cC(t,e,n){return t.message=t.message.replace(e,n),t}function lC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!UT(r))return r}return{}}function hC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=UT(t[0])?t[0]:UT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new uC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ax(this._delegate,t._delegate)},t}(),dC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ql.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(fC),pC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new iC(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Px(this._delegate,function(t,e,n){var r=e,i=Tx("where",t);return new Rx(i,r,n)}(e,n,r)))}catch(e){throw cC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Px(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Tx("orderBy",t);return new Dx(r,n)}(e,n)))}catch(e){throw cC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Px(this._delegate,function(t){return ST("limit",t),new Lx("limit",t,"F")}(e)))}catch(e){throw cC(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Px(this._delegate,function(t){return ST("limitToLast",t),new Lx("limitToLast",t,"L")}(e)))}catch(e){throw cC(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Px(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mx("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw cC(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Px(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mx("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw cC(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Px(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fx("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw cC(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Px(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fx("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw cC(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return MT(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ET(t,NT);var e=ET(t.firestore,jT),n=VT(e),r=new Wx(e);return function(t,e){var n=this,r=new e_;return t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ow(t,e,!0)];case 1:return s=u.sent(),r=new uk(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Hb(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,oT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Sx(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ET(t,NT);var e=ET(t.firestore,jT),n=VT(e),r=new Wx(e);return lT(n,t._query,{source:"server"}).then(function(n){return new Sx(e,r,t,n)})}(this._delegate):function(t){t=ET(t,NT);var e=ET(t.firestore,jT),n=VT(e),r=new Wx(e);return Ox(t._query),lT(n,t._query).then(function(n){return new Sx(e,r,t,n)})}(this._delegate)).then(function(t){return new gC(e.firestore,new Sx(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=lC(e),i=hC(e,function(e){return new gC(t.firestore,new Sx(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Yx(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?sC.nu(this.firestore,e):null))},t}(),vC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new dC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),gC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new pC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new dC(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new vC(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new dC(n._firestore,r))})},t.prototype.isEqual=function(t){return Ax(this._delegate,t._delegate)},t}(),yC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Ql.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new uC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new uC(this.firestore,void 0===t?DT(this._delegate):DT(this._delegate,t))}catch(t){throw cC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ET(t.firestore,jT),r=DT(t),i=Zx(t.converter,e);return Qx(n,[nx(ex(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,cy.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new uC(e.firestore,t)})},e.prototype.isEqual=function(t){return LT(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?sC.nu(this.firestore,t):null))},e}(pC);function mC(t){return ET(t,OT)}var _C,wC,bC=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(zT.bind.apply(zT,(0,Ql.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(Pv.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Jl.getModularInstance)(t))instanceof zT&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),kC=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new ox("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new rx("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ax("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new sx("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new ux("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),TC=a(5119),xC={Firestore:rC,GeoPoint:KT,Timestamp:xv,Blob:eC,Transaction:oC,WriteBatch:aC,DocumentReference:uC,DocumentSnapshot:fC,Query:pC,QueryDocumentSnapshot:dC,QuerySnapshot:gC,CollectionReference:yC,FieldPath:bC,FieldValue:kC,setLogLevel:function(t){lv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new TC.Component("firestore",function(t){return function(t,e){return new rC(t,new jT(t,e),new nC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xC)))})(_C=Yl.default),_C.registerVersion("@firebase/firestore","2.3.10"),(wC=rC).prototype.loadBundle=function(t){return function(t,e){var n=VT(t=ET(t,jT)),r=new qT;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Qk(t,e)}(function(t,e){if(t instanceof Uint8Array)return Kk(t,e);if(t instanceof ArrayBuffer)return Kk(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,lb(e));t.asyncQueue.enqueueAndForget(function(){return(0,Ql.__awaiter)(i,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return e=Zk,[4,sT(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)},wC.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=mv(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,oT(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(VT(e=ET(e,jT)),n).then(function(t){return t?new NT(e,null,t.query):null})).then(function(t){return t?new pC(r,t):null})};var CC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},EC=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,Ql.__extends)(e,t),e}(Error),SC=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function IC(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var AC,OC,NC,PC=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return IC(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?IC(t,function(t){return e.decode(t)}):t},t}(),RC=function(){function t(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new PC,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new SC(e,n),this.cancelAllRequests=new Promise(function(t){a.deleteService=function(){return t()}});try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(_C){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h,f;return(0,Ql.__generator)(this,function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new EC("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),u=s.timer,c=s.promise,[4,Promise.race([DC(u,this.postJSON(r,i,o)),c,DC(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new EC("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!CC[s])return new EC("internal","internal");r=CC[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(_C){}return"ok"===r?null:new EC(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new EC("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new EC("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},t}();function DC(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}AC=Yl.default,OC=fetch.bind(self),NC={Functions:RC},AC.INTERNAL.registerComponent(new TC.Component("functions",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),a=t.getProvider("messaging");return new RC(r,i,a,o,n,OC)},"PUBLIC").setServiceProps(NC).setMultipleInstances(!0)),Yl.default.registerVersion("@firebase/functions","0.6.14");var LC,MC=a(2087),FC=((LC={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',LC["not-registered"]="Firebase Installation is not registered.",LC["installation-not-found"]="Firebase Installation not found.",LC["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',LC["app-offline"]="Could not process request. Application offline.",LC["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",LC),UC=new Jl.ErrorFactory("installations","Installations",FC);function qC(t){return t instanceof Jl.FirebaseError&&t.code.includes("request-failed")}function jC(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function VC(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function BC(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,UC.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function ZC(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function HC(t,e){var n=e.refreshToken,r=ZC(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function zC(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function GC(t,e){var n=e.fid;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return e=jC(t),r=ZC(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.31"})},[4,zC(function(){return fetch(e,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:VC(a.authToken)}];case 3:return[4,BC("Create Installation",o)];case 4:throw s.sent()}})})}function WC(t){return new Promise(function(e){setTimeout(e,t)})}var KC=/^[cdef][\w-]{21}$/;function YC(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,(0,Ql.__spreadArray)([],(0,Ql.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return KC.test(e)?e:""}catch(rx){return""}}function QC(t){return t.appName+"!"+t.appId}var JC=new Map;function XC(t,e){var n=QC(t);$C(n,e),function(t,e){var n=eE();n&&n.postMessage({key:t,fid:e}),nE()}(n,e)}function $C(t,e){var n,r,i=JC.get(t);if(i)try{for(var o=(0,Ql.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var tE=null;function eE(){return!tE&&"BroadcastChannel"in self&&((tE=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){$C(t.data.key,t.data.fid)}),tE}function nE(){0===JC.size&&tE&&(tE.close(),tE=null)}var rE,iE="firebase-installations-store",oE=null;function aE(){return oE||(oE=(0,MC.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(iE)}})),oE}function sE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return n=QC(t),[4,aE()];case 1:return r=s.sent(),i=r.transaction(iE,"readwrite"),[4,(o=i.objectStore(iE)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||XC(t,e.fid),[2,e]}})})}function uE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return e=QC(t),[4,aE()];case 1:return n=i.sent(),[4,(r=n.transaction(iE,"readwrite")).objectStore(iE).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function cE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return n=QC(t),[4,aE()];case 1:return r=u.sent(),i=r.transaction(iE,"readwrite"),[4,(o=i.objectStore(iE)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||XC(t,s.fid),[2,s]}})})}function lE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,cE(t,function(n){var r=function(t){return dE(t||{fid:YC(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(UC.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,GC(t,e)];case 1:return n=i.sent(),[2,sE(t,n)];case 2:return qC(r=i.sent())&&409===r.customData.serverCode?[4,uE(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,sE(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:hE(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function hE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return[4,fE(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,WC(100)];case 3:return o.sent(),[4,fE(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,lE(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function fE(t){return cE(t,function(t){if(!t)throw UC.create("installation-not-found");return dE(t)})}function dE(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function pE(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return jC(t)+"/"+n+"/authTokens:generate"}(n,e),i=HC(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.31"}})},[4,zC(function(){return fetch(t,a)})];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,VC(u.sent())];case 3:return[4,BC("Generate Auth Token",s)];case 4:throw u.sent()}})})}function vE(t,e){return void 0===e&&(e=!1),(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return[4,cE(t.appConfig,function(r){if(!yE(r))throw UC.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,gE(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,WC(100)];case 3:return i.sent(),[4,gE(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,vE(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw UC.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,Ql.__assign)((0,Ql.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,pE(t,e)];case 1:return n=o.sent(),i=(0,Ql.__assign)((0,Ql.__assign)({},e),{authToken:n}),[4,sE(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!qC(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,uE(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Ql.__assign)((0,Ql.__assign)({},e),{authToken:{requestStatus:0}}),[4,sE(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function gE(t){return cE(t,function(t){if(!yE(t))throw UC.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?(0,Ql.__assign)((0,Ql.__assign)({},t),{authToken:{requestStatus:0}}):t})}function yE(t){return void 0!==t&&2===t.registrationStatus}function mE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,lE(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function _E(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return jC(t)+"/"+n}(t,e),r=HC(t,e),i={method:"DELETE",headers:r},[4,zC(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,BC("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function wE(t){return UC.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new TC.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw wE("App Configuration");if(!t.name)throw wE("App Name");try{for(var r=(0,Ql.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw wE(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,lE(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):vE(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,mE(t.appConfig)];case 1:return n.sent(),[4,vE(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,cE(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw UC.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw UC.create("app-offline");case 3:return[4,_E(e,n)];case 4:return r.sent(),[4,uE(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){eE();var n=QC(t),r=JC.get(n);r||(r=new Set,JC.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=QC(t),r=JC.get(n);r&&(r.delete(e),0===r.size&&JC.delete(n),nE())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.31")}(Yl.default);var bE=((rE={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rE["only-available-in-window"]="This method is available in a Window context.",rE["only-available-in-sw"]="This method is available in a service worker context.",rE["permission-default"]="The notification permission was not granted and dismissed instead.",rE["permission-blocked"]="The notification permission was not granted and blocked instead.",rE["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",rE["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",rE["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",rE["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",rE["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",rE["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",rE["token-update-no-token"]="FCM returned no token when updating the user to push.",rE["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",rE["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",rE["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",rE["invalid-vapid-key"]="The public VAPID key must be a string.",rE["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",rE),kE=new Jl.ErrorFactory("messaging","Messaging",bE),TE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xE=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function CE(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,Ql.__spreadArray)([],(0,Ql.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function EE(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function SE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,(0,MC.openDb)("fcm_token_details_db",5,function(r){return(0,Ql.__awaiter)(n,void 0,void 0,function(){var n,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:CE(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:CE(o.auth),p256dh:CE(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:CE(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,(0,MC.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,(0,MC.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,MC.deleteDb)("undefined")];case 6:return r.sent(),[2,IE(e)?e:null]}})})}function IE(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var AE=null;function OE(){return AE||(AE=(0,MC.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}})),AE}function NE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return e=DE(t),[4,OE()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,SE(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,PE(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function PE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return n=DE(t),[4,OE()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function RE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return e=DE(t),[4,OE()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function DE(t){return t.appConfig.appId}function LE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return[4,qE(t)];case 1:n=s.sent(),r=jE(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(UE(t.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),kE.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw kE.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw kE.create("token-subscribe-no-token");return[2,o.token]}})})}function ME(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return[4,qE(t)];case 1:n=s.sent(),r=jE(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(UE(t.appConfig)+"/"+e.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),kE.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw kE.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw kE.create("token-update-no-token");return[2,o.token]}})})}function FE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return[4,qE(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(UE(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw kE.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),kE.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function UE(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function qE(t){var e=t.appConfig,n=t.installations;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function jE(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==TE&&(n.web.applicationPubKey=e),n}function VE(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw kE.create("permission-blocked");return[4,zE(e,n)];case 1:return r=s.sent(),[4,NE(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:CE(r.getKey("auth")),p256dh:CE(r.getKey("p256dh"))},i?[3,3]:[2,HE(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,FE(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,HE(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,ZE({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l})})}function BE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,NE(t)];case 1:return(n=i.sent())?[4,FE(t,n.token)]:[3,4];case 2:return i.sent(),[4,RE(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function ZE(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,ME(e,t)];case 1:return r=a.sent(),i=(0,Ql.__assign)((0,Ql.__assign)({},t),{token:r,createTime:Date.now()}),[4,PE(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,BE(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function HE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,LE(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,PE(t,r)];case 2:return i.sent(),[2,r.token]}})})}function zE(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:EE(e)})]}})})}function GE(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function WE(t){return new Promise(function(e){setTimeout(e,t)})}var KE=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw kE.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,NE(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:TE,r.label=2;case 2:return[2,VE(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return BE(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw kE.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kE.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kE.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw kE.create("only-available-in-window")},t.prototype.onMessage=function(){throw kE.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw kE.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,XE()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,JE(n,e)]:(r=!1,e.notification?[4,$E(YE(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,WE(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,BE(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,NE(this.firebaseDependencies)];case 3:return r=i.sent(),[4,BE(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,VE(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:TE)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(GE(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,QE(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,WE(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=xE.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},t}();function YE(t){var e,n=(0,Ql.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function QE(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return[4,XE()];case 1:e=u.sent();try{for(n=(0,Ql.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function JE(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=xE.PUSH_RECEIVED;try{for(var i=(0,Ql.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function XE(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $E(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var tS=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===xE.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),GE(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw kE.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,VE(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=TE),[2]})})},t.prototype.updateSwReg=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw kE.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),kE.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,BE(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw kE.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw kE.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw kE.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw kE.create("invalid-sw-registration");if(this.swRegistration)throw kE.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw kE.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw kE.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case xE.NOTIFICATION_CLICKED:return"notification_open";case xE.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function eS(t){return kE.create("missing-app-config-values",{valueName:t})}var nS={isSupported:rS};function rS(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Yl.default.INTERNAL.registerComponent(new TC.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw eS("App Configuration Object");if(!t.name)throw eS("App Name");var r=t.options;try{for(var i=(0,Ql.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw eS(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!rS())throw kE.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new KE(n):new tS(n)},"PUBLIC").setServiceProps(nS));var iS=function(t){function e(n,r){var i=t.call(this,oS(n),"Firebase Storage: "+r+" ("+oS(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,Ql.__extends)(e,t),e.prototype._codeEquals=function(t){return oS(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Jl.FirebaseError);function oS(t){return"storage/"+t}function aS(){return new iS("unknown","An unknown error occurred, please check the error payload for server response.")}function sS(){return new iS("canceled","User canceled the upload/download.")}function uS(){return new iS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cS(t){return new iS("invalid-argument",t)}function lS(){return new iS("app-deleted","The Firebase app was deleted.")}function hS(t){return new iS("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fS(t,e){return new iS("invalid-format","String does not match format '"+t+"': "+e)}function dS(t){throw new iS("internal-error","Internal error: "+t)}var pS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vS=function(t,e){this.data=t,this.contentType=e||null};function gS(t,e){switch(t){case pS.RAW:return new vS(yS(e));case pS.BASE64:case pS.BASE64URL:return new vS(mS(t,e));case pS.DATA_URL:return new vS((n=new _S(e)).base64?mS(pS.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(_C){throw fS(pS.DATA_URL,"Malformed data URL.")}return yS(e)}(n.rest),new _S(e).contentType)}var n;throw aS()}function yS(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mS(t,e){switch(t){case pS.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw fS(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case pS.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw fS(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(_C){throw fS(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var _S=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw fS(pS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},wS={STATE_CHANGED:"state_changed"},bS={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kS(t){switch(t){case"running":case"pausing":case"canceling":return bS.RUNNING;case"paused":return bS.PAUSED;case"success":return bS.SUCCESS;case"canceled":return bS.CANCELED;case"error":default:return bS.ERROR}}var TS=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),xS=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=TS.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=TS.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=TS.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw dS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw dS("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw dS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(_C){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw dS("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),CS=function(){function t(){}return t.prototype.createConnection=function(){return new xS},t}(),ES=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(_C){return new t(e,"")}if(""===r.path)return r;throw new iS("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new iS("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),SS=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function IS(t){return"string"==typeof t||t instanceof String}function AS(t){return OS()&&t instanceof Blob}function OS(){return"undefined"!=typeof Blob}function NS(t,e,n,r){if(r<e)throw cS("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw cS("Invalid value for '"+t+"'. Expected "+n+" or less.")}function PS(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function RS(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var DS=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());!function(t){return void 0!==t}(s)?i():i(s)}catch(_C){o(_C)}else null!==a?((r=aS()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?lS():sS():new iS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new LS(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new LS(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===TS.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new LS(a,r))}else{var s=r.getErrorCode()===TS.ABORT;e(!1,new LS(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,Ql.__spreadArray)([null,t],e));else{var r;u()||a?l.call.apply(l,(0,Ql.__spreadArray)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout(function(){a=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),LS=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function MS(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function FS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=MS();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(OS())return new Blob(t);throw new iS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var US=function(){function t(t,e){var n=0,r="";AS(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(AS(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(OS()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(FS.apply(null,r))}var i=e.map(function(t){return IS(t)?gS(pS.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function qS(t){var e;try{e=JSON.parse(t)}catch(_C){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function jS(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function VS(t,e){return e}var BS=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||VS},ZS=null;function HS(){if(ZS)return ZS;var t=[];t.push(new BS("bucket")),t.push(new BS("generation")),t.push(new BS("metageneration")),t.push(new BS("name","fullPath",!0));var e=new BS("name");e.xform=function(t,e){return function(t){return!IS(t)||t.length<2?t:jS(t)}(e)},t.push(e);var n=new BS("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new BS("timeCreated")),t.push(new BS("updated")),t.push(new BS("md5Hash",null,!0)),t.push(new BS("cacheControl",null,!0)),t.push(new BS("contentDisposition",null,!0)),t.push(new BS("contentEncoding",null,!0)),t.push(new BS("contentLanguage",null,!0)),t.push(new BS("contentType",null,!0)),t.push(new BS("metadata","customMetadata",!0)),ZS=t}function zS(t,e,n){var r=qS(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new ES(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function GS(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var WS=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function KS(t){if(!t)throw aS()}function YS(t,e){return function(n,r){var i=zS(t,r,e);return KS(null!==i),i}}function QS(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new iS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new iS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new iS("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new iS("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function JS(t){var e=QS(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new iS("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function XS(t,e,n){var r=PS(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new WS(r,"GET",YS(t,n),i);return o.errorHandler=JS(e),o}function $S(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var tI=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function eI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(_C){KS(!1)}return KS(!!n&&-1!==(e||["active"]).indexOf(n)),n}var nI=function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function rI(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var iI=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=HS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=$S(e,r,i),s={name:a.fullPath},u=PS(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=GS(a,n),h=new WS(u,"POST",function(t){var e;eI(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(_C){KS(!1)}return KS(IS(e)),e},t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=QS(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new WS(n,"POST",function(t){var e=eI(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(_C){KS(!1)}n||KS(!1);var i=Number(n);return KS(!isNaN(i)),new tI(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=QS(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new tI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var a;try{a=function(t,e,n,r,i,o,a,s){var u=new tI(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new iS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw uS();var p=new WS(n,"POST",function(t,n){var i,a=eI(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?YS(e,o)(t,n):null,new tI(s,c,"final"===a,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=QS(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(_C){return t._error=_C,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=XS(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=$S(e,r,i),c=GS(u,n),l=US.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw uS();var h={name:u.fullPath},f=PS(o,t.host),d=t.maxUploadRetryTime,p=new WS(f,"POST",YS(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=QS(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=sS(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=kS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new nI(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(kS(this._state)){case bS.SUCCESS:rI(this._resolve.bind(null,this.snapshot))();break;case bS.CANCELED:case bS.ERROR:rI(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(kS(this._state)){case bS.RUNNING:case bS.PAUSED:t.next&&rI(t.next.bind(t,this.snapshot))();break;case bS.SUCCESS:t.complete&&rI(t.complete.bind(t))();break;case bS.CANCELED:case bS.ERROR:t.error&&rI(t.error.bind(t,this._error))();break;default:t.error&&rI(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),oI=function(){function t(t,e){this._service=t,this._location=e instanceof ES?e:ES.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new ES(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return jS(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ES(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw hS(t)},t}();function aI(t){var e={prefixes:[],items:[]};return sI(t,e).then(function(){return e})}function sI(t,e,n){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return[4,uI(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,sI(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function uI(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&NS("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=PS(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new WS(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=qS(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new ES(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t._makeStorageReference(new ES(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return KS(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=QS(e),u}(t.storage,t._location,0,(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function cI(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ES(t._location.bucket,n);return new oI(t.storage,r)}function lI(t){return/^[A-Za-z]+:\/\//.test(t)}function hI(t,e){if(t instanceof pI){var n=t;if(null==n._bucket)throw new iS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new oI(n,n._bucket);return null!=e?hI(r,e):r}if(void 0!==e){if(e.includes(".."))throw cS('`path` param cannot contain ".."');return cI(t,e)}return t}function fI(t,e){if(e&&lI(e)){if(t instanceof pI)return new oI(t,e);throw cS("To use ref(service, url), the first argument must be a Storage instance.")}return hI(t,e)}function dI(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:ES.makeFromBucketSpec(n,t)}var pI=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ES.makeFromBucketSpec(i,this._host):dI(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?ES.makeFromBucketSpec(this._url,t):dI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){NS("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){NS("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new oI(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new SS(lS());var i=function(t,e,n,r,i,o){var a=RS(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new DS(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function vI(t,e){return fI(t=(0,Jl.getModularInstance)(t),e)}var gI=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),yI=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new gI(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new gI(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new gI(t,i,i._ref))}:{next:e.next?function(t){return e.next(new gI(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),mI=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new _I(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new _I(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),_I=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return cI(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new yI(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new iI(t,new US(e),n)}(t=(0,Jl.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=pS.RAW),this._throwIfRoot("putString");var r=gS(e,t),i=(0,Ql.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new yI(new iI(this._delegate,new US(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return aI(t=(0,Jl.getModularInstance)(t))}(this._delegate).then(function(e){return new mI(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return uI(t=(0,Jl.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new mI(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=XS(t.storage,t._location,HS()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Jl.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=PS(e.fullServerUrl(),t.host),o=GS(n,r),a=t.maxOperationRetryTime,s=new WS(i,"PATCH",YS(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=JS(e),s}(t.storage,t._location,e,HS()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,Jl.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=PS(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new WS(r,"GET",function(t,e){return function(n,r){var i=zS(t,r,e);return KS(null!==i),function(t,e,n){var r=qS(e);if(null===r)return null;if(!IS(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return PS("/b/"+o(t.bucket)+"/o/"+o(r),n)+RS({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=JS(e),o}(t.storage,t._location,HS()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new iS("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,Jl.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=PS(e.fullServerUrl(),t.host),r=new WS(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=JS(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Jl.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw hS(t)},t}(),wI=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(lI(t))throw cS("ref() expected a child path but got a URL, use refFromURL instead.");return new _I(vI(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!lI(t))throw cS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ES.makeFromUrl(t,this._delegate.host)}catch(_C){throw cS("refFromUrl() expected a valid full URL but got an invalid one.")}return new _I(vI(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){!function(t,e,n){t.host="http://"+e+":"+n}(t,e,n)}(this._delegate,t,e)},t}();function bI(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new wI(r,new pI(r,i,o,new CS,n,Yl.default.SDK_VERSION))}!function(t){var e={TaskState:bS,TaskEvent:wS,StringFormat:pS,Storage:pI,Reference:_I};t.INTERNAL.registerComponent(new TC.Component("storage",bI,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.6.1")}(Yl.default);var kI,TI,xI,CI=((kI={})["trace started"]="Trace {$traceName} was started before.",kI["trace stopped"]="Trace {$traceName} is not running.",kI["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",kI["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",kI["no window"]="Window is not available.",kI["no app id"]="App id is not available.",kI["no project id"]="Project id is not available.",kI["no api key"]="Api key is not available.",kI["invalid cc log"]="Attempted to queue invalid cc event",kI["FB not default"]="Performance can only start when Firebase app instance is the default one.",kI["RC response not ok"]="RC response is not ok",kI["invalid attribute name"]="Attribute name {$attributeName} is invalid.",kI["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",kI["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",kI["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",kI),EI=new Jl.ErrorFactory("performance","Performance",CI),SI=new Xl.Logger("Performance");SI.logLevel=Xl.LogLevel.INFO;var II,AI=function(){function t(t){if(this.window=t,!t)throw EI.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Jl.isIndexedDBAvailable)()||(SI.info("IndexedDB is not supported by current browswer"),!1):(SI.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===TI&&(TI=new t(xI)),TI},t}();function OI(t,e){var n=t.length-e.length;if(n<0||n>1)throw EI.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var NI,PI=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=OI("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=OI("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw EI.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw EI.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw EI.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===II&&(II=new t),II},t}();function RI(){return NI}var DI=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),LI=["firebase_","google_","ga_"],MI=new RegExp("^[a-zA-Z]\\w*$");function FI(){var t=AI.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function UI(){switch(AI.getInstance().document.visibilityState){case"visible":return DI.VISIBLE;case"hidden":return DI.HIDDEN;default:return DI.UNKNOWN}}function qI(){var t=AI.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function jI(t){if(!t)return t;var e=PI.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=VI(e.tracesSamplingRate),e.logNetworkAfterSampling=VI(e.networkRequestsSamplingRate),t}function VI(t){return Math.random()<=t}var BI,ZI=1;function HI(){return ZI=2,BI=BI||function(){var t=AI.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){t.addEventListener("readystatechange",function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})}else e()})}().then(function(){return(t=PI.getInstance().installationsService.getId()).then(function(t){NI=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=AI.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(rx){return}}}}();return e?(jI(e),Promise.resolve()):function(t){return(e=PI.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+PI.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+PI.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:PI.getInstance().getAppId(),app_version:"0.4.17",sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw EI.create("RC response not ok")})}).catch(function(){SI.info("Could not fetch config, will use default configs")});var e}(t).then(jI).then(function(t){return function(t){var e=AI.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*PI.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return zI()},function(){return zI()})}function zI(){ZI=3}var GI,WI=3,KI=[],YI=!1;function QI(t){setTimeout(function(){var t,e;if(0!==WI)return KI.length?(e=(t=KI.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=PI.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||SI.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(KI=(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],e),KI),SI.info("Retry transport request later.")),WI=3,QI(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:PI.getInstance().logSource,log_event:e},t).catch(function(){KI=(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],t),KI),WI--,SI.info("Tries left: "+WI+"."),QI(1e4)})):QI(1e4)},t)}function JI(t){if(!t.eventTime||!t.message)throw EI.create("invalid cc log");KI=(0,Ql.__spreadArray)((0,Ql.__spreadArray)([],KI),[t])}function XI(t,e){GI||(GI=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];JI({message:t.apply(void 0,e),eventTime:Date.now()})}}(eA)),GI(t,e)}function $I(t){var e=PI.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&AI.getInstance().requiredApisAvailable()&&(t.isAuto&&UI()!==DI.VISIBLE||(3===ZI?tA(t):HI().then(function(){return tA(t)},function(){return tA(t)})))}function tA(t){if(RI()){var e=PI.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return XI(t,1)},0)}}function eA(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:nA(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:nA(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function nA(){return{google_app_id:PI.getInstance().getAppId(),app_instance_id:RI(),web_app_info:{sdk_version:"0.4.17",page_url:AI.getInstance().getUrl(),service_worker_status:FI(),visibility_state:UI(),effective_connection_type:qI()},application_process_state:0}}var rA=["_fp","_fcp","_fid"],iA=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=AI.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw EI.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw EI.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$I(this)},t.prototype.record=function(t,e,n){if(t<=0)throw EI.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw EI.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,Ql.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}$I(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith("_wt_")&&rA.indexOf(i)>-1)&&i.startsWith("_"))throw EI.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&SI.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||LI.some(function(t){return n.startsWith(t)})||!n.match(MI)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw EI.create("invalid attribute name",{attributeName:t});if(!i)throw EI.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,Ql.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=AI.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),a=Math.floor(1e3*AI.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}$I(o)}},t.createUserTimingTrace=function(e){$I(new t(e,!1,e))},t}();function oA(t){var e=t;if(e&&void 0!==e.responseStart){var n=AI.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=PI.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return XI(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function aA(){RI()&&(setTimeout(function(){return function(){var t=AI.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){iA.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),iA.createOobTrace(e,n,t))})}else iA.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=AI.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)oA(n[e]);t.setupObserver("resource",oA)}()},0),setTimeout(function(){return function(){for(var t=AI.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)sA(n[e]);t.setupObserver("measure",sA)}()},0))}function sA(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&iA.createUserTimingTrace(e)}var uA=function(){function t(t){this.app=t,AI.getInstance().requiredApisAvailable()&&(0,Jl.validateIndexedDBOpenable)().then(function(t){t&&(YI||(QI(5500),YI=!0),HI().then(aA,aA))}).catch(function(t){SI.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new iA(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return PI.getInstance().instrumentationEnabled},set:function(t){PI.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return PI.getInstance().dataCollectionEnabled},set:function(t){PI.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new TC.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw EI.create("FB not default");if("undefined"==typeof window)throw EI.create("no window");return function(t){xI=t}(window),PI.getInstance().firebaseAppInstance=t,PI.getInstance().installationsService=e,new uA(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.17")}(Yl.default);var cA,lA="https://www.googletagmanager.com/gtag/js",hA=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),fA=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),dA=new Xl.Logger("@firebase/analytics");function pA(t,e,n,r,i,o){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var a,s,u,c;return(0,Ql.__generator)(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),dA.error(c),[3,8];case 8:return t(hA.CONFIG,i,o),[2]}})})}function vA(t,e,n,r,i){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,h;return(0,Ql.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(hA.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),dA.error(h),[3,5];case 5:return[2]}})})}var gA=((cA={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",cA["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",cA["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",cA["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",cA["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",cA["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",cA["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",cA["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',cA["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',cA),yA=new Jl.ErrorFactory("analytics","Analytics",gA),mA=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function _A(t){var e;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return s=u.sent(),(null===(e=s.error)||void 0===e?void 0:e.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw yA.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var c})})}function wA(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=mA),(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,a,s,u,c,l,h;return(0,Ql.__generator)(this,function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,bA(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return dA.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,_A(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Jl.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return dA.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Jl.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Jl.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),dA.debug("Calling attemptFetch again in "+l+" millis"),[2,wA(t,h,n,r)];case 7:return[2]}})})}function bA(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(yA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var kA,TA,xA=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),CA={},EA=[],SA={},IA="dataLayer",AA="gtag",OA=!1;function NA(t){if(OA)throw yA.create("already-initialized");t.dataLayerName&&(IA=t.dataLayerName),t.gtagName&&(AA=t.gtagName)}function PA(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:if((0,Jl.isBrowserExtension)())return[2,!1];if(!(0,Jl.areCookiesEnabled)())return[2,!1];if(!(0,Jl.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,Jl.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new TC.Component("analytics",function(t){return function(t,e){!function(){var t=[];if((0,Jl.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,Jl.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=yA.create("invalid-analytics-context",{errorInfo:e});dA.warn(n.message)}}();var n=t.options.appId;if(!n)throw yA.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw yA.create("no-api-key");dA.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=CA[n])throw yA.create("already-exists",{id:n});if(!OA){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(IA);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var s;return(0,Ql.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==hA.EVENT?[3,2]:[4,vA(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==hA.CONFIG?[3,4]:[4,pA(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(hA.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),dA.error(s),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(CA,EA,SA,IA,AA);TA=r.wrappedGtag,kA=r.gtagCore,OA=!0}return CA[n]=function(t,e,n,r,i,o){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var a,s,u,c,l,h,f;return(0,Ql.__generator)(this,function(d){switch(d.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=mA),(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return(0,Ql.__generator)(this,function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw yA.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw yA.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new xA,setTimeout(function(){return(0,Ql.__awaiter)(u,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){return s.abort(),[2]})})},6e4),[2,wA({appId:r,apiKey:i,measurementId:o},a,s,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&dA.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return dA.error(t)}),e.push(a),s=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ql.__generator)(this,function(e){switch(e.label){case 0:return(0,Jl.isIndexedDBAvailable)()?[3,1]:(dA.warn(yA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,Jl.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),dA.warn(yA.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(lA))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=lA+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(hA.CONFIG,c.measurementId,h),[2,c.measurementId]}})})}(t,EA,SA,e,kA,IA),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,Ql.__generator)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(hA.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=(0,Ql.__assign)((0,Ql.__assign)({},r),{send_to:o}),t(hA.EVENT,n,a),s.label=3;case 3:return[2]}})})})(TA,CA[n],t,e,r).catch(function(t){return dA.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(hA.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(hA.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(TA,CA[n],t,e).catch(function(t){return dA.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i;return(0,Ql.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(hA.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(hA.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(TA,CA[n],t,e).catch(function(t){return dA.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var i,o,a,s,u;return(0,Ql.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return t(hA.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(hA.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(TA,CA[n],t,e).catch(function(t){return dA.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(CA[n],t).catch(function(t){return dA.error(t)})},INTERNAL:{delete:function(){return delete CA[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:NA,EventName:fA,isSupported:PA})),t.INTERNAL.registerComponent(new TC.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(_C){throw yA.create("interop-component-reg-failed",{reason:_C})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.16")}(Yl.default);var RA,DA=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},t}(),LA=((RA={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",RA["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",RA["registration-api-key"]="Undefined API key. Check Firebase app initialization.",RA["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",RA["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",RA["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",RA["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",RA["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",RA["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",RA["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',RA["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',RA["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",RA["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",RA),MA=new Jl.ErrorFactory("remoteconfig","Remote Config",LA),FA=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,g;return(0,Ql.__generator)(this,function(y){switch(y.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=y.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),y.label=2;case 2:return y.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return y.sent(),[4,a];case 4:return u=y.sent(),[3,6];case 5:throw c=y.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),MA.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,y.label=7;case 7:return y.trys.push([7,9,,10]),[4,u.json()];case 8:return v=y.sent(),[3,10];case 9:throw g=y.sent(),MA.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:d=v.entries,p=v.state,y.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw MA.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var m})})},t}(),UA=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),qA=["1","true","t","yes","y","on"],jA=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&qA.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),VA=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Xl.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Xl.LogLevel.SILENT;break;default:this._logger.logLevel=Xl.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:t=new UA,setTimeout(function(){return(0,Ql.__awaiter)(r,void 0,void 0,function(){return(0,Ql.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof Jl.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){return(0,Ql.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,Ql.__assign)((0,Ql.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new jA("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new jA("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new jA("static"))},t}();function BA(t,e){var n=t.target.error||void 0;return MA.create(e,{originalErrorMessage:n&&n.message})}var ZA=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(BA(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(BA(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(_C){i(MA.create("storage-get",{originalErrorMessage:_C&&_C.message}))}})]}})})},t.prototype.set=function(t,e){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Ql.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(BA(t,"storage-set"))},u.onsuccess=function(){i()}}catch(_C){o(MA.create("storage-set",{originalErrorMessage:_C&&_C.message}))}})]}})})},t.prototype.delete=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ql.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(BA(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(_C){i(MA.create("storage-delete",{originalErrorMessage:_C&&_C.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),HA=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function zA(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(MA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var GA,WA=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ql.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,Ql.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,Ql.__generator)(this,function(a){switch(a.label){case 0:return[4,zA(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Jl.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Jl.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}();function KA(){return function(t){return t.lift(new YA)}}(GA=Yl.default).INTERNAL.registerComponent(new TC.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw MA.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw MA.create("registration-project-id");if(!s)throw MA.create("registration-api-key");if(!u)throw MA.create("registration-app-id");var c=new ZA(u,r.name,n=n||"firebase"),l=new HA(c),h=new Xl.Logger("@firebase/remote-config");h.logLevel=Xl.LogLevel.ERROR;var f=new FA(i,GA.SDK_VERSION,n,a,s,u),d=new WA(f,c),p=new DA(d,c,l,h),v=new VA(r,p,l,c,h);return v.ensureInitialized(),v},"PUBLIC").setMultipleInstances(!0)),GA.registerVersion("@firebase/remote-config","0.1.42"),a(6934),Yl.default.registerVersion("firebase","8.8.1","app"),Yl.default.SDK_VERSION="8.8.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Yl.default.registerVersion("firebase","8.8.1");var YA=function(){function t(){f(this,t)}return h(t,[{key:"call",value:function(t,e){return e.subscribe(new QA(t))}}]),t}(),QA=function(t){d(n,t);var e=p(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasPrev=!1,r}return h(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(si.L),JA=a(45),XA=a(2346),$A=a(1858),tO=a(8489),eO=a(9291),nO=function(t){d(n,t);var e=p(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return h(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}i(b(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new rO(this._getNow(),t)),this._trimBufferThenGetEvents()),i(b(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Hi.N;if(this.isStopped||this.hasError?e=Fo.w.EMPTY:(this.observers.push(t),e=new eO.W(this,t)),i&&t.add(t=new JA.ht(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||tO.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Zi.xQ),rO=function t(e,n){f(this,t),this.time=e,this.value=n};function iO(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new nO(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function oO(t,e){return e?uo(function(){return t},e):uo(function(){return t})}var aO=a(2893),sO=new u.OlP("angularfire2.auth.use-emulator"),uO=new u.OlP("angularfire2.auth.settings"),cO=new u.OlP("angularfire2.auth.tenant-id"),lO=new u.OlP("angularfire2.auth.langugage-code"),hO=new u.OlP("angularfire2.auth.use-device-language"),fO=new u.OlP("angularfire.auth.persistence"),dO=function(){var t=function t(n,r,i,o,s,u,c,l,h,d){f(this,t);var p=new XA.HU(o),v=(0,XA.ss)(p),g=new Zi.xQ,y=(0,ii.of)(void 0).pipe((0,JA.QV)(p.outsideAngular),uo(function(){return o.runOutsideAngular(function(){return a.e(781).then(a.bind(a,9781))})}),(0,ar.U)(function(){return(0,XA.on)(n,o,r)}),(0,ar.U)(function(t){return o.runOutsideAngular(function(){var n=s,r=u;return(0,XA.sI)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var i=o.runOutsideAngular(function(){return t.auth()});if(n&&i.useEmulator("http://".concat(n.join(":"))),c&&(i.tenantId=c),i.languageCode=l,h&&i.useDeviceLanguage(),r)for(var a=0,s=Object.entries(r);a<s.length;a++){var u=e(s[a],2),f=u[0],p=u[1];i.settings[f]=p}return d&&i.setPersistence(d),i},[n,c,l,h,r,d])})}),iO({bufferSize:1,refCount:!1}));if(Y(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ii.of)(null);else{y.pipe(Do()).subscribe();var m=y.pipe(uo(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),v,iO({bufferSize:1,refCount:!1})),_=function(t){return new ir.y(function(e){return{unsubscribe:o.runOutsideAngular(function(){return t(e)})}})},w=y.pipe(uo(function(t){return _(t.onAuthStateChanged.bind(t))})),b=y.pipe(uo(function(t){return _(t.onIdTokenChanged.bind(t))}));this.authState=m.pipe(oO(w),(0,aO.R)(p.outsideAngular),(0,JA.QV)(p.insideAngular)),this.user=m.pipe(oO(b),(0,aO.R)(p.outsideAngular),(0,JA.QV)(p.insideAngular)),this.idToken=this.user.pipe(uo(function(t){return t?(0,rr.D)(t.getIdToken()):(0,ii.of)(null)})),this.idTokenResult=this.user.pipe(uo(function(t){return t?(0,rr.D)(t.getIdTokenResult()):(0,ii.of)(null)})),this.credential=(0,Qu.T)(m,g,this.authState.pipe(ui(function(t){return!t}))).pipe((0,ar.U)(function(t){return(null==t?void 0:t.user)?t:null}),(0,aO.R)(p.outsideAngular),(0,JA.QV)(p.insideAngular))}return(0,XA.pX)(this,y,o,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return g.next(t)})}}})};return t.\u0275fac=function(e){return new(e||t)(u.LFG(XA.Dh),u.LFG(XA.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(sO,8),u.LFG(uO,8),u.LFG(cO,8),u.LFG(lO,8),u.LFG(hO,8),u.LFG(fO,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(XA.Dh),u.LFG(XA.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(sO,8),u.LFG(uO,8),u.LFG(cO,8),u.LFG(lO,8),u.LFG(hO,8),u.LFG(fO,8))},token:t,providedIn:"any"}),t}();(0,XA.GT)(dO,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var pO=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[dO]}),t}();function vO(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uu.z;return new ir.y(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function gO(t,e){return vO(t,e).pipe((0,ar.U)(function(t){return{payload:t,type:"query"}}))}function yO(t,n){return gO(t,n).pipe(go(void 0),KA(),(0,ar.U)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function mO(t,e,n){return yO(t,n).pipe(yo(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return _O(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return _O(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _O(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new tc(void 0,void 0))},(0,ar.U)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function _O(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function wO(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var bO=function(){function n(t,e,r){f(this,n),this.ref=t,this.query=e,this.afs=r}return h(n,[{key:"stateChanges",value:function(t){var n=yO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe((0,ar.U)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(go(void 0),KA(),ui(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),(0,ar.U)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(yo(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=wO(t);return mO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ar.U)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return(0,rr.D)(this.query.get(t)).pipe((0,JA.QV)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new kO(this.ref.doc(t),this.afs)}}]),n}(),kO=function(){function n(t,e){f(this,n),this.ref=t,this.afs=e}return h(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=IO(this.ref.collection(t),e),r=n.ref,i=n.query;return new bO(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return function(t,n){return vO(t,n).pipe(go(void 0),KA(),(0,ar.U)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,ar.U)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return(0,rr.D)(this.ref.get(t)).pipe((0,JA.QV)(this.afs.schedulers.insideAngular))}}]),n}(),TO=function(){function e(t,n){f(this,e),this.query=t,this.afs=n}return h(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?yO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ar.U)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),ui(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):yO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(yo(function(t,e){return[].concat(o(t),o(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=wO(t);return mO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ar.U)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return(0,rr.D)(this.query.get(t)).pipe((0,JA.QV)(this.afs.schedulers.insideAngular))}}]),e}(),xO=new u.OlP("angularfire2.enableFirestorePersistence"),CO=new u.OlP("angularfire2.firestore.persistenceSettings"),EO=new u.OlP("angularfire2.firestore.settings"),SO=new u.OlP("angularfire2.firestore.use-emulator");function IO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var AO=function(){var t=function(){function t(n,r,i,a,s,u,c,l,h){f(this,t),this.schedulers=new XA.HU(u),this.keepUnstableUntilFirst=(0,XA.ss)(this.schedulers);var d=(0,XA.on)(n,u,r);!$A.Z.auth&&h&&(0,XA.yq)();var p=l,v=e((0,XA.sI)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});if(a&&t.settings(a),p&&t.useEmulator.apply(t,o(p)),i&&!Y(s)){return[t,u.runOutsideAngular(function(){try{return(0,rr.D)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(_C){return"undefined"!=typeof console&&console.warn(_C),(0,ii.of)(!1)}})]}return[t,(0,ii.of)(!1)]},[a,p,i]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return h(t,[{key:"collection",value:function(t,e){var n=IO("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new bO(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new TO(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new kO(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(XA.Dh),u.LFG(XA.xv,8),u.LFG(xO,8),u.LFG(EO,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(CO,8),u.LFG(SO,8),u.LFG(sO,8))},t.\u0275prov=u.Yz7({factory:function(){return new t(u.LFG(XA.Dh),u.LFG(XA.xv,8),u.LFG(xO,8),u.LFG(EO,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(CO,8),u.LFG(SO,8),u.LFG(sO,8))},token:t,providedIn:"any"}),t}(),OO=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:xO,useValue:!0},{provide:CO,useValue:e}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[AO]}),t}(),NO=function(){var t=function(){function t(){f(this,t),this.storage={},this.inMemorystorage={};var e=localStorage.getItem("storage");null!==e&&(this.storage=JSON.parse(e),this.get("me")&&(this.me=this.get("me")))}return h(t,[{key:"set",value:function(t,e){var n=this;this.storage[t]=e,setTimeout(function(){n.update()},100)}},{key:"unset",value:function(t){delete this.storage[t],this.update()}},{key:"get",value:function(t){var e="";if(t.indexOf(".")>0){var n=t.split(".");t=n[0],e=n[1]}var r=this.storage[t];return null==r?"":""==e?r:r[e]}},{key:"update",value:function(){var t=JSON.stringify(this.storage);localStorage.setItem("storage",t)}},{key:"seti",value:function(t,e){this.inMemorystorage[t]=e}},{key:"unseti",value:function(t){delete this.inMemorystorage[t],this.update()}},{key:"geti",value:function(t){var e="";if(t.indexOf(".")>0){console.log(t);var n=t.split(".");t=n[0],e=n[1]}var r=this.inMemorystorage[t];return null==r?(console.log("Null value for ",t),""):""==e?r:r[e]}},{key:"clear",value:function(){localStorage.clear(),this.storage={},this.inMemorystorage={},this.me=null}},{key:"username",value:function(){if(this.me=this.get("user"),console.log(this.me),this.me.displayName)return this.me.displayName}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),PO=function(){var t=function(){function t(e,n,r,i){var o=this;f(this,t),this.afs=e,this.afAuth=n,this.router=r,this.storage=i,this.afAuth.authState.subscribe(function(t){t&&(o.userData=t,o.getUser(t.uid))})}return h(t,[{key:"SignUp",value:function(t,e,n,r){var i=this;return this.afAuth.createUserWithEmailAndPassword(e,n).then(function(e){var n=Object.assign({},e.user);n.displayName=t,n.photoURL=r,i.SetUserDataForSignUp(n)},function(t){alert(t.message)})}},{key:"SignUpWithMobile",value:function(t,e,n){var r=this,i=Yl.default.auth.PhoneAuthProvider.credential(t.confirmationResult.verificationId,e);Yl.default.auth().signInWithCredential(i).then(function(t){r.SetUserDataForSignUp(t.user),r.userData=t.user},function(t){alert(t.message)}),this.userData?(this.storage.set("user",this.userData),this.router.navigate([n])):this.storage.set("user",null)}},{key:"SignIn",value:function(t,e,n){var r=this;t.confirmationResult.confirm(e).then(function(t){r.userData=t.user}).catch(function(t){return console.log(t,"Incorrect code entered?")}),this.userData?(this.getUser(this.userData.uid),this.router.navigate([n])):this.storage.set("user",null)}},{key:"SignOut",value:function(){var t=this;return this.afAuth.signOut().then(function(){t.storage.clear(),t.router.navigate([""])})}},{key:"getUserDoc",value:function(t){var e=this;this.afs.doc("users/".concat(t)).valueChanges().subscribe(function(t){return e.storage.set("approver",t)})}},{key:"getCollection",value:function(t){return this.afs.collection("".concat(t)).valueChanges()}},{key:"getCollectionSpecific",value:function(t,e,n){return this.afs.collection("".concat(t),function(t){return t.where(e,"==",n)}).valueChanges()}},{key:"getMeterDoc",value:function(t){return this.afs.doc("meters/".concat(t)).valueChanges()}},{key:"getUser",value:function(t){var e=this;return this.afs.doc("users/".concat(t)).valueChanges().subscribe(function(t){return e.storage.set("user",t)})}},{key:"updateLocalStorageData",value:function(t){var e=this;return this.afs.doc("users/".concat(t)).valueChanges().subscribe(function(t){e.storage.clear(),e.storage.set("user",t)})}},{key:"SetUserDataForSignUp",value:function(t){return this.afs.doc("users/".concat(t.uid)).set({uid:t.uid,displayName:"",nid:"",blood:"",dob:"",address:"",photoUrl:"",approvedBy:"",approvedOn:"",meters:[],tenants:[],status:"super_admin",email:"",applicationStatus:"approved"},{merge:!0})}},{key:"setData",value:function(t,e,n){return this.afs.doc("".concat(n,"/").concat(t)).set(e,{merge:!0})}},{key:"updateUserData",value:function(t,e){var n=this;return this.afs.doc("users/".concat(t.uid)).set({uid:t.uid,displayName:e.displayName,nid:e.nid,blood:e.blood,dob:e.dob,address:e.address,photoUrl:e.photoUrl,approvedBy:"",approvedOn:"",meters:[],tenants:[],status:"super_admin",email:e.email,applicationStatus:"approved"},{merge:!0}).then(function(){n.updateLocalStorageData(n.storage.get("user").uid),n.router.navigate(["/user-dashboard"]),alert("Success!")})}},{key:"isLoggedIn",get:function(){var t=this.storage.get("user");return!(null===t||!t.uid)}},{key:"setDummyUserData",value:function(){return this.afs.doc("users/admin14").set({uid:"admin14",displayName:"admin13",nid:"4444444",blood:"b+",dob:"1-33-34",address:"satkhira",photoUrl:"fgf.jpg",meters:["meterid2","meterid3"],status:"admin",email:"admin4@gmail.com",tenants:[],applicationStatus:"approved",approvedBy:"IKLb6fxmIBBS21mRPCtu",approvedOn:"12-23-23"},{merge:!0}).catch(function(t){return console.log(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(AO),u.LFG(dO),u.LFG(du),u.LFG(NO))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),RO=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"windowRef",get:function(){return window}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),DO=function(t){return{"d-none":t}},LO=function(){var t=function(){function t(e,n,r){f(this,t),this.win=e,this.router=n,this.authService=r,this.loginform=!0,this.recoverform=!1}return h(t,[{key:"ngOnInit",value:function(){this.windowRef=this.win.windowRef,this.windowRef.recaptchaVerifier=new Yl.default.auth.RecaptchaVerifier("recaptcha-container"),this.windowRef.recaptchaVerifier.render()}},{key:"sendLoginCode",value:function(){var t=this,e=this.windowRef.recaptchaVerifier,n="".concat(this.mobile);Yl.default.auth().signInWithPhoneNumber(n,e).then(function(e){t.windowRef.confirmationResult=e}).catch(function(t){return console.log(t)})}},{key:"submit",value:function(){this.authService.SignIn(this.windowRef,this.verificationCode,"/user-dashboard")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(RO),u.Y36(du),u.Y36(PO))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-sign-in"]],decls:34,vars:5,consts:[[1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center",2,"background","url(assets/images/background/login-register.jpg) no-repeat\n      center center"],[1,"auth-box","m-3","m-md-0"],["id","loginform",3,"ngClass"],[1,"logo"],[1,"db"],["src","assets/images/meter.png","alt","logo",1,"lg"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform",1,"form-horizontal","m-t-20"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"ti-mobile"],["type","text","placeholder","+880-01-xxx-xxx-xxx","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit","value","Send code",1,"btn","btn-block","btn-sm","btn-info",3,"click"],["id","basic-addon2",1,"input-group-text"],[1,"ti-lock"],["type","password","placeholder","OTP","name","OTP","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Log In",1,"btn","btn-block","btn-lg","btn-info",3,"click"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["href","/sign-up",1,"text-info","m-l-5"],["id","recaptcha-container"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"span",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"h5",6),u._uU(7,"Sign In"),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.TgZ(9,"div",8),u.TgZ(10,"form",9),u.TgZ(11,"div",10),u.TgZ(12,"div",11),u.TgZ(13,"span",12),u._UZ(14,"i",13),u.qZA(),u.qZA(),u.TgZ(15,"input",14),u.NdJ("ngModelChange",function(t){return e.mobile=t}),u.qZA(),u.qZA(),u.TgZ(16,"div",15),u.TgZ(17,"div",16),u.TgZ(18,"input",17),u.NdJ("click",function(){return e.sendLoginCode()}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",10),u.TgZ(20,"div",11),u.TgZ(21,"span",18),u._UZ(22,"i",19),u.qZA(),u.qZA(),u.TgZ(23,"input",20),u.NdJ("ngModelChange",function(t){return e.verificationCode=t}),u.qZA(),u.qZA(),u.TgZ(24,"div",15),u.TgZ(25,"div",16),u.TgZ(26,"input",21),u.NdJ("click",function(){return e.submit()}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"div",22),u.TgZ(28,"div",23),u._uU(29," Don't have an account? "),u.TgZ(30,"a",24),u.TgZ(31,"b"),u._uU(32,"Sign Up"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(33,"div",25),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngClass",u.VKq(3,DO,e.recoverform)),u.xp6(13),u.Q6J("ngModel",e.mobile),u.xp6(8),u.Q6J("ngModel",e.verificationCode))},directives:[V,Xr,Nr,Kr,vr,Or,Jr],styles:[".lg[_ngcontent-%COMP%]{height:50px;width:50px;margin-bottom:10px}"]}),t}(),MO=function(t){return{"d-none":t}},FO=function(){var t=function(){function t(e,n,r){f(this,t),this.win=e,this.router=n,this.authService=r,this.loginform=!0,this.recoverform=!1}return h(t,[{key:"ngOnInit",value:function(){this.windowRef=this.win.windowRef,this.windowRef.recaptchaVerifier=new Yl.default.auth.RecaptchaVerifier("recaptcha-container"),this.windowRef.recaptchaVerifier.render()}},{key:"sendLoginCode",value:function(){var t=this,e=this.windowRef.recaptchaVerifier,n="".concat(this.mobile);Yl.default.auth().signInWithPhoneNumber(n,e).then(function(e){t.windowRef.confirmationResult=e}).catch(function(t){return console.log(t)})}},{key:"submit",value:function(){this.authService.SignUpWithMobile(this.windowRef,this.verificationCode,"/update-profile")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(RO),u.Y36(du),u.Y36(PO))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-sign-up"]],decls:35,vars:5,consts:[[1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center",2,"background","url(assets/images/background/login-register.jpg) no-repeat\n      center center"],[1,"auth-box","m-3","m-md-0"],["id","loginform",3,"ngClass"],[1,"logo"],[1,"db"],["src","assets/images/meter.png","alt","logo",1,"lg"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform",1,"form-horizontal","m-t-20"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"ti-mobile"],["type","text","placeholder","+880-01-xxx-xxx-xxx","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit","value","Send code",1,"btn","btn-block","btn-sm","btn-info",3,"click"],["id","basic-addon2",1,"input-group-text"],[1,"ti-lock"],["type","password","placeholder","OTP","name","OTP","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-block","btn-lg","btn-info",3,"click"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["href","/sign-in",1,"text-info","m-l-5"],["id","recaptcha-container"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"span",4),u._UZ(5,"img",5),u.qZA(),u.TgZ(6,"h5",6),u._uU(7,"Sign Up"),u.qZA(),u.qZA(),u.TgZ(8,"div",7),u.TgZ(9,"div",8),u.TgZ(10,"form",9),u.TgZ(11,"div",10),u.TgZ(12,"div",11),u.TgZ(13,"span",12),u._UZ(14,"i",13),u.qZA(),u.qZA(),u.TgZ(15,"input",14),u.NdJ("ngModelChange",function(t){return e.mobile=t}),u.qZA(),u.qZA(),u.TgZ(16,"div",15),u.TgZ(17,"div",16),u.TgZ(18,"input",17),u.NdJ("click",function(){return e.sendLoginCode()}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",10),u.TgZ(20,"div",11),u.TgZ(21,"span",18),u._UZ(22,"i",19),u.qZA(),u.qZA(),u.TgZ(23,"input",20),u.NdJ("ngModelChange",function(t){return e.verificationCode=t}),u.qZA(),u.qZA(),u.TgZ(24,"div",15),u.TgZ(25,"div",16),u.TgZ(26,"button",21),u.NdJ("click",function(){return e.submit()}),u._uU(27," Sign Up "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div",22),u.TgZ(29,"div",23),u._uU(30," Already Signed up? Sign in now! "),u.TgZ(31,"a",24),u.TgZ(32,"b"),u._uU(33,"Sign in"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(34,"div",25),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngClass",u.VKq(3,MO,e.recoverform)),u.xp6(13),u.Q6J("ngModel",e.mobile),u.xp6(8),u.Q6J("ngModel",e.verificationCode))},directives:[V,Xr,Nr,Kr,vr,Or,Jr],styles:[".lg[_ngcontent-%COMP%]{height:50px;width:50px;margin-bottom:10px}"]}),t}(),UO=function(){var t=function(){function t(e,n){f(this,t),this.authService=e,this.storageService=n,this.user=this.storageService.get("user")}return h(t,[{key:"ngOnInit",value:function(){}},{key:"getPhotoUrl",value:function(t){t.target.files&&t.target.files[0]&&(this.photoUrl=t.target.files[0].name)}},{key:"onClick",value:function(){if(this.firstName&&this.lastName&&this.dob&&this.blood&&this.nid&&this.addP1&&this.addP2&&this.addP3&&this.addP4&&this.email&&this.photoUrl){var t=[this.addP1,this.addP2,this.addP3,this.addP4].join(",");console.log(this.photoUrl);var e=[this.firstName,this.lastName].join(" ");this.authService.updateUserData(this.user,{uid:this.user.uid,displayName:e,nid:this.nid,blood:this.blood,dob:this.dob,address:t,photoUrl:this.photoUrl,email:this.email})}else alert("FIll up all the field!")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(PO),u.Y36(NO))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-update-profile"]],decls:87,vars:10,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"m-b-0","text-white"],["action","#"],[1,"form-body"],[1,"card-body"],[1,"row","p-t-20"],[1,"col-md-6"],[1,"form-group"],[1,"control-label"],["type","text","id","firstName","name","firstName","placeholder","John doe",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","has-danger"],["type","text","id","lastName","name","lastName","placeholder","12n",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],["type","text","id","bloodGroup","name","blood","placeholder","12n",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],["type","date","name","dob",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","nid","name","nid","placeholder","nid number ",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],["type","text","id","email","name","email","placeholder","email ",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"custom-file"],["type","file","name","photo","id","inputGroupFile01",1,"custom-file-input",3,"change"],["for","inputGroupFile01",1,"custom-file-label"],[1,"card-title","m-t-40"],[1,"col-md-12"],["type","text","name","addP1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","addP2",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","addP3",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","addP4",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-actions"],["type","submit",1,"btn","btn-success",3,"click"],[1,"fa","fa-check"],["type","button",1,"btn","btn-dark"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"h4",4),u._uU(5,"Profile update"),u.qZA(),u.qZA(),u.TgZ(6,"form",5),u.TgZ(7,"div",6),u.TgZ(8,"div",7),u.TgZ(9,"div",8),u.TgZ(10,"div",9),u.TgZ(11,"div",10),u.TgZ(12,"label",11),u._uU(13,"First Name"),u.qZA(),u.TgZ(14,"input",12),u.NdJ("ngModelChange",function(t){return e.firstName=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(15,"div",9),u.TgZ(16,"div",13),u.TgZ(17,"label",11),u._uU(18,"Last Name"),u.qZA(),u.TgZ(19,"input",14),u.NdJ("ngModelChange",function(t){return e.lastName=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"div",0),u.TgZ(21,"div",9),u.TgZ(22,"div",13),u.TgZ(23,"label",11),u._uU(24,"Blood group"),u.qZA(),u.TgZ(25,"input",15),u.NdJ("ngModelChange",function(t){return e.blood=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"div",9),u.TgZ(27,"div",10),u.TgZ(28,"label",11),u._uU(29,"Date of Birth"),u.qZA(),u.TgZ(30,"input",16),u.NdJ("ngModelChange",function(t){return e.dob=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"div",0),u.TgZ(32,"div",9),u.TgZ(33,"div",13),u.TgZ(34,"label",11),u._uU(35,"National Id Card Number"),u.qZA(),u.TgZ(36,"input",17),u.NdJ("ngModelChange",function(t){return e.nid=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(37,"div",13),u.TgZ(38,"label",11),u._uU(39,"Email"),u.qZA(),u.TgZ(40,"input",18),u.NdJ("ngModelChange",function(t){return e.email=t}),u.qZA(),u.qZA(),u.TgZ(41,"div",9),u.TgZ(42,"div",10),u.TgZ(43,"label",11),u._uU(44,"Profile photo"),u.qZA(),u.TgZ(45,"div",19),u.TgZ(46,"div",20),u.TgZ(47,"span",21),u._uU(48,"Upload"),u.qZA(),u.qZA(),u.TgZ(49,"div",22),u.TgZ(50,"input",23),u.NdJ("change",function(t){return e.getPhotoUrl(t)}),u.qZA(),u.TgZ(51,"label",24),u._uU(52,"Choose file"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(53,"h4",25),u._uU(54,"Address"),u.qZA(),u.qZA(),u._UZ(55,"hr"),u.TgZ(56,"div",7),u.TgZ(57,"div",0),u.TgZ(58,"div",26),u.TgZ(59,"div",10),u.TgZ(60,"label"),u._uU(61,"Street"),u.qZA(),u.TgZ(62,"input",27),u.NdJ("ngModelChange",function(t){return e.addP1=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(63,"div",0),u.TgZ(64,"div",9),u.TgZ(65,"div",10),u.TgZ(66,"label"),u._uU(67,"City"),u.qZA(),u.TgZ(68,"input",28),u.NdJ("ngModelChange",function(t){return e.addP2=t}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(69,"div",9),u.TgZ(70,"div",10),u.TgZ(71,"label"),u._uU(72,"State"),u.qZA(),u.TgZ(73,"input",29),u.NdJ("ngModelChange",function(t){return e.addP3=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(74,"div",0),u.TgZ(75,"div",9),u.TgZ(76,"div",10),u.TgZ(77,"label"),u._uU(78,"Post Code"),u.qZA(),u.TgZ(79,"input",30),u.NdJ("ngModelChange",function(t){return e.addP4=t}),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(80,"div",31),u.TgZ(81,"div",7),u.TgZ(82,"button",32),u.NdJ("click",function(){return e.onClick()}),u._UZ(83,"i",33),u._uU(84," Save "),u.qZA(),u.TgZ(85,"button",34),u._uU(86,"Cancel"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(14),u.Q6J("ngModel",e.firstName),u.xp6(5),u.Q6J("ngModel",e.lastName),u.xp6(6),u.Q6J("ngModel",e.blood),u.xp6(5),u.Q6J("ngModel",e.dob),u.xp6(6),u.Q6J("ngModel",e.nid),u.xp6(4),u.Q6J("ngModel",e.email),u.xp6(22),u.Q6J("ngModel",e.addP1),u.xp6(6),u.Q6J("ngModel",e.addP2),u.xp6(5),u.Q6J("ngModel",e.addP3),u.xp6(6),u.Q6J("ngModel",e.addP4))},directives:[Xr,Nr,Kr,vr,Or,Jr],styles:[""]}),t}(),qO=function(){var t=function(){function t(e){f(this,t),this.authService=e}return h(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(PO))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-manage-things"]],decls:62,vars:0,consts:[[1,"row","m-t-40"],[1,"col-12"],[1,"m-b-15"],[1,"row"],[1,"col-lg-4","col-md-6"],[1,"card"],["src","assets/images/super_admins.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],[1,"card-body"],[1,"card-title"],["href","/list-super-admin",1,"btn","btn-success"],["src","assets/images/admins.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-admin",1,"btn","btn-success"],["src","assets/images/users.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-users",1,"btn","btn-success"],[1,"col-lg-4","col-md-6","img-responsive"],["src","assets/images/home.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-landlords",1,"btn","btn-success"],["src","assets/images/tenants.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-tenants",1,"btn","btn-success"],["src","assets/images/meter.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-item",1,"btn","btn-success"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h4",2),u._uU(3,"Manage"),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"div",4),u.TgZ(6,"div",5),u._UZ(7,"img",6),u.TgZ(8,"div",7),u.TgZ(9,"h4",8),u._uU(10,"Users of "),u.TgZ(11,"strong"),u._uU(12,"Super Admin"),u.qZA(),u.qZA(),u.TgZ(13,"a",9),u._uU(14,"Manage"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(15,"div",4),u.TgZ(16,"div",5),u._UZ(17,"img",10),u.TgZ(18,"div",7),u.TgZ(19,"h4",8),u._uU(20,"Users of "),u.TgZ(21,"strong"),u._uU(22,"Admins"),u.qZA(),u.qZA(),u.TgZ(23,"a",11),u._uU(24,"Manage"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(25,"div",4),u.TgZ(26,"div",5),u._UZ(27,"img",12),u.TgZ(28,"div",7),u.TgZ(29,"h4",8),u.TgZ(30,"strong"),u._uU(31,"All Users"),u.qZA(),u.qZA(),u.TgZ(32,"a",13),u._uU(33,"Manage"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"div",0),u.TgZ(35,"div",14),u.TgZ(36,"div",5),u._UZ(37,"img",15),u.TgZ(38,"div",7),u.TgZ(39,"h4",8),u.TgZ(40,"strong"),u._uU(41,"Landlords"),u.qZA(),u.qZA(),u.TgZ(42,"a",16),u._uU(43,"Manage"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(44,"div",14),u.TgZ(45,"div",5),u._UZ(46,"img",17),u.TgZ(47,"div",7),u.TgZ(48,"h4",8),u.TgZ(49,"strong"),u._uU(50,"Tenants"),u.qZA(),u.qZA(),u.TgZ(51,"a",18),u._uU(52,"Manage"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(53,"div",14),u.TgZ(54,"div",5),u._UZ(55,"img",19),u.TgZ(56,"div",7),u.TgZ(57,"h4",8),u.TgZ(58,"strong"),u._uU(59,"Meters"),u.qZA(),u.qZA(),u.TgZ(60,"a",20),u._uU(61,"Manage"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[".cimg[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:20px}"]}),t}();function jO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.mid,3)}),u._UZ(1,"i",11),u.TgZ(2,"span"),u._uU(3,"Deactivate"),u.qZA(),u.qZA()}}function VO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.mid,1)}),u._UZ(1,"i",12),u.TgZ(2,"span"),u._uU(3,"Activate"),u.qZA(),u.qZA()}}function BO(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u.YNc(14,jO,4,0,"a",9),u.YNc(15,VO,4,0,"a",9),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.mid),u.xp6(2),u.Oqu(n.status),u.xp6(2),u.Oqu(n.owner),u.xp6(2),u.Oqu(n.type),u.xp6(2),u.Oqu(n.location),u.xp6(2),u.Oqu(n.bill),u.xp6(2),u.Q6J("ngIf",1==n.status),u.xp6(1),u.Q6J("ngIf",3==n.status)}}function ZO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"pending")}),u._UZ(1,"i",11),u.TgZ(2,"span"),u._uU(3,"Deactivate"),u.qZA(),u.qZA()}}function HO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"approved")}),u._UZ(1,"i",12),u.TgZ(2,"span"),u._uU(3,"Activate"),u.qZA(),u.qZA()}}function zO(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u.YNc(18,ZO,4,0,"a",9),u.YNc(19,HO,4,0,"a",9),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.status),u.xp6(2),u.Oqu(n.uid),u.xp6(2),u.Oqu(n.displayName),u.xp6(2),u.Oqu(n.applicationStatus),u.xp6(2),u.Oqu(n.approvedBy),u.xp6(2),u.Oqu(n.approvedOn),u.xp6(2),u.Oqu(n.meters.length),u.xp6(2),u.hij(" ",n.tenants.length," "),u.xp6(2),u.Q6J("ngIf","approved"==n.applicationStatus),u.xp6(1),u.Q6J("ngIf","pending"==n.applicationStatus)}}function GO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"pending")}),u._UZ(1,"i",11),u.TgZ(2,"span"),u._uU(3,"Deactivate"),u.qZA(),u.qZA()}}function WO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"approved")}),u._UZ(1,"i",12),u.TgZ(2,"span"),u._uU(3,"Activate"),u.qZA(),u.qZA()}}function KO(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u.YNc(18,GO,4,0,"a",9),u.YNc(19,WO,4,0,"a",9),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.status),u.xp6(2),u.Oqu(n.uid),u.xp6(2),u.Oqu(n.displayName),u.xp6(2),u.Oqu(n.applicationStatus),u.xp6(2),u.Oqu(n.approvedBy),u.xp6(2),u.Oqu(n.approvedOn),u.xp6(2),u.Oqu(n.meters.length),u.xp6(2),u.hij(" ",n.tenants.length," "),u.xp6(2),u.Q6J("ngIf","approved"==n.applicationStatus),u.xp6(1),u.Q6J("ngIf","pending"==n.applicationStatus)}}function YO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"pending")}),u._UZ(1,"i",11),u.TgZ(2,"span"),u._uU(3,"Deactivate"),u.qZA(),u.qZA()}}function QO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"approved")}),u._UZ(1,"i",12),u.TgZ(2,"span"),u._uU(3,"Activate"),u.qZA(),u.qZA()}}function JO(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u.YNc(18,YO,4,0,"a",9),u.YNc(19,QO,4,0,"a",9),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.status),u.xp6(2),u.Oqu(n.uid),u.xp6(2),u.Oqu(n.displayName),u.xp6(2),u.Oqu(n.applicationStatus),u.xp6(2),u.Oqu(n.approvedBy),u.xp6(2),u.Oqu(n.approvedOn),u.xp6(2),u.Oqu(n.meters.length),u.xp6(2),u.hij(" ",n.tenants.length," "),u.xp6(2),u.Q6J("ngIf","approved"==n.applicationStatus),u.xp6(1),u.Q6J("ngIf","pending"==n.applicationStatus)}}function XO(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"pending")}),u._UZ(1,"i",11),u.TgZ(2,"span"),u._uU(3,"Deactivate"),u.qZA(),u.qZA()}}function $O(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"approved")}),u._UZ(1,"i",12),u.TgZ(2,"span"),u._uU(3,"Activate"),u.qZA(),u.qZA()}}function tN(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u.YNc(18,XO,4,0,"a",9),u.YNc(19,$O,4,0,"a",9),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.status),u.xp6(2),u.Oqu(n.uid),u.xp6(2),u.Oqu(n.displayName),u.xp6(2),u.Oqu(n.applicationStatus),u.xp6(2),u.Oqu(n.approvedBy),u.xp6(2),u.Oqu(n.approvedOn),u.xp6(2),u.Oqu(n.meters.length),u.xp6(2),u.hij(" ",n.tenants.length," "),u.xp6(2),u.Q6J("ngIf","approved"==n.applicationStatus),u.xp6(1),u.Q6J("ngIf","pending"==n.applicationStatus)}}function eN(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"pending")}),u._UZ(1,"i",11),u.TgZ(2,"span"),u._uU(3,"Deactivate"),u.qZA(),u.qZA()}}function nN(t,e){if(1&t){var n=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().onStatusToggle(t.uid,"approved")}),u._UZ(1,"i",12),u.TgZ(2,"span"),u._uU(3,"Activate"),u.qZA(),u.qZA()}}function rN(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u._uU(16),u.qZA(),u.TgZ(17,"td"),u.YNc(18,eN,4,0,"a",9),u.YNc(19,nN,4,0,"a",9),u.qZA(),u.qZA()),2&t){var n=e.$implicit;u.xp6(2),u.Oqu(n.status),u.xp6(2),u.Oqu(n.uid),u.xp6(2),u.Oqu(n.displayName),u.xp6(2),u.Oqu(n.applicationStatus),u.xp6(2),u.Oqu(n.approvedBy),u.xp6(2),u.Oqu(n.approvedOn),u.xp6(2),u.Oqu(n.meters.length),u.xp6(2),u.hij(" ",n.tenants.length," "),u.xp6(2),u.Q6J("ngIf","approved"==n.applicationStatus),u.xp6(1),u.Q6J("ngIf","pending"==n.applicationStatus)}}var iN,oN,aN,sN,uN,cN,lN,hN=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:LO},{path:"sign-up",component:FO},{path:"update-profile",component:UO},{path:"user-dashboard",component:(lN=function(){function t(e,n){f(this,t),this.storage=e,this.authService=n,this.user=this.storage.get("user"),this.displayName=this.user.displayName,this.blood=this.user.blood,this.nid=this.user.nid,this.address=this.user.address,this.dob=this.user.dob,this.status=this.user.status,this.meters=this.user.meters.length,this.tenants=this.user.tenants.length,this.active=1,this.apprvBy=this.user.approvedBy,this.appStat=this.user.applicationStatus}return h(t,[{key:"ngOnInit",value:function(){}},{key:"signOut",value:function(){this.authService.SignOut()}}]),t}(),lN.\u0275fac=function(t){return new(t||lN)(u.Y36(NO),u.Y36(PO))},lN.\u0275cmp=u.Xpm({type:lN,selectors:[["app-user-dashboard"]],decls:69,vars:14,consts:[[1,"row"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"col-12","m-t-10","m-l-10"],[1,"btn","btn-sm","btn-danger","float-left",3,"click"],[1,"card"],[1,"card-body"],[1,"m-t-30","text-center"],["src","assets/images/users/5.jpg","width","150",1,"rounded-circle"],[1,"card-title","m-t-10"],[1,"card-subtitle"],[1,"row","text-center","justify-content-md-center"],[1,"col-4"],["href","javascript:void(0)",1,"link"],[1,"icon-people","m-r-10"],[1,"icon-picture","m-r-10"],[1,""],[1,"text-muted","p-t-30","db"],[1,"p-t-30","db"],[1,"col-lg-8","col-xlg-9","col-md-7"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",0),u.TgZ(3,"div",2),u.TgZ(4,"button",3),u.NdJ("click",function(){return e.signOut()}),u._uU(5," Sign Out "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u._UZ(9,"img",7),u.TgZ(10,"h4",8),u._uU(11),u.qZA(),u.TgZ(12,"h6",9),u._uU(13),u.qZA(),u.TgZ(14,"div",10),u.TgZ(15,"div",11),u.TgZ(16,"a",12),u._UZ(17,"i",13),u._uU(18),u.qZA(),u.qZA(),u.TgZ(19,"div",11),u.TgZ(20,"a",12),u._UZ(21,"i",14),u._uU(22),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(23,"div"),u._UZ(24,"hr"),u.qZA(),u.TgZ(25,"div",5),u.TgZ(26,"small",15),u._uU(27),u.qZA(),u._UZ(28,"h6"),u.TgZ(29,"small",15),u.TgZ(30,"strong"),u._uU(31,"User type"),u.qZA(),u._uU(32),u.qZA(),u._UZ(33,"h6"),u.TgZ(34,"small",15),u.TgZ(35,"strong"),u._uU(36,"Tenants:"),u.qZA(),u._uU(37),u.qZA(),u._UZ(38,"h6"),u.TgZ(39,"small",15),u.TgZ(40,"strong"),u._uU(41,"Meters"),u.qZA(),u._uU(42),u.qZA(),u._UZ(43,"h6"),u.TgZ(44,"small",15),u.TgZ(45,"strong"),u._uU(46,"Approved by"),u.qZA(),u._uU(47),u.qZA(),u._UZ(48,"h6"),u.TgZ(49,"small",15),u.TgZ(50,"strong"),u._uU(51,"Application status"),u.qZA(),u._uU(52),u.qZA(),u._UZ(53,"h6"),u.TgZ(54,"small",16),u._uU(55),u.qZA(),u._UZ(56,"h6"),u.TgZ(57,"small",17),u._uU(58),u.qZA(),u._UZ(59,"h6"),u.TgZ(60,"small",17),u._uU(61),u.qZA(),u._UZ(62,"h6"),u.TgZ(63,"small",17),u._uU(64),u.qZA(),u._UZ(65,"h6"),u._UZ(66,"br"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(67,"div",18),u._UZ(68,"app-manage-things"),u.qZA(),u.qZA()),2&t&&(u.xp6(11),u.Oqu(e.displayName),u.xp6(2),u.Oqu(e.displayName),u.xp6(5),u.hij(" ",e.tenants," "),u.xp6(4),u.hij(" ",e.meters," "),u.xp6(5),u.hij("Name:",e.displayName," "),u.xp6(5),u.hij(":",e.status," "),u.xp6(5),u.hij(" ",e.tenants,""),u.xp6(5),u.hij(":",e.meters," "),u.xp6(5),u.hij(": ",e.apprvBy," "),u.xp6(5),u.hij(": ",e.appStat," "),u.xp6(3),u.hij("Blood group: ",e.blood,""),u.xp6(3),u.hij("NID: ",e.nid,""),u.xp6(3),u.hij("Date of birth: ",e.dob,""),u.xp6(3),u.hij("Address: ",e.address,""))},directives:[qO],styles:[""]}),lN)},{path:"list-item",component:(cN=function(){function t(e,n){f(this,t),this.authService=e,this.storage=n,this.meters=[]}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.meterIds=this.storage.get("user").meters,this.meterIds.map(function(e){t.authService.getMeterDoc(e).subscribe(function(e){var n=t.meters.findIndex(function(t){return t.mid==e.mid});t.meters[n]=e,n<0&&t.meters.push(e)})}),console.log(this.meters)}},{key:"onStatusToggle",value:function(t,e){this.authService.setData(t,{status:"".concat(e)},"meters")}}]),t}(),cN.\u0275fac=function(t){return new(t||cN)(u.Y36(PO),u.Y36(NO))},cN.\u0275cmp=u.Xpm({type:cN,selectors:[["app-list-item"]],decls:28,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u._uU(4," Back "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"table",7),u.TgZ(10,"thead"),u.TgZ(11,"tr"),u.TgZ(12,"th"),u._uU(13,"Meter Id"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"Status"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Owner"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"Type"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Location"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"Bill"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"tbody"),u.YNc(27,BO,16,8,"tr",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(27),u.Q6J("ngForOf",e.meters))},directives:[pu,Z,z],styles:[""]}),cN)},{path:"list-users",component:(uN=function(){function t(e,n){f(this,t),this.authService=e,this.storage=n,this.users=[]}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getCollection("users").subscribe(function(e){t.users=o(e)}),console.log(this.users)}},{key:"onStatusToggle",value:function(t,e){this.authService.setData(t,{applicationStatus:"".concat(e)},"users")}}]),t}(),uN.\u0275fac=function(t){return new(t||uN)(u.Y36(PO),u.Y36(NO))},uN.\u0275cmp=u.Xpm({type:uN,selectors:[["app-list-users"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u._uU(4," Back "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"table",7),u.TgZ(10,"thead"),u.TgZ(11,"tr"),u.TgZ(12,"th"),u._uU(13,"Status"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"User id"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Name"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"App status"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Approved by"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"Aproved on"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"No of meters"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"No of tenants"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"tbody"),u.YNc(31,zO,20,10,"tr",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(31),u.Q6J("ngForOf",e.users))},directives:[pu,Z,z],styles:[""]}),uN)},{path:"list-landlords",component:(sN=function(){function t(e,n){f(this,t),this.authService=e,this.storage=n,this.users=[]}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getCollectionSpecific("users","status","client").subscribe(function(e){t.users=o(e)})}},{key:"onStatusToggle",value:function(t,e){this.authService.setData(t,{applicationStatus:"".concat(e)},"users")}}]),t}(),sN.\u0275fac=function(t){return new(t||sN)(u.Y36(PO),u.Y36(NO))},sN.\u0275cmp=u.Xpm({type:sN,selectors:[["app-list-landlords"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u._uU(4," Back "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"table",7),u.TgZ(10,"thead"),u.TgZ(11,"tr"),u.TgZ(12,"th"),u._uU(13,"Status"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"User id"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Name"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"App status"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Approved by"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"Aproved on"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"No of meters"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"No of tenants"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"tbody"),u.YNc(31,KO,20,10,"tr",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(31),u.Q6J("ngForOf",e.users))},directives:[pu,Z,z],styles:[""]}),sN)},{path:"list-tenants",component:(aN=function(){function t(e,n){f(this,t),this.authService=e,this.storage=n,this.users=[]}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getCollectionSpecific("users","status","tenant").subscribe(function(e){t.users=o(e)})}},{key:"onStatusToggle",value:function(t,e){this.authService.setData(t,{applicationStatus:"".concat(e)},"users")}}]),t}(),aN.\u0275fac=function(t){return new(t||aN)(u.Y36(PO),u.Y36(NO))},aN.\u0275cmp=u.Xpm({type:aN,selectors:[["app-list-tenants"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u._uU(4," Back "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"table",7),u.TgZ(10,"thead"),u.TgZ(11,"tr"),u.TgZ(12,"th"),u._uU(13,"Status"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"User id"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Name"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"App status"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Approved by"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"Aproved on"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"No of meters"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"No of tenants"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"tbody"),u.YNc(31,JO,20,10,"tr",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(31),u.Q6J("ngForOf",e.users))},directives:[pu,Z,z],styles:[""]}),aN)},{path:"list-super-admin",component:(oN=function(){function t(e,n){f(this,t),this.authService=e,this.storage=n,this.users=[]}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getCollectionSpecific("users","status","super_admin").subscribe(function(e){t.users=o(e)})}},{key:"onStatusToggle",value:function(t,e){this.authService.setData(t,{applicationStatus:"".concat(e)},"users")}}]),t}(),oN.\u0275fac=function(t){return new(t||oN)(u.Y36(PO),u.Y36(NO))},oN.\u0275cmp=u.Xpm({type:oN,selectors:[["app-list-super-admin"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u._uU(4," Back "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"table",7),u.TgZ(10,"thead"),u.TgZ(11,"tr"),u.TgZ(12,"th"),u._uU(13,"Status"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"User id"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Name"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"App status"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Approved by"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"Aproved on"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"No of meters"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"No of tenants"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"tbody"),u.YNc(31,tN,20,10,"tr",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(31),u.Q6J("ngForOf",e.users))},directives:[pu,Z,z],styles:[""]}),oN)},{path:"list-admin",component:(iN=function(){function t(e,n,r){f(this,t),this.authService=e,this.storage=n,this.router=r,this.users=[]}return h(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.getCollectionSpecific("users","status","admin").subscribe(function(e){t.users=o(e)})}},{key:"onStatusToggle",value:function(t,e){this.authService.setData(t,{applicationStatus:"".concat(e)},"users")}},{key:"back",value:function(){}}]),t}(),iN.\u0275fac=function(t){return new(t||iN)(u.Y36(PO),u.Y36(NO),u.Y36(du))},iN.\u0275cmp=u.Xpm({type:iN,selectors:[["app-list-admin"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"button",2),u._uU(4," Back "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"div",3),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"div",6),u.TgZ(9,"table",7),u.TgZ(10,"thead"),u.TgZ(11,"tr"),u.TgZ(12,"th"),u._uU(13,"Status"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"User id"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Name"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"App status"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Approved by"),u.qZA(),u.TgZ(22,"th"),u._uU(23,"Aproved on"),u.qZA(),u.TgZ(24,"th"),u._uU(25,"No of meters"),u.qZA(),u.TgZ(26,"th"),u._uU(27,"No of tenants"),u.qZA(),u.TgZ(28,"th"),u._uU(29,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"tbody"),u.YNc(31,rN,20,10,"tr",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(31),u.Q6J("ngForOf",e.users))},directives:[pu,Z,z],styles:[""]}),iN)},{path:"**",redirectTo:"/authentication/404"}];function fN(t,e){1&t&&(u.TgZ(0,"div",1),u.TgZ(1,"div",2),u._UZ(2,"div",3),u._UZ(3,"div",4),u.qZA(),u.qZA())}var dN=function(){var t=function(){function t(e,n){var r=this;f(this,t),this.router=e,this.document=n,this.isSpinnerVisible=!0,this.backgroundColor="rgba(0, 115, 170, 0.69)",this.router.events.subscribe(function(t){t instanceof Vo?r.isSpinnerVisible=!0:(t instanceof Bo||t instanceof Zo||t instanceof Ho)&&(r.isSpinnerVisible=!1)},function(){r.isSpinnerVisible=!1})}return h(t,[{key:"ngOnDestroy",value:function(){this.isSpinnerVisible=!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.Y36(du),u.Y36(y))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-spinner"]],inputs:{backgroundColor:"backgroundColor"},decls:1,vars:1,consts:[["class","preloader",4,"ngIf"],[1,"preloader"],[1,"spinner"],[1,"double-bounce1"],[1,"double-bounce2"]],template:function(t,e){1&t&&u.YNc(0,fN,4,0,"div",0),2&t&&u.Q6J("ngIf",e.isSpinnerVisible)},directives:[z],encapsulation:2}),t}(),pN=function(){var t=function t(){f(this,t),this.title="app"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(u.TgZ(0,"router-outlet"),u._UZ(1,"app-spinner"),u.qZA())},directives:[gu,dN],styles:[""]}),t}();function vN(t){return getComputedStyle(t)}function gN(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function yN(t){var e=document.createElement("div");return e.className=t,e}var mN="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function _N(t,e){if(!mN)throw new Error("No element matching method supported");return mN.call(t,e)}function wN(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function bN(t,e){return Array.prototype.filter.call(t.children,function(t){return _N(t,e)})}var kN=function(t){return"ps__thumb-"+t},TN=function(t){return"ps__rail-"+t},xN=function(t){return"ps--active-"+t},CN=function(t){return"ps--scrolling-"+t},EN={x:null,y:null};function SN(t,e){var n=t.element.classList,r=CN(e);n.contains(r)?clearTimeout(EN[e]):n.add(r)}function IN(t,e){EN[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(CN(e))},t.settings.scrollingThreshold)}var AN=function(t){this.element=t,this.handlers={}},ON={isEmpty:{configurable:!0}};AN.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},AN.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)})},AN.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},ON.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(AN.prototype,ON);var NN=function(){this.eventElements=[]};function PN(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function RN(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=t.element;t.reach[u]=null,h[s]<1&&(t.reach[u]="start"),h[s]>t[o]-t[a]-1&&(t.reach[u]="end"),e&&(h.dispatchEvent(PN("ps-scroll-"+u)),e<0?h.dispatchEvent(PN("ps-scroll-"+c)):e>0&&h.dispatchEvent(PN("ps-scroll-"+l)),r&&function(t,e){SN(t,e),IN(t,e)}(t,u)),t.reach[u]&&(e||i)&&h.dispatchEvent(PN("ps-"+u+"-reach-"+t.reach[u]))}(t,n,o,r,i)}function DN(t){return parseInt(t,10)||0}NN.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new AN(t),this.eventElements.push(e)),e},NN.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},NN.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},NN.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},NN.prototype.once=function(t,e,n){var r=this.eventElement(t);r.bind(e,function t(i){r.unbind(e,t),n(i)})};var LN={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function MN(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(bN(e,TN("x")).forEach(function(t){return wN(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(bN(e,TN("y")).forEach(function(t){return wN(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=FN(t,DN(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=DN((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=FN(t,DN(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=DN(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r,gN(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?i.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:i.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,gN(e.scrollbarYRail,i),gN(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),gN(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(xN("x")):(e.classList.remove(xN("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(xN("y")):(e.classList.remove(xN("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function FN(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function UN(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=t.element,f=null,d=null,p=null;function v(e){e.touches&&e.touches[0]&&(e[i]=e.touches[0].pageY),h[u]=f+p*(e[i]-d),SN(t,c),MN(t),e.stopPropagation(),e.preventDefault()}function g(){IN(t,c),t[l].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",v)}function y(e,a){f=h[u],a&&e.touches&&(e[i]=e.touches[0].pageY),d=e[i],p=(t[r]-t[n])/(t[o]-t[s]),a?t.event.bind(t.ownerDocument,"touchmove",v):(t.event.bind(t.ownerDocument,"mousemove",v),t.event.once(t.ownerDocument,"mouseup",g),e.preventDefault()),t[l].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[a],"mousedown",function(t){y(t)}),t.event.bind(t[a],"touchstart",function(t){y(t,!0)})}var qN={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,MN(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,MN(t),e.stopPropagation()})},"drag-thumb":function(t){UN(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),UN(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(_N(e,":hover")||_N(t.scrollbarX,":focus")||_N(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(_N(r=i,"input,[contenteditable]")||_N(r,"select,[contenteditable]")||_N(r,"textarea,[contenteditable]")||_N(r,"button,[contenteditable]"))return}var o=0,a=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:a=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:a=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:a=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==a||(e.scrollTop-=a,e.scrollLeft+=o,MN(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,a)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!LN.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var o=vN(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&(i.scrollTop>0&&r<0||i.scrollTop<a&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<s&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var a=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,a=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,a=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),MN(t),(a=a||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,a=i+e.offsetHeight===e.scrollHeight,s=0===e.scrollLeft,u=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||a:s||u)||!t.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(LN.supportsTouch||LN.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;LN.supportsTouch?(t.event.bind(e,"touchstart",c),t.event.bind(e,"touchmove",l),t.event.bind(e,"touchend",h)):LN.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",c),t.event.bind(e,"pointermove",l),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",c),t.event.bind(e,"MSPointerMove",l),t.event.bind(e,"MSPointerUp",h)))}function a(n,r){e.scrollTop-=r,e.scrollLeft-=n,MN(t)}function s(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function c(t){if(u(t)){var e=s(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function l(o){if(u(o)){var c=s(o),l={pageX:c.pageX,pageY:c.pageY},h=l.pageX-n.pageX,f=l.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var o=vN(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var a=i.scrollHeight-i.clientHeight;if(a>0&&(i.scrollTop>0&&r<0||i.scrollTop<a&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var s=i.scrollWidth-i.clientWidth;if(s>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<s&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,f))return;a(h,f),n=l;var d=(new Date).getTime(),p=d-r;p>0&&(i.x=h/p,i.y=f/p,r=d),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&LN.isChrome}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,f)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(a(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)},10))}}},jN=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,a=function(){return t.classList.add("ps--focus")},s=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===vN(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new NN,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=yN(TN("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=yN(kN("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",a),this.event.bind(this.scrollbarX,"blur",s),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=vN(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=DN(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=DN(u.borderLeftWidth)+DN(u.borderRightWidth),gN(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=DN(u.marginLeft)+DN(u.marginRight),gN(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=yN(TN("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=yN(kN("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",a),this.event.bind(this.scrollbarY,"blur",s),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=vN(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=DN(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=vN(t);return DN(e.width)+DN(e.paddingLeft)+DN(e.paddingRight)+DN(e.borderLeftWidth)+DN(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=DN(c.borderTopWidth)+DN(c.borderBottomWidth),gN(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=DN(c.marginTop)+DN(c.marginBottom),gN(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return qN[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),MN(this)};jN.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,gN(this.scrollbarXRail,{display:"block"}),gN(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=DN(vN(this.scrollbarXRail).marginLeft)+DN(vN(this.scrollbarXRail).marginRight),this.railYMarginHeight=DN(vN(this.scrollbarYRail).marginTop)+DN(vN(this.scrollbarYRail).marginBottom),gN(this.scrollbarXRail,{display:"none"}),gN(this.scrollbarYRail,{display:"none"}),MN(this),RN(this,"top",0,!1,!0),RN(this,"left",0,!1,!0),gN(this.scrollbarXRail,{display:""}),gN(this.scrollbarYRail,{display:""}))},jN.prototype.onScroll=function(t){this.isAlive&&(MN(this),RN(this,"top",this.element.scrollTop-this.lastScrollTop),RN(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},jN.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),wN(this.scrollbarX),wN(this.scrollbarY),wN(this.scrollbarXRail),wN(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},jN.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};var VN=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),BN="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ZN="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),HN="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ZN):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},zN=["top","right","bottom","left","width","height","size","weight"],GN="undefined"!=typeof MutationObserver,WN=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){HN(o)}function s(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,20);i=t}return s}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){BN&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),GN?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){BN&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;zN.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),KN=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},YN=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||ZN},QN=tP(0,0,0,0);function JN(t){return parseFloat(t)||0}function XN(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+JN(t["border-"+n+"-width"])},0)}var $N="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof YN(t).SVGGraphicsElement}:function(t){return t instanceof YN(t).SVGElement&&"function"==typeof t.getBBox};function tP(t,e,n,r){return{x:t,y:e,width:n,height:r}}var eP=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=tP(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,BN?$N(t)?function(t){var e=t.getBBox();return tP(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return QN;var r=YN(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=JN(t["padding-"+i])}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=JN(r.width),u=JN(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=XN(r,"left","right")+o),Math.round(u+a)!==n&&(u-=XN(r,"top","bottom")+a)),!function(t){return t===YN(t).document.documentElement}(t)){var c=Math.round(s+o)-e,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return tP(i.left,i.top,s,u)}(t):QN);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),nP=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return KN(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);KN(this,{target:t,contentRect:n})},rP=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new VN,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof YN(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new eP(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof YN(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new nP(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),iP="undefined"!=typeof WeakMap?new WeakMap:new VN,oP=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=WN.getInstance(),r=new rP(e,n,this);iP.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){oP.prototype[t]=function(){var e;return(e=iP.get(this))[t].apply(e,arguments)}});var aP=new u.OlP("PERFECT_SCROLLBAR_CONFIG"),sP=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[K],K]}),t}();function uP(t){return!!t&&(t instanceof ir.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var cP=function t(){f(this,t)},lP=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"getTranslation",value:function(t){return(0,ii.of)({})}}]),n}(cP);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),hP=function t(){f(this,t)},fP=function(){var t=function(){function t(){f(this,t)}return h(t,[{key:"handle",value:function(t){return t.key}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}();function dP(t){return null!=t}function pP(t){return t&&"object"==typeof t&&!Array.isArray(t)}function vP(e,n){var r=Object.assign({},e);return pP(e)&&pP(n)&&Object.keys(n).forEach(function(i){pP(n[i])&&i in e?r[i]=vP(e[i],n[i]):Object.assign(r,t({},i,n[i]))}),r}var gP=function t(){f(this,t)},yP=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,t}return h(n,[{key:"interpolate",value:function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t}},{key:"getValue",value:function(t,e){var n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!dP(t)||!dP(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}},{key:"interpolateFunction",value:function(t,e){return t(e)}},{key:"interpolateString",value:function(t,e){var n=this;return e?t.replace(this.templateMatcher,function(t,r){var i=n.getValue(e,r);return dP(i)?i:t}):t}}]),n}(gP);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),mP=function t(){f(this,t)},_P=function(){var t,e=function(t){d(n,t);var e=p(n);function n(){return f(this,n),e.apply(this,arguments)}return h(n,[{key:"compile",value:function(t,e){return t}},{key:"compileTranslations",value:function(t,e){return t}}]),n}(mP);return e.\u0275fac=function(n){return(t||(t=u.n5z(e)))(n||e)},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac}),e}(),wP=function t(){f(this,t),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new u.vpe,this.onLangChange=new u.vpe,this.onDefaultLangChange=new u.vpe},bP=new u.OlP("USE_STORE"),kP=new u.OlP("USE_DEFAULT_LANG"),TP=new u.OlP("DEFAULT_LANGUAGE"),xP=new u.OlP("USE_EXTEND"),CP=function(){var t=function(){function t(e,n,r,i,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;f(this,t),this.store=e,this.currentLoader=n,this.compiler=r,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=s,this.extend=c,this.pending=!1,this._onTranslationChange=new u.vpe,this._onLangChange=new u.vpe,this._onDefaultLangChange=new u.vpe,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}return h(t,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t}},{key:"setDefaultLang",value:function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(fo(1)).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var e=this;if(t===this.currentLang)return(0,ii.of)(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(fo(1)).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),(0,ii.of)(this.translations[t]))}},{key:"retrieveTranslations",value:function(t){var e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}},{key:"getTranslation",value:function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(iO(1),fo(1));return this.loadingTranslations=n.pipe((0,ar.U)(function(n){return e.compiler.compileTranslations(n,t)}),iO(1),fo(1)),this.loadingTranslations.subscribe({next:function(n){e.translations[t]=e.extend&&e.translations[t]?Object.assign(Object.assign({},n),e.translations[t]):n,e.updateLangs(),e.pending=!1},error:function(t){e.pending=!1}}),n}},{key:"setTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?vP(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(t,e,n){var r;if(e instanceof Array){var i,o={},a=!1,u=s(e);try{for(u.s();!(i=u.n()).done;){var c=i.value;o[c]=this.getParsedResult(t,c,n),uP(o[c])&&(a=!0)}}catch(h){u.e(h)}finally{u.f()}return a?ur(e.map(function(t){return uP(o[t])?o[t]:(0,ii.of)(o[t])})).pipe((0,ar.U)(function(t){var n={};return t.forEach(function(t,r){n[e[r]]=t}),n})):o}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===r){var l={key:e,translateService:this};void 0!==n&&(l.interpolateParams=n),r=this.missingTranslationHandler.handle(l)}return void 0!==r?r:e}},{key:"get",value:function(t,e){var n=this;if(!dP(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(ai(function(r){return uP(r=n.getParsedResult(r,t,e))?r:(0,ii.of)(r)}));var r=this.getParsedResult(this.translations[this.currentLang],t,e);return uP(r)?r:(0,ii.of)(r)}},{key:"getStreamOnTranslationChange",value:function(t,e){var n=this;if(!dP(t)||!t.length)throw new Error('Parameter "key" required');return ro(oo(function(){return n.get(t,e)}),this.onTranslationChange.pipe(uo(function(r){var i=n.getParsedResult(r.translations,t,e);return"function"==typeof i.subscribe?i:(0,ii.of)(i)})))}},{key:"stream",value:function(t,e){var n=this;if(!dP(t)||!t.length)throw new Error('Parameter "key" required');return ro(oo(function(){return n.get(t,e)}),this.onLangChange.pipe(uo(function(r){var i=n.getParsedResult(r.translations,t,e);return uP(i)?i:(0,ii.of)(i)})))}},{key:"instant",value:function(t,e){if(!dP(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(uP(n)){if(t instanceof Array){var r={};return t.forEach(function(e,n){r[t[n]]=t[n]}),r}return t}return n}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}},{key:"changeDefaultLang",value:function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}},{key:"reloadLang",value:function(t){return this.resetLang(t),this.getTranslation(t)}},{key:"resetLang",value:function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(u.LFG(wP),u.LFG(cP),u.LFG(mP),u.LFG(gP),u.LFG(hP),u.LFG(kP),u.LFG(bP),u.LFG(xP),u.LFG(TP))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}(),EP=function(){var t=function(){function t(){f(this,t)}return h(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:cP,useClass:lP},e.compiler||{provide:mP,useClass:_P},e.parser||{provide:gP,useClass:yP},e.missingTranslationHandler||{provide:hP,useClass:fP},wP,{provide:bP,useValue:e.isolate},{provide:kP,useValue:e.useDefaultLang},{provide:xP,useValue:e.extend},{provide:TP,useValue:e.defaultLanguage},CP]}}},{key:"forChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:cP,useClass:lP},e.compiler||{provide:mP,useClass:_P},e.parser||{provide:gP,useClass:yP},e.missingTranslationHandler||{provide:hP,useClass:fP},{provide:bP,useValue:e.isolate},{provide:kP,useValue:e.useDefaultLang},{provide:xP,useValue:e.extend},{provide:TP,useValue:e.defaultLanguage},CP]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),t}(),SP=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";f(this,t),this.http=e,this.prefix=n,this.suffix=r}return h(t,[{key:"getTranslation",value:function(t){return this.http.get("".concat(this.prefix).concat(t).concat(this.suffix))}}]),t}(),IP={apiKey:"AIzaSyBvjct7nOViUo3FuCFA-nV7UBVzerbWdtc",authDomain:"desco-8e1d2.firebaseapp.com",projectId:"desco-8e1d2",storageBucket:"desco-8e1d2.appspot.com",messagingSenderId:"1067554314872",appId:"1:1067554314872:web:f3dfc52ba1c0162e506b8d"};function AP(t){return new SP(t,"./assets/i18n/",".json")}var OP={suppressScrollX:!0,wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20};Yl.default.initializeApp(IP);var NP=function(){var t=function t(){f(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t,bootstrap:[pN]}),t.\u0275inj=u.cJS({providers:[{provide:aP,useValue:OP}],imports:[[XA.hO.initializeApp(IP),pO,OO,K,Pt,nr,ni,Hl.forRoot(),ri,Yc,Bi,Kc,pl,Wl,Wl.pick(Kl),Eu.forRoot(hN),sP,dl.forRoot(),Bi,EP.forRoot({loader:{provide:cP,useFactory:AP,deps:[Ai]}})]]}),t}();(0,u.G48)(),Ot().bootstrapModule(NP).catch(function(t){return console.log(t)})},4762:function(t,e,n){"use strict";n.r(e),n.d(e,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return h},__createBinding:function(){return f},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return y},__spreadArray:function(){return m},__await:function(){return _},__asyncGenerator:function(){return w},__asyncDelegator:function(){return b},__asyncValues:function(){return k},__makeTemplateObject:function(){return T},__importStar:function(){return C},__importDefault:function(){return E},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return I}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||f(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function k(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&f(e,t,n);return x(e,t),e}function E(t){return t&&t.__esModule?t:{default:t}}function S(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function I(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}}},function(t){"use strict";t(t.s=9686)}])}();