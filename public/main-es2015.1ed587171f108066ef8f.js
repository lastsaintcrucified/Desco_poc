(self.webpackChunkadminpro_angular=self.webpackChunkadminpro_angular||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},1572:function(t,e,n){"use strict";n.d(e,{deG:function(){return rn},tb:function(){return Yc},AFp:function(){return Hc},ip1:function(){return Bc},CZH:function(){return Zc},hGG:function(){return Bl},z2F:function(){return Pl},sBO:function(){return Fu},Sil:function(){return sl},_Vd:function(){return au},EJc:function(){return Jc},SBq:function(){return hu},qLn:function(){return Cr},vpe:function(){return xc},gxx:function(){return Co},tBr:function(){return Tn},XFs:function(){return O},OlP:function(){return nn},zs3:function(){return qo},ZZ4:function(){return Ou},aQg:function(){return Pu},soG:function(){return Qc},YKP:function(){return Wu},v3s:function(){return Dl},h0i:function(){return Gu},PXZ:function(){return Il},R0b:function(){return cl},FiY:function(){return Cn},Lbi:function(){return Kc},g9A:function(){return Wc},Qsj:function(){return pu},FYo:function(){return du},JOm:function(){return Or},Tiy:function(){return mu},q3G:function(){return gr},tp0:function(){return En},EAV:function(){return Fl},Rgc:function(){return Bu},dDg:function(){return ml},DyG:function(){return on},q4F:function(){return yu},GfV:function(){return vu},s_b:function(){return Yu},ifc:function(){return L},eFA:function(){return Al},G48:function(){return El},Gpc:function(){return d},X6Q:function(){return Cl},_c5:function(){return jl},VLi:function(){return _l},c2e:function(){return $c},zSh:function(){return So},wAp:function(){return ia},vHH:function(){return m},EiD:function(){return dr},mCW:function(){return Yn},qzn:function(){return Fn},JVY:function(){return qn},pB0:function(){return Zn},eBb:function(){return Vn},L6k:function(){return jn},LAX:function(){return Bn},cg1:function(){return ea},Tjo:function(){return ql},kL8:function(){return na},yhl:function(){return Un},dqk:function(){return V},sIi:function(){return Yo},CqO:function(){return gs},QGY:function(){return ds},F4k:function(){return ps},RDi:function(){return Tt},AaK:function(){return l},z3N:function(){return Ln},qOj:function(){return Vo},TTD:function(){return vt},_Bn:function(){return iu},xp6:function(){return Ei},uIk:function(){return ts},Tol:function(){return Rs},DjV:function(){return Ys},ekj:function(){return Ps},Suo:function(){return Lc},Xpm:function(){return J},lG2:function(){return ot},Yz7:function(){return b},cJS:function(){return x},oAB:function(){return nt},Yjl:function(){return st},Y36:function(){return is},_UZ:function(){return cs},BQk:function(){return hs},ynx:function(){return ls},qZA:function(){return us},TgZ:function(){return as},EpF:function(){return fs},n5z:function(){return Je},Ikx:function(){return $s},SDv:function(){return Ka},QtT:function(){return $a},pQV:function(){return Ya},LFG:function(){return wn},$8M:function(){return tn},NdJ:function(){return ms},CRH:function(){return Fc},oxw:function(){return _s},ALo:function(){return mc},lcZ:function(){return vc},xi3:function(){return yc},Hsn:function(){return xs},F$t:function(){return bs},Q6J:function(){return os},s9C:function(){return Ts},MGl:function(){return Cs},VKq:function(){return lc},WLB:function(){return hc},kEZ:function(){return fc},iGM:function(){return Dc},MAs:function(){return rs},evT:function(){return Ar},CHM:function(){return Bt},oJD:function(){return mr},LSH:function(){return vr},kYT:function(){return rt},Udp:function(){return Ns},d8E:function(){return Qs},YNc:function(){return ns},W1O:function(){return Vc},_uU:function(){return zs},Oqu:function(){return Gs},hij:function(){return Ws},AsE:function(){return Ks},Gf:function(){return Mc}});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(1055);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=u({__forward_ref__:u});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function y(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function _(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${y(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,S)||C(t,A)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(k))?t[I]:null}const S=u({"\u0275prov":u}),I=u({"\u0275inj":u}),A=u({ngInjectableDef:u}),k=u({ngInjectorDef:u});var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function P(t){const e=N;return N=t,e}function R(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==e?e:void _(l(t),"Injector")}function D(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,V=F||j||U||q,B={},Z=[],H=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),G=u({"\u0275pipe":u}),W=u({"\u0275mod":u}),K=u({"\u0275loc":u}),Y=u({"\u0275fac":u}),$=u({__NG_ELEMENT_ID__:u});let Q=0;function J(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||Z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Q++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function X(t){return at(t)||function(t){return t[z]||null}(t)}function tt(t){return function(t){return t[G]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||Z,declarations:t.declarations||Z,imports:t.imports||Z,exports:t.exports||Z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{et[t.id]=t.type}),e}function rt(t,e){return D(()=>{const n=ut(t,!0);n.declarations=e.declarations||Z,n.imports=e.imports||Z,n.exports=e.exports||Z})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=J;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ut(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function lt(t){return Array.isArray(t)&&!0===t[1]}function ht(t){return 0!=(8&t.flags)}function ft(t){return 2==(2&t.flags)}function dt(t){return 1==(1&t.flags)}function pt(t){return null!==t.template}function gt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),_t}function _t(){const t=bt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=bt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new mt(u&&u.currentValue,e,s===B),t[r]=e}function bt(t){return t.__ngSimpleChanges__||null}let xt;function Tt(t){xt=t}function Ct(){return void 0!==xt?xt:"undefined"!=typeof document?document:void 0}function Et(t){return!!t.listen}vt.ngInherit=!0;const St={createRenderer:(t,e)=>Ct()};function It(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return It(e[t])}function kt(t,e){return It(e[t.index])}function Ot(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Pt(t,e){const n=e[t];return ct(n)?n:n[0]}function Rt(t){return 4==(4&t[2])}function Dt(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ut={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qt(){return Ut.bindingsEnabled}function jt(){return Ut.lFrame.lView}function Vt(){return Ut.lFrame.tView}function Bt(t){return Ut.lFrame.contextLView=t,t[8]}function Zt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return Ut.lFrame.currentTNode}function zt(){const t=Ut.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gt(t,e){const n=Ut.lFrame;n.currentTNode=t,n.isParent=e}function Wt(){return Ut.lFrame.isParent}function Kt(){Ut.lFrame.isParent=!1}function Yt(){return Ut.isInCheckNoChangesMode}function $t(t){Ut.isInCheckNoChangesMode=t}function Qt(){const t=Ut.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Jt(){return Ut.lFrame.bindingIndex}function Xt(){return Ut.lFrame.bindingIndex++}function te(t){const e=Ut.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t){Ut.lFrame.inI18n=t}function ne(t,e){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Ut.lFrame.currentDirectiveIndex=t}function ie(t){const e=Ut.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function oe(){return Ut.lFrame.currentQueryIndex}function se(t){Ut.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&O.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&O.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ut.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Ut.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Ut.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Ut.lFrame;return Ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Ut.lFrame.selectedIndex}function me(t){Ut.lFrame.selectedIndex=t}function ve(){const t=Ut.lFrame;return Ot(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){xe(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&xe(t,e,n,r)}function be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ee(t,e,n){const r=Et(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ie(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Oe(t){return-1!==t}function Ne(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function De(t){const e=Re;return Re=t,e}let Me=0;function Le(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Oe(i)){const t=Ne(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function je(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($)&&(r=n[$]),null==r&&(r=n[$]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ve(t,e,n){if(n&O.Optional)return t;_(e,"NodeInjector")}function Be(t,e,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&O.Optional):R(e,r,n&O.Optional)}finally{P(o)}}return Ve(r,e,n)}function Ze(t,e,n,r=O.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($)?t[$]:void 0;return"number"==typeof e?e>=0?255&e:ze:e}(n);if("function"==typeof o){if(!ue(e,t,r))return r&O.Host?Ve(i,n,r):Be(e,n,r,i);try{const t=o(r);if(null!=t||r&O.Optional)return t;_(n)}finally{de()}}else if("number"==typeof o){let i=null,s=Ue(t,e),a=-1,u=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],-1!==a&&$e(r,!1)?(i=e[1],s=Ne(a),e=Pe(a,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=Ge(s,e,n,i,r,u);if(t!==He)return t}a=e[s+8],-1!==a&&$e(r,e[1].data[s+8]===u)&&Ye(o,s,e)?(i=t,s=Ne(a),e=Pe(a,e)):s=-1}}}return Be(e,n,r,i)}const He={};function ze(){return new Qe(Zt(),jt())}function Ge(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=We(a,s,n,null==r?ft(a)&&Re:r!=s&&0!=(3&a.type),i&O.Host&&o===a);return null!==u?Ke(e,s,u,a):He}function We(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&pt(t)&&t.type===n)return u}return null}function Ke(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ce){const s=i;s.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(y(o[n]));const a=De(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?P(s.injectImpl):null;ue(t,r,O.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&P(u),De(a),s.resolving=!1,de()}}return i}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $e(t,e){return!(t&O.Self||t&O.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ze(this._tNode,this._lView,t,void 0,e)}}function Je(t){return D(()=>{const e=t.prototype.constructor,n=e[Y]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Xe(t){return g(t)?()=>{const e=Xe(p(t));return e&&e()}:gt(t)}function tn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}function en(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),on=Function;function sn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),sn(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function fn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},gn=/\n/gm,mn=u({provide:String,useValue:u});let vn;function yn(t){const e=vn;return vn=t,e}function _n(t,e=O.Default){if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?R(t,void 0,e):vn.get(t,e&O.Optional?null:void 0,e)}function wn(t,e=O.Default){return(N||_n)(p(t),e)}function bn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(wn(t,n))}else e.push(wn(r))}return e}function xn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Tn=xn(en("Inject",t=>({token:t})),-1),Cn=xn(en("Optional"),8),En=xn(en("SkipSelf"),4);let Sn,In;function An(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,V.trustedTypes))try{Sn=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}function kn(t){var e;return(null===(e=function(){if(void 0===In&&(In=null,V.trustedTypes))try{In=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return In}())||void 0===e?void 0:e.createHTML(t))||t}class On{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends On{getTypeName(){return"HTML"}}class Pn extends On{getTypeName(){return"Style"}}class Rn extends On{getTypeName(){return"Script"}}class Dn extends On{getTypeName(){return"URL"}}class Mn extends On{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof On?t.changingThisBreaksApplicationSecurity:t}function Fn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof On&&t.getTypeName()||null}function qn(t){return new Nn(t)}function jn(t){return new Pn(t)}function Vn(t){return new Rn(t)}function Bn(t){return new Dn(t)}function Zn(t){return new Mn(t)}function Hn(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new zn(e):e}class zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(Wn)||t.match(Kn)?t:"unsafe:"+t}function $n(t){return(t=String(t)).split(",").map(t=>Yn(t.trim())).join(", ")}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Xn=Qn("area,br,col,hr,img,wbr"),tr=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Qn("rp,rt"),nr=Jn(er,tr),rr=Jn(Xn,Jn(tr,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(er,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Qn("srcset"),sr=Jn(ir,or,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Qn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!sr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;ir[i]&&(o=Yn(o)),or[i]&&(o=$n(o)),this.buf.push(" ",e,'="',hr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Xn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||Hn(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);return An((new ur).sanitizeChildren(pr(n)||n))}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=yr();return e?kn(e.sanitize(gr.HTML,t)||""):Fn(t,"HTML")?kn(Ln(t)):dr(Ct(),v(t))}function vr(t){const e=yr();return e?e.sanitize(gr.URL,t)||"":Fn(t,"URL")?Ln(t):Yn(v(t))}function yr(){const t=jt();return t&&t[12]}function _r(t,e){t.__ngContext__=e}function wr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function br(t){return t.ngDebugContext}function xr(t){return t.ngOriginalError}function Tr(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?br(t)?br(t):this._findContext(xr(t)):null}_findOriginalError(t){let e=xr(t);for(;e&&xr(e);)e=xr(e);return e}}const Er=/^>|^->|<!--|-->|--!>|<!-$/g,Sr=/(<|>)/,Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Ar(t){return t.ownerDocument}function kr(t){return t instanceof Function?t():t}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Nr;function Pr(t,e){return Nr(t,e)}function Rr(t){const e=t[3];return lt(e)?e[3]:e}function Dr(t){return Lr(t[13])}function Mr(t){return Lr(t[4])}function Lr(t){for(;null!==t&&!lt(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let o,s=!1;lt(r)?o=r:ct(r)&&(s=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?Yr(e,n,a):Kr(e,n,a,i||null,!0):1===t&&null!==n?Kr(e,n,a,i||null,!0):2===t?ai(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==It(n)&&Fr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];ci(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ur(t,e){return Et(t)?t.createText(e):t.createTextNode(e)}function qr(t,e,n){Et(t)?t.setValue(e,n):e.textContent=n}function jr(t,e){return t.createComment(function(t){return t.replace(Er,t=>t.replace(Sr,"\u200b$1\u200b"))}(e))}function Vr(t,e,n){return Et(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Zr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Br(o,r),e>0&&(t[n-1][4]=r[4]);const s=cn(t,10+e);ci(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Hr(t,e){if(!(256&e[2])){const n=e[11];Et(n)&&n.destroyNode&&ci(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zr(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&zr(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&zr(e[1],e),n=e&&e[4]}e=n}}(e)}}function zr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):It(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Et(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&lt(e[3])){n!==e[3]&&Br(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Gr(t,e,n){return Wr(t,e.parent,n)}function Wr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return kt(r,n)}function Kr(t,e,n,r,i){Et(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Yr(t,e,n){Et(t)?t.appendChild(e,n):e.appendChild(n)}function $r(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):Yr(t,e,n)}function Qr(t,e){return Et(t)?t.parentNode(e):e.parentNode}function Jr(t,e,n){return ei(t,e,n)}function Xr(t,e,n){return 40&t.type?kt(t,n):null}let ti,ei=Xr;function ni(t,e){ei=t,ti=e}function ri(t,e,n,r){const i=Gr(t,r,e),o=e[11],s=Jr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)$r(o,i,n[a],s,!1);else $r(o,i,n,s,!1);void 0!==ti&&ti(o,r,e,n,i)}function ii(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return si(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ii(t,n);{const n=t[e.index];return lt(n)?si(-1,n):It(n)}}if(32&n)return Pr(e,t)()||It(t[e.index]);{const n=oi(t,e);return null!==n?Array.isArray(n)?n[0]:ii(Rr(t[16]),n):ii(t,e.next)}}return null}function oi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function si(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ii(t,r)}return e[7]}function ai(t,e,n){const r=Qr(t,e);r&&function(t,e,n,r){Et(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function ui(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&_r(It(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ui(t,e,n.child,r,i,o,!1),Fr(e,t,i,a,o);else if(32&u){const s=Pr(n,r);let u;for(;u=s();)Fr(e,t,i,u,o);Fr(e,t,i,a,o)}else 16&u?li(t,e,r,n,i,o):Fr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ci(t,e,n,r,i,o){ui(n,r,t.firstChild,e,i,o,!1)}function li(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Fr(e,t,i,a[u],o);else ui(t,e,a,s[3],i,o,!0)}function hi(t,e,n){Et(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function fi(t,e,n){Et(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function di(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function pi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==di(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function gi(t){return 4===t.type&&"ng-template"!==t.value}function mi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function vi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!mi(t,u,n)||""===u&&1===e.length){if(yi(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!pi(t.attrs,c,n)){if(yi(r))return!1;s=!0}continue}const l=_i(8&r?"class":u,i,gi(t),n);if(-1===l){if(yi(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==di(e,c,0)||2&r&&c!==t){if(yi(r))return!1;s=!0}}}}else{if(!s&&!yi(r)&&!yi(u))return!1;if(s&&yi(u))continue;s=!1,r=u|1&r}}return yi(r)||s}function yi(t){return 0==(1&t)}function _i(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wi(t,e,n=!1){for(let r=0;r<e.length;r++)if(vi(t,e[r],n))return!0;return!1}function bi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function xi(t,e){return t?":not("+e.trim()+")":e}function Ti(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||yi(s)||(e+=xi(o,i),i=""),r=s,o=o||!yi(r);n++}return""!==i&&(e+=xi(o,i)),e}const Ci={};function Ei(t){Si(Vt(),jt(),ge()+t,Yt())}function Si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}me(n)}function Ii(t,e){return t<<17|e<<2}function Ai(t){return t>>17&32767}function ki(t){return 2|t}function Oi(t){return(131068&t)>>2}function Ni(t,e){return-131069&t|e<<2}function Pi(t){return 1|t}function Ri(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];se(i),n.contentQueries(2,e[o],o)}}}function Di(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Lt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Mi(t,e,n,r,i){let o=t.data[e];if(null===o)o=Li(t,e,n,r,i),Ut.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=zt();o.injectorIndex=null===t?-1:t.injectorIndex}return Gt(o,!0),o}function Li(t,e,n,r,i){const o=Ht(),s=Wt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Fi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ui(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&mo(1,r,n);const i=t.template;null!==i&&Vi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ri(t,e),t.staticViewQueries&&mo(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)lo(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function qi(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const o=Yt();try{Lt(e),Ut.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Vi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),be(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Mr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Dt(n)&&qi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ri(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),be(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,o=n[++t],s=n[++t];ne(o,i),s(2,e[i])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)uo(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&mo(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{pe()}}function ji(t,e,n,r){const i=e[10],o=!Yt(),s=Rt(e);try{o&&!s&&i.begin&&i.begin(),s&&Ui(t,e,r),qi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Vi(t,e,n,r,i){const o=ge(),s=2&r;try{me(-1),s&&e.length>20&&Si(t,e,20,Yt()),n(r,i)}finally{me(o)}}function Bi(t,e,n){if(ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Zi(t,e,n){qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Le(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=pt(r);o&&ro(e,n,r);const u=Ke(e,t,a,n);_r(u,e),null!==s&&oo(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ut.lFrame.currentDirectiveIndex;try{me(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ji(r,i)}}finally{me(-1),re(s)}}(t,e,n))}function Hi(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function zi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Gi(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ci);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Wi(t,e,n,r){const i=yo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&_o(t).push(r,i.length-1))}function Ki(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Yi(t,e,n,r,i,o,s,a){const u=kt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(bo(t,n,c,r,i),ft(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Et(o)?o.setProperty(u,r,i):Ie(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function $i(t,e,n,r){let i=!1;if(qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];wi(n,s.selectors,!1)&&(i||(i=[]),je(Le(n,e),t,s.type),pt(s)?(Xi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,eo(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Fi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),no(t,n,e,u,c),to(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||gi(e)?null:so(n,i);o.push(c),s=Ki(n,u,s),a=Ki(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Qi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function to(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pt(e)&&(n[""]=t)}}function eo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function no(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=gt(i.type)),s=new Ce(o,pt(i),null);t.blueprint[r]=s,n[r]=s,Qi(t,e,0,r,Fi(t,n,i.hostVars,Ci),i)}function ro(t,e,n){const r=kt(e,t),i=zi(n),o=t[10],s=ho(t,Di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function io(t,e,n,r,i,o,s){if(null==o)Et(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?v(o):s(o,r||"",i);Et(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function oo(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function so(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ao(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function uo(t,e){const n=Pt(e,t);if(Dt(n)){const t=n[1];80&n[2]?qi(t,n,t.template,n[8]):n[5]>0&&co(n)}}function co(t){for(let n=Dr(t);null!==n;n=Mr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];qi(t,e,t.template,e[8])}else e[5]>0&&co(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Dt(r)&&r[5]>0&&co(r)}}function lo(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ui(r,n,n[8])}function ho(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function fo(t){for(;t;){t[2]|=64;const e=Rr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function po(t,e,n){const r=e[10];r.begin&&r.begin();try{qi(t,e,t.template,n)}catch(i){throw wo(e,i),i}finally{r.end&&r.end()}}function go(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=wr(n),i=r[1];ji(i,r,i.template,n)}}(t[8])}function mo(t,e,n){se(0),e(t,n)}const vo=(()=>Promise.resolve(null))();function yo(t){return t[7]||(t[7]=[])}function _o(t){return t.cleanup||(t.cleanup=[])}function wo(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function bo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function xo(t,e,n){const r=At(e,t);qr(t[11],r,n)}function To(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Co=new nn("INJECTOR",-1);class Eo{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const So=new nn("Set Injector scope."),Io={},Ao={};let ko;function Oo(){return void 0===ko&&(ko=new Eo),ko}function No(t,e=null,n=null,r){return new Po(t,n,e||Oo(),r)}class Po{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(Co,Mo(void 0,this));const o=this.records.get(So);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=O.Default){this.assertNotDestroyed();const r=yn(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&T(t);e=n&&this.injectableDefInScope(n)?Mo(Ro(t),Io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?Oo():this.parent).get(t,e=n&O.Optional&&e===pn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{yn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||Z))}}this.injectorDefTypes.add(o);const a=gt(o)||(()=>new o);this.records.set(o,Mo(a,Io));const u=r.providers;if(null!=u&&!s){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Fo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Lo(t)?Mo(void 0,t.useValue):Mo(Do(t),Io)}(t);if(Fo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Mo(void 0,Io,!0),e.factory=()=>bn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Io&&(e.value=Ao,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ro(t){const e=T(t),n=null!==e?e.factory:gt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Do(t,e,n){let r;if(Fo(t)){const e=p(t);return gt(e)||Ro(e)}if(Lo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...bn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>wn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gt(e)||Ro(e);r=()=>new e(...bn(t.deps))}var i;return r}function Mo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Lo(t){return null!==t&&"object"==typeof t&&mn in t}function Fo(t){return"function"==typeof t}const Uo=function(t,e,n){return function(t,e=null,n=null,r){const i=No(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let qo=(()=>{class t{static create(t,e){return Array.isArray(t)?Uo(t,e,""):Uo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new Eo,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>wn(Co)}),t.__NG_ELEMENT_ID__=-1,t})();function jo(t,e){ye(wr(t)[1],Zt())}function Vo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(pt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Bo(t.inputs),e.declaredInputs=Bo(t.declaredInputs),e.outputs=Bo(t.outputs);const n=i.hostBindings;n&&zo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Zo(t,o),s&&Ho(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),pt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function Bo(t){return t===B?{}:t===Z?[]:t}function Zo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ho(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function zo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Go=null;function Wo(){if(!Go){const t=V.Symbol;if(t&&t.iterator)Go=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Go=n)}}}return Go}class Ko{constructor(t){this.wrapped=t}static wrap(t){return new Ko(t)}static unwrap(t){return Ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ko}}function Yo(t){return!!$o(t)&&(Array.isArray(t)||!(t instanceof Map)&&Wo()in t)}function $o(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Qo(t,e,n){return t[e]=n}function Jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Xo(t,e,n,r){const i=Jo(t,e,n);return Jo(t,e+1,r)||i}function ts(t,e,n,r){const i=jt();return Jo(i,Xt(),e)&&(Vt(),function(t,e,n,r,i,o){const s=kt(t,e);io(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),ts}function es(t,e,n,r){return Jo(t,Xt(),n)?e+v(n)+r:Ci}function ns(t,e,n,r,i,o,s,a){const u=jt(),c=Vt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Mi(e,t,4,s||null,Mt(c,a));$i(e,n,l,Mt(c,u)),ye(e,l);const h=l.tViews=Gi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Gt(h,!1);const f=u[11].createComment("");ri(c,u,f,h),_r(f,u),ho(u,u[l]=ao(f,u,f,h)),dt(h)&&Zi(c,u,h),null!=s&&Hi(u,h,a)}function rs(t){return Nt(Ut.lFrame.contextLView,20+t)}function is(t,e=O.Default){const n=jt();return null===n?wn(t,e):Ze(Zt(),n,p(t),e)}function os(t,e,n){const r=jt();return Jo(r,Xt(),e)&&Yi(Vt(),ve(),r,t,e,r[11],n,!1),os}function ss(t,e,n,r,i){const o=i?"class":"style";bo(t,n,e.inputs[o],o,r)}function as(t,e,n,r){const i=jt(),o=Vt(),s=20+t,a=i[11],u=i[s]=Vr(a,e,Ut.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Mi(e,t,2,i,Mt(a,o));return $i(e,n,u,Mt(a,s)),null!==u.attrs&&To(u,u.attrs,!1),null!==u.mergedAttrs&&To(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Gt(c,!0);const l=c.mergedAttrs;null!==l&&Ee(a,u,l);const h=c.classes;null!==h&&fi(a,u,h);const f=c.styles;null!==f&&hi(a,u,f),64!=(64&c.flags)&&ri(o,i,u,c),0===Ut.lFrame.elementDepthCount&&_r(u,i),Ut.lFrame.elementDepthCount++,dt(c)&&(Zi(o,i,c),Bi(o,c,i)),null!==r&&Hi(i,c)}function us(){let t=Zt();Wt()?Kt():(t=t.parent,Gt(t,!1));const e=t;Ut.lFrame.elementDepthCount--;const n=Vt();n.firstCreatePass&&(ye(n,t),ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ss(n,e,jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ss(n,e,jt(),e.stylesWithoutHost,!1)}function cs(t,e,n,r){as(t,e,n,r),us()}function ls(t,e,n){const r=jt(),i=Vt(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Mt(o,r),a=Mi(e,t,8,"ng-container",s);return null!==s&&To(a,s,!0),$i(e,n,a,Mt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Gt(s,!0);const a=r[o]=r[11].createComment("");ri(i,r,a,s),_r(a,r),dt(s)&&(Zi(i,r,s),Bi(i,s,r)),null!=n&&Hi(r,s)}function hs(){let t=Zt();const e=Vt();Wt()?Kt():(t=t.parent,Gt(t,!1)),e.firstCreatePass&&(ye(e,t),ht(t)&&e.queries.elementEnd(t))}function fs(){return jt()}function ds(t){return!!t&&"function"==typeof t.then}function ps(t){return!!t&&"function"==typeof t.subscribe}const gs=ps;function ms(t,e,n,r){const i=jt(),o=Vt(),s=Zt();return function(t,e,n,r,i,o,s,a){const u=dt(r),c=t.firstCreatePass&&_o(t),l=yo(e);let h=!0;if(3&r.type||a){const f=kt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(It(t[r.index])):r.index;if(Et(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ys(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=ys(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=ys(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),ms}function vs(t,e,n,r){try{return!1!==n(r)}catch(i){return wo(t,i),!1}}function ys(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&fo(s);let a=vs(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=vs(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function _s(t=1){return function(t){return(Ut.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ut.lFrame.contextLView))[8]}(t)}function ws(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wi(t,o,!0):bi(r,o))return i}else n=i}return n}function bs(t){const e=jt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ws(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function xs(t,e=0,n){const r=jt(),i=Vt(),o=Mi(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Kt(),64!=(64&o.flags)&&function(t,e,n){li(e[11],0,e,n,Gr(t,n,e),Jr(n.parent||e[6],n,e))}(i,r,o)}function Ts(t,e,n){return Cs(t,"",e,"",n),Ts}function Cs(t,e,n,r,i){const o=jt(),s=es(o,e,n,r);return s!==Ci&&Yi(Vt(),ve(),o,t,s,o[11],i,!1),Cs}function Es(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ai(o):Oi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Ss(t[a],e)&&(u=!0,t[a+1]=r?Pi(n):ki(n)),a=r?Ai(n):Oi(n)}u&&(t[n+1]=r?ki(o):Pi(o))}function Ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function As(t){return t.substring(Is.key,Is.keyEnd)}function ks(t,e){const n=Is.textEnd;return n===e?-1:(e=Is.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Is.key=e,n),Os(t,e,n))}function Os(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ns(t,e,n){return Ms(t,e,n,!1),Ns}function Ps(t,e){return Ms(t,e,null,!0),Ps}function Rs(t){Ls(hn,Ds,t,!0)}function Ds(t,e){for(let n=function(t){return function(t){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=t.length}(t),ks(t,Os(t,0,Is.textEnd))}(e);n>=0;n=ks(e,n))hn(t,As(e),!0)}function Ms(t,e,n,r){const i=jt(),o=Vt(),s=te(2);o.firstUpdatePass&&Us(o,t,s,r),e!==Ci&&Jo(i,s,e)&&Vs(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Ln(t)))),t}(e,n),r,s)}function Ls(t,e,n,r){const i=Vt(),o=te(2);i.firstUpdatePass&&Us(i,null,o,r);const s=jt();if(n!==Ci&&Jo(s,o,n)){const a=i.data[ge()];if(Hs(a,r)&&!Fs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),ss(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ci&&(i=Z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Vs(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Z;const r=[],i=Ln(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Fs(t,e){return e>=t.expandoStartIndex}function Us(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=Fs(t,n);Hs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=ie(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=js(n=qs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=qs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Oi(r))return t[Ai(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=qs(null,t,e,n[1],r),n=js(n,e.attrs,r),function(t,e,n,r){t[Ai(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=js(r,t[o].hostAttrs,n);return js(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ai(s),u=Oi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ai(t[a+1]);t[r+1]=Ii(e,a),0!==e&&(t[e+1]=Ni(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ii(a,0),0!==a&&(t[a+1]=Ni(t[a+1],r)),a=r;else t[r+1]=Ii(u,0),0===a?a=r:t[u+1]=Ni(t[u+1],r),u=r;l&&(t[r+1]=ki(t[r+1])),Es(t,c,r,!0),Es(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&dn(o,e)>=0&&(n[r+1]=Pi(n[r+1]))}(e,c,t,r,o),s=Ii(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function qs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=js(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function js(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Vs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Zs(1==(1&c)?Bs(u,e,n,i,Oi(c),s):void 0)||(Zs(o)||2==(2&c)&&(o=Bs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Et(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Or.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Or.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(ge(),n),i,o))}function Bs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ci&&(l=c?Z:void 0);let h=c?fn(l,r):u===r?l:void 0;if(o&&!Zs(h)&&(h=fn(e,r)),Zs(h)&&(a=h,s))return a;const f=t[i+1];i=s?Ai(f):Oi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=fn(t,r))}return a}function Zs(t){return void 0!==t}function Hs(t,e){return 0!=(t.flags&(e?16:32))}function zs(t,e=""){const n=jt(),r=Vt(),i=t+20,o=r.firstCreatePass?Mi(r,i,1,e,null):r.data[i],s=n[i]=Ur(n[11],e);ri(r,n,s,o),Gt(o,!1)}function Gs(t){return Ws("",t,""),Gs}function Ws(t,e,n){const r=jt(),i=es(r,t,e,n);return i!==Ci&&xo(r,ge(),i),Ws}function Ks(t,e,n,r,i){const o=jt(),s=function(t,e,n,r,i,o){const s=Xo(t,Jt(),n,i);return te(2),s?e+v(n)+r+v(i)+o:Ci}(o,t,e,n,r,i);return s!==Ci&&xo(o,ge(),s),Ks}function Ys(t,e,n,r,i,o,s,a,u){Ls(hn,Ds,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=Xo(t,e,n,r);return Xo(t,e+2,i,o)||s}(t,Jt(),n,i,s,u);return te(4),l?e+v(n)+r+v(i)+o+v(s)+a+v(u)+c:Ci}(jt(),t,e,n,r,i,o,s,a,u),!0)}function $s(t,e,n){const r=jt();return Jo(r,Xt(),e)&&Yi(Vt(),ve(),r,t,e,r[11],n,!0),$s}function Qs(t,e,n){const r=jt();if(Jo(r,Xt(),e)){const i=Vt(),o=ve();Yi(i,o,r,t,e,function(t,e,n){return(null===t||pt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(ie(i.data),o,r),n,!0)}return Qs}const Js=void 0;var Xs=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ta={};function ea(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ra(e);if(n)return n;const r=e.split("-")[0];if(n=ra(r),n)return n;if("en"===r)return Xs;throw new Error(`Missing locale data for the locale "${t}".`)}function na(t){return ea(t)[ia.PluralCase]}function ra(t){return t in ta||(ta[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),ta[t]}var ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const oa=["zero","one","two","few","many"],sa={marker:"element"},aa={marker:"ICU"};var ua=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let ca="en-US";function la(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}function ha(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Xr(t,0,n):It(n[i])}function fa(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Kr(t,s,n[o[e]],a,!1)}}function da(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];pa(r)||ga(r,e)&&null===ma(r)&&va(r,e.index)}}function pa(t){return!(64&t.type)}function ga(t,e){return pa(e)||t.index>e.index}function ma(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function va(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ni(ha,fa),t.insertBeforeIndex=e)}function ya(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function _a(t,e,n){const r=Li(t,n,64,null,null);return da(e,r),r}function wa(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let ba=0,xa=0;function Ta(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Ur(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Qr(i,r)),c===s?(l=r,h=o):(l=null,h=It(n[c])),null!==h){const e=(131070&u)>>>1;Kr(i,h,n[e],l,!1);const r=ya(t,e);if(null!==r&&"object"==typeof r){const e=wa(r,n);null!==e&&Ta(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];io(i,At(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case aa:const t=e[++a],r=e[++a];null===n[r]&&_r(n[r]=jr(i,t),n);break;case sa:const o=e[++a],s=e[++a];null===n[s]&&_r(n[s]=Vr(i,o,null),n)}}}function Ca(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=v(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?io(e[11],e[a],null,c,o,i,u):Yi(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&qr(e[11],l,i);break;case 2:Sa(t,ya(t,a),e,i);break;case 3:Ea(t,ya(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=ya(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Ea(t,n,r,e)}}o+=a}}function Ea(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=ba;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Ca(t,r,e.update[i],n,o)}}function Sa(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=na(e)(parseInt(t,10)),r=oa[n];return void 0!==r?r:"other"}(e,ca);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(wa(e,n)!==i&&(Ia(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Ta(t,e.create[i],n,r)}}function Ia(t,e,n){let r=wa(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=At(r,n);null!==t&&ai(n[11],t)}else Ia(t,ya(t,~r),n)}}}const Aa=/\ufffd(\d+):?\d*\ufffd/gi,ka=/\ufffd(\d+)\ufffd/,Oa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Na=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Pa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ra=/\uE500/g;function Da(t,e,n,r,i,o,s){const a=Fi(t,r,1,null);let u=a<<ua.SHIFT,c=zt();e===c&&(c=null),null===c&&(u|=ua.APPEND_EAGERLY),s&&(u|=ua.COMMENT,void 0===Nr&&(Nr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=wa(t,e);n=null!==i?t.remove[i]:Z}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Li(t,a,s?32:1,null===o?"":o,null);da(n,l);const h=l.index;return Gt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ni(ha,fa),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ma(t,e,n,r,i,o,s){const a=s.match(Aa),u=Da(t,e,n,o,r,a?null:s,!1);a&&La(i,s,u.index,null,0,null)}function La(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(Aa);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=Fa(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function Fa(t){return 1<<Math.min(t,31)}function Ua(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Na.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function qa(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Fi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Fa(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Ba(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function ja(t){const e=[],n=[];let r=1,i=0;const o=Va(t=t.replace(Oa,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Va(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Va(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Oa.test(n)?r.push(ja(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Ba(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Hn(Ct()).getInertBodyElement(s),f=pr(h)||h;return f?Za(t,e,n,r,u,c,l,f,i,a,0):0}function Za(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=Fi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(rr.hasOwnProperty(p)){Ga(i,sa,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(Aa)?sr.hasOwnProperty(n)&&La(s,e.value,a,e.name,0,ir[n]?Yn:or[n]?$n:null):Wa(i,a,e)}h=Za(t,e,n,r,i,o,s,f,a,c,l+1)|h,Ha(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(Aa);Ga(i,null,m?"":g,u,a),Ha(o,a,l),m&&(h=La(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const v=ka.exec(f.textContent||"");if(v){const e=c[parseInt(v[1],10)];Ga(i,aa,"",u,a),qa(t,n,r,u,e,a),za(o,a,l)}}f=f.nextSibling}return h}function Ha(t,e,n){0===n&&t.push(e)}function za(t,e,n){0===n&&(t.push(~e),t.push(e))}function Ga(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Wa(t,e,n){t.push(e<<1|1,n.name,n.value)}function Ka(t,e,n){(function(t,e,n=-1){const r=Vt(),i=jt(),o=20+t,s=Mt(r.consts,e),a=zt();r.firstCreatePass&&function(t,e,n,r,i,o){const s=zt(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Ua(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Ua(t.substring(n,r))}}(i,o),h.replace(Ra," ")).split(Pa);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=Va(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Ma(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);qa(t,n,u,e,r,Da(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),20+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Gt(zt(),!1);else{const e=_a(t,c[0],n);c.unshift([]),Gt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Wr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&ua.COMMENT)===ua.COMMENT,c=(s&ua.APPEND_EAGERLY)===ua.APPEND_EAGERLY,l=s>>>ua.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Ur(i,a)),c&&null!==n&&Kr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ee(!0)})(t,e,n),ee(!1)}function Ya(t){return Jo(jt(),Xt(),t)&&(ba|=1<<Math.min(xa,31)),xa++,Ya}function $a(t){!function(t,e,n){if(xa>0){const r=t.data[n];Ca(t,e,Array.isArray(r)?r:r.update,Jt()-xa-1,ba)}ba=0,xa=0}(Vt(),jt(),t+20)}function Qa(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)Qa(t[o],e,n,r,i);else{const o=Vt(),s=jt();let a=Fo(t)?t:p(t.provide),u=Do(t);const c=Zt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Fo(t)||!t.multi){const r=new Ce(u,i,is),d=tu(a,e,i?l:l+f,h);-1===d?(je(Le(c,s),o,a),Ja(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=tu(a,e,l+f,h),p=tu(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){je(Le(c,s),o,a);const l=function(t,e,n,r,i){const o=new Ce(t,n,is);return o.multi=[],o.index=e,o.componentProviders=0,Xa(o,i,r&&!n),o}(i?nu:eu,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ja(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ja(o,t,d>-1?d:p,Xa(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ja(t,e,n,r){const i=Fo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Xa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function eu(t,e,n,r){return ru(this.multi,[])}function nu(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ke(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ru(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ru(i,o);return o}function ru(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function iu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Vt();if(r.firstCreatePass){const i=pt(t);Qa(n,r.data,r.blueprint,i,!0),Qa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ou{}class su{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let au=(()=>{class t{}return t.NULL=new su,t})();function uu(...t){}function cu(t,e){return new hu(kt(t,e))}const lu=function(){return cu(Zt(),jt())};let hu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=lu,t})();function fu(t){return t instanceof hu?t.nativeElement:t}class du{}let pu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>gu(),t})();const gu=function(){const t=jt(),e=Pt(Zt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let mu=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class vu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yu=new vu("12.0.2");class _u{constructor(){}supports(t){return Yo(t)}create(t){return new bu(t)}}const wu=(t,e)=>e;class bu{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Eu(n,r,i)?e:n,s=Eu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Yo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Wo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new xu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Cu),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Cu{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Tu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Su{constructor(){}supports(t){return t instanceof Map||$o(t)}create(){return new Iu}}class Iu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||$o(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Au(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Au{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ku(){return new Ou([new _u])}let Ou=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ku()),deps:[[t,new En,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:ku}),t})();function Nu(){return new Pu([new Su])}let Pu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Nu()),deps:[[t,new En,new Cn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:Nu}),t})();function Ru(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(It(o)),lt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ru(e[1],e,n,r)}const s=n.type;if(8&s)Ru(t,e,n.child,r);else if(32&s){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=oi(e,n);if(Array.isArray(t))r.push(...t);else{const n=Rr(e[16]);Ru(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Du{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ru(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Zr(t,n),cn(e,n))}this._attachedToViewContainer=!1}Hr(this._lView[1],this._lView)}onDestroy(t){Wi(this._lView[1],this._lView,null,t)}markForCheck(){fo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){po(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){$t(!0);try{po(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ci(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Mu extends Du{constructor(t){super(t),this._view=t}detectChanges(){go(this._view)}checkNoChanges(){!function(t){$t(!0);try{go(t)}finally{$t(!1)}}(this._view)}get context(){return null}}const Lu=function(t){return function(t,e,n){if(ft(t)&&!n){const n=Pt(t.index,e);return new Du(n,n)}return 47&t.type?new Du(e[16],e):null}(Zt(),jt(),16==(16&t))};let Fu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lu,t})();const Uu=[new Su],qu=new Ou([new _u]),ju=new Pu(Uu),Vu=function(){return zu(Zt(),jt())};let Bu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Vu,t})();const Zu=Bu,Hu=class extends Zu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ui(e,n,t),new Du(n)}};function zu(t,e){return 4&t.type?new Hu(e,t,cu(t,e)):null}class Gu{}class Wu{}const Ku=function(){return tc(Zt(),jt())};let Yu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ku,t})();const $u=Yu,Qu=class extends $u{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return cu(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Oe(t)){const e=Pe(t,this._hostLView),n=Ne(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ju(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Gu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Qu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],un(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=si(i,o),a=n[11],u=Qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ci(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),un(Xu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ju(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Zr(this._lContainer,e);n&&(cn(Xu(this._lContainer),e),Hr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Zr(this._lContainer,e);return n&&null!=cn(Xu(this._lContainer),e)?new Du(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ju(t){return t[8]}function Xu(t){return t[8]||(t[8]=[])}function tc(t,e){let n;const r=e[t.index];if(lt(r))n=r;else{let i;if(8&t.type)i=It(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Kr(n,Qr(n,r),i,function(t,e){return Et(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ao(r,e,i,t),ho(e,n)}return new Qu(n,t,e)}const ec={};class nc extends au{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new oc(e,this.ngModule)}}function rc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ic=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class oc extends ou{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ti).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return rc(this.componentDef.inputs)}get outputs(){return rc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ec,i);return o!==ec||r===ec?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(du,St),s=i.get(mu,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Et(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Vr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:vo,playerHandler:null,flags:0},f=Gi(0,null,null,1,0,null,null,null,null,null),d=Di(null,f,h,l,null,null,o,a,s,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Mi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(To(a,u,!0),null!==t&&(Ee(i,t,u),null!==a.classes&&fi(i,t,a.classes),null!==a.styles&&hi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Di(n,zi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(je(Le(a,n),s,e.type),Xi(s,a),eo(a,n.length,1)),ho(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Ee(a,c,["ng-version",yu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!yi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ee(a,c,t),e&&e.length>0&&fi(a,c,e.join(" "))}if(g=Ot(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),no(t,r,e,Fi(t,e,1,null),n));const i=Ke(e,t,r.directiveStart,r);_r(i,e);const o=kt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Zt();e.contentQueries(1,s,t.directiveStart)}const a=Zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),Qi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ji(e,s)),s}(t,this.componentDef,d,h,[jo]),Ui(f,d,null)}finally{pe()}return new sc(this.componentType,p,cu(g,d),d,g)}}class sc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Mu(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ac=new Map;class uc extends Gu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nc(this);const n=ut(t),r=t[K]||null;r&&la(r),this._bootstrapComponents=kr(n.bootstrap),this._r3Injector=No(t,e,[{provide:Gu,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=qo.THROW_IF_NOT_FOUND,n=O.Default){return t===qo||t===Gu||t===Co?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cc extends Wu{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,ac.get(i),n),ac.set(i,n));const o=kr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new uc(this.moduleType,t)}}function lc(t,e,n,r){return pc(jt(),Qt(),t,e,n,r)}function hc(t,e,n,r,i){return gc(jt(),Qt(),t,e,n,r,i)}function fc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=Xo(t,e,n,r);return Jo(t,e+2,i)||o}(t,u,i,o,s)?Qo(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):dc(t,u+3)}(jt(),Qt(),t,e,n,r,i,o)}function dc(t,e){const n=t[e];return n===Ci?void 0:n}function pc(t,e,n,r,i,o){const s=e+n;return Jo(t,s,i)?Qo(t,s+1,o?r.call(o,i):r(i)):dc(t,s+1)}function gc(t,e,n,r,i,o,s){const a=e+n;return Xo(t,a,i,o)?Qo(t,a+2,s?r.call(s,i,o):r(i,o)):dc(t,a+2)}function mc(t,e){const n=Vt();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=gt(r.type)),s=P(is);try{const t=De(!1),e=o();return De(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,jt(),i,e),e}finally{P(s)}}function vc(t,e,n){const r=t+20,i=jt(),o=Nt(i,r);return wc(i,_c(i,r)?pc(i,Qt(),e,o.transform,n,o):o.transform(n))}function yc(t,e,n,r){const i=t+20,o=jt(),s=Nt(o,i);return wc(o,_c(o,i)?gc(o,Qt(),e,s.transform,n,r,s):s.transform(n,r))}function _c(t,e){return t[1].data[e].pure}function wc(t,e){return Ko.isWrapped(e)&&(e=Ko.unwrap(e),t[Jt()]=Ci),e}function bc(t){return e=>{setTimeout(t,void 0,e)}}const xc=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=bc(u),a&&(a=bc(a)),c&&(c=bc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Tc(){return this._results[Wo()]()}class Cc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Wo(),n=Cc.prototype;n[e]||(n[e]=Tc)}get changes(){return this._changes||(this._changes=new xc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ec{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ec(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Sc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==jc(t,e).matches&&this.queries[e].setDirty()}}class Ic{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ac{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ac(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class kc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new kc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Oc(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===Bu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===hu||r===Yu||r===Bu&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Oc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Nc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?cu(t,e):4&t.type?zu(t,e):null}(e,t):-2===n?function(t,e,n){return n===hu?cu(e,t):n===Bu?zu(e,t):n===Yu?tc(e,t):void 0}(t,e,r):Ke(t,t[1],n,e)}function Pc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Nc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Rc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Pc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&Rc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Rc(n[1],n,i,r)}}}}}return r}function Dc(t){const e=jt(),n=Vt(),r=oe();se(r+1);const i=jc(n,r);if(t.dirty&&Rt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Rc(n,e,r,[]):Pc(n,e,i,r);t.reset(o,fu),t.notifyOnChanges()}return!0}return!1}function Mc(t,e,n){const r=Vt();r.firstCreatePass&&(qc(r,new Ic(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Uc(r,jt(),e)}function Lc(t,e,n,r){const i=Vt();if(i.firstCreatePass){const o=Zt();qc(i,new Ic(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Uc(i,jt(),n)}function Fc(){return t=jt(),e=oe(),t[19].queries[e].queryList;var t,e}function Uc(t,e,n){const r=new Cc(4==(4&n));Wi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Sc),e[19].queries.push(new Ec(r))}function qc(t,e,n){null===t.queries&&(t.queries=new Ac),t.queries.track(new kc(e,n))}function jc(t,e){return t.queries.getByIndex(e)}function Vc(t,e){return zu(t,e)}const Bc=new nn("Application Initializer");let Zc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=uu,this.reject=uu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(ds(e))t.push(e);else if(gs(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(Bc,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Hc=new nn("AppId"),zc={provide:Hc,useFactory:function(){return`${Gc()}${Gc()}${Gc()}`},deps:[]};function Gc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wc=new nn("Platform Initializer"),Kc=new nn("Platform ID"),Yc=new nn("appBootstrapListener");let $c=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Qc=new nn("LocaleId"),Jc=new nn("DefaultCurrencyCode");class Xc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const tl=function(t){return new cc(t)},el=tl,nl=function(t){return Promise.resolve(tl(t))},rl=function(t){const e=tl(t),n=kr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new oc(n)),t},[]);return new Xc(e,n)},il=rl,ol=function(t){return Promise.resolve(rl(t))};let sl=(()=>{class t{constructor(){this.compileModuleSync=el,this.compileModuleAsync=nl,this.compileModuleAndAllComponentsSync=il,this.compileModuleAndAllComponentsAsync=ol}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const al=(()=>Promise.resolve(0))();function ul(t){"undefined"==typeof Zone?al.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xc(!1),this.onMicrotaskEmpty=new xc(!1),this.onStable=new xc(!1),this.onError=new xc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,fl(t),t.isCheckStableRunning=!0,hl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),fl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return dl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),pl(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return dl(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),pl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,fl(t),hl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ll,uu,uu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ll={};function hl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function dl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pl(t){t._nesting--,hl(t)}class gl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xc,this.onMicrotaskEmpty=new xc,this.onStable=new xc,this.onError=new xc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ml=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cl.assertNotInAngularZone(),ul(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ul(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(cl))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),vl=(()=>{class t{constructor(){this._applications=new Map,bl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return bl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class yl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function _l(t){bl=t}let wl,bl=new yl,xl=!0,Tl=!1;function Cl(){return Tl=!0,xl}function El(){if(Tl)throw new Error("Cannot enable prod mode after platform setup.");xl=!1}const Sl=new nn("AllowMultipleToken");class Il{constructor(t,e){this.name=t,this.token=e}}function Al(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let o=kl();if(!o||o.injector.get(Sl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:So,useValue:"platform"});!function(t){if(wl&&!wl.destroyed&&!wl.injector.get(Sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wl=t.get(Ol);const e=t.get(Wc,null);e&&e.forEach(t=>t())}(qo.create({providers:t,name:r}))}return function(t){const e=kl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function kl(){return wl&&!wl.destroyed?wl:null}let Ol=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new gl:("zone.js"===t?void 0:t)||new cl({enableLongStackTrace:Cl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:cl,useValue:n}];return n.run(()=>{const e=qo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Rl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ds(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Zc);return t.runInitializers(),t.donePromise.then(()=>(la(i.injector.get(Qc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Nl({},e);return function(t,e,n){const r=new cc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Pl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(qo))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}let Pl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{cl.assertNotInAngularZone(),ul(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{cl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ou?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Gu),i=n.create(qo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ml,null),a=s&&i.injector.get(vl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Rl(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Rl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(cl),wn(qo),wn(Cr),wn(au),wn(Zc))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Rl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Dl{}class Ml{}const Ll={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Fl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ll}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Ul(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ul(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(wn(sl),wn(Ml,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Ul(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ql=function(t){return null},jl=Al(null,"core",[{provide:Kc,useValue:"unknown"},{provide:Ol,deps:[qo]},{provide:vl,deps:[]},{provide:$c,deps:[]}]),Vl=[{provide:Pl,useClass:Pl,deps:[cl,qo,Cr,au,Zc]},{provide:ic,deps:[cl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Zc,useClass:Zc,deps:[[new Cn,Bc]]},{provide:sl,useClass:sl,deps:[]},zc,{provide:Ou,useFactory:function(){return qu},deps:[]},{provide:Pu,useFactory:function(){return ju},deps:[]},{provide:Qc,useFactory:function(t){return la(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Tn(Qc),new Cn,new En]]},{provide:Jc,useValue:"USD"}];let Bl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(wn(Pl))},t.\u0275mod=nt({type:t}),t.\u0275inj=x({providers:Vl}),t})()},2346:function(t,e,n){"use strict";n.d(e,{hO:function(){return S},xv:function(){return _},Dh:function(){return y},HU:function(){return d},GT:function(){return v},sI:function(){return C},on:function(){return b},ss:function(){return p},pX:function(){return m},yq:function(){return x}});var r=n(8489),i=n(8569),o=n(4019),s=n(2893),a=n(45),u=n(1572),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.OlP("angularfire2.app.options"),_=new u.OlP("angularfire2.app.nameOrConfig"),w=new u.GfV("6.1.5");function b(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&T("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const x=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:b,deps:[y,u.R0b,[new u.FiY,_]]};let S=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",w.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[E]}),t})()},6934:function(t,e,n){"use strict";var r=n(1062),i=n(5119),o=n(4762),s=n(250),a=n(308);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new s.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function m(t){return d.get(t)||p}function v(t,e){d.set(t,e)}function y(){return g}function _(){return self.grecaptcha}function w(t){if(!m(t).activated)throw f.create("use-before-activation",{appName:t.name})}function b(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return w(t),[4,m(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=m(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function x(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=m(t);v(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var T="https://content-firebaseappcheck.googleapis.com/v1beta",C=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function E(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,s,a,u,c,l,h,d,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==a.status)throw f.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function S(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function I(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var A="firebase-app-check-store",k=null;function O(){return k||(k=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(f.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(A,{keyPath:"compositeKey"})}}}catch(r){e(f.create("storage-open",{originalErrorMessage:r.message}))}}))}function N(t){return R(D(t))}function P(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,O()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),s=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(f.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function R(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,O()];case 1:return e=o.sent(),n=e.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(f.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function D(t){return t.options.appId+"-"+t.name}var M=new a.Logger("@firebase/app-check");function L(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,N(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),M.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function F(t,e){return s.isIndexedDBAvailable()?function(t,e){return P(D(t),e)}(t,e).catch(function(t){M.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var q={error:"UNKNOWN_ERROR"};function j(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,a,u,c,l,h,d,p,g,_,x,T,C;return o.__generator(this,function(A){switch(A.label){case 0:return w(t),r=m(t),a=void 0,(i=r.token)?[3,2]:[4,L(t)];case 1:(u=A.sent())&&H(u)&&(i=u,v(t,o.__assign(o.__assign({},r),{token:i})),Z(t,{token:i.token})),A.label=2;case 2:return!n&&i&&H(i)?[2,{token:i.token}]:y().enabled?(l=E,h=I,d=[t],[4,U()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([A.sent()])),e])];case 4:return c=A.sent(),[4,F(t,c)];case 5:return A.sent(),v(t,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return A.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=A.sent(),g=s.issuedAtTime(p.token),_=null!==g&&g<Date.now()&&g>0?1e3*g:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:_}),[3,11];case 8:return[4,b(t).catch(function(t){throw f.create("recaptcha-error")})];case 9:return x=A.sent(),[4,E(S(t,x),e)];case 10:i=A.sent(),A.label=11;case 11:return[3,13];case 12:return T=A.sent(),M.error(T),a=T,[3,13];case 13:return i?[3,14]:(C=function(t){return{token:(e=q,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,16]);case 14:return C={token:i.token},v(t,o.__assign(o.__assign({},r),{token:i})),[4,F(t,i)];case 15:A.sent(),A.label=16;case 16:return Z(t,C),[2,C]}})})}function V(t,e,n,r,i){var s=m(t),a={next:r,error:i,type:n},u=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!u.tokenRefresher){var c=function(t,e){var n=this;return new C(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return m(t).token?[3,2]:[4,j(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,j(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=m(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),s.token&&H(s.token)){var l=s.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}v(t,u)}function B(t,e){var n=m(t),r=n.tokenObservers.filter(function(t){return t.next!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function Z(t,e){for(var n=0,r=m(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function H(t){return t.expireTimeMillis-Date.now()>0}!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,n){return function(t,e,n){var r=m(t);if(r.activated)throw f.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,v(t,i),i.siteKey&&function(t,e){var n=m(t),r=new s.Deferred;v(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var u,c,l=_();return l?l.ready(function(){x(t,e,l,i),r.resolve(l)}):(u=function(){var n=_();if(!n)throw new Error("no recaptcha");n.ready(function(){x(t,e,n,i),r.resolve(n)})},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(t,i.siteKey).catch(function(){})}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=m(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),v(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,j(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(e,n,t)},onTokenChanged:function(t,r,i){return function(t,e,n,r,i){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),V(t,e,"EXTERNAL",o,s),function(){return B(t,o)}}(e,n,t,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++)B(e,n[t].next);return Promise.resolve()}}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider("app-check-internal").initialize()})),t.INTERNAL.registerComponent(new i.Component("app-check-internal",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return j(e,n,t)},addTokenListener:function(t){return V(e,n,"INTERNAL",t)},removeTokenListener:function(t){return B(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.2.1")}(l.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,R("debug-token")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),P("debug-token",r)).catch(function(t){return M.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}())}}()},1062:function(t,e,n){"use strict";n.r(e),n.d(e,{firebase:function(){return y}});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.contains)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new a.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.contains)(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.deepExtend)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=(0,o.__assign)((0,o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.deepExtend)(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.isBrowser)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.isNode)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.29",void 0),t.registerVersion("fire-js","")}(y),e.default=y},9738:function(t,e,n){"use strict";var r=n(1062);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function x(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function C(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function S(t,e,n){this.code=k+t,this.message=e||O[t]||"",this.a=n||null}function I(t){var e=t&&t.code;return e?new S(e.substring(k.length),t.message,t.serverResponse):null}C(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var A,k="auth/",O={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},N={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in N)if(N[e].id===t)return{firebaseEndpoint:(t=N[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function q(){this.b=this.a=null}A=P("__EID__")?"__EID__":void 0,C(D,Error),D.prototype.name="CustomError",C(M,D),M.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new F(function(){return new B},function(t){t.reset()});function V(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}q.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var Z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=Z(t,e)}function Y(t,e){var n;return(n=0<=(e=Z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function $(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Q(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){X=ht;break t}}X=""}function ft(t){return ut(X,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function _t(t,e){this.a=t===Tt&&e||"",this.b=xt}function wt(t){return t instanceof _t&&t.constructor===_t&&t.b===xt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}_t.prototype.ta=!0,_t.prototype.sa=function(){return this.a},_t.prototype.toString=function(){return"Const{"+this.a+"}"};var bt,xt={},Tt={};function Ct(){if(void 0===bt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}bt=t}else bt=t}return bt}function Et(t,e){this.a=e===Ot?t:""}function St(t){return t instanceof Et&&t.constructor===Et?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=wt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ct();return new Et(t=e?e.createScriptURL(t):t,Ot)}(t=n.replace(At,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof _t?wt(t):encodeURIComponent(String(t))}))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ot={};function Nt(t,e){this.a=e===Ut?t:""}function Pt(t){return t instanceof Nt&&t.constructor===Nt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof Nt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t))t=new Nt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Nt(t,Ut):null}return t}function Ft(t){return t instanceof Nt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Nt(t,Ut))}var Ut={},qt=new Nt("about:invalid#zClosurez",Ut);function jt(t,e,n){this.a=n===Vt?t:""}jt.prototype.ta=!0,jt.prototype.sa=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Bt(t,e,n,r){return t=t instanceof Nt?t:Ft(t),e=e||a,n=n instanceof _t?wt(n):n||"",e.open(Pt(t),n,r,void 0)}function Zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=h;var Gt,Wt,Kt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),$t=ft("Edge"),Qt=$t||Yt,Jt=ft("Gecko")&&!(ut(X.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Xt=ut(X.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=X,Jt?/rv:([^\);]+)(\)|;)/.exec(Wt):$t?/Edge\/([\d\.]+)/.exec(Wt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Xt?/WebKit\/(\S+)/.exec(Wt):Kt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Yt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ae=!Yt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}H(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(_e)}}else he=function(){var t=_e;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ft("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),ye.add(t,e)}var ve=!1,ye=new q;function _e(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){ge(e)}U(j,t)}ve=!1}function we(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){De(n,xe,t)},function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}De(n,Te,t)})}catch(r){De(this,Te,r)}}var be=0,xe=2,Te=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new F(function(){return new Ce},function(t){t.reset()});function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof we)return t;var e=new we(h);return De(e,xe,t),e}function Ae(t){return new we(function(e,n){n(t)})}function ke(t,e,n){Me(t,e,n,null)||me(x(e,t))}function Oe(t){return new we(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)ke(t[o],x(i,o,!0),x(i,o,!1));else e(r)})}function Ne(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==be&&1==r?Ne(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),Ue(n,i,Te,e)))}t.c=null}else De(t,Te,e)}function Pe(t,e){t.b||t.a!=xe&&t.a!=Te||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Se(null,null,null);return i.a=new we(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Pe(t,i),i.a}function De(t,e,n){t.a==be&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Te||n instanceof Ve||function(t,e){t.g=!0,me(function(){t.g&&je.call(null,e)})}(t,n)))}function Me(t,e,n,r){if(t instanceof we)return Pe(t,Se(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(i){je.call(null,i)}U(Ee,e)}function qe(t,e,n){e==xe?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);me(function(){Ne(this,e)},this)}},t.$c=function(t){this.a=be,De(this,xe,t)},t.ad=function(t){this.a=be,De(this,Te,t)},t.gc=function(){for(var t;t=Fe(this);)Ue(this,t,this.a,this.i);this.h=!1};var je=ge;function Ve(t){D.call(this,t)}function Be(){0!=Ze&&(He[m(this)]=this),this.ya=this.ya,this.pa=this.pa}C(Ve,D),Ve.prototype.name="cancel";var Ze=0,He={};function ze(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Ze)){var e=m(t);if(0!=Ze&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},We=!Yt||9<=Number(se),Ke=Yt&&!oe("9"),Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Qe,$e);var Je=Ge({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=wn(n),t&&t[Xe]?xn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=yn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=wn(n),t&&t[Xe]?Tn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=wn(n),t&&t[Xe]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Xe])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&dn(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Qe(e,this))}function yn(t){return(t=t[an])instanceof rn?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(t){return p(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function bn(){Be.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function xn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Sn(t){var e=null;return new we(function(n,r){-1==(e=En(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function In(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function kn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof kn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function On(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(bn,Be),bn.prototype[Xe]=!0,bn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;vt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Cn(s,r,!0,t)&&i}if(i=Cn(s=t.b=n,r,!0,t)&&i,i=Cn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(s=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=kn.prototype).X=function(){On(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return On(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Dn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Ln(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Dn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Mn(this,n[4]),this.f=Vn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Dn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Wn)),t.b=new Yn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Un(t,e){return t.b.get(e)}function qn(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function jn(t,e,n,r){var i=new Rn(null,void 0);return t&&Dn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Kn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Dn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new kn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=In(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){$n(t),e=nr(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&On(t)))}function Xn(t,e){return $n(t),e=nr(t,e),Nn(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new kn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){$n(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){$n(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=Q(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,Xn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=Ar();return Yt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(Lt(t)||qt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||Ar()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ar().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Er(Ar())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Nt?n:Lt(void 0!==n.href?n.href:String(n))||qt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Nt?e:Ft(e),s.href=Pt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=Pt(e),s&&(Qt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new jt(t=(r=Ct())?r.createHTML(t):t,null,Vt),r=s.document)&&(r.write(function(t){return t instanceof jt&&t.constructor===jt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new we(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function _r(t){return t=t||Ar(),!("file:"!==Rr()&&"ionic:"!==Rr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function xr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Tr(){var t=xr();return"ReactNative"===t||"Node"===t}var Cr="Firefox";function Er(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Cr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ir(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=xr())?r=Er(i=Ar()):"Worker"===r&&(r=Er(i=Ar())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ar(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return br()&&!!a.indexedDB}return!1}function Nr(){return(Pr()||"chrome-extension:"===Rr()||_r())&&!Tr()&&Or()&&!br()}function Pr(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function Dr(t){return!dr(t=t||Ar())&&Er(t)!=Cr}function Mr(t){return void 0===t?null:rr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Er(t=t||Ar())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Vr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ar(),e=xr(),this.b=dr(t)||"ReactNative"===e}function Br(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}Vr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Pr()&&"chrome-extension:"!==Rr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Wr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Kr={};Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Kr.abcd}catch(Wt){zr=!1}function Yr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function $r(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Qr(t){var e={};return $r(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Jr(t[n]));return e}function Xr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ri]),Yr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Xr.call(this,t),Yr(this,"phoneNumber",t[ii])}function si(t){var e={},n=t[li],r=t[fi],i=t[di];if(t=ti(t[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[gi]=n||null,e[vi]=n||null,e[pi]=r):(e[gi]=r||null,e[vi]=r||null,e[pi]=n||null),e[mi]=t||null,Yr(this,_i,i),Yr(this,yi,Jr(e))}C(oi,Xr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",gi="fromEmail",mi="multiFactorInfo",vi="previousEmail",yi="data",_i="operation";function wi(t){var e=Un(t=qn(t),bi)||null,n=Un(t,xi)||null,r=Un(t,Ei)||null;if(r=r&&Ii[r]||null,!e||!n||!r)throw new S("argument-error",bi+", "+xi+"and "+Ei+" are required in a valid action code URL.");$r(this,{apiKey:e,operation:r,code:n,continueUrl:Un(t,Ti)||null,languageCode:Un(t,Ci)||null,tenantId:Un(t,Si)||null})}var bi="apiKey",xi="oobCode",Ti="continueUrl",Ci="languageCode",Ei="mode",Si="tenantId",Ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ai(t){try{return new wi(t)}catch(e){return null}}function ki(t){var e=t[Di];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"==typeof n){e=n[Fi];var r=n[Mi];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ri])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(e=t[Pi])&&"boolean"!=typeof e)throw new S("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var Oi="android",Ni="dynamicLinkDomain",Pi="handleCodeInApp",Ri="iOS",Di="url",Mi="installApp",Li="minimumVersion",Fi="packageName",Ui="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function Vi(t){var e=Zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Bi(t){try{return new Vi(t)}catch(e){return null}}function Zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:zi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:zi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:zi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Hi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Wi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function Ki(t){var e={};e["facebook.com"]=Xi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[$i];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Yi])return new Qi(t)}catch(r){}return null}var Yi="idToken",$i="providerId";function Qi(t){var e=t[$i];if(!e&&t[Yi]){var n=Bi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Ji(t){Qi.call(this,t),Yr(this,"profile",Jr((t=Fr(t.rawUserInfo||"{}"))||{}))}function Xi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function ro(t){var e=qn(t),n=Un(e,"link"),r=Un(qn(n),"link");return e=Un(e,"deep_link_id"),Un(qn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}C(Ji,Qi),C(Xi,Ji),C(to,Ji),C(eo,Ji),C(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then(function(t){if(t[Ys]){var n=Bi(t[Ys]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==k+"user-not-found"?new S("user-mismatch"):t})}function co(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],$r(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Wi(t)||{}).Ja||null,this.pb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,zi),this.a=[]}function _o(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function bo(){yo.call(this,"github.com")}function xo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function To(){yo.call(this,"google.com"),this.Ca("profile")}function Co(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function Eo(){mo.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function Io(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(t){return t&&t.email&&t.password?new Io(t.email,t.password,t.signInMethod):null}function ko(){$r(this,{providerId:"password",isOAuthProvider:!1})}function Oo(t,e){if(!(e=No(e)))throw new S("argument-error","Invalid email link!");return new Io(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Ai(t=ro(t)))&&t.operation===ui?t:null}function Po(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new S("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Ro(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Po(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||r.default.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$r(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Po({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Po({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return wo(n);case"github.com":return xo(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function qo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function jo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&I(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return Ie(this.a?this.a:this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return ma(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,va(t,n)},co.prototype.c=function(t,e){return uo(ya(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return ma(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,va(t,n)},fo.prototype.c=function(t,e){return uo(ya(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=gt(t),this},C(vo,mo),C(yo,mo),yo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},yo.prototype.Rb=function(){return J(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},C(_o,yo),Yr(_o,"PROVIDER_ID","facebook.com"),Yr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(bo,yo),Yr(bo,"PROVIDER_ID","github.com"),Yr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),C(To,yo),Yr(To,"PROVIDER_ID","google.com"),Yr(To,"GOOGLE_SIGN_IN_METHOD","google.com"),C(Eo,mo),Yr(Eo,"PROVIDER_ID","twitter.com"),Yr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Io.prototype.ka=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Sa,{email:this.a,oobCode:this.f}):Xa(t,Ka,{email:this.a,password:this.f})},Io.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ia,{idToken:e,email:this.a,oobCode:this.f}):Xa(t,ja,{idToken:e,email:this.a,password:this.f})},Io.prototype.c=function(t,e){return uo(this.ka(t),e)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},$r(ko,{PROVIDER_ID:"password"}),$r(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$r(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ka=function(t){return t.gb(Do(this))},Po.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Xa(t,$a,n)},Po.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",uo(t=Xa(t,Qa,n),e)},Po.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return Ie(e.verify()).then(function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then(function(t){return function(t,e){return Xa(t,Ba,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==so?i.Ha().then(function(e){return function(t,e){return Xa(t,Za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Xa(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},$r(Mo,{PROVIDER_ID:"phone"}),$r(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Bo,Zo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=qn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function zo(t,e,n){S.call(this,t,n),(t=e||{}).Kb&&Yr(this,"email",t.Kb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.$b&&Yr(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Wo(){}function Ko(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}C(Ho,S),C(zo,S),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},zo.prototype.toJSON=function(){return this.w()},Wo.prototype.c=null,C(Ko,Wo),Ko.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Ko.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Bo=new Ko,C($o,Wo),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(L("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(p(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(t){var e;if(us||(us=new ts(""),as[""]=us,us.c=is),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=cs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function fs(t){bn.call(this),this.u=t,this.h=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(hs,Wo),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),C(fs,bn);var ds=0;function ps(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){bn.call(this),this.headers=new kn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ds},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ps(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ms(this),3==this.readyState&&ps(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Va=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),C(vs,bn);var ys="";vs.prototype.b=cs("goog.net.XhrIo");var _s=/^https?$/i,ws=["POST","PUT"];function bs(t){return"content-type"==t.toLowerCase()}function xs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),Es(t)}function Ts(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Cs(t){if(t.c&&void 0!==s)if(t.C[1]&&4==Is(t)&&2==As(t))ls(t.b,ks(t,"Local request error detected and ignored"));else if(t.i&&4==Is(t))En(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Is(t)){ls(t.b,ks(t,"Request complete")),t.c=!1;try{var e,n=As(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!_s.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Is(t)?t.a.statusText:""}catch(l){ls(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+As(t)+"]",Ts(t)}}finally{Es(t)}}}function Es(t,e){if(t.a){Ss(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ss(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Is(t){return t.a?t.a.readyState:0}function As(t){try{return 2<Is(t)?t.a.status:-1}catch(e){return-1}}function ks(t,e){return e+" ["+t.P+" "+t.l+" "+As(t)+"]"}function Os(t){var e=Vs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Ps(t){if(t.a){if(!t.v)throw new Ls(t);t.v=!1}}function Rs(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ds(t){return W(t.g,function(t){return p(t[1])})}function Ms(t){if(t.h&&t.a&&Ds(t)){var e=t.h,n=qs[e];n&&(a.clearTimeout(n.a),delete qs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(R(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ds(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Os?(Rs(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Us(e),qs[e.a]=e,t.h=e.a)}function Ls(){D.call(this)}function Fs(){D.call(this)}function Us(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,ks(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ls(this.b,ks(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Es(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Es(this,!0)),vs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Cs(this):this.Jc())},t.Jc=function(){Cs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ls(this.b,"Can not get response: "+e.message),null}},Os.prototype.cancel=function(t){if(this.a)this.c instanceof Os&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Ps(this),Ns(this,!1,t))}},Os.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},Os.prototype.then=function(t,e,n){var r,i,o=new we(function(t,e){r=t,i=e});return Rs(this,r,function(t){t instanceof Fs?o.cancel():i(t)}),o.then(t,e,n)},Os.prototype.$goog_Thenable=!0,C(Ls,D),Ls.prototype.message="Deferred has already fired",Ls.prototype.name="AlreadyCalledError",C(Fs,D),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Us.prototype.c=function(){throw delete qs[this.a],this.b};var qs={};function js(t){var e={},n=e.document||document,r=St(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Os(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Bs(i,!0);var t=new zs(Hs,"Timeout reached for loading script "+r);Ps(s),Ns(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Bs(i,e.xd||!1,u),Ps(s),Ns(s,!0,null))},i.onerror=function(){Bs(i,!0,u);var t=new zs(Zs,"Error while loading script "+r);Ps(s),Ns(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Vs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Bs(t,!0,this.Ma)}}function Bs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Zs=0,Hs=1;function zs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Gs(t){this.f=t}function Ws(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||$s,this.g=gt(t.secureTokenHeaders||Qs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Js,this.a=gt(t.firebaseHeaders||Xs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==xr(),!(n=a.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!br())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new hs(self):Tr()?new Gs(n):new $o,this.b=null}C(zs,D),C(Gs,Wo),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var Ks,Ys="idToken",$s=new Vr(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Js=new Vr(3e4,6e4),Xs={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e&&(t.l=na("https://securetoken.googleapis.com/v1/token",e),t.h=na("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=na("https://identitytoolkit.googleapis.com/v2/",e))}function na(t,e){return t=qn(t),e=qn(e.url),t.f=t.a+t.f,Dn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function ra(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ia(t,e,n,r,i,o,s){(function(){var t=Ar();return!((t="Chrome"!=Er(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&se&&!(9<se))})()||br()?t=b(t.u,t):(Ks||(Ks=new we(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[sa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Rs(t,null,e,void 0)}(js(It(oa,{onload:sa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=b(t.s,t)),t(e,n,r,i,o,s)}Ws.prototype.T=function(){return this.b},Ws.prototype.u=function(t,e,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}xn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Tn(s,"ready",function(){u&&clearTimeout(u),ze(this)}),Tn(s,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Bo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Bo),t.a.onreadystatechange=b(t.Wb,t);try{ls(t.b,ks(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return ls(t.b,ks(t,"Error opening Xhr: "+s.message)),void xs(t,s)}e=r||"";var o=new kn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=An(t),r=In(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=bs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!K(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ss(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,ks(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ma,t)):t.s=En(t.Ma,t.g,t)),ls(t.b,ks(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ls(t.b,ks(t,"Send error: "+s.message)),xs(t,s)}}(s,t,n,r,i)};var oa=new _t(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),sa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new S("invalid-email")}function ua(t){"email"in t&&aa(t)}function ca(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,gt(t));throw new S("internal-error")}}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ws.prototype.s=function(t,e,n,r,i){var o=this;Ks.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ws.prototype.Ab=function(){return Xa(this,Va,{})},Ws.prototype.Cb=function(t,e){return Xa(this,qa,{idToken:t,email:e})},Ws.prototype.Db=function(t,e){return Xa(this,ja,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function da(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Xn(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=tu(t.errorMessage)),e)throw e;ca(t)}function ma(t,e){return e.returnIdpCredential=!0,Xa(t,Ha,e)}function va(t,e){return e.returnIdpCredential=!0,Xa(t,Ga,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xa(t,za,e)}function _a(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ws.prototype).Eb=function(t,e){var n={idToken:t},r=[];return dt(ha,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Xa(this,qa,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),Xa(this,Da,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xa(this,Na,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xa(this,Pa,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xa(this,Ra,t)},t.gb=function(t){return Xa(this,Ya,t)},t.ob=function(t,e){return Xa(this,Fa,{oobCode:t,newPassword:e})},t.Sa=function(t){return Xa(this,ba,{oobCode:t})},t.kb=function(t){return Xa(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},ba={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},xa={endpoint:"signupNewUser",A:function(t){if(aa(t),!t.password)throw new S("weak-password")},G:ca,V:!0,B:!0},Ta={endpoint:"createAuthUri",B:!0},Ca={endpoint:"deleteAccount",O:["idToken"]},Ea={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Sa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:aa,G:ca,V:!0,B:!0},Ia={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:aa,G:ca,V:!0},Aa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fa,G:ca,B:!0,Na:!0},ka={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:ca,B:!0,Na:!0},Oa={endpoint:"getAccountInfo"},Na={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");aa(t)},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");aa(t)},Z:"email",B:!0},Ma={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},La={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Fa={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},qa={endpoint:"setAccountInfo",O:["idToken"],A:ua,V:!0},ja={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ua(t),!t.password)throw new S("weak-password")},G:ca,V:!0},Va={endpoint:"signupNewUser",G:ca,V:!0,B:!0},Ba={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Za={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ha={endpoint:"verifyAssertion",A:da,Za:pa,G:ga,V:!0,B:!0},za={endpoint:"verifyAssertion",A:da,Za:pa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw tu(t.errorMessage);ca(t)},V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:function(t){if(da(t),!t.idToken)throw new S("internal-error")},Za:pa,G:ga,V:!0},Wa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ca,V:!0,B:!0},Ka={endpoint:"verifyPassword",A:function(t){if(aa(t),!t.password)throw new S("wrong-password")},G:ca,V:!0,B:!0},Ya={endpoint:"verifyPhoneNumber",A:la,G:ca,B:!0},$a={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");la(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ca(t)}},Qa={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ca,B:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ys]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return Ae(new S("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ie(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=qn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new we(function(e,n){ia(t,a.toString(),function(t){t?t.error?n(eu(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:rr(Lr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function tu(t){return eu({error:{errors:[{message:t}],code:400,message:t}})}function eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Mr(t)),new S("internal-error",e)}function nu(t){this.b=t,this.a=null,this.sb=function(t){return(su||(su=new we(function(t,e){function n(){jr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:iu.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ie(js(r=It(ru,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw su=null,t}))).then(function(){return new we(function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ou.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ru=new _t(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new Vr(3e4,6e4),ou=new Vr(5e3,15e3),su=null;function au(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?jn((t=qn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):jn("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(t){try{return r.default.app(t).auth().Ga()}catch(e){return[]}}function lu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(t){var e=lr();return function(t){return Xa(t,Ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=qn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=qn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function fu(t){return t.m||(t.m=yr().then(function(){if(!t.u){var e=t.c,n=t.i,r=cu(t.b),i=new au(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new nu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)})}(t)})),t.m}function du(t){return t.l||(t.C=t.c?Ir(t.c,cu(t.b)):null,t.l=new Ws(t.g,P(t.i),t.C),t.f&&ea(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new uu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.zb(l).toString()}function gu(t){if(this.a=t||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mu(t){this.b=t,this.a={},this.f=b(this.c,this)}au.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},uu.prototype.zb=function(t){return this.h=t,this},uu.prototype.toString=function(){if(this.v){var t=qn(this.v.url);t=jn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=jn("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.default.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Fn(t,"providerId",this.a.providerId),e=Lr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",Mr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Un(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Jn(t.b,"eid"),(a=cu(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=lu.prototype).Pb=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.sb.then(function(){return new we(function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new we(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Sn(n).then(function(){e(r)})})},t.Yb=function(){var t=Ar();return!Dr(t)&&!qr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return Ae(new S("popup-blocked"));if(s&&!Dr())return this.ma().o(function(e){pr(t),i(e)}),r(),Ie();this.a||(this.a=hu(du(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(pu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then(function(){Uo(e),hr(pu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new S("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){$(this.h,function(e){return e==t})},(t=gu.prototype).get=function(t){return Ie(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Ie(this.a.setItem(t,Mr(e)))},t.U=function(t){return Ie(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,yu=[];function _u(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function xu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Tu(t,c),e}).o(function(e){throw Tu(t,c),e})}function Tu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),$(t.a,function(t){return t==e})}}function Cu(){if(!Au())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.v=function(){var t=br()?self:null;if(H(yu,function(n){n.b==t&&(e=n)}),!e){var e=new mu(t);yu.push(e)}return e}(),_u(this.v,"keyChanged",function(e,n){return Ru(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),_u(this.v,"ping",function(){return Ie(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Ie().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ie(null)}().then(function(e){(t.h=e)&&(t.g=new bu(new wu(e)),xu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Eu(t){return new we(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Eu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Su(t){return t.i||(t.i=Eu(t)),t.i}function Iu(t,e){var n=0;return new we(function r(i,o){Su(t).then(e).then(i).o(function(e){if(!(3<++n))return Su(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Au(){try{return!!a.indexedDB}catch(Wt){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new we(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Pu(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?xu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ie()}function Ru(t){return Su(t).then(function(t){var e=ku(Ou(t,!1));return e.getAll?Nu(e.getAll()):new we(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then(function(){if(Au()){var t=Ur(),r="__sak"+t;return vu||(vu=new Cu),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Lu(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==xr();if(!(t=Uu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==xr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Uu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){this.type="nullStorage"}function ju(){if(!function(){var t="Node"==xr();if(!(t=Vu()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==xr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Vu()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Vu(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Bu(){var t={};t.Browser=zu,t.Node=Gu,t.ReactNative=Wu,t.Worker=Ku,this.a=t[xr()]}mu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ie().then(function(){return e(t.origin,t.data.data)}))}),Oe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)Tu(this,this.a[0]);this.b=!0},(t=Cu.prototype).set=function(t,e){var n=this,r=!1;return Iu(this,function(e){return Nu((e=ku(Ou(e,!0))).get(t))}).then(function(i){return Iu(n,function(o){if(o=ku(Ou(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Nu(o.add(s))})}).then(function(){return n.c[t]=e,Pu(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Iu(this,function(e){return Nu(ku(Ou(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Iu(this,function(r){return n=!0,e.b++,Nu(ku(Ou(r,!0)).delete(t))}).then(function(){return delete e.c[t],Pu(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Ru(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){$(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Mu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){$(this.a,function(e){return e==t})},(t=Lu.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.U=function(t){return delete this.a[t],Ie()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Ie().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ie().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ie().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&fn(a.window,"storage",t)},(t=qu.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.U=function(){return Ie()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Ie().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ie().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ie().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Zu,Hu,zu={F:Fu,cb:ju},Gu={F:Fu,cb:ju},Wu={F:gu,cb:qu},Ku={F:Fu,cb:qu},Yu={rd:"local",NONE:"none",td:"session"};function $u(){var t=!(qr(Ar())||!wr()),e=Dr(),n=Or();this.m=t,this.h=e,this.l=n,this.a={},Zu||(Zu=new Bu),t=Zu;try{this.g=!cr()&&Hr()||!a.indexedDB?new t.a.F:new Mu(br()?new Lu:new t.a.F)}catch(r){this.g=new Lu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Lu}this.v=new Lu,this.f=b(this.Zb,this),this.b={}}function Qu(){return Hu||(Hu=new $u),Hu}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Xu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tc(t,e,n){return n=Xu(e,n),"local"==e.F&&(t.b[n]=null),Ju(t,e.F).U(n)}function ec(t){t.c&&(clearInterval(t.c),t.c=null)}function nc(t){this.a=t,this.b=Qu()}(t=$u.prototype).get=function(t,e){return Ju(this,t.F).get(Xu(t,e))},t.set=function(t,e,n){var r=Xu(t,n),i=this,o=Ju(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Xu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Ju(this,"local").ca(this.f),this.h||(cr()||!Hr())&&a.indexedDB||!this.l||function(t){ec(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Xu(t,e),this.a[t]&&($(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ju(this,"local").ia(this.f),ec(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ia(this.f):ec(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Yt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,b(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var rc,ic={name:"authEvent",F:"local"};function oc(){this.a=Qu()}function sc(t,e){this.b=ac,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=a.Int32Array?new Int32Array(pc):pc),this.reset()}C(sc,function(){this.b=-1});for(var ac=64,uc=ac-1,cc=[],lc=0;lc<uc;lc++)cc[lc]=0;var hc=Q(128,cc);function fc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|rc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function dc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fc(t),i=0)}}t.c=i,t.g+=n}sc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){sc.call(this,8,mc)}C(gc,sc);var mc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new oc,this.g=new nc(this.h),this.f=null,this.b=[],this.a=this.c=null}function yc(t){return new S("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wc(t){return t.f||(t.f=t.ma().then(function(){return new we(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),bc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Un(o=qn(i),"firebaseError")||null))?I(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)})}var n=new qo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then(function(){return bc(t).then(function(){r||_c(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Zo||(Zo=new Vo),function(t){var e=Zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function bc(t){var e=null;return function(t){return t.b.get(ic,t.a).then(function(t){return jo(t)})}(t.g).then(function(n){return e=n,tc((n=t.g).b,ic,n.a)}).then(function(){return e})}function xc(t){this.a=t,this.b=Qu()}(t=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?yr().then(function(){return new we(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw yc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw yc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw yc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw yc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})},t.Pb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ie()},t.Nb=function(){return Ae(new S("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ae(new S("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Ie().then(function(){return Uo(e),wc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new qo(e,r,null,o,new S("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(Ar().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ar().toLowerCase().match(/android/))return Ae(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new gc;dc(e,t),t=[];var n=8*e.g;dc(e,hc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=pu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ic,s.w(),e)}).then(function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");e=Ar(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new we(function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Br()&&c()},o.addEventListener("resume",c=function(){s||(s=Sn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))}))},!1),Ar().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return bc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),wc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new S("no-auth-event")),t(e))})},t.Ta=function(t){$(this.b,function(e){return e==t})};var Tc={name:"pendingRedirect",F:"session"};function Cc(t){return tc(t.b,Tc,t.a)}function Ec(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new jc,this.C=new zc,this.g=new xc(Uc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Sc(this.D,this.v,this.m,A,this.J)}function Sc(t,e,n,i,o){var s=r.default.SDK_VERSION||null;return _r()?new vc(t,e,n,s,i,o):new lu(t,e,n,s,i,o)}function Ic(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Ac(t){t.a.Yb()&&Ic(t).o(function(e){var n=new qo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Ub()||Vc(t.b)}function kc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Tc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Cc(t.g).then(function(){Ic(t).o(function(e){var n=new qo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Ac(t)}).o(function(){Ac(t)})}function Oc(t,e){$(t.h,function(t){return t==e})}Ec.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Sc(this.D,this.v,this.m,null,this.J),this.i={}},Ec.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Vc(this.b),e};var Nc=new Vr(2e3,1e4),Pc=new Vr(3e4,6e4);function Rc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Mc(t,e,n,r,i){var o;return function(t){return t.b.set(Tc,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Dc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new we(function(){}):Cc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Lc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Nc.get())}Ec.prototype.ra=function(){return this.b.ra()};var Fc={};function Uc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function qc(t,e,n,r){var i=Uc(e,n,r);return Fc[i]||(Fc[i]=new Ec(t,e,n,r)),Fc[i]}function jc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Vc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function Bc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function Zc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Zc(t,n):Zc(t,{user:null}),t.f=[],t.c=[]}function zc(){}function Gc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Wc(t,e){this.a=e,Yr(this,"verificationId",t)}function Kc(t,e,n,r){return new Mo(t).gb(e,n).then(function(t){return new Wc(t,r)})}function Yc(t){var e=Zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$r(this,{token:t,expirationTime:Zr(1e3*e.exp),authTime:Zr(1e3*e.auth_time),issuedAtTime:Zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function $c(t,e,n){var r=e&&e[Jc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;H(e[Qc]||[],function(t){(t=ti(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}jc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},jc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),Ie()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Hc(t,a,e,null)}).o(function(e){Hc(t,a,null,e)})}(this,t,e):Ae(new S("invalid-auth-event")):(Hc(this,!1,null,null),Ie())}else Ae(new S("invalid-auth-event"))},jc.prototype.ra=function(){var t=this;return new we(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Sn(Pc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},zc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ie()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ae(new S("invalid-auth-event"))}else Ae(new S("invalid-auth-event"))},Wc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Qc="mfaInfo",Jc="mfaPendingCredential";function Xc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new $c(t,e,n),Yr(this,"resolver",this.b)}function tl(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Xc(e,t.serverResponse,n,t.message)}catch(r){}return null}function el(){}function nl(t){Yr(this,"factorId",t.fa),this.a=t}function rl(t){if(nl.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function ol(t,e){this.a=t,this.b=[],this.c=b(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),sl(this,n)}function sl(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function al(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Br()||!t?Ie():new we(function(n){e=function(){Br()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){ul(t,!0)}).o(function(e){t.i(e)&&ul(t,!1)})}function cl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ll(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hl(t,e){t.b=Bi(e[Ys]||""),t.a=e.refreshToken,ll(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,$r(this,{lastSignInTime:Zr(e||null),creationTime:Zr(t||null)})}function dl(t,e,n,r,i,o){$r(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.default.SDK_VERSION?Ir(r.default.SDK_VERSION):null;this.a=new Ws(this.l,P(A),i),(this.u=t.emulatorConfig||null)&&ea(this.a,this.u),this.h=new cl(this.a),Tl(this,e[Ys]),hl(this.h,e),Yr(this,"refreshToken",this.h.a),Sl(this,n||{}),bn.call(this),this.P=!1,this.s&&Nr()&&(this.b=qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new al(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=b(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){gl(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){yl(o,t.f)},this.ja=null,this.S=new ol(this,n),Yr(this,"multiFactor",this.S)}function gl(t,e){t.u=e,ea(t.a,e),t.b&&(e=t.b,t.b=qc(t.s,t.l,t.m,t.u),t.P&&(Oc(e,t),kc(t.b,t)))}function ml(t,e){t.qa&&fn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function vl(t,e){t.$&&fn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function yl(t,e){t.aa=e,ra(t.a,r.default.SDK_VERSION?Ir(r.default.SDK_VERSION,t.aa):null)}function _l(t,e){t.ja&&fn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function wl(t){try{return r.default.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function bl(t){t.J||t.D.b||(t.D.start(),fn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function xl(t){fn(t,"tokenChanged",t.ba),t.D.stop()}function Tl(t,e){t.Aa=e,Yr(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Oe(e).then(function(){return t})}function El(t){t.b&&!t.P&&(t.P=!0,kc(t.b,t))}function Sl(t,e){$r(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Il(){}function Al(t){return Ie().then(function(){if(t.J)throw new S("app-deleted")})}function kl(t){return G(t.providerData,function(t){return t.providerId})}function Ol(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){$(t.providerData,function(t){return t.providerId==e})}function Pl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Rl(t,e){t!=e&&($r(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),H(e.providerData,function(e){Ol(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yr(t,"refreshToken",t.h.a),sl(t.S,e.S.b))}function Dl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Xa(t.a,Oa,{idToken:e}).then(b(t.Kc,t))}(t,e).then(function(){return n||Pl(t,"isAnonymous",!1),e})})}function Ml(t,e){e[Ys]&&t.Aa!=e[Ys]&&(hl(t.h,e),t.dispatchEvent(new il("tokenChanged")),Tl(t,e[Ys]),Pl(t,"refreshToken",t.h.a))}function Ll(t,e){return Dl(t).then(function(){if(K(kl(t),e))return Cl(t).then(function(){throw new S("provider-already-linked")})})}function Fl(t,e,n){return Qr({user:t,credential:Fo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Ul(t,e){return Ml(t,e),t.reload().then(function(){return t})}function ql(t,e,n,i,o){if(!Nr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ae(t.i);var s=Wi(n.providerId),a=Ur(t.uid+":::"),u=null;(!Dr()||wr())&&t.s&&n.isOAuthProvider&&(u=pu(t.s,t.l,t.m,e,n,null,a,r.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=gr(u,s&&s.va,s&&s.ua);return i=i().then(function(){if(Vl(t),!o)return t.I().then(function(){})}).then(function(){return Rc(t.b,c,e,n,a,!!u,t.tenantId)}).then(function(){return new we(function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Lc(t.b,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Qr(t):null}).o(function(t){throw c&&pr(c),t}),Bl(t,i,o)}function jl(t,e,n,r,i){if(!Nr())return Ae(new S("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ae(t.i);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if(Vl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,Cl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(zl,t.w(),e.a)),e}).then(function(){return Mc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Gl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,r,i)}function Vl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Bl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Ae(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new il("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){Y(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),wl(t),b(t.jc,t))),n||e})}function Zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new pl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Ol(i,Qr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Hl(t){this.a=t,this.b=Qu()}$c.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Qc],delete n[Jc],vt(n,t),e.g(n)})},C(Xc,S),el.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Do(t.a)}),Xa(e,Aa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Xa(e,ka,n)})}(this,t,e)},C(nl,el),C(rl,nl),C(il,$e),(t=ol.prototype).yc=function(t){sl(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new io(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ml(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Xa(r,Ja,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return sl(e,r),Ml(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},al.prototype.start=function(){this.a=this.c,ul(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},cl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new we(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ia(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(eu(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))},"POST",Qn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))})}(t.f,e).then(function(e){return t.b=Bi(e.access_token),t.a=e.refresh_token,ll(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(pl,bn),pl.prototype.xa=function(t){this.za=t,ta(this.a,t)},pl.prototype.la=function(){return this.za},pl.prototype.Ga=function(){return J(this.aa)},pl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return Bl(this,Al(this).then(function(){return Dl(t).then(function(){return Cl(t)}).then(Il)}))},t.oc=function(t){return this.I(t).then(function(t){return new Yc(t)})},t.I=function(t){var e=this;return Bl(this,Al(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.Aa&&(Tl(e,t.accessToken),e.dispatchEvent(new il("tokenChanged"))),Pl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");Sl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new dl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Pl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:t}))},t.Lc=function(t){return Wr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return Ml(e,t),n=Fl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Wr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Bl(this,Ll(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Fl(e,t,"link"),Ul(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bl(this,Ll(this,"phone").then(function(){return Kc(wl(n),t,e,b(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Bl(this,Ie().then(function(){return Kc(wl(n),t,e,b(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ml(e,t),e.reload()}))},t.Db=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Al(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ml(e,t),Pl(e,"displayName",t.displayName||null),Pl(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),Cl(e)}).then(Il))},t.cd=function(t){var e=this;return Bl(this,Dl(this).then(function(n){return K(kl(e),t)?function(t,e,n){return Xa(t,Ea,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(kl(e),function(t){n[t]||Nl(e,t)}),n[Mo.PROVIDER_ID]||Yr(e,"phoneNumber",null),Cl(e)}):Cl(e).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return Xa(t.a,Ca,{idToken:e})}).then(function(){t.dispatchEvent(new il("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ml(t,null),vl(t,null),_l(t,null),t.N=[],t.J=!0,xl(t),Yr(t,"refreshToken",null),t.b&&Oc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?b(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?b(this.Mb,this):null},t.Ec=function(t){var e=this;return ql(this,"linkViaPopup",t,function(){return Ll(e,t.providerId).then(function(){return Cl(e)})},!1)},t.Nc=function(t){return ql(this,"reauthViaPopup",t,function(){return Ie()},!0)},t.Fc=function(t){var e=this;return jl(this,"linkViaRedirect",t,function(){return Ll(e,t.providerId)},!1)},t.Oc=function(t){return jl(this,"reauthViaRedirect",t,function(){return Ie()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Fl(i,t,"link"),Ul(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,Ie().then(function(){return uo(ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Fl(i,t,"reauthenticate"),Ml(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:qi(new ki(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Bl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:qi(new ki(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bl(this,t=uo(Ie(t),n.uid).then(function(t){return e=Fl(n,t,"reauthenticate"),Ml(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.S.w()),t};var zl={name:"redirectUser",F:"session"};function Gl(t){return tc(t.b,zl,t.a)}function Wl(t){this.a=t,this.b=Qu(),this.c=null,this.f=function(t){var e=$l("local"),n=$l("session"),r=$l("none");return function(t,e,n){var r=Xu(e,n),i=Ju(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Yl,t.a).then(function(t){return t?$l(t):e})})})}).then(function(e){return t.c=e,Kl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener($l("local"),this.a,b(this.g,this))}function Kl(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(tc(t.b,$l(Yu[n]),t.a));return r.push(tc(t.b,Yl,t.a)),function(t){return new we(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)ke(t[a],x(o,a),s);else e(i)})}(r)}Wl.prototype.g=function(){var t=this,e=$l("local");th(this,function(){return Ie().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Kl(t,"local").then(function(){t.c=e})})})};var Yl={name:"persistence",F:"session"};function $l(t){return{name:"authUser",F:t}}function Ql(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Jl(t){return th(t,function(){return tc(t.b,t.c,t.a)})}function Xl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Zl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Yr(this,"settings",new Gc),Yr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new S("invalid-api-key");t=r.default.SDK_VERSION?Ir(r.default.SDK_VERSION):null,this.a=new Ws(ch(this).options&&ch(this).options.apiKey,P(A),t),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(b(this.Ac,this)),ah(this,null),this.i=new Wl(ch(this).options.apiKey+":"+ch(this).name),this.D=new Hl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(zl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Zl(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Gl(t.D)});return dh(t,e)}(t).then(function(){return Xl(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Ql(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Jl(t.i)})):null}).then(function(e){ah(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener($l("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=qc(e,n,ch(t).name,t.R),kc(t.b,t),lh(t)&&El(lh(t)),t.m){El(t.m);var r=t.m;r.xa(t.la()),ml(r,t),yl(r=t.m,t.J),_l(r,t),gl(r=t.m,t.R),vl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=qn(this.R.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function nh(t){$e.call(this,"languageCodeChanged"),this.h=t}function rh(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){$e.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||Ae(new S("auth-domain-config-required"))}function sh(t){if(!Nr())return Ae(new S("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.ra()}).then(function(t){return t?Qr(t):null});return dh(t,e)}function ah(t,e){lh(t)&&(function(t,e){$(t.W,function(t){return t==e})}(lh(t),t.Ba),fn(lh(t),"tokenChanged",t.qa),fn(lh(t),"userDeleted",t.za),fn(lh(t),"userInvalidated",t.Aa),xl(lh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&bl(e)),Yr(t,"currentUser",e),e&&(e.xa(t.la()),ml(e,t),yl(e,t.J),_l(e,t),gl(e,t.R),vl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then(function(e){return n=Fo(e),r=Ki(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new pl(t,e);return n&&(i.ha=n),r&&yl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(ah(t,e),El(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,b(t.kc,t))),n||e}).then(function(){return Qr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](hh(t))}}function dh(t,e){return t.P.push(e),e.oa(function(){Y(t.P,e)}),e}function ph(){}function gh(){this.a={},this.b=1e12}Wl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(xr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Au()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Kl(n,t)}).then(function(){if(n.c=$l(t),e)return n.b.set(n.c,e,n.a)}):Ie()})},C(eh,bn),C(nh,$e),C(rh,$e),C(ih,$e),(t=eh.prototype).yb=function(t){return dh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ta(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&yr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ea(this.a,this.R),this.dispatchEvent(new rh(this.R))}},t.Gc=function(t){this.J.push(t),ra(this.a,r.default.SDK_VERSION?Ir(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,ma(i.a,o))})},t.Xc=function(t){if(!Nr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this,n=Wi(t.providerId),i=Ur(),o=null;(!Dr()||wr())&&ch(this).options.authDomain&&t.isOAuthProvider&&(o=pu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var s=gr(o,n&&n.va,n&&n.ua);return dh(this,n=oh(this).then(function(n){return Rc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new we(function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Lc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Qr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Nr())return Ae(new S("operation-not-supported-in-this-environment"));var e=this;return dh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Yl,t.c.F,t.a)})}(e.i)}).then(function(){return Mc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return sh(this).then(function(e){return t.b&&Bc(t.b.b),e}).o(function(e){throw t.b&&Bc(t.b.b),e})},t.dd=function(t){if(!t)return Ae(new S("null-user"));if(this.S!=t.tenantId)return Ae(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new pl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&yl(e,r),Rl(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(ah(e,r),El(r),e.da(r))}).then(function(){fh(e)}))},t.Bb=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&Bc(t.b.b),lh(t)?(ah(t,null),Jl(t.i).then(function(){fh(t)})):Ie()}))},t.Zc=function(){var t=this;return Xl(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(El(e),e.ha=t.D),t.b&&kc(t.b,t),fh(t))}})},t.da=function(t){return Ql(this.i,t)},t.mc=function(){fh(this),this.da(lh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return uh(e,Ie(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),dh(t,t.h.then(function(){!t.l&&K(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return uh(e,Xa(e.a,Wa,{token:t}))}).then(function(t){var n=t.user;return Pl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return uh(n,Xa(n.a,Ka,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,Xa(n.a,xa,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return uh(e,t.ka(e.a))})},t.Sc=function(t){return Wr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.Ab()).then(function(e){var n=e.user;return Pl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&bl(lh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&xl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||K(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){$(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener($l("local"),t.a,this.ja),this.b&&(Oc(this.b,this),Bc(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return Xa(t,Ta,{identifier:e,continueUri:Pr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!No(t)},t.xb=function(t,e){var n=this;return dh(this,Ie().then(function(){var t=new ki(e);if(!t.c)throw new S("argument-error",Pi+" must be true when sending sign in link to email");return qi(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return dh(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return dh(this,this.a.Sa(t).then(function(t){return new si(t)}))},t.kb=function(t){return dh(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return dh(this,Ie().then(function(){return void 0===e||pt(e)?{}:qi(new ki(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,Kc(this,t,e,b(this.ab,this)))},t.Vc=function(t,e){var n=this;return dh(this,Ie().then(function(){var r=e||lr(),i=Oo(t,r);if(!(r=No(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.ab(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var mh=null;function vh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function _h(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function bh(){}function xh(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new _h(t,e),this.b++},gh.prototype.reset=function(t){var e=vh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},_h.prototype.getResponse=function(){return wh(this),this.b},_h.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},_h.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Yr(bh,"FACTOR_ID","phone"),xh.prototype.g=function(){return mh||(mh=new gh),Ie(mh)},xh.prototype.c=function(){};var Th=null;function Ch(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Eh=new _t(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new Vr(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new we(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},Sh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete a[e.a]},Ie(js(It(Eh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Ch.prototype.c=function(){this.b--};var Ih=null;function Ah(t,e,n,r,i,o,s){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Th||(Th=new xh),s=Th):(Ih||(Ih=new Ch),s=Ih),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ph],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ws(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[kh];this.a[kh]=function(t){if(Rh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Oh];this.a[Oh]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,a);"function"==typeof t&&t()}}}var kh="callback",Oh="expired-callback",Nh="sitekey",Ph="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Dh(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function Mh(t){if(t.J)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Lh(t,e,n){var i=!1;try{this.b=n||r.default.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.default.SDK_VERSION?Ir(r.default.SDK_VERSION,s):null,Ah.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,P(A),i)}function Fh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Uh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Ah.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Dh(this,Ie().then(function(){if(Pr()&&!br())return yr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Xa(t.s,La,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Mh(this);var t=this;return Dh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Mh(this);var t=this;return Dh(this,this.render().then(function(e){return new we(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){$(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Mh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},C(Lh,Ah);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function qh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function jh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function zh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return g(t)&&"string"==typeof t.uid}function Wh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Kh(t,e){for(var n in e){var r=e[n].name;t[r]=Qh(r,t[n],e[n].j)}}function Yh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:x(function(t){return this[t]},n),set:x(function(t,e,n,r){Fh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function $h(t,e,n,r){t[e]=Qh(e,n,r)}function Qh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Fh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Kh(eh.prototype,{kb:{name:"applyActionCode",j:[qh("code")]},Sa:{name:"checkActionCode",j:[qh("code")]},ob:{name:"confirmPasswordReset",j:[qh("code"),qh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[qh("email"),qh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[qh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[qh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Wh(Vh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Wh(Vh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[qh("email"),Wh(Vh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[qh("email"),Vh("actionCodeSettings")]},yb:{name:"setPersistence",j:[qh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[qh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[qh("email"),qh("password")]},Vc:{name:"signInWithEmailLink",j:[qh("email"),qh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Wh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof pl)}},Zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[qh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[qh("url"),Vh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[qh("code")]}}),Yh(eh.prototype,{lc:{name:"languageCode",lb:Wh(qh(),Zh(),"languageCode")},ti:{name:"tenantId",lb:Wh(qh(),Zh(),"tenantId")}}),(eh.Persistence=Yu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Kh(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[jh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[jh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},rb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},ub:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[qh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Wh(Vh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[qh(null,!0)]},cd:{name:"unlink",j:[qh("provider")]},Cb:{name:"updateEmail",j:[qh("email")]},Db:{name:"updatePassword",j:[qh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Eb:{name:"updateProfile",j:[Vh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[qh("email"),Wh(Vh("opt_actionCodeSettings",!0),Zh(null,!0),"opt_actionCodeSettings",!0)]}}),Kh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Kh(we.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:jh("appVerificationDisabledForTesting")}}),Kh(Wc.prototype,{confirm:{name:"confirm",j:[qh("verificationCode")]}}),$h(ao,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Ao,Ro,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Wh(qh(),Vh(),"json")]),$h(ko,"credential",function(t,e){return new Io(t,e)},[qh("email"),qh("password")]),Kh(Io.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Kh(_o.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),$h(_o,"credential",wo,[Wh(qh(),Vh(),"token")]),$h(ko,"credentialWithLink",Oo,[qh("email"),qh("emailLink")]),Kh(bo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),$h(bo,"credential",xo,[Wh(qh(),Vh(),"token")]),Kh(To.prototype,{Ca:{name:"addScope",j:[qh("scope")]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),$h(To,"credential",Co,[Wh(qh(),Wh(Vh(),Zh()),"idToken"),Wh(qh(),Zh(),"accessToken",!0)]),Kh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),$h(Eo,"credential",So,[Wh(qh(),Vh(),"token"),qh("secret",!0)]),Kh(yo.prototype,{Ca:{name:"addScope",j:[qh("scope")]},credential:{name:"credential",j:[Wh(qh(),Wh(Vh(),Zh()),"optionsOrIdToken"),Wh(qh(),Zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vh("customOAuthParameters")]}}),Kh(fo.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Kh(co.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),$h(Mo,"credential",Lo,[qh("verificationId"),qh("verificationCode")]),Kh(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[Wh(qh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?zh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?zh(t.session,so)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?zh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Kh(Po.prototype,{w:{name:"toJSON",j:[qh(null,!0)]}}),Kh(S.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh(zo.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh(Ho.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh(Xc.prototype,{toJSON:{name:"toJSON",j:[qh(null,!0)]}}),Kh($c.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Kh(ol.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},qh("displayName",!0)]},bd:{name:"unenroll",j:[Wh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},qh(),"multiFactorInfoIdentifier")]}}),Kh(Lh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),$h(wi,"parseLink",Ai,[qh("link")]),$h(bh,"assertion",function(t){return new rl(t)},[Hh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:ao,Error:S};$h(t,"EmailAuthProvider",ko,[]),$h(t,"FacebookAuthProvider",_o,[]),$h(t,"GithubAuthProvider",bo,[]),$h(t,"GoogleAuthProvider",To,[]),$h(t,"TwitterAuthProvider",Eo,[]),$h(t,"OAuthProvider",yo,[qh("providerId")]),$h(t,"SAMLAuthProvider",vo,[qh("providerId")]),$h(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),$h(t,"RecaptchaVerifier",Lh,[Wh(qh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Vh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.default.app.App)}}]),$h(t,"ActionCodeURL",wi,[]),$h(t,"PhoneMultiFactorGenerator",bh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.nc,t),addAuthTokenListener:b(t.cc,t),removeAuthTokenListener:b(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},5119:function(t,e,n){"use strict";n.r(e),n.d(e,{Component:function(){return o},ComponentContainer:function(){return a},Provider:function(){return s}});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.__values)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2107:function(t,e,n){"use strict";var r=n(1062),i=n(5119),o=n(250),s=n(4762),a=n(308);t=n.hmd(t);var u="";function c(t){u=t}var l,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new f},p=d("localStorage"),g=d("sessionStorage"),m=new a.Logger("@firebase/database"),v=(l=1,function(){return l++}),y=function(t){var e=(0,o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_.apply(null,i):n+="object"==typeof i?(0,o.stringify)(i):i,n+=" "}return n},w=null,b=!0,x=function(t,e){(0,o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=a.LogLevel.VERBOSE,w=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"==typeof t?w=t:(w=null,g.remove("logging_enabled"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===w&&!0===g.get("logging_enabled")&&x(!0)),w){var n=_.apply(null,t);w(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,(0,s.__spreadArray)([t],(0,s.__read)(e)))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));throw m.error(n),new Error(n)},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.warn(n)},A=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",O="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===k||e===O)return-1;if(e===k||t===O)return 1;var n=q(t),r=q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},R=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.stringify)(e))},D=function(t){if("object"!=typeof t||null===t)return(0,o.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(e[i]),r+=":",r+=D(t[e[i]]);return r+"}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){var e,n,r,i,s;(0,o.assert)(!A(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},U=new RegExp("^-?(0*)\\d{1,10}$"),q=function(t){if(U.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},j=function(t){try{t()}catch(e){setTimeout(function(){throw I("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},B=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),Z=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';I(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),H=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if((0,o.assert)("string"==typeof e,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return L(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},t}(),Y={},$={};function Q(t){var e=t.toString();return Y[e]||(Y[e]=new K),Y[e]}var J=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&j(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),X=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Q(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),W(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new J(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new tt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.base64Encode)(e),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),tt=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){T("frame writing exception"),u.stack&&T(u.stack),T(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||T("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),et=null;"undefined"!=typeof MozWebSocket?et=MozWebSocket:"undefined"!=typeof WebSocket&&(et=WebSocket);var nt=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Q(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),W(t,"websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new et(this.connURL,[],r)}else this.mySock=new et(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==et&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),rt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[X,nt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=nt&&nt.isAvailable(),o=i&&!nt.previouslyFailed();if(e.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[nt];else{var a=this.transports_=[];try{for(var u=(0,s.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),it=function(){function t(t,e,n,r,i,o,s,a,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new rt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=R("t",t),n=R("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=R("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ot=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),st=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,s.__spreadArray)([],(0,s.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),at=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(st),ut=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new ut("")}function lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ht(t){return t.pieces_.length-t.pieceNum_}function ft(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ut(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function gt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ut(e,0)}function mt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ut)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ut(n,0)}function vt(t){return t.pieceNum_>=t.pieces_.length}function yt(t,e){var n=lt(t),r=lt(e);if(null===n)return e;if(n===r)return yt(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _t(t,e){for(var n=pt(t,0),r=pt(e,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function wt(t,e){if(ht(t)!==ht(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(ht(t)>ht(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var xt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=pt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Tt(this)}}();function Tt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ct(t))}function Ct(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Et,St,It=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(st),At=function(t){function e(n,r,i,s,a,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return It.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&at.getInstance().on("online",h.onOnline_,h),h}return(0,s.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.contains)(t,"w")){var n=(0,o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+(0,o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,a,u,c,l,h,f,d,p,g,m=this;return(0,s.__generator)(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=s.__read.apply(void 0,[v.sent(),2]),d=f[0],p=f[1],u?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new it(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){I(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")},a)),[3,4];case 3:return g=v.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&I(g),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){T("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ut(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){T("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,s.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,(0,s.__values)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?t["framework.cordova"]=1:(0,o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=at.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ot),kt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ot=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new kt(k,t),r=new kt(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return kt.MIN},t}(),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Et},set:function(t){Et=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(O,Et)},e.prototype.makePost=function(t,e){return(0,o.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,Et)},e.prototype.toString=function(){return".key"},e}(Ot),Pt=new Nt,Rt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Lt.EMPTY_NODE,this.right=null!=o?o:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Mt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Rt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Rt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Mt,t}();function Ft(t,e){return N(t.name,e.name)}function Ut(t,e){return N(t,e)}var qt,jt,Vt,Bt,Zt,Ht=function(t){return"number"==typeof t?"number:"+F(t):"string:"+t},zt=function(t){if(t.isLeafNode()){var e=t.val();(0,o.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.contains)(e,".sv"),"Priority must be a string or number.")}else(0,o.assert)(t===St||t.isEmpty(),"priority of unexpected type.");(0,o.assert)(t===St||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Gt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return qt},set:function(t){qt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return vt(e)?this:".priority"===lt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=lt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ht(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ht(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?F(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return new kt(O,new Gt("[PRIORITY-POST]",Vt))},e.prototype.makePost=function(t,e){var n=jt(t);return new kt(e,new Gt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ot)),Kt=Math.log(2),Yt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),$t=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Dt(s,o.node,Dt.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Dt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Dt.BLACK):(a(h,Dt.BLACK),a(h,Dt.RED))}return o}(new Yt(t.length));return new Lt(r||e,o)},Qt={},Jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(Qt&&Wt,"ChildrenNode.ts has not been loaded"),Bt=Bt||new t({".priority":Qt},{".priority":Wt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return(0,o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==Pt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,u=n.getIterator(kt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=a?$t(i,e.getCompare()):Qt;var l=e.toString(),h=(0,s.__assign)({},this.indexSet_);h[l]=e;var f=(0,s.__assign)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.map)(this.indexes_,function(t,i){var s=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(s,"Missing index implementation for "+i),t===Qt){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(kt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),$t(a,s.getCompare())}return Qt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new kt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.map)(this.indexes_,function(t){if(t===Qt)return t;var r=n.get(e.name);return r?t.remove(new kt(e.name,r)):t}),this.indexSet_)},t}(),Xt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&zt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Zt||(Zt=new t(new Lt(Ut),null,Jt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Zt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Zt:e},t.prototype.getChild=function(t){var e=lt(t);return null===e?this:this.getImmediateChild(e).getChild(ft(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new kt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Zt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=lt(t);if(null===n)return e;(0,o.assert)(".priority"!==lt(t)||1===ht(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ft(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Wt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ht(this.getPriority().val())+":"),this.forEachChild(Wt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new kt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new kt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,kt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===te?-1:0},t.prototype.withIndex=function(e){if(e===Pt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Pt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Wt),r=e.getIterator(Wt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Pt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=new(function(t){function e(){return t.call(this,new Lt(Ut),Xt.EMPTY_NODE,Jt.Default)||this}return(0,s.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Xt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Xt));function ee(t,e){if(void 0===e&&(e=null),null===t)return Xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gt(t,ee(e));if(t instanceof Array){var n=Xt.EMPTY_NODE;return L(t,function(e,r){if((0,o.contains)(t,e)&&"."!==e.substring(0,1)){var i=ee(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ee(e))}var r=[],i=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=ee(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new kt(t,n)))}}),0===r.length)return Xt.EMPTY_NODE;var s=$t(r,Ft,function(t){return t.name},Ut);if(i){var a=$t(r,Wt.getCompare());return new Xt(s,ee(e),new Jt({".priority":a},{".priority":Wt}))}return new Xt(s,ee(e),Jt.Default)}Object.defineProperties(kt,{MIN:{value:new kt(k,Xt.EMPTY_NODE)},MAX:{value:new kt(O,te)}}),Nt.__EMPTY_NODE=Xt.EMPTY_NODE,Gt.__childrenNodeConstructor=Xt,St=te,Vt=te,jt=ee;var ne,re,ie=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.assert)(!vt(e)&&".priority"!==lt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,s.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ee(t),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,n);return new kt(e,r)},e.prototype.maxPost=function(){var t=Xt.EMPTY_NODE.updateChild(this.indexPath_,te);return new kt(O,t)},e.prototype.toString=function(){return pt(this.indexPath_,0).join("/")},e}(Ot),oe=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return kt.MIN},e.prototype.maxPost=function(){return kt.MAX},e.prototype.makePost=function(t,e){var n=ee(t);return new kt(e,n)},e.prototype.toString=function(){return".value"},e}(Ot)),se="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ae=(ne=0,re=[],function(t){var e,n=t===ne;ne=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=se.charAt(t%64),t=Math.floor(t/64);(0,o.assert)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===re[e];e--)re[e]=0;re[e]++}else for(e=0;e<12;e++)re[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=se.charAt(re[e]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),ue=function(t){if("2147483647"===t)return"-";var e=q(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=se.charAt(se.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ce=function(t){if("-2147483648"===t)return k;var e=q(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=se.charAt(se.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function le(t){return{type:"value",snapshotNode:t}}function he(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){(0,o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(fe(e,a)):(0,o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(he(e,n)):s.trackChildChange(de(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Wt,function(t,r){e.hasChild(t)||n.trackChildChange(fe(t,r))}),e.isLeafNode()||e.forEachChild(Wt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de(e,r,i))}else n.trackChildChange(he(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ge=function(){function t(e){this.indexedFilter_=new pe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new kt(e,n))||(n=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Xt.EMPTY_NODE);var i=this;return e.forEachChild(Wt,function(t,e){i.matches(new kt(t,e))||(r=r.updateImmediateChild(t,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),me=function(){function t(t){this.rangedFilter_=new ge(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new kt(e,n))||(n=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Xt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Xt.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Xt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new kt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(de(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(fe(e,f));var g=u.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(he(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(fe(l.name,l.node)),i.trackChildChange(he(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,Xt.EMPTY_NODE)):t},t}(),ve=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Wt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function ye(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function _e(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function we(t,e){var n=t.copy();return n.index_=e,n}function be(t){var e,n={};return t.isDefault()||(t.index_===Wt?e="$priority":t.index_===oe?e="$value":t.index_===Pt?e="$key":((0,o.assert)(t.index_ instanceof ie,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.stringify)(e),t.startSet_&&(n.startAt=(0,o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function xe(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Wt&&(e.i=t.index_.toString()),e}var Te=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return(0,s.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=be(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),(0,o.safeGet)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=be(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var a=(0,s.__read)(i,2),u=a[0],c=a[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.jsonEval)(h.responseText)}catch(e){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ot),Ce=function(){function t(){this.rootNode_=Xt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ee(){return{value:null,children:new Map}}function Se(t,e,n){if(vt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=lt(e);t.children.has(r)||t.children.set(r,Ee()),Se(t.children.get(r),e=ft(e),n)}}function Ie(t,e){if(vt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Wt,function(e,n){Se(t,new ut(e),n)}),Ie(t,e)}if(t.children.size>0){var r=lt(e);return e=ft(e),t.children.has(r)&&Ie(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Ae(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Ae(r,new ut(e.toString()+"/"+t),n)})}var ke=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,s.__assign)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Oe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new ke(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,function(e,i){i>0&&(0,o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ne=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Pe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Re,De=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(vt(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(e));return new t(ct(),n,this.revert)}return(0,o.assert)(lt(this.path)===e,"operationForChild called for unrelated child."),new t(ft(this.path),this.affectedTree,this.revert)},t}(),Me=function(){function t(t,e){this.source=t,this.path=e,this.type=Ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return vt(this.path)?new t(this.source,ct()):new t(this.source,ft(this.path))},t}(),Le=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ne.OVERWRITE}return t.prototype.operationForChild=function(e){return vt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ft(this.path),this.snap)},t}(),Fe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ne.MERGE}return t.prototype.operationForChild=function(e){if(vt(this.path)){var n=this.children.subtree(new ut(e));return n.isEmpty()?null:n.value?new Le(this.source,ct(),n.value):new t(this.source,ct(),n)}return(0,o.assert)(lt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ft(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ue=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(vt(t))return this.isFullyInitialized()&&!this.filtered_;var e=lt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),qe=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function je(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new kt(e.childName,e.snapshotNode),i=new kt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Ve(t,e){return{eventCache:t,serverCache:e}}function Be(t,e,n,r){return Ve(new Ue(e,n,r),t.serverCache)}function Ze(t,e,n,r){return Ve(t.eventCache,new Ue(e,n,r))}function He(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ze(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ge=function(){function t(t,e){void 0===e&&(Re||(Re=new Lt(P)),e=Re),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new ut(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(vt(t))return null;var n=lt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ft(t),e);return null!=i?{path:mt(new ut(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(vt(e))return this;var n=lt(e),r=this.children.get(n);return null!==r?r.subtree(ft(e)):new t(null)},t.prototype.set=function(e,n){if(vt(e))return new t(n,this.children);var r=lt(e),i=(this.children.get(r)||new t(null)).set(ft(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(vt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=lt(e),r=this.children.get(n);if(r){var i=r.remove(ft(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(vt(t))return this.value;var e=lt(t),n=this.children.get(e);return n?n.get(ft(t)):null},t.prototype.setTree=function(e,n){if(vt(e))return n;var r,i=lt(e),o=(this.children.get(i)||new t(null)).setTree(ft(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(mt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(vt(t))return null;var i=lt(t),o=this.children.get(i);return o?o.findOnPath_(ft(t),mt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(vt(e))return this;this.value&&r(n,this.value);var i=lt(e),o=this.children.get(i);return o?o.foreachOnPath_(ft(e),mt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(mt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),We=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ge(null))},t}();function Ke(t,e,n){if(vt(e))return new We(new Ge(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=yt(i,e);return o=o.updateChild(s,n),new We(t.writeTree_.set(i,o))}var a=new Ge(n),u=t.writeTree_.setTree(e,a);return new We(u)}function Ye(t,e,n){var r=t;return L(n,function(t,n){r=Ke(r,mt(e,t),n)}),r}function $e(t,e){if(vt(e))return We.empty();var n=t.writeTree_.setTree(e,new Ge(null));return new We(n)}function Qe(t,e){return null!=Je(t,e)}function Je(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(yt(n.path,e)):null}function Xe(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wt,function(t,n){e.push(new kt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new kt(t,n.value))}),e}function tn(t,e){if(vt(e))return t;var n=Je(t,e);return new We(null!=n?new Ge(n):t.writeTree_.subtree(e))}function en(t){return t.writeTree_.isEmpty()}function nn(t,e){return rn(ct(),t.writeTree_,e)}function rn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=rn(mt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(mt(t,".priority"),r)),n}function on(t,e){return mn(e,t)}function sn(t,e){if(t.snap)return bt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&bt(mt(t.path,n),e))return!0;return!1}function an(t){return t.visible}function un(t,e,n){for(var r=We.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)bt(n,a)?r=Ke(r,u=yt(n,a),s.snap):bt(a,n)&&(u=yt(a,n),r=Ke(r,ct(),s.snap.getChild(u)));else{if(!s.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(bt(n,a))r=Ye(r,u=yt(n,a),s.children);else if(bt(a,n))if(vt(u=yt(a,n)))r=Ye(r,ct(),s.children);else{var c=(0,o.safeGet)(s.children,lt(u));if(c){var l=c.getChild(ft(u));r=Ke(r,ct(),l)}}}}}return r}function cn(t,e,n,r,i){if(r||i){var o=tn(t.visibleWrites,e);return!i&&en(o)?n:i||null!=n||Qe(o,ct())?nn(un(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(bt(t.path,e)||bt(e,t.path))},e),n||Xt.EMPTY_NODE):null}var s=Je(t.visibleWrites,e);if(null!=s)return s;var a=tn(t.visibleWrites,e);return en(a)?n:null!=n||Qe(a,ct())?nn(a,n||Xt.EMPTY_NODE):null}function ln(t,e,n,r){return cn(t.writeTree,t.treePath,e,n,r)}function hn(t,e){return function(t,e,n){var r=Xt.EMPTY_NODE,i=Je(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Wt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=tn(t.visibleWrites,e);return n.forEachChild(Wt,function(t,e){var n=nn(tn(o,new ut(t)),e);r=r.updateImmediateChild(t,n)}),Xe(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return Xe(tn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function fn(t,e,n,r){return function(t,e,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=mt(e,n);if(Qe(t.visibleWrites,s))return null;var a=tn(t.visibleWrites,s);return en(a)?i.getChild(n):nn(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function dn(t,e){return function(t,e){return Je(t.visibleWrites,e)}(t.writeTree,mt(t.treePath,e))}function pn(t,e,n){return function(t,e,n,r){var i=mt(e,n),o=Je(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?nn(tn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function gn(t,e){return mn(mt(t.treePath,e),t.writeTree)}function mn(t,e){return{treePath:t,writeTree:e}}var vn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,de(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,fe(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,he(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),yn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),_n=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ue(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return pn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ze(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=tn(t.visibleWrites,e),c=Je(u,ct());if(null!=c)a=c;else{if(null==n)return[];a=nn(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function wn(t,e,n,r,i,s){var a=e.eventCache;if(null!=dn(r,n))return e;var u=void 0,c=void 0;if(vt(n))if((0,o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=ze(e),h=hn(r,l instanceof Xt?l:Xt.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var f=ln(r,ze(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{var d=lt(n);if(".priority"===d){(0,o.assert)(1===ht(n),"Can't have a priority with additional path components");var p=a.getNode(),g=fn(r,n,p,c=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=ft(n),v=void 0;if(a.isCompleteForChild(d)){c=e.serverCache.getNode();var y=fn(r,n,a.getNode(),c);v=null!=y?a.getNode().getImmediateChild(d).updateChild(m,y):a.getNode().getImmediateChild(d)}else v=pn(r,d,e.serverCache);u=null!=v?t.filter.updateChild(a.getNode(),d,v,m,i,s):a.getNode()}}return Be(e,u,a.isFullyInitialized()||vt(n),t.filter.filtersNodes())}function bn(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(vt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=lt(n);if(!c.isCompleteForPath(n)&&ht(n)>1)return e;var d=ft(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,yn,null)}var g=Ze(e,u,c.isFullyInitialized()||vt(n),l.filtersNodes());return wn(t,g,n,i,new _n(i,g,o),a)}function xn(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new _n(i,e,o);if(vt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Be(e,u,!0,t.filter.filtersNodes());else{var h=lt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Be(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=ft(n),d=c.getNode().getImmediateChild(h),p=void 0;if(vt(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===dt(f)&&g.getChild(gt(f)).isEmpty()?g:g.updateChild(f,r):Xt.EMPTY_NODE}a=d.equals(p)?e:Be(e,t.filter.updateChild(c.getNode(),h,p,f,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function Tn(t,e){return t.eventCache.isCompleteForChild(e)}function Cn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function En(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=vt(n)?r:new Ge(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Cn(0,e.serverCache.getNode().getImmediateChild(n),r);c=bn(t,c,new ut(n),u,i,o,s,a)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Cn(0,e.serverCache.getNode().getImmediateChild(n),r);c=bn(t,c,new ut(n),h,i,o,s,a)}}),c}var Sn,In=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new pe(r.getIndex()),o=(n=r).loadsAllData()?new pe(n.getIndex()):n.hasLimit()?new me(n):new ge(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(Xt.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),l=new Ue(u,s.isFullyInitialized(),i.filtersNodes()),h=new Ue(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ve(h,l),this.eventGenerator_=new qe(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function An(t,e){var n=ze(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!vt(e)&&!n.getImmediateChild(lt(e)).isEmpty())?n.getChild(e):null}function kn(t){return 0===t.eventRegistrations_.length}function On(t,e,n){var r=[];if(n){(0,o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Nn(t,e,n,r){e.type===Ne.MERGE&&null!==e.source.queryId&&((0,o.assert)(ze(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(He(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,u=function(t,e,n,r,i){var s,a,u=new vn;if(n.type===Ne.OVERWRITE){var c=n;c.source.fromUser?s=xn(t,e,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!vt(c.path),s=bn(t,e,c.path,c.snap,r,i,a,u))}else if(n.type===Ne.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,u){var c=mt(n,r);Tn(e,lt(c))&&(a=xn(t,a,c,u,i,o,s))}),r.foreach(function(r,u){var c=mt(n,r);Tn(e,lt(c))||(a=xn(t,a,c,u,i,o,s))}),a}(t,e,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=En(t,e,l.path,l.children,r,i,a,u))}else if(n.type===Ne.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=dn(r,n))return e;var u=new _n(r,e,i),c=e.eventCache.getNode(),l=void 0;if(vt(n)||".priority"===lt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=ln(r,ze(e));else{var f=e.serverCache.getNode();(0,o.assert)(f instanceof Xt,"serverChildren would be complete if leaf node"),h=hn(r,f)}l=t.filter.updateFullNode(c,h=h,s)}else{var d=lt(n),p=pn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,ft(n),u,s):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,Xt.EMPTY_NODE,ft(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=ln(r,ze(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=dn(r,ct()),Be(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,s){if(null!=dn(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(vt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return bn(t,e,n,u.getNode().getChild(n),i,o,a,s);if(vt(n)){var c=new Ge(null);return u.getNode().forEachChild(Pt,function(t,e){c=c.set(new ut(t),e)}),En(t,e,n,c,i,o,a,s)}return e}var l=new Ge(null);return r.foreach(function(t,e){var r=mt(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),En(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Ne.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return wn(t,Ze(e,o.getNode(),o.isFullyInitialized()||vt(n),o.isFiltered()),n,r,yn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=He(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(le(He(e)))}}(e,s,f),{viewCache:s,changes:f}}(t.processor_,a,e,n,r);return i=t.processor_,(0,o.assert)((s=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Pn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Pn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),je(t,i,"child_removed",e,r,n),je(t,i,"child_added",e,r,n),je(t,i,"child_moved",o,r,n),je(t,i,"child_changed",e,r,n),je(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Rn,Dn=function(){return function(){this.views=new Map}}();function Mn(t,e,n,r){var i,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Nn(c,e,n,r)}var l=[];try{for(var h=(0,s.__values)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(Nn(c=f.value,e,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function Ln(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=ln(n,i?r:null),a=!1;s?a=!0:r instanceof Xt?(s=hn(n,r),a=!1):(s=Xt.EMPTY_NODE,a=!1);var u=Ve(new Ue(s,a,!1),new Ue(r,i,!1));return new In(e,u)}return o}function Fn(t){var e,n,r=[];try{for(var i=(0,s.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Un(t,e){var n,r,i=null;try{for(var o=(0,s.__values)(t.views.values()),a=o.next();!a.done;a=o.next())i=i||An(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function qn(t,e){return e._queryParams.loadsAllData()?Bn(t):t.views.get(e._queryIdentifier)}function jn(t,e){return null!=qn(t,e)}function Vn(t){return null!=Bn(t)}function Bn(t){var e,n;try{for(var r=(0,s.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Zn=1,Hn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Ge(null),this.pendingWriteTree_={visibleWrites:We.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function zn(t,e,n,r,i){return function(t,e,n,r,i){(0,o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ke(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Qn(t,new Le({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Gn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&sn(u,r.path)?i=!1:bt(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=un(t.allWrites,an,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=$e(t.visibleWrites,r.path):L(r.children,function(e){t.visibleWrites=$e(t.visibleWrites,mt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Ge(null);return null!=r.snap?i=i.set(ct(),!0):L(r.children,function(t){i=i.set(new ut(t),!0)}),Qn(t,new De(r.path,i,n))}return[]}function Wn(t,e,n){return Qn(t,new Le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Kn(t,e,n,r){var i=e._path,a=t.syncPointTree_.get(i),u=[];if(a&&("default"===e._queryIdentifier||jn(a,e))){var c=function(t,e,n,r){var i,a,u=e._queryIdentifier,c=[],l=[],h=Vn(t);if("default"===u)try{for(var f=(0,s.__values)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,g=(0,s.__read)(d.value,2),m=g[0];l=l.concat(On(p=g[1],n,r)),kn(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(On(p,n,r)),kn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Vn(t)&&c.push(new((0,o.assert)(Sn,"Reference.ts has not been loaded"),Sn)(e._repo,e._path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(i,function(t,e){return Vn(e)});if(h&&!f){var d=t.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Vn(e))return[Bn(e)];var r=[];return e&&(r=Fn(e)),L(n,function(t,e){r=r.concat(e)}),r})}(d),g=0;g<p.length;++g){var m=p[g],v=m.query,y=tr(t,m);t.listenProvider_.startListening(sr(v),er(t,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(sr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(nr(e));t.listenProvider_.stopListening(sr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=nr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function Yn(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=yt(t,r);i=i||Un(e,n),s=s||Vn(e)});var a,u=t.syncPointTree_.get(r);u?(s=s||Vn(u),i=i||Un(u,ct())):(u=new Dn,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=Xt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Un(e,ct());n&&(i=i.updateImmediateChild(t,n))}));var c=jn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=nr(e);(0,o.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Zn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var s=Ln(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,function(t,e){r.push(he(t,e))}),n.isFullyInitialized()&&r.push(le(n.getNode())),Pn(t,r,n.getNode(),e)}(s,n)}(u,e,n,on(t.pendingWriteTree_,r),i,a);if(!c&&!s){var d=qn(u,e);f=f.concat(function(t,e,n){var r=e._path,i=er(t,e),s=tr(t,n),a=t.listenProvider_.startListening(sr(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Vn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!vt(t)&&e&&Vn(e))return[Bn(e).query];var r=[];return e&&(r=r.concat(Fn(e).map(function(t){return t.query}))),L(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(sr(h),er(t,h))}return a}(t,e,d))}return f}function $n(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Un(n,yt(t,e));if(r)return r});return cn(r,e,i,n,!0)}function Qn(t,e){return Jn(e,t.syncPointTree_,null,on(t.pendingWriteTree_,ct()))}function Jn(t,e,n,r){if(vt(t.path))return Xn(t,e,n,r);var i=e.get(ct());null==n&&null!=i&&(n=Un(i,ct()));var o=[],s=lt(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=gn(r,s);o=o.concat(Jn(a,u,c,l))}return i&&(o=o.concat(Mn(i,t,r,n))),o}function Xn(t,e,n,r){var i=e.get(ct());null==n&&null!=i&&(n=Un(i,ct()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=gn(r,e),u=t.operationForChild(e);u&&(o=o.concat(Xn(u,i,s,a)))}),i&&(o=o.concat(Mn(i,t,r,n))),o}function tr(t,e){var n=e.query,r=er(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Xt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=rr(t,n);if(r){var i=ir(r),o=i.path,s=i.queryId,a=yt(o,e);return or(t,o,new Me(Pe(s),a))}return[]}(t,n._path,r):function(t,e){return Qn(t,new Me({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Kn(t,n,null,i)}}}function er(t,e){var n=nr(e);return t.queryToTagMap.get(n)}function nr(t){return t._path.toString()+"$"+t._queryIdentifier}function rr(t,e){return t.tagToQueryMap.get(e)}function ir(t){var e=t.indexOf("$");return(0,o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}}function or(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Mn(r,n,on(t.pendingWriteTree_,e),null)}function sr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.assert)(Rn,"Reference.ts has not been loaded"),Rn)(t._repo,t._path):t}var ar=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ur=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=mt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return $n(this.syncTree_,this.path_)},t}(),cr=function(t,e,n){return t&&"object"==typeof t?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?lr(t[".sv"],e,n):"object"==typeof t[".sv"]?hr(t[".sv"],e):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},lr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+t)}},hr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},fr=function(t,e,n,r){return pr(e,new ur(n,t),r)},dr=function(t,e,n){return pr(t,new ar(e),n)};function pr(t,e,n){var r,i=t.getPriority().val(),o=cr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=cr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Gt(a,ee(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Gt(o))),u.forEachChild(Wt,function(t,i){var o=pr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var gr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function mr(t,e){for(var n=e instanceof ut?e:new ut(e),r=t,i=lt(n);null!==i;){var s=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new gr(i,r,s),i=lt(n=ft(n))}return r}function vr(t){return t.node.value}function yr(t,e){t.node.value=e,Tr(t)}function _r(t){return t.node.childCount>0}function wr(t,e){L(t.node.children,function(n,r){e(new gr(n,t,r))})}function br(t,e,n,r){n&&!r&&e(t),wr(t,function(t){br(t,e,!0,r)}),n&&r&&e(t)}function xr(t){return new ut(null===t.parent?t.name:xr(t.parent)+"/"+t.name)}function Tr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===vr(t)&&!_r(t)}(n),i=(0,o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tr(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Tr(t))}(t.parent,t.name,t)}var Cr=/[\[\].#$\/\u0000-\u001F\u007F]/,Er=/[\[\].#$\u0000-\u001F\u007F]/,Sr=function(t){return"string"==typeof t&&0!==t.length&&!Cr.test(t)},Ir=function(t){return"string"==typeof t&&0!==t.length&&!Er.test(t)},Ar=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!A(t)||t&&"object"==typeof t&&(0,o.contains)(t,".sv")},kr=function(t,e,n,r){r&&void 0===e||Or((0,o.errorPrefix)(t,"value"),e,n)},Or=function(t,e,n){var r=n instanceof ut?new xt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ct(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ct(r)+" with contents = "+e.toString());if(A(e))throw new Error(t+"contains "+e.toString()+" "+Ct(r));if("string"==typeof e&&e.length>10485760/3&&(0,o.stringLength)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Ct(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(L(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Sr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ct(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.stringLength)(e),Tt(t)}(r,e),Or(t,n,r),u=(a=r).parts_.pop(),a.byteLength_-=(0,o.stringLength)(u),a.parts_.length>0&&(a.byteLength_-=1)}),i&&s)throw new Error(t+' contains ".value" child '+Ct(r)+" in addition to actual children.")}},Nr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];L(e,function(t,e){var r=new ut(t);if(Or(i,e,mt(n,r)),".priority"===dt(r)&&!Ar(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=pt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Sr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(_t);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&bt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,s)}},Pr=function(t,e,n){if(!n||void 0!==e){if(A(e))throw new Error((0,o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ar(e))throw new Error((0,o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Dr=function(t,e,n,r){if(!(r&&void 0===n||Sr(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Mr=function(t,e,n,r){if(!(r&&void 0===n||Ir(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Lr=function(t,e){if(".info"===lt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Fr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Sr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ir(t)}(n))throw new Error((0,o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ur=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(t,e)+"must be a boolean.")},qr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function jr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||wt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Vr(t,e,n){jr(t,n),Zr(t,function(t){return wt(t,e)})}function Br(t,e,n){jr(t,n),Zr(t,function(t){return bt(t,e)||bt(e,t)})}function Zr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Hr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Hr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();w&&T("event: "+n.toString()),j(r)}}}var zr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ee(),this.transactionQueueTree_=new gr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Gr(t){var e=t.infoData_.getNode(new ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Wr(t){return(e=(e={timestamp:Gr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function Kr(t,e,n,r,i){t.dataUpdateCount++;var s=new ut(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=(0,o.map)(n,function(t){return ee(t)});a=function(t,e,n,r){var i=rr(t,r);if(i){var o=ir(i),s=o.path,a=o.queryId,u=yt(s,e),c=Ge.fromObject(n);return or(t,s,new Fe(Pe(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=ee(n);a=function(t,e,n,r){var i=rr(t,r);if(null!=i){var o=ir(i),s=o.path,a=o.queryId,u=yt(s,e);return or(t,s,new Le(Pe(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=(0,o.map)(n,function(t){return ee(t)});a=function(t,e,n){var r=Ge.fromObject(n);return Qn(t,new Fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=ee(n);a=Wn(t.serverSyncTree_,s,h)}var f=s;a.length>0&&(f=ai(t,s)),Br(t.eventQueue_,f,a)}function Yr(t,e){$r(t,"connected",e),!1===e&&function(t){ri(t,"onDisconnectEvents");var e=Wr(t),n=Ee();Ae(t.onDisconnect_,ct(),function(r,i){var o=fr(r,i,t.serverSyncTree_,e);Se(n,r,o)});var r=[];Ae(n,ct(),function(e,n){r=r.concat(Wn(t.serverSyncTree_,e,n));var i=fi(t,e);ai(t,i)}),t.onDisconnect_=Ee(),Br(t.eventQueue_,ct(),r)}(t)}function $r(t,e,n){var r=new ut("/.info/"+e),i=ee(n);t.infoData_.updateSnapshot(r,i);var o=Wn(t.infoSyncTree_,r,i);Br(t.eventQueue_,r,o)}function Qr(t){return t.nextWriteId_++}function Jr(t,e,n,r,i){ri(t,"set",{path:e.toString(),value:n,priority:r});var o=Wr(t),s=ee(n,r),a=$n(t.serverSyncTree_,e),u=dr(s,a,o),c=Qr(t),l=zn(t.serverSyncTree_,e,u,c,!0);jr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||I("set at "+e+" failed: "+n);var s=Gn(t.serverSyncTree_,c,!o);Br(t.eventQueue_,e,s),ii(0,i,n,r)});var h=fi(t,e);ai(t,h),Br(t.eventQueue_,h,[])}function Xr(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Ie(t.onDisconnect_,e),ii(0,n,r,i)})}function ti(t,e,n,r){var i=ee(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Se(t.onDisconnect_,e,i),ii(0,r,n,o)})}function ei(t,e,n){var r;r=".info"===lt(e._path)?Kn(t.infoSyncTree_,e,n):Kn(t.serverSyncTree_,e,n),Vr(t.eventQueue_,e._path,r)}function ni(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function ri(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),T.apply(void 0,(0,s.__spreadArray)([r],(0,s.__read)(e)))}function ii(t,e,n,r){e&&j(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function oi(t,e,n){return $n(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function si(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||hi(t,e),vr(e)){var n=ci(t,e);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=oi(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=yt(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=e;t.server_.put(f.toString(),h,function(r){ri(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Gn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(hi(t,mr(t.transactionQueueTree_,e)),si(t,t.transactionQueueTree_),Br(t.eventQueue_,e,i),a=0;a<o.length;a++)j(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(I("transaction at "+f.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;ai(t,e)}},a)}(t,xr(e),n)}else _r(e)&&wr(e,function(e){si(t,e)})}function ai(t,e){var n=ui(t,e),r=xr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var u,c=e[a],l=yt(n,c.path),h=!1;if((0,o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Gn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Gn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=oi(t,c.path,s);c.currentInputSnapshot=f;var d=e[a].update(f.val());if(void 0!==d){Or("transaction failed: Data returned ",d,c.path);var p=ee(d);"object"==typeof d&&null!=d&&(0,o.contains)(d,".priority")||(p=p.updatePriority(f.getPriority()));var g=c.currentWriteId,m=Wr(t),v=dr(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=v,c.currentWriteId=Qr(t),s.splice(s.indexOf(g),1),i=(i=i.concat(zn(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally))).concat(Gn(t.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(Gn(t.serverSyncTree_,c.currentWriteId,!0))}Br(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===u?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)a(u);for(hi(t,t.transactionQueueTree_),u=0;u<r.length;u++)j(r[u]);si(t,t.transactionQueueTree_)}}(t,ci(t,n),r),r}function ui(t,e){var n,r=t.transactionQueueTree_;for(n=lt(e);null!==n&&void 0===vr(r);)r=mr(r,n),n=lt(e=ft(e));return r}function ci(t,e){var n=[];return li(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function li(t,e,n){var r=vr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);wr(e,function(e){li(t,e,n)})}function hi(t,e){var n=vr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,yr(e,n.length>0?n:void 0)}wr(e,function(e){hi(t,e)})}function fi(t,e){var n=xr(ui(t,e)),r=mr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){di(t,e)}),di(t,r),br(r,function(e){di(t,e)}),n}function di(t,e){var n=vr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?((0,o.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):((0,o.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Gn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?yr(e,void 0):n.length=s+1,Br(t.eventQueue_,xr(e),i),a=0;a<r.length;a++)j(r[a])}}var pi=function(t,e){var n=gi(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ut(n.pathString)}},gi=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,s.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},mi=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},t}(),vi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),yi=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),_i=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return Xr(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Lr("OnDisconnect.remove",this._path);var t=new o.Deferred;return ti(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Lr("OnDisconnect.set",this._path),kr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return ti(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Lr("OnDisconnect.setWithPriority",this._path),kr("OnDisconnect.setWithPriority",t,this._path,!1),Pr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=ee(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Se(t.onDisconnect_,e,o),ii(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Lr("OnDisconnect.update",this._path),Nr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if((0,o.isEmpty)(n))return T("onDisconnect().update() called with empty data.  Don't do anything."),void ii(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=ee(r);Se(t.onDisconnect_,mt(e,n),i)}),ii(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),wi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return vt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ci(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=xe(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return xe(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=wt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function bi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function xi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Pt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Wt){if(null!=e&&!Ar(e)||null!=n&&!Ar(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(t.getIndex()instanceof ie||t.getIndex()===oe,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ti(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ci=function(t){function e(e,n){return t.call(this,e,n,new ve,!1)||this}return(0,s.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=gt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(wi),Ei=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ut(e),r=Ai(this.ref,e);return new t(this._node.getChild(n),r,Wt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Ai(n.ref,r),Wt))})},t.prototype.hasChild=function(t){var e=new ut(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Si(t,e){return(t=(0,o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Ai(t._root,e):t._root}function Ii(t,e){(t=(0,o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=pi(e,t._repo.repoInfo_.nodeAdmin);Fr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Si(t,n.path.toString())}function Ai(t,e){var n;return null===lt((t=(0,o.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mr("child","path",n,!1)):Mr("child","path",e,!1),new Ci(t._repo,mt(t._path,e))}function ki(t,e){t=(0,o.getModularInstance)(t),Lr("push",t._path),kr("push",e,t._path,!0);var n,r=Gr(t._repo),i=ae(r),s=Ai(t,i),a=Ai(t,i);return n=null!=e?Ni(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Oi(t){return Lr("remove",t._path),Ni(t,null)}function Ni(t,e){t=(0,o.getModularInstance)(t),Lr("set",t._path),kr("set",e,t._path,!1);var n=new o.Deferred;return Jr(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Pi(t,e){t=(0,o.getModularInstance)(t),Lr("setPriority",t._path),Pr("setPriority",e,!1);var n=new o.Deferred;return Jr(t._repo,mt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Ri(t,e,n){if(Lr("setWithPriority",t._path),kr("setWithPriority",e,t._path,!1),Pr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return Jr(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Di(t,e){Nr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){ri(t,"update",{path:e.toString(),value:n});var i=!0,s=Wr(t),a={};if(L(n,function(n,r){i=!1,a[n]=fr(mt(e,n),ee(r),t.serverSyncTree_,s)}),i)T("update() called with empty data.  Don't do anything."),ii(0,r,"ok",void 0);else{var u=Qr(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ye(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Ge.fromObject(n);return Qn(t,new Fe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,u);jr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||I("update at "+e+" failed: "+n);var s=Gn(t.serverSyncTree_,u,!o),a=s.length>0?ai(t,e):e;Br(t.eventQueue_,a,s),ii(0,r,n,i)}),L(n,function(n){var r=fi(t,mt(e,n));ai(t,r)}),Br(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Mi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new mi("value",this,new Ei(t.snapshotNode,new Ci(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new vi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Li=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new vi(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.assert)(null!=t.childName,"Child events should have a childName.");var n=Ai(new Ci(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new mi(t.type,this,new Ei(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Fi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){ei(t._repo,t,c),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new yi(n,o||void 0),c="value"===e?new Mi(u):new Li(e,u);return function(t,e,n){var r;r=".info"===lt(e._path)?Yn(t.infoSyncTree_,e,n):Yn(t.serverSyncTree_,e,n),Vr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ei(t._repo,t,c)}}function Ui(t,e,n,r){return Fi(t,"value",e,n,r)}function qi(t,e,n,r){return Fi(t,"child_added",e,n,r)}function ji(t,e,n,r){return Fi(t,"child_changed",e,n,r)}function Vi(t,e,n,r){return Fi(t,"child_moved",e,n,r)}function Bi(t,e,n,r){return Fi(t,"child_removed",e,n,r)}function Zi(t,e,n){var r=null,i=n?new yi(n):null;"value"===e?r=new Mi(i):e&&(r=new Li(e,i)),ei(t._repo,t,r)}var Hi=function(){return function(){}}(),zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){kr("endAt",this._value,t._path,!0);var e=_e(t._queryParams,this._value,this._key);if(Ti(e),xi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wi(t._repo,t._path,e,t._orderByCalled)},e}(Hi);function Gi(t,e){return Dr("endAt","key",e,!0),new zi(t,e)}var Wi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){kr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Pt?("string"==typeof n&&(n=ce(n)),i=_e(e,n,r)):i=_e(e,n,null==r?k:ce(r)),i.endBeforeSet_=!0,i);if(Ti(o),xi(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wi(t._repo,t._path,o,t._orderByCalled)},e}(Hi);function Ki(t,e){return Dr("endBefore","key",e,!0),new Wi(t,e)}var Yi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){kr("startAt",this._value,t._path,!0);var e=ye(t._queryParams,this._value,this._key);if(Ti(e),xi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wi(t._repo,t._path,e,t._orderByCalled)},e}(Hi);function $i(t,e){return void 0===t&&(t=null),Dr("startAt","key",e,!0),new Yi(t,e)}var Qi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){kr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Pt?("string"==typeof n&&(n=ue(n)),i=ye(e,n,r)):i=ye(e,n,null==r?O:ue(r)),i.startAfterSet_=!0,i);if(Ti(o),xi(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wi(t._repo,t._path,o,t._orderByCalled)},e}(Hi);function Ji(t,e){return Dr("startAfter","key",e,!0),new Qi(t,e)}var Xi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Hi);function to(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xi(t)}var eo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Hi);function no(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new eo(t)}var ro=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByChild");var e=new ut(this._path);if(vt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ie(e),r=we(t._queryParams,n);return xi(r),new wi(t._repo,t._path,r,!0)},e}(Hi);function io(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Mr("orderByChild","path",t,!1),new ro(t)}var oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByKey");var e=we(t._queryParams,Pt);return xi(e),new wi(t._repo,t._path,e,!0)},e}(Hi);function so(){return new oo}var ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByPriority");var e=we(t._queryParams,Wt);return xi(e),new wi(t._repo,t._path,e,!0)},e}(Hi);function uo(){return new ao}var co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){bi(t,"orderByValue");var e=we(t._queryParams,oe);return xi(e),new wi(t._repo,t._path,e,!0)},e}(Hi);function lo(){return new co}var ho=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(kr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zi(this._value,this._key)._apply(new Yi(this._value,this._key)._apply(t))},e}(Hi);function fo(t,e){return Dr("equalTo","key",e,!0),new ho(t,e)}function po(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(t);try{for(var u=(0,s.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a}!function(t){(0,o.assert)(!Sn,"__referenceConstructor has already been defined"),Sn=t}(Ci),function(t){(0,o.assert)(!Rn,"__referenceConstructor has already been defined"),Rn=t}(Ci);var go={},mo=!1;function vo(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=pi(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=pi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new H(H.OWNER):new Z(t.name,t.options,e);Fr("Invalid Firebase Database URL",a),vt(a.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=go[e.name];i||(go[e.name]=i={});var o=i[t.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new zr(t,mo,n,r),i[t.toURLString()]=o,o}(u,t,l,new B(t.name,n));return new yo(h,t)}var yo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Q(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Te(t.repoInfo_,function(e,n,r,i){Kr(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return Yr(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new At(t.repoInfo_,e,function(e,n,r,i){Kr(t,e,n,r,i)},function(e){Yr(t,e)},function(e){!function(t,e){L(e,function(e,n){$r(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Oe(t.stats_,t.server_)},i=t.repoInfo_.toString(),$[i]||($[i]=r()),$[i]),t.infoData_=new Ce,t.infoSyncTree_=new Hn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Wn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),$r(t,"connected",!1),t.serverSyncTree_=new Hn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Br(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ci(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=go[e=this.app.name])&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),ni(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function _o(t){(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOffline"),ni(t._repo)}function wo(t){var e;(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var bo={".sv":"timestamp"},xo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function To(t,e,n){var r;if(t=(0,o.getModularInstance)(t),Lr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new o.Deferred,a=Ui(t,function(){});return function(e,n,r,i,a,u){ri(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Ei(r,new Ci(t._repo,t._path),Wt),s.resolve(new xo(n,i)))},status:null,order:v(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=oi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Or("transaction failed: Data returned ",h,c.path),c.status=0;var f=mr(e.transactionQueueTree_,n),d=vr(f)||[];d.push(c),yr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.contains)(h,".priority")?(p=(0,o.safeGet)(h,".priority"),(0,o.assert)(Ar(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=($n(e.serverSyncTree_,n)||Xt.EMPTY_NODE).getPriority().val();var g=Wr(e),m=ee(h,p),y=dr(m,l,g);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=y,c.currentWriteId=Qr(e);var _=zn(e.serverSyncTree_,n,y,c.currentWriteId,c.applyLocally);Br(e.eventQueue_,n,_),si(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,i),s.promise}var Co=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Eo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),So=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Mr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Mr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Ao(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Io=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new So(a.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return Ui(this._delegate,c,l),n;case"child_added":return qi(this._delegate,c,l),n;case"child_removed":return Bi(this._delegate,c,l),n;case"child_changed":return ji(this._delegate,c,l),n;case"child_moved":return Vi(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Rr("Query.off",t,!0),(0,o.validateCallback)("Query.off","callback",e,!0),(0,o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Zi(this._delegate,t,r)}else Zi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=yt(t,n);r=r||Un(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Un(i,ct()):(i=new Dn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Ue(r,!0,!1):null;return He(Ln(i,e,on(t.pendingWriteTree_,e._path),o?s.getNode():Xt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=ee(n).withIndex(e._queryParams.getIndex()),i=Wn(t.serverSyncTree_,e._path,r);return Vr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ri(t,"get for query "+(0,o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.getModularInstance)(t))._repo,t).then(function(e){return new Ei(e,new Ci(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new So(t.database,e)})},t.prototype.once=function(e,n,r,i){var s=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new So(s.database,t);n&&n.call(a.context,r,e),u.resolve(r)};c.userCallback=n,c.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),u.reject(t)};switch(e){case"value":Ui(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":qi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Bi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":ji(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Vi(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,po(this._delegate,to(e)))},t.prototype.limitToLast=function(e){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,po(this._delegate,no(e)))},t.prototype.orderByChild=function(e){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,po(this._delegate,io(e)))},t.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,po(this._delegate,so()))},t.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,po(this._delegate,uo()))},t.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,po(this._delegate,lo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,po(this._delegate,$i(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,po(this._delegate,Ji(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,po(this._delegate,Gi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,po(this._delegate,Ki(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,po(this._delegate,fo(e,n)))},t.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this.database,new Ci(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Ao=function(t){function e(e,n){var r=t.call(this,e,new wi(n._repo,n._path,new ve,!1))||this;return r.database=e,r._delegate=n,r}return(0,s.__extends)(e,t),e.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ai(this._delegate,t))},e.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",e,!0);var n=Ni(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",e,!0);var i=Di(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ri(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Oi(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,o.validateCallback)("Reference.transaction","onComplete",e,!0),Ur("Reference.transaction","applyLocally",n,!0);var i=To(this._delegate,t,{applyLocally:n}).then(function(t){return new Eo(t.committed,new So(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Pi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=ki(this._delegate,t),s=i.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Lr("Reference.onDisconnect",this._delegate._path),new Co(new _i(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Io),ko=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new H(H.OWNER);else if(r.mockUserToken){var a=(0,o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new H(a)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof Ao){var e=Ii(this._delegate,t.toString());return new Ao(this,e)}return e=Si(this._delegate,t),new Ao(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.validateArgCount)(e,1,1,arguments.length);var n=Ii(this._delegate,t);return new Ao(this,n)},t.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),_o(this._delegate)},t.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),wo(this._delegate)},t.ServerValue={TIMESTAMP:bo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Oo=Object.freeze({__proto__:null,forceLongPolling:function(){nt.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return nt.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new ke(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new ko(vo(e,u,void 0,n,a),e),namespace:o}}}),No=At;At.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},At.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Po=Object.freeze({__proto__:null,DataConnection:No,RealTimeConnection:it,hijackHash:function(t){var e=At.prototype.put;return At.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){At.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){mo=t}(t)}}),Ro=ko.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new ko(vo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Ao,Query:Io,Database:ko,DataSnapshot:So,enableLogging:x,INTERNAL:Oo,ServerValue:Ro,TEST_ACCESS:Po}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.9"),(0,o.isNodeSdk)()&&(t.exports=n)}(r.default)},308:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,{LogLevel:function(){return s},Logger:function(){return h},setLogLevel:function(){return f},setUserLogHandler:function(){return d}});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:function(t,e,n){"use strict";n.r(e),n.d(e,{CONSTANTS:function(){return i},Deferred:function(){return d},ErrorFactory:function(){return N},FirebaseError:function(){return O},MAX_VALUE_MILLIS:function(){return ut},RANDOM_FACTOR:function(){return ct},Sha1:function(){return $},areCookiesEnabled:function(){return A},assert:function(){return o},assertionError:function(){return s},async:function(){return X},base64:function(){return u},base64Decode:function(){return l},base64Encode:function(){return c},calculateBackoffMillis:function(){return lt},contains:function(){return V},createMockUserToken:function(){return p},createSubscribe:function(){return Q},decode:function(){return L},deepCopy:function(){return h},deepEqual:function(){return z},deepExtend:function(){return f},errorPrefix:function(){return nt},extractQuerystring:function(){return Y},getGlobal:function(){return k},getModularInstance:function(){return ft},getUA:function(){return g},isAdmin:function(){return j},isBrowser:function(){return y},isBrowserExtension:function(){return _},isElectron:function(){return b},isEmpty:function(){return Z},isIE:function(){return x},isIndexedDBAvailable:function(){return S},isMobileCordova:function(){return m},isNode:function(){return v},isNodeSdk:function(){return C},isReactNative:function(){return w},isSafari:function(){return E},isUWP:function(){return T},isValidFormat:function(){return q},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return D},map:function(){return H},ordinal:function(){return ht},querystring:function(){return W},querystringDecode:function(){return K},safeGet:function(){return B},stringLength:function(){return at},stringToByteArray:function(){return st},stringify:function(){return M},validateArgCount:function(){return et},validateCallback:function(){return it},validateContextObject:function(){return ot},validateIndexedDBOpenable:function(){return I},validateNamespace:function(){return rt}});var r=n(4762),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=a(t);return u.encodeByteArray(e,!0)},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return f(void 0,t)}function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(s),!1),""].join(".")}function g(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function _(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return g().indexOf("Electron/")>=0}function x(){var t=g();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return g().indexOf("MSAppHost/")>=0}function C(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function E(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function A(){return!(!navigator||!navigator.cookieEnabled)}function k(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var O=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return(0,r.__extends)(e,t),e}(Error),N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?P(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new O(i,a,r);return u},t}();function P(t,e){return t.replace(R,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var R=/\{\$([^}]+)}/g;function D(t){return JSON.parse(t)}function M(t){return JSON.stringify(t)}var L=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},F=function(t){var e=L(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(t){var e=L(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},q=function(t){var e=L(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=L(t).claims;return"object"==typeof e&&!0===e.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function H(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function z(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var s=t[l],a=e[l];if(G(s)&&G(a)){if(!z(s,a))return!1}else if(s!==a)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function G(t){return null!==t&&"object"==typeof t}function W(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function K(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),e}function Y(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var $=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Q(t,e){var n=new J(t,e);return n.subscribe.bind(n)}var J=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=tt),void 0===r.error&&(r.error=tt),void 0===r.complete&&(r.complete=tt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function X(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function tt(){}var et=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function nt(t,e){return t+" failed: "+e+" argument "}function rt(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(nt(t,"namespace")+"must be a valid firebase namespace.")}function it(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(nt(t,e)+"must be a valid function.")}function ot(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(nt(t,e)+"must be a valid context object.")}var st=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},at=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},ut=144e5,ct=.5;function lt(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(ct*r*(Math.random()-.5)*2);return Math.min(ut,r+i)}function ht(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function ft(t){return t&&t._delegate?t._delegate:t}},1858:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.default}});var r=n(1062);r.default.registerVersion("firebase","8.8.1","app"),r.default.SDK_VERSION="8.8.1"},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){n(i=t[e].apply(t,r)).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},8861:function(t,e,n){"use strict";n.d(e,{P:function(){return s}});var r=n(653),i=n(878),o=n(8318);let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,r.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},8318:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:function(t,e,n){"use strict";n.d(e,{c:function(){return o}});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:function(t,e,n){"use strict";n.d(e,{Yc:function(){return c},xQ:function(){return l}});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:function(t,e,n){"use strict";n.d(e,{W:function(){return i}});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:function(t,e,n){"use strict";n.d(e,{L:function(){return c}});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:function(t,e,n){"use strict";n.d(e,{IY:function(){return s},Ds:function(){return a},ft:function(){return u}});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2875:function(t,e,n){"use strict";n.d(e,{c:function(){return a},N:function(){return u}});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:function(t,e,n){"use strict";n.d(e,{E:function(){return i},c:function(){return o}});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:function(t,e,n){"use strict";n.d(e,{n:function(){return s}});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:function(t,e,n){"use strict";n.d(e,{of:function(){return s}});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},9996:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:function(t,e,n){"use strict";n.d(e,{J:function(){return o}});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:function(t,e,n){"use strict";n.d(e,{zg:function(){return s}});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:function(t,e,n){"use strict";n.d(e,{QV:function(){return o},ht:function(){return a}});var r=n(6673),i=n(8861);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},1564:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1055:function(t,e,n){"use strict";n.d(e,{B:function(){return a}});var r=n(2875),i=n(1564),o=n(5959);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},2893:function(t,e,n){"use strict";n.d(e,{R:function(){return m}});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class f extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n(2293);class g extends r.y{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,p.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},4019:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var r=n(6673),i=n(6054),o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:function(t,e,n){"use strict";n.d(e,{r:function(){return o}});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:function(t,e,n){"use strict";n.d(e,{o:function(){return o}});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:function(t,e,n){"use strict";n.d(e,{z:function(){return i},P:function(){return o}});var r=n(8277);const i=new(n(1098).v)(r.o),o=i},8489:function(t,e,n){"use strict";n.d(e,{c:function(){return u},N:function(){return a}});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:function(){return i}});const i=r()},6197:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:function(t,e,n){"use strict";n.d(e,{b:function(){return r}});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:function(){return r}})},3392:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},8470:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},2293:function(t,e,n){"use strict";n.d(e,{k:function(){return i}});var r=n(8470);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},2056:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return r}})},5168:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return r}})},6163:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return r}})},6054:function(t,e,n){"use strict";function r(){}n.d(e,{Z:function(){return r}})},6015:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},204:function(t,e,n){"use strict";var r=n(1572);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l((0,r.LFG)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=(0,r.LFG)(s).location;return new _((0,r.LFG)(a),e&&e.origin||"")}const y=new r.OlP("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(y,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:x,token:t,providedIn:"root"}),t})();function x(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function T(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.kL8;class S{}let I=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class O{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let N=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(tC){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new O(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new P(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){M("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){M("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function M(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:S,useClass:I}]}),t})();function F(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new q((0,r.LFG)(s),window)}),t})();class q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=j(this.window.history)||j(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(tC){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(tC){return!1}}}function j(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V{}class B extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new B,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(H=H||document.querySelector("base"),H?H.getAttribute("href"):null);return null==e?null:function(t){Z=Z||document.createElement("a"),Z.setAttribute("href",t);const e=Z.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A(document.cookie,t)}}let Z,H=null;const z=new r.OlP("TRANSITION_ID"),G=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,s,r.zs3],multi:!0}];class W{static init(){(0,r.VLi)(new W)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let K=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Y=new r.OlP("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Y),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(tt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function tt(t){o().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new st(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($),r.LFG(X),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends st{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends st{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,dt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(vt)},token:t,providedIn:"root"}),t})();function mt(t){return new vt(t.get(s))}let vt=(()=>{class t extends gt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return mt((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const yt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){B.makeCurrent(),W.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),_t=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Y,useClass:ct,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:Y,useClass:pt,multi:!0,deps:[s]},[],{provide:ot,useClass:ot,deps:[$,X,r.AFp]},{provide:r.FYo,useExisting:ot},{provide:J,useExisting:X},{provide:X,useClass:X,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:$,useClass:$,deps:[Y,r.R0b]},{provide:V,useClass:K,deps:[]},[]];let wt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:z,useExisting:r.AFp},G]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:_t,imports:[L,r.hGG]}),t})();"undefined"!=typeof window&&window;class bt{}function xt(t,e=null){return{type:4,styles:e,timings:t}}function Tt(t,e=null){return{type:2,steps:t,options:e}}function Ct(t){return{type:6,styles:t,offset:null}}function Et(t,e,n){return{type:0,name:t,styles:e,options:n}}function St(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function It(t){Promise.resolve(null).then(t)}class At{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){It(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class kt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?It(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ot(){return"undefined"!=typeof window&&void 0!==window.document}function Nt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Pt(t){switch(t.length){case 0:return new At;case 1:return t[0];default:return new kt(t)}}function Rt(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Dt(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Mt(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Mt(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Mt(n,"destroy",t)))}}function Mt(t,e,n){const r=n.totalTime,i=Lt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Lt(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ft(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ut(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let qt=(t,e)=>!1,jt=(t,e)=>!1,Vt=(t,e,n)=>[];const Bt=Nt();(Bt||"undefined"!=typeof Element)&&(qt=Ot()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),jt=(()=>{if(Bt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):jt}})(),Vt=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Zt=null,Ht=!1;function zt(t){Zt||(Zt=("undefined"!=typeof document?document.body:null)||{},Ht=!!Zt.style&&"WebkitAppearance"in Zt.style);let e=!0;return Zt.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Zt.style,!e&&Ht)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zt.style),e}const Gt=jt,Wt=qt,Kt=Vt;function Yt(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let $t=(()=>{class t{validateStyleProperty(t){return zt(t)}matchesElement(t,e){return Gt(t,e)}containsElement(t,e){return Wt(t,e)}query(t,e,n){return Kt(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new At(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Qt=(()=>{class t{}return t.NOOP=new $t,t})();function Jt(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Xt(parseFloat(e[1]),e[2])}function Xt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function te(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Xt(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Xt(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function ee(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ne(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else ee(t,n);return n}function re(t,e,n){return n?e+":"+n+";":""}function ie(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=re(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=re(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function oe(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=de(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Nt()&&ie(t))}function se(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=de(e);t.style[n]=""}),Nt()&&ie(t))}function ae(t){return Array.isArray(t)?1==t.length?t[0]:Tt(t):t}const ue=new RegExp("{{\\s*(.+?)\\s*}}","g");function ce(t){let e=[];if("string"==typeof t){let n;for(;n=ue.exec(t);)e.push(n[1]);ue.lastIndex=0}return e}function le(t,e,n){const r=t.toString(),i=r.replace(ue,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function he(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const fe=/-+([a-z0-9])/g;function de(t){return t.replace(fe,(...t)=>t[1].toUpperCase())}function pe(t,e){return 0===t||0===e}function ge(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=ve(t,e)})}}return e}function me(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function ve(t,e){return window.getComputedStyle(t)[e]}function ye(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(be(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(be(s,i))}(t,n,e)):n.push(t),n}const _e=new Set(["true","1"]),we=new Set(["false","0"]);function be(t,e){const n=_e.has(t)||we.has(t),r=_e.has(e)||we.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?_e.has(t):we.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?_e.has(e):we.has(e)),s&&a}}const xe=new RegExp("s*:selfs*,?","g");function Te(t,e,n){return new Ce(t).build(e,n)}class Ce{constructor(t){this._driver=t}build(t,e){const n=new Ee(e);return this._resetContextStyleTimingState(n),me(this,ae(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Se(t)){const e=t;Object.keys(e).forEach(t=>{ce(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=he(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=me(this,ae(t.animation),e);return{type:1,matchers:ye(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ie(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>me(this,t,e)),options:Ie(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=me(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Ie(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ae(te(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ae(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||te(r,e),Ae(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ct({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Ct(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Se(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=ce(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Se(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Se(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=f+d.delay+s,d.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:me(this,ae(t.animation),e),options:Ie(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ie(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ie(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(xe,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ft(e.collectedStyles,e.currentQuerySelector,{});const s=me(this,ae(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Ie(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:te(t.timings,e.errors,!0);return{type:12,animation:me(this,ae(t.animation),e),timings:n,options:null}}}class Ee{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Se(t){return!Array.isArray(t)&&"object"==typeof t}function Ie(t){var e;return t?(t=ee(t)).params&&(t.params=(e=t.params)?ee(e):null):t={},t}function Ae(t,e,n){return{duration:t,delay:e,easing:n}}function ke(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Oe{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ne=new RegExp(":enter","g"),Pe=new RegExp(":leave","g");function Re(t,e,n,r,i,o={},s={},a,u,c=[]){return(new De).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class De{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new Oe;const l=new Le(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),me(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ke(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Jt(n.duration):null,o=null!=n.delay?Jt(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),me(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Me);const t=Jt(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>me(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Jt(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),me(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return te(e.params?le(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Jt(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Me);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),me(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;me(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Me={};class Le{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Me,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Fe(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Jt(n.duration)),null!=n.delay&&(r.delay=Jt(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=le(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Le(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Me,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Ue(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Ne,"."+this._enterClassName)).replace(Pe,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Fe{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Fe(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):ne(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=le(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=ne(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?he(t.values()):[],o=e.size?he(e.values()):[];if(n){const t=r[0],e=ee(t);t.offset=0,e.offset=1,r=[t,e]}return ke(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Ue extends Fe{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=ne(t[0],!1);a.offset=0,i.push(a);const u=ne(t[0],!1);u.offset=qe(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=ne(t[r],!1);s.offset=qe((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return ke(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function qe(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class je{}class Ve extends je{normalizePropertyName(t,e){return de(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Be[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Be=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ze(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const He={};class ze{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||He,f=this.buildStyles(n,s&&s.params||He,l),d=a&&a.params||He,p=this.buildStyles(r,d,l),g=new Set,m=new Map,v=new Map,y="void"===r,_={params:Object.assign(Object.assign({},h),d)},w=c?[]:Re(t,e,this.ast.animation,i,o,f,p,_,u,l);let b=0;if(w.forEach(t=>{b=Math.max(t.duration+t.delay,b)}),l.length)return Ze(e,this._triggerName,n,r,y,f,p,[],[],m,v,b,l);w.forEach(t=>{const n=t.element,r=Ft(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ft(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const x=he(g.values());return Ze(e,this._triggerName,n,r,y,f,p,w,x,m,v,b)}}class Ge{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=ee(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=le(o,r,e)),n[t]=o})}}),n}}class We{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ge(t.style,t.options&&t.options.params||{})}),Ke(this.states,"true","1"),Ke(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new ze(t,e,this.states))}),this.fallbackTransition=new ze(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ke(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ye=new Oe;class $e{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Te(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Rt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Re(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Ye,r),o.forEach(t=>{const e=Ft(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Pt(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Lt(e,"","","");return Dt(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Qe=[],Je={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class tn{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=ee(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const en=new tn("void");class nn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ln(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Ft(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Ft(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ln(t,"ng-trigger"),ln(t,"ng-trigger-"+e),a[e]=en),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new on(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(ln(t,"ng-trigger"),ln(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new tn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=en),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{se(t,n),oe(t,r)})}return}const c=Ft(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(ln(t,"ng-animate-queued"),o.onStart(()=>{hn(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Pt(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||en,a=new tn("void"),u=new on(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Je||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ln(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Lt(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Dt(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class rn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new nn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(sn(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!sn(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ln(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hn(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(sn(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return sn(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Pt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Je,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ln(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Pt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Oe,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=cn(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>ln(t,n))});const g=[],m=new Set,v=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):v.add(t))}const y=new Map,_=cn(h,Array.from(m));_.forEach((t,e)=>{const n="ng-leave"+p++;y.set(e,n),t.forEach(t=>ln(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>hn(t,n))}),_.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>hn(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=y.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)b.push(p);else{if(c)return e.onStart(()=>se(i,p.fromStyles)),e.onDestroy(()=>oe(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>se(i,p.fromStyles)),e.onDestroy(()=>oe(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ft(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(b.length){const t=[];b.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,T=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ft(x,e,[]).push(t),t.destroy()})});const C=g.filter(t=>pn(t,a,u)),E=new Map;un(E,this.driver,v,u,"*").forEach(t=>{pn(t,a,u)&&C.push(t)});const S=new Map;f.forEach((t,e)=>{un(S,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=E.get(t),n=S.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>oe(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=k;if(T.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>T.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,x,i,S,E);if(o.setRealPlayer(n),t===k)I.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Pt(e)),r.push(o)}}else se(e,s.fromStyles),o.onDestroy(()=>oe(e,s.toStyles)),A.push(o),c.has(e)&&r.push(o)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Pt(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<g.length;O++){const t=g[O],e=t.__ng_removed;if(hn(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?fn(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=Ft(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}se(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new At(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return dn(t,e),e}((n.get(h)||Qe).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),v=Rt(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,v,p);if(e.subTimeline&&r&&l.add(h),d){const e=new on(t,s,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{Ft(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>ln(t,"ng-animating"));const f=Pt(h);return f.onDestroy(()=>{c.forEach(t=>hn(t,"ng-animating")),oe(a,e.toStyles)}),l.forEach(t=>{Ft(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new At(t.duration,t.delay)}}class on{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new At,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Dt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ft(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function sn(t){return t&&1===t.nodeType}function an(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function un(t,e,n,r,i){const o=[];n.forEach(t=>o.push(an(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Xe,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>an(t,o[a++])),s}function cn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function ln(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function hn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function fn(t,e,n){Pt(n).onDone(()=>t.processLeaveNode(e))}function dn(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof kt?dn(r.players,e):e.push(r)}}function pn(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class gn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new rn(t,e,n),this._timelineEngine=new $e(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Te(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new We(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ut(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ut(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mn(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=yn(e[0]),e.length>1&&(r=yn(e[e.length-1]))):e&&(n=yn(e)),n||r?new vn(t,n,r):null}let vn=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&oe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oe(this._element,this._initialStyles),this._endStyles&&(oe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(se(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(se(this._element,this._endStyles),this._endStyles=null),oe(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function yn(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];_n(i)&&(e=e||{},e[i]=t[i])}return e}function _n(t){return"display"===t||"position"===t}class wn{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Sn(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),En(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Cn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){bn(this._element,this._name,"paused")}resume(){bn(this._element,this._name,"running")}setPosition(t){const e=xn(this._element,this._name);this._position=t*this._duration,En(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Cn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Sn(t,"").split(","),r=Tn(n,e);r>=0&&(n.splice(r,1),En(t,"",n.join(",")))}(this._element,this._name))}}function bn(t,e,n){En(t,"PlayState",n,xn(t,e))}function xn(t,e){const n=Sn(t,"");return n.indexOf(",")>0?Tn(n.split(","),e):Tn([n],e)}function Tn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Cn(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function En(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Sn(t,e){return t.style["animation"+e]||""}class In{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:ve(this.element,n))})}this.currentSnapshot=t}}class An extends At{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Yt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class kn{constructor(){this._count=0}validateStyleProperty(t){return zt(t)}matchesElement(t,e){return Gt(t,e)}containsElement(t,e){return Wt(t,e)}query(t,e,n){return Kt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Yt(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof In),u={};pe(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=ge(t,e,u));if(0==n)return new An(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const f=mn(t,e),d=new In(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class On{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ve(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Nn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Pn().toString()),this._cssKeyframesDriver=new kn}validateStyleProperty(t){return zt(t)}matchesElement(t,e){return Gt(t,e)}containsElement(t,e){return Wt(t,e)}query(t,e,n){return Kt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof On);pe(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=mn(t,e=ge(t,e=e.map(t=>ne(t,!1)),u));return new On(t,e,a,l)}}function Pn(){return Ot()&&Element.prototype.animate||{}}let Rn=(()=>{class t extends bt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Tt(t):t;return Ln(this._renderer,null,e,"register",[n]),new Dn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Dn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Mn(this._id,t,e||{},this._renderer)}}class Mn{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ln(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ln(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Fn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Un("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new qn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(gn),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Un{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qn extends Un{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let jn=(()=>{class t extends gn{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(Qt),r.LFG(je))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Vn=new r.OlP("AnimationModuleType"),Bn=[{provide:bt,useClass:Rn},{provide:je,useFactory:function(){return new Ve}},{provide:gn,useClass:jn},{provide:r.FYo,useFactory:function(t,e,n){return new Fn(t,e,n)},deps:[ot,gn,r.R0b]}],Zn=[{provide:Qt,useFactory:function(){return"function"==typeof Pn()?new Nn:new kn}},{provide:Vn,useValue:"BrowserAnimations"},...Bn],Hn=[{provide:Qt,useClass:$t},{provide:Vn,useValue:"NoopAnimations"},...Bn];let zn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Hn:Zn}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Zn,imports:[wt]}),t})();var Gn=n(9764),Wn=n(8318),Kn=n(8470),Yn=n(9996),$n=n(2056);function Qn(...t){if(1===t.length){const e=t[0];if((0,Kn.k)(e))return Jn(e,null);if((0,$n.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Jn(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Jn(t=1===t.length&&(0,Kn.k)(t[0])?t[0]:t,null).pipe((0,Yn.U)(t=>e(...t)))}return Jn(t,null)}function Jn(t,e){return new Wn.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,Gn.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let Xn=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),tr=(()=>{class t extends Xn{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const er=new r.OlP("NgValueAccessor"),nr={provide:er,useExisting:(0,r.Gpc)(()=>ir),multi:!0},rr=new r.OlP("CompositionEventMode");let ir=(()=>{class t extends Xn{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(rr,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([nr]),r.qOj]}),t})();const or=new r.OlP("NgValidators"),sr=new r.OlP("NgAsyncValidators");function ar(t){return null!=t}function ur(t){const e=(0,r.QGY)(t)?(0,Gn.D)(t):t;return(0,r.CqO)(e),e}function cr(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function lr(t,e){return e.map(e=>e(t))}function hr(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function fr(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ar);return 0==e.length?null:function(t){return cr(lr(t,e))}}(hr(t)):null}function dr(t){return null!=t?function(t){if(!t)return null;const e=t.filter(ar);return 0==e.length?null:function(t){return Qn(lr(t,e).map(ur)).pipe((0,Yn.U)(cr))}}(hr(t)):null}function pr(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let gr=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fr(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),mr=(()=>{class t extends gr{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class vr extends gr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yr{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let _r=(()=>{class t extends yr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(vr,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),wr=(()=>{class t extends yr{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(mr,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function br(t,e){Tr(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Cr(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Cr(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function xr(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Tr(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(pr(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(pr(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();xr(e._rawValidators,i),xr(e._rawAsyncValidators,i)}function Cr(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Er(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sr(t){return(Or(t)?t.validators:t)||null}function Ir(t){return Array.isArray(t)?fr(t):t||null}function Ar(t,e){return(Or(e)?e.asyncValidators:t)||null}function kr(t){return Array.isArray(t)?dr(t):t||null}function Or(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Nr{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ir(this._rawValidators),this._composedAsyncValidatorFn=kr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ir(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=kr(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=ur(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Rr?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Dr&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Or(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pr extends Nr{constructor(t=null,e,n){super(Sr(e),Ar(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Er(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Er(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Rr extends Nr{constructor(t,e,n){super(Sr(e),Ar(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Pr?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Dr extends Nr{constructor(t,e,n){super(Sr(e),Ar(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Pr?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Mr={provide:mr,useExisting:(0,r.Gpc)(()=>Fr)},Lr=(()=>Promise.resolve(null))();let Fr=(()=>{class t extends mr{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new Rr({},fr(t),dr(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lr.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),br(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lr.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Er(this._directives,t)})}addFormGroup(t){Lr.then(()=>{const e=this._findContainer(t.path),n=new Rr({});(function(t,e){Tr(t,e)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lr.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Lr.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(or,10),r.Y36(sr,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Mr]),r.qOj]}),t})();const Ur={provide:vr,useExisting:(0,r.Gpc)(()=>jr)},qr=(()=>Promise.resolve(null))();let jr=(()=>{class t extends vr{constructor(t,e,n,i){super(),this.control=new Pr,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===ir?n=t:Object.getPrototypeOf(t.constructor)===tr?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){br(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qr.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;qr.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(mr,9),r.Y36(or,10),r.Y36(sr,10),r.Y36(er,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Ur]),r.qOj,r.TTD]}),t})(),Vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Zr=new r.OlP("NgModelWithFormControlWarning");let Hr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Br]]}),t})(),zr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Hr]}),t})(),Gr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Zr,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Hr]}),t})();var Wr=n(878),Kr=n(3982);function Yr(t,e){return(0,Kr.zg)(t,e,1)}var $r=n(6673);function Qr(t,e){return function(n){return n.lift(new Jr(t,e))}}class Jr{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Xr(t,this.predicate,this.thisArg))}}class Xr extends $r.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class ti{}class ei{}class ni{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ni?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ni;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ni?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ri{encodeKey(t){return ii(t)}encodeValue(t){return ii(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function ii(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function oi(t){return`${t}`}class si{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ri,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new si({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(oi(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(oi(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class ai{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function ui(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ci(t){return"undefined"!=typeof Blob&&t instanceof Blob}function li(t){return"undefined"!=typeof FormData&&t instanceof FormData}class hi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ni),this.context||(this.context=new ai),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new si,this.urlWithParams=e}serializeBody(){return null===this.body?null:ui(this.body)||ci(this.body)||li(this.body)||"string"==typeof this.body?this.body:this.body instanceof si?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||li(this.body)?null:ci(this.body)?this.body.type||null:ui(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof si?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new hi(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class di{constructor(t,e=200,n="OK"){this.headers=t.headers||new ni,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pi extends di{constructor(t={}){super(t),this.type=fi.ResponseHeader}clone(t={}){return new pi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class gi extends di{constructor(t={}){super(t),this.type=fi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new gi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mi extends di{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vi(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let yi=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof hi)r=t;else{let i,o;i=n.headers instanceof ni?n.headers:new ni(n.headers),n.params&&(o=n.params instanceof si?n.params:new si({fromObject:n.params})),r=new hi(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,Wr.of)(r).pipe(Yr(t=>this.handler.handle(t)));if(t instanceof hi||"events"===n.observe)return i;const o=i.pipe(Qr(t=>t instanceof gi));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,Yn.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,Yn.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,Yn.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,Yn.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new si).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,vi(n,e))}post(t,e,n={}){return this.request("POST",t,vi(n,e))}put(t,e,n={}){return this.request("PUT",t,vi(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ti))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class _i{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const wi=new r.OlP("HTTP_INTERCEPTORS");let bi=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const xi=/^\)\]\}',?\n/;let Ti=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wn.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new ni(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new pi({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(xi,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new gi({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new mi({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new mi({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:fi.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:fi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:fi.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(V))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Ci=new r.OlP("XSRF_COOKIE_NAME"),Ei=new r.OlP("XSRF_HEADER_NAME");class Si{}let Ii=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(r.Lbi),r.LFG(Ci))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Ai=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Si),r.LFG(Ei))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ki=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(wi,[]);this.chain=t.reduceRight((t,e)=>new _i(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ei),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Oi=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ai,useClass:bi}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ci,useValue:e.cookieName}:[],e.headerName?{provide:Ei,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Ai,{provide:wi,useExisting:Ai,multi:!0},{provide:Si,useClass:Ii},{provide:Ci,useValue:"XSRF-TOKEN"},{provide:Ei,useValue:"X-XSRF-TOKEN"}]}),t})(),Ni=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[yi,{provide:ti,useClass:ki},Ti,{provide:ei,useExisting:Ti}],imports:[[Oi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Pi=n(5959),Ri=n(3895);class Di extends Pi.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ri.N;return this._value}next(t){super.next(this._value=t)}}var Mi=n(6163);class Li extends $r.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Fi extends $r.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ui=n(6015);function qi(t,e,n,r,i=new Fi(t,n,r)){if(!i.closed)return e instanceof Wn.y?e.subscribe(i):(0,Ui.s)(e)(i)}var ji=n(9342);const Vi={};class Bi{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Zi(t,this.resultSelector))}}class Zi extends Li{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Vi),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(qi(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Vi?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Hi=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var zi=n(7471);function Gi(...t){return(0,zi.J)(1)((0,Wr.of)(...t))}var Wi=n(653);function Ki(t){return new Wn.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Gn.D)(n):(0,Wi.c)()).subscribe(e)})}var Yi=n(2875),$i=n(6882);function Qi(t,e){return"function"==typeof e?n=>n.pipe(Qi((n,r)=>(0,Gn.D)(t(n,r)).pipe((0,Yn.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ji(t))}class Ji{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xi(t,this.project))}}class Xi extends $i.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new $i.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,$i.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const to=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function eo(t){return e=>0===t?(0,Wi.c)():e.lift(new no(t))}class no{constructor(t){if(this.total=t,this.total<0)throw new to}call(t,e){return e.subscribe(new ro(t,this.total))}}class ro extends $r.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function io(...t){const e=t[t.length-1];return(0,Mi.K)(e)?(t.pop(),n=>Gi(t,n,e)):e=>Gi(t,e)}function oo(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new so(t,e,n))}}class so{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ao(t,this.accumulator,this.seed,this.hasSeed))}}class ao extends $r.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function uo(t){return function(e){const n=new co(t),r=e.lift(n);return n.caught=r}}class co{constructor(t){this.selector=t}call(t,e){return e.subscribe(new lo(t,this.selector,this.caught))}}class lo extends $i.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new $i.IY(this);this.add(r);const i=(0,$i.ft)(n,r);i!==r&&this.add(i)}}}function ho(t){return function(e){return 0===t?(0,Wi.c)():e.lift(new fo(t))}}class fo{constructor(t){if(this.total=t,this.total<0)throw new to}call(t,e){return e.subscribe(new po(t,this.total))}}class po extends $r.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function go(t=yo){return e=>e.lift(new mo(t))}class mo{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vo(t,this.errorFactory))}}class vo extends $r.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(mE){t=mE}this.destination.error(t)}}}function yo(){return new Hi}function _o(t=null){return e=>e.lift(new wo(t))}class wo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new bo(t,this.defaultValue))}}class bo extends $r.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var xo=n(3392);function To(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qr((e,n)=>t(e,n,r)):xo.y,eo(1),n?_o(e):go(()=>new Hi))}var Co=n(4019),Eo=n(1564),So=n(7570);class Io{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ao(t,this.callback))}}class Ao extends $r.L{constructor(t,e){super(t),this.add(new So.w(e))}}class ko{constructor(t,e){this.id=t,this.url=e}}class Oo extends ko{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class No extends ko{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Po extends ko{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ro extends ko{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Do extends ko{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mo extends ko{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lo extends ko{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fo extends ko{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uo extends ko{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Go{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wo(t){return new Go(t)}function Ko(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Yo(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $o(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qo(t[i],e[i]))return!1;return!0}function Qo(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Jo(t){return Array.prototype.concat.apply([],t)}function Xo(t){return t.length>0?t[t.length-1]:null}function ts(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function es(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Gn.D)(Promise.resolve(t)):(0,Wr.of)(t)}const ns={exact:function t(e,n,r){if(!hs(e.segments,n.segments))return!1;if(!as(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:os},rs={exact:function(t,e){return $o(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qo(t[n],e[n]))},ignored:()=>!0};function is(t,e,n){return ns[n.paths](t.root,e.root,n.matrixParams)&&rs[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function os(t,e,n){return ss(t,e,e.segments,n)}function ss(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!hs(i,n)&&!e.hasChildren()&&!!as(i,n,r)}if(t.segments.length===n.length){if(!hs(t.segments,n))return!1;if(!as(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!os(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!hs(t.segments,i)&&!!as(t.segments,i,r)&&!!t.children.primary&&ss(t.children.primary,e,o,r)}}function as(t,e,n){return e.every((e,r)=>rs[n](t[r].parameters,e.parameters))}class us{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wo(this.queryParams)),this._queryParamMap}toString(){return ps.serialize(this)}}class cs{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ts(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gs(this)}}class ls{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wo(this.parameters)),this._parameterMap}toString(){return xs(this)}}function hs(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class fs{}class ds{parse(t){const e=new Is(t);return new us(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${ms(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ys(e)}=${ys(t)}`).join("&"):`${ys(e)}=${ys(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ps=new ds;function gs(t){return t.segments.map(t=>xs(t)).join("/")}function ms(t,e){if(!t.hasChildren())return gs(t);if(e){const e=t.children.primary?ms(t.children.primary,!1):"",n=[];return ts(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${ms(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ts(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),ts(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[ms(t.children.primary,!1)]:[`${n}:${ms(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${gs(t)}/${e[0]}`:`${gs(t)}/(${e.join("//")})`}}function vs(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ys(t){return vs(t).replace(/%3B/gi,";")}function _s(t){return vs(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ws(t){return decodeURIComponent(t)}function bs(t){return ws(t.replace(/\+/g,"%20"))}function xs(t){return`${_s(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${_s(t)}=${_s(e[t])}`).join("")}`;var e}const Ts=/^[^\/()?;=#]+/;function Cs(t){const e=t.match(Ts);return e?e[0]:""}const Es=/^[^=?&#]+/,Ss=/^[^?&#]+/;class Is{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cs([],{}):new cs([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new cs(t,e)),n}parseSegment(){const t=Cs(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ls(ws(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Cs(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Cs(this.remaining);t&&(n=t,this.capture(n))}t[ws(e)]=ws(n)}parseQueryParam(t){const e=function(t){const e=t.match(Es);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ss);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=bs(e),i=bs(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Cs(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new cs([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class As{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ks(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ks(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Os(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Os(t,this._root).map(t=>t.value)}}function ks(t,e){if(t===e.value)return e;for(const n of e.children){const e=ks(t,n);if(e)return e}return null}function Os(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Os(t,n);if(r.length)return r.unshift(e),r}return[]}class Ns{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ps(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Rs extends As{constructor(t,e){super(t),this.snapshot=e,qs(this,t)}toString(){return this.snapshot.toString()}}function Ds(t,e){const n=function(t,e){const n=new Fs([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Us("",new Ns(n,[]))}(t,e),r=new Di([new ls("",{})]),i=new Di({}),o=new Di({}),s=new Di({}),a=new Di(""),u=new Ms(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Rs(new Ns(u,[]),n)}class Ms{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Yn.U)(t=>Wo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Yn.U)(t=>Wo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ls(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Fs{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Us extends As{constructor(t,e){super(e),this.url=t,qs(this,e)}toString(){return js(this._root)}}function qs(t,e){e.value._routerState=t,e.children.forEach(e=>qs(t,e))}function js(t){const e=t.children.length>0?` { ${t.children.map(js).join(", ")} } `:"";return`${t.value}${e}`}function Vs(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$o(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$o(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$o(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$o(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Bs(t,e){return $o(t.params,e.params)&&function(t,e){return hs(t,e)&&t.every((t,n)=>$o(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Bs(t.parent,e.parent))}function Zs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Zs(t,e,r);return Zs(t,e)})}(t,e,n);return new Ns(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Hs(e,t),t}}const n=new Ms(new Di((r=e.value).url),new Di(r.params),new Di(r.queryParams),new Di(r.fragment),new Di(r.data),r.outlet,r.component,r),i=e.children.map(e=>Zs(t,e));return new Ns(n,i)}var r}function Hs(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Hs(t.children[n],e.children[n])}function zs(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gs(t){return"object"==typeof t&&null!=t&&t.outlets}function Ws(t,e,n,r,i){let o={};return r&&ts(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new us(n.root===t?e:Ks(n.root,t,e),o,i)}function Ks(t,e,n){const r={};return ts(t.children,(t,i)=>{r[i]=t===e?n:Ks(t,e,n)}),new cs(t.segments,r)}class Ys{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zs(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Gs);if(r&&r!==Xo(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $s{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Qs(t,e,n){if(t||(t=new cs([],{})),0===t.segments.length&&t.hasChildren())return Js(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Gs(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!na(a,u,e))return o;r+=2}else{if(!na(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new cs(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new cs(t.segments.slice(r.pathIndex),t.children),Js(e,0,i)}return r.match&&0===i.length?new cs(t.segments,{}):r.match&&!t.hasChildren()?Xs(t,e,n):r.match?Js(t,0,i):Xs(t,e,n)}function Js(t,e,n){if(0===n.length)return new cs(t.segments,{});{const r=function(t){return Gs(t[0])?t[0].outlets:{primary:t}}(n),i={};return ts(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Qs(t.children[r],e,n))}),ts(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new cs(t.segments,i)}}function Xs(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Gs(o)){const t=ta(o.outlets);return new cs(r,t)}if(0===i&&zs(n[0])){r.push(new ls(t.segments[e].path,ea(n[0]))),i++;continue}const s=Gs(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&zs(a)?(r.push(new ls(s,ea(a))),i+=2):(r.push(new ls(s,{})),i++)}return new cs(r,{})}function ta(t){const e={};return ts(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Xs(new cs([],{}),0,t))}),e}function ea(t){const e={};return ts(t,(t,n)=>e[n]=`${t}`),e}function na(t,e,n){return t==n.path&&$o(e,n.parameters)}class ra{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Vs(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Ps(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ts(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Ps(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Ps(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ho(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Bo(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Vs(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ia(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ia(t){Vs(t.value),t.children.forEach(ia)}class oa{constructor(t,e){this.routes=t,this.module=e}}function sa(t){return"function"==typeof t}function aa(t){return t instanceof us}const ua=Symbol("INITIAL_VALUE");function ca(){return Qi(t=>function(...t){let e,n;return(0,Mi.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Kn.k)(t[0])&&(t=t[0]),(0,ji.n)(t,n).lift(new Bi(e))}(t.map(t=>t.pipe(eo(1),io(ua)))).pipe(oo((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ua)return t;if(r===ua&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||aa(r))return r}return t},t)},ua),Qr(t=>t!==ua),(0,Yn.U)(t=>aa(t)?t:!0===t),eo(1)))}let la=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[su]},encapsulation:2}),t})();function ha(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];fa(r,da(e,r))}}function fa(t,e){t.children&&ha(t.children,e)}function da(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pa(t){const e=t.children&&t.children.map(pa),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=la),n}function ga(t){return t.outlet||"primary"}function ma(t,e){const n=t.filter(t=>ga(t)===e);return n.push(...t.filter(t=>ga(t)!==e)),n}const va={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ya(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},va):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Yo)(n,t,e);if(!i)return Object.assign({},va);const o={};ts(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function _a(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>wa(t,e,n)&&"primary"!==ga(n))}(t,n,r)){const i=new cs(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==ga(o)){const n=new cs([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ga(o)]=n}return i}(t,e,r,new cs(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>wa(t,e,n))}(t,n,r)){const o=new cs(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(wa(t,n,a)&&!i[ga(a)]){const n=new cs([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ga(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new cs(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function wa(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ba(t,e,n,r){return!!(ga(t)===r||"primary"!==r&&wa(e,n,t))&&("**"===t.path||ya(e,t,n).matched)}function xa(t,e,n){return 0===e.length&&!t.children[n]}class Ta{constructor(t){this.segmentGroup=t||null}}class Ca{constructor(t){this.urlTree=t}}function Ea(t){return new Wn.y(e=>e.error(new Ta(t)))}function Sa(t){return new Wn.y(e=>e.error(new Ca(t)))}function Ia(t){return new Wn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Aa{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=_a(this.urlTree.root,[],[],this.config).segmentGroup,e=new cs(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe((0,Yn.U)(t=>this.createUrlTree(ka(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uo(t=>{if(t instanceof Ca)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ta)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe((0,Yn.U)(e=>this.createUrlTree(ka(e),t.queryParams,t.fragment))).pipe(uo(t=>{if(t instanceof Ta)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new cs([],{primary:t}):t;return new us(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Yn.U)(t=>new cs([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Gn.D)(r).pipe(Yr(r=>{const i=n.children[r],o=ma(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Yn.U)(t=>({segment:t,outlet:r})))}),oo((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qr((e,n)=>t(e,n,r)):xo.y,ho(1),n?_o(e):go(()=>new Hi))}())}expandSegment(t,e,n,r,i,o){return(0,Gn.D)(n).pipe(Yr(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(uo(t=>{if(t instanceof Ta)return(0,Wr.of)(null);throw t}))),To(t=>!!t),uo((t,n)=>{if(t instanceof Hi||"EmptyError"===t.name){if(xa(e,r,i))return(0,Wr.of)(new cs([],{}));throw new Ta(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ba(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ea(e):Ea(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sa(i):this.lineralizeSegments(n,i).pipe((0,Kr.zg)(n=>{const i=new cs(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ya(e,r,i);if(!s)return Ea(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Sa(l):this.lineralizeSegments(r,l).pipe((0,Kr.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Wr.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Yn.U)(t=>(n._loadedConfig=t,new cs(r,{})))):(0,Wr.of)(new cs(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=ya(e,n,r);if(!o)return Ea(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,Kr.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=_a(e,s,u,o),l=new cs(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Yn.U)(t=>new cs(s,t)));if(0===o.length&&0===c.length)return(0,Wr.of)(new cs(s,{}));const h=ga(n)===i;return this.expandSegment(r,l,o,c,h?"primary":i,!0).pipe((0,Yn.U)(t=>new cs(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,Wr.of)(new oa(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Wr.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Kr.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Yn.U)(t=>(e._loadedConfig=t,t))):function(t){return new Wn.y(e=>e.error(Ko(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,Wr.of)(new oa([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,Wr.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&sa(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!sa(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return es(o)});return(0,Wr.of)(i).pipe(ca(),(0,Co.b)(t=>{if(!aa(t))return;const e=Ko(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Yn.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Wr.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Ia(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new us(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ts(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ts(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new cs(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ka(t){const e={};for(const n of Object.keys(t.children)){const r=ka(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new cs(t.segments.concat(e.segments),e.children)}return t}(new cs(t.segments,e))}class Oa{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Na{constructor(t,e){this.component=t,this.route=e}}function Pa(t,e,n){const r=t._root;return Da(r,e?e._root:null,n,[r.value])}function Ra(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Da(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ps(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hs(t.url,e.url)||!$o(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bs(t,e)||!$o(t.queryParams,e.queryParams);case"paramsChange":default:return!Bs(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Oa(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Da(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Na(a.outlet.component,s))}else s&&Ma(e,a,i),i.canActivateChecks.push(new Oa(r)),Da(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ts(o,(t,e)=>Ma(t,n.getContext(e),i)),i}function Ma(t,e,n){const r=Ps(t),i=t.value;ts(r,(t,r)=>{Ma(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Na(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class La{}function Fa(t){return new Wn.y(e=>e.error(t))}class Ua{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=_a(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new Fs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ns(n,e),i=new Us(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Ls(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ma(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=ja(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return xa(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ba(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Xo(n).parameters:{};i=new Fs(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Za(t),ga(t),t.component,t,Va(e),Ba(e)+n.length,Ha(t))}else{const r=ya(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Fs(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Za(t),ga(t),t.component,t,Va(e),Ba(e)+o.length,Ha(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=_a(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Ns(i,t)]}if(0===a.length&&0===c.length)return[new Ns(i,[])];const l=ga(t)===r,h=this.processSegment(a,u,c,l?"primary":r);return null===h?null:[new Ns(i,h)]}}function qa(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ja(t){const e=[],n=new Set;for(const r of t){if(!qa(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=ja(r.children);e.push(new Ns(r.value,t))}return e.filter(t=>!n.has(t))}function Va(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ba(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Za(t){return t.data||{}}function Ha(t){return t.resolve||{}}function za(t){return Qi(e=>{const n=t(e);return n?(0,Gn.D)(n).pipe((0,Yn.U)(()=>e)):(0,Wr.of)(e)})}class Ga extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wa=new r.OlP("ROUTES");class Ka{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Yn.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new oa(Jo(i.injector.get(Wa,void 0,r.XFs.Self|r.XFs.Optional)).map(pa),i)}),uo(t=>{throw e._loader$=void 0,t}));return e._loader$=new Yi.c(n,()=>new Pi.xQ).pipe((0,Eo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Gn.D)(this.loader.load(t)):es(t()).pipe((0,Kr.zg)(t=>t instanceof r.YKP?(0,Wr.of)(t):(0,Gn.D)(this.compiler.compileModuleAsync(t))))}}class Ya{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $a,this.attachRef=null}}class $a{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ya,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Qa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ja(t){throw t}function Xa(t,e,n){return e.parse("/")}function tu(t,e){return(0,Wr.of)(null)}const eu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ru=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Pi.xQ,this.errorHandler=Ja,this.malformedUriErrorHandler=Xa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tu,afterPreactivation:tu},this.urlHandlingStrategy=new Qa,this.routeReuseStrategy=new Ga,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new us(new cs([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ka(s,a,t=>this.triggerEvent(new qo(t)),t=>this.triggerEvent(new jo(t))),this.routerState=Ds(this.currentUrlTree,this.rootComponentType),this.transitions=new Di({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qr(t=>0!==t.id),(0,Yn.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Qi(t=>{let n=!1,r=!1;return(0,Wr.of)(t).pipe((0,Co.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,Wr.of)(t).pipe(Qi(t=>{const n=this.transitions.getValue();return e.next(new Oo(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Wi.E:Promise.resolve(t)}),function(t,e,n,r){return Qi(i=>function(t,e,n,r,i){return new Aa(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe((0,Yn.U)(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Co.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,Kr.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ua(t,e,n,r,i,o).recognize();return null===s?Fa(new La):(0,Wr.of)(s)}catch(mE){return Fa(mE)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Yn.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Co.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Do(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Oo(n,this.serializeUrl(r),i,o);e.next(a);const u=Ds(r,this.rootComponentType).snapshot;return(0,Wr.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Wi.E}),za(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Co.b)(t=>{const e=new Mo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Yn.U)(t=>Object.assign(Object.assign({},t),{guards:Pa(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Kr.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Wr.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Gn.D)(t).pipe((0,Kr.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Wr.of)(!0);const s=o.map(o=>{const s=Ra(o,e,i);let a;if(function(t){return t&&sa(t.canDeactivate)}(s))a=es(s.canDeactivate(t,e,n,r));else{if(!sa(s))throw new Error("Invalid CanDeactivate guard");a=es(s(t,e,n,r))}return a.pipe(To())});return(0,Wr.of)(s).pipe(ca())}(t.component,t.route,n,e,r)),To(t=>!0!==t,!0))}(s,r,i,t).pipe((0,Kr.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Gn.D)(e).pipe(Yr(e=>Gi(function(t,e){return null!==t&&e&&e(new Vo(t)),(0,Wr.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Zo(t)),(0,Wr.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ki(()=>{const i=e.guards.map(i=>{const o=Ra(i,e.node,n);let s;if(function(t){return t&&sa(t.canActivateChild)}(o))s=es(o.canActivateChild(r,t));else{if(!sa(o))throw new Error("Invalid CanActivateChild guard");s=es(o(r,t))}return s.pipe(To())});return(0,Wr.of)(i).pipe(ca())}));return(0,Wr.of)(i).pipe(ca())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Wr.of)(!0);const i=r.map(r=>Ki(()=>{const i=Ra(r,e,n);let o;if(function(t){return t&&sa(t.canActivate)}(i))o=es(i.canActivate(e,t));else{if(!sa(i))throw new Error("Invalid CanActivate guard");o=es(i(e,t))}return o.pipe(To())}));return(0,Wr.of)(i).pipe(ca())}(t,e.route,n))),To(t=>!0!==t,!0))}(r,o,t,e):(0,Wr.of)(n)),(0,Yn.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Co.b)(t=>{if(aa(t.guardsResult)){const e=Ko(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Lo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qr(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Po(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),za(t=>{if(t.guards.canActivateChecks.length)return(0,Wr.of)(t).pipe((0,Co.b)(t=>{const e=new Fo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Qi(t=>{let n=!1;return(0,Wr.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,Kr.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,Wr.of)(t);let o=0;return(0,Gn.D)(n).pipe(Yr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,Wr.of)({});const o={};return(0,Gn.D)(i).pipe((0,Kr.zg)(i=>function(t,e,n,r){const i=Ra(t,e,r);return es(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Co.b)(t=>{o[i]=t}))),ho(1),(0,Kr.zg)(()=>Object.keys(o).length===i.length?(0,Wr.of)(o):Wi.E))}(t._resolve,t,e,r).pipe((0,Yn.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ls(t,n).resolve),null)))}(t.route,e,r,i)),(0,Co.b)(()=>o++),ho(1),(0,Kr.zg)(e=>o===n.length?(0,Wr.of)(t):Wi.E))})),(0,Co.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new Po(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,Co.b)(t=>{const e=new Uo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),za(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Yn.U)(t=>{const e=function(t,e,n){const r=Zs(t,e._root,n?n._root:void 0);return new Rs(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Co.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Yn.U)(t=>(new ra(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,Co.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Po(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Io(i))),uo(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=aa(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Po(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ro(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Dm){t.reject(Dm)}}var i;return Wi.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ha(t),this.config=t.map(pa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ws(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ys(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ts(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ys(n,e,r)}(n);if(o.toRoot())return Ws(e.root,new cs([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new $s(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new $s(t,t===e.root,0)}const r=zs(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $s(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Js(s.segmentGroup,s.index,o.commands):Qs(s.segmentGroup,s.index,o.commands);return Ws(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=aa(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(mE){e=this.malformedUriErrorHandler(mE,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},eu):!1===e?Object.assign({},nu):e,aa(t))return is(this.currentUrlTree,t,n);const r=this.parseUrl(t);return is(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new No(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(fs),r.LFG($a),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),iu=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Pi.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ou(this.skipLocationChange),replaceUrl:ou(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ou(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ru),r.Y36(Ms),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function ou(t){return""===t||!!t}let su=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new au(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36($a),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class au{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ms?this.route:t===$a?this.childContexts:this.parent.get(t,e)}}class uu{}class cu{preload(t,e){return(0,Wr.of)(null)}}let lu=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ka(e,n,e=>t.triggerEvent(new qo(e)),e=>t.triggerEvent(new jo(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qr(t=>t instanceof No),Yr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Gn.D)(n).pipe((0,zi.J)(),(0,Yn.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,Wr.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Kr.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ru),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(uu))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),hu=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof No&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new zo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ru),r.LFG(U),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const fu=new r.OlP("ROUTER_CONFIGURATION"),du=new r.OlP("ROUTER_FORROOT_GUARD"),pu=[b,{provide:fs,useClass:ds},{provide:ru,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new ru(null,t,e,n,r,i,o,Jo(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[fs,$a,b,r.zs3,r.v3s,r.Sil,Wa,fu,[class{},new r.FiY],[class{},new r.FiY]]},$a,{provide:Ms,useFactory:function(t){return t.routerState.root},deps:[ru]},{provide:r.v3s,useClass:r.EAV},lu,cu,class{preload(t,e){return e().pipe(uo(()=>(0,Wr.of)(null)))}},{provide:fu,useValue:{enableTracing:!1}}];function gu(){return new r.PXZ("Router",ru)}let mu=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pu,wu(e),{provide:du,useFactory:_u,deps:[[ru,new r.FiY,new r.tp0]]},{provide:fu,useValue:n||{}},{provide:m,useFactory:yu,deps:[a,[new r.tBr(y),new r.FiY],fu]},{provide:hu,useFactory:vu,deps:[ru,U,fu]},{provide:uu,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cu},{provide:r.PXZ,multi:!0,useFactory:gu},[bu,{provide:r.ip1,multi:!0,useFactory:xu,deps:[bu]},{provide:Cu,useFactory:Tu,deps:[bu]},{provide:r.tb,multi:!0,useExisting:Cu}]]}}static forChild(e){return{ngModule:t,providers:[wu(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(du,8),r.LFG(ru,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function vu(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hu(t,e,n)}function yu(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function _u(t){return"guarded"}function wu(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Wa,multi:!0,useValue:t}]}let bu=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Pi.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ru),r=this.injector.get(fu);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Wr.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(fu),n=this.injector.get(lu),i=this.injector.get(hu),o=this.injector.get(ru),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function xu(t){return t.appInitializer.bind(t)}function Tu(t){return t.bootstrapListener.bind(t)}const Cu=new r.OlP("Router Initializer");var Eu=n(4762);const Su=new r.OlP("config"),Iu=new r.OlP("NEW_CONFIG"),Au=new r.OlP("INITIAL_CONFIG"),ku={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}};let Ou=(()=>{class t{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(t,e,n,r)=>{const i=t.split(n),o=i.length>1?`${n}${i[1]}`:"";let s=i[0];const a=this.separatorLimit.replace(/\s/g,"");a&&+a&&(s="-"===s[0]?`-${s.slice(1,s.length).slice(0,a.length)}`:s.slice(0,a.length));const u=/(\d+)(\d{3})/;for(;e&&u.test(s);)s=s.replace(u,"$1"+e+"$2");return void 0===r?s+o:0===r?s:s+o.substr(0,r+1)},this.percentage=t=>Number(t)>=0&&Number(t)<=100,this.getPrecision=t=>{const e=t.split(".");return e.length>1?Number(e[e.length-1]):1/0},this.checkAndRemoveSuffix=t=>{var e,n,r;for(let i=(null===(e=this.suffix)||void 0===e?void 0:e.length)-1;i>=0;i--){const e=this.suffix.substr(i,null===(n=this.suffix)||void 0===n?void 0:n.length);if(t.includes(e)&&(i-1<0||!t.includes(this.suffix.substr(i-1,null===(r=this.suffix)||void 0===r?void 0:r.length))))return t.replace(e,"")}return t},this.checkInputPrecision=(t,e,n)=>{if(e<1/0){const r=new RegExp(this._charToRegExpExpression(n)+`\\d{${e}}.*$`),i=t.match(r);i&&i[0].length-1>e&&(t=t.substring(0,t.length-(i[0].length-1-e))),0===e&&t.endsWith(n)&&(t=t.substring(0,t.length-1))}return t},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,e){const[n,r]=e;return this.customPattern=r,this.applyMask(t,n)}applyMask(t,e,n=0,r=!1,i=!1,o=(()=>{})){if(null==t||void 0===e)return"";let s=0,a="",u=!1,c=!1,l=1,h=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&(null==t?void 0:t.length)>0&&(t=this.checkAndRemoveSuffix(t));const f=t.toString().split("");"IP"===e&&(this.ipError=!!(f.filter(t=>"."===t).length<3&&f.length<7),e="099.099.099.099");const d=[];for(let y=0;y<t.length;y++)t[y].match("\\d")&&d.push(t[y]);if("CPF_CNPJ"===e&&(this.cpfCnpjError=!(11===d.length||14===d.length),e=d.length>11?"00.000.000/0000-00":"000.000.000-00"),e.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const n=this.getPrecision(e);t=this.checkInputPrecision(t,n,this.decimalMarker)}if(t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))){const e=t.substring(0,t.indexOf(".")-1);t=`${e}${t.substring(t.indexOf("."),t.length)}`}a=this.percentage(t)?t:t.substring(0,t.length-1)}else if(e.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&t[1]!==this.decimalMarker&&!i?t.slice(1,t.length):t;const r=this._charToRegExpExpression(this.thousandSeparator),o=this._charToRegExpExpression(this.decimalMarker),s='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(r,"").replace(o,""),u=new RegExp("["+s+"]");t.match(u)&&(t=t.substring(0,t.length-1));const h=this.getPrecision(e),f=(t=this.checkInputPrecision(t,h,this.decimalMarker)).replace(new RegExp(r,"g"),"");a=this._formatWithSeparators(f,this.thousandSeparator,this.decimalMarker,h);const d=a.indexOf(",")-t.indexOf(","),p=a.length-t.length;if(p>0&&","!==a[n]){c=!0;let t=0;do{this._shift.add(n+t),t++}while(t<p)}else 0!==d&&n>0&&!(a.indexOf(",")>=n&&n>3)||!(a.indexOf(".")>=n&&n>3)&&p<=0?(this._shift.clear(),c=!0,l=p,this._shift.add(n+=p)):this._shift.clear()}else for(let y=0,_=f[0];y<f.length&&s!==e.length;y++,_=f[y])if(this._checkSymbolMask(_,e[s])&&"?"===e[s+1])a+=_,s+=2;else if("*"===e[s+1]&&u&&this._checkSymbolMask(_,e[s+2]))a+=_,s+=3,u=!1;else if(this._checkSymbolMask(_,e[s])&&"*"===e[s+1])a+=_,u=!0;else if("?"===e[s+1]&&this._checkSymbolMask(_,e[s+2]))a+=_,s+=3;else if(this._checkSymbolMask(_,e[s])){if("H"===e[s]&&Number(_)>2){s+=1,this._shiftStep(e,s,f.length),y--,this.leadZeroDateTime&&(a+="0");continue}if("h"===e[s]&&"2"===a&&Number(_)>3){s+=1,y--;continue}if("m"===e[s]&&Number(_)>5){s+=1,this._shiftStep(e,s,f.length),y--,this.leadZeroDateTime&&(a+="0");continue}if("s"===e[s]&&Number(_)>5){s+=1,this._shiftStep(e,s,f.length),y--,this.leadZeroDateTime&&(a+="0");continue}const n=31;if("d"===e[s]&&(Number(_)>3&&this.leadZeroDateTime||Number(t.slice(s,s+2))>n||"/"===t[s+1])){s+=1,this._shiftStep(e,s,f.length),y--,this.leadZeroDateTime&&(a+="0");continue}if("M"===e[s]){const r=12,i=0===s&&(Number(_)>2||Number(t.slice(s,s+2))>r||"/"===t[s+1]),o=t.slice(s-3,s-1).includes("/")&&("/"===t[s-2]&&Number(t.slice(s-1,s+1))>r&&"/"!==t[s]||"/"===t[s]||"/"===t[s-3]&&Number(t.slice(s-2,s))>r&&"/"!==t[s-1]||"/"===t[s-1]),u=Number(t.slice(s-3,s-1))<=n&&!t.slice(s-3,s-1).includes("/")&&"/"===t[s-1]&&(Number(t.slice(s,s+2))>r||"/"===t[s+1]),c=Number(t.slice(s-3,s-1))>n&&!t.slice(s-3,s-1).includes("/")&&!t.slice(s-2,s).includes("/")&&Number(t.slice(s-2,s))>r,l=Number(t.slice(s-3,s-1))<=n&&!t.slice(s-3,s-1).includes("/")&&"/"!==t[s-1]&&Number(t.slice(s-1,s+1))>r;if(Number(_)>1&&this.leadZeroDateTime||i||o||u||c||l){s+=1,this._shiftStep(e,s,f.length),y--,this.leadZeroDateTime&&(a+="0");continue}}a+=_,s++}else-1!==this.maskSpecialCharacters.indexOf(e[s])?(a+=e[s],s++,this._shiftStep(e,s,f.length),y--):this.maskSpecialCharacters.indexOf(_)>-1&&this.maskAvailablePatterns[e[s]]&&this.maskAvailablePatterns[e[s]].optional?(f[s]&&"099.099.099.099"!==e&&"000.000.000-00"!==e&&"00.000.000/0000-00"!==e&&(a+=f[s]),s++,y--):"*"===this.maskExpression[s+1]&&this._findSpecialChar(this.maskExpression[s+2])&&this._findSpecialChar(_)===this.maskExpression[s+2]&&u||"?"===this.maskExpression[s+1]&&this._findSpecialChar(this.maskExpression[s+2])&&this._findSpecialChar(_)===this.maskExpression[s+2]&&u?(s+=3,a+=_):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(_)<0&&_!==this.placeHolderCharacter&&(h=!0);a.length+1===e.length&&-1!==this.maskSpecialCharacters.indexOf(e[e.length-1])&&(a+=e[e.length-1]);let p=n+1;for(;this._shift.has(p);)l++,p++;let g=r?s:this._shift.has(n)?l:0;h&&g--,o(g,c),l<0&&this._shift.clear();let m=!1;i&&(m=f.every(t=>this.maskSpecialCharacters.includes(t)));let v=`${this.prefix}${m?"":a}${this.suffix}`;return 0===a.length&&(v=`${this.prefix}${a}`),v}_findSpecialChar(t){return this.maskSpecialCharacters.find(e=>e===t)}_checkSymbolMask(t,e){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[e]&&this.maskAvailablePatterns[e].pattern&&this.maskAvailablePatterns[e].pattern.test(t)}_stripToDecimal(t){return t.split("").filter((t,e)=>t.match("^-?\\d")||t.match("\\s")||"."===t||","===t||"-"===t&&0===e&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(t){if(t){const e="[\\^$.|?*+()";return" "===t?"\\s":e.indexOf(t)>=0?"\\"+t:t}return t}_shiftStep(t,e,n){const r=/[*?]/g.test(t.slice(0,e))?n:e;this._shift.add(r+this.prefix.length||0)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Su))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Nu=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:Iu,useValue:e},{provide:Au,useValue:ku},{provide:Su,useFactory:Pu,deps:[Au,Iu]},Ou]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function Pu(t,e){return Object.assign(Object.assign({},t),e instanceof Function?e():e)}const Ru="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Ru.KeyboardEvent||(Ru.KeyboardEvent=function(t,e){});var Du=n(5024);function Mu(t,e,n,r){return(0,Du.m)(n)&&(r=n,n=void 0),r?Mu(t,e,n).pipe((0,Yn.U)(t=>(0,Kn.k)(t)?r(...t):r(t))):new Wn.y(r=>{Lu(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Lu(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Lu(t[o],e,n,r,i)}r.add(o)}var Fu=n(8569),Uu=n(2293);function qu(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class ju{call(t,e){return e.subscribe(new Vu(t))}}class Vu extends Li{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=qi(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n(6054);var Bu=n(5686);function Zu(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),(0,ji.n)(t,void 0).lift(new Hu(e))}class Hu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new zu(t,this.resultSelector))}}class zu extends $r.L{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,Kn.k)(t)?e.push(new Wu(t)):e.push("function"==typeof t[Bu.hZ]?new Gu(t[Bu.hZ]()):new Ku(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Gu{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Wu{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Bu.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Ku extends $i.Ds{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Bu.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,$i.ft)(this.observable,new $i.IY(this))}}var Yu=n(1906);function $u(t){return e=>e.lift(new Qu(t))}class Qu{constructor(t){this.notifier=t}call(t,e){const n=new Ju(t),r=(0,$i.ft)(this.notifier,new $i.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Ju extends $i.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Xu{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new tc(t,this.compare,this.keySelector))}}class tc extends $r.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function ec(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new nc(t,n))}}class nc{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new rc(t,this.observables,this.project))}}class rc extends Li{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(qi(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n(8861),n(1055);const ic=["*"],oc=["dialog"];function sc(t){return null!=t}function ac(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const uc={animation:!0,transitionTimerDelayMs:5};let cc=(()=>{class t{constructor(){this.animation=uc.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const lc=()=>{},{transitionTimerDelayMs:hc}=uc,fc=new Map,dc=(t,e,n,r)=>{let i=r.context||{};const o=fc.get(e);if(o)switch(r.runningTransition){case"continue":return Wi.E;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),fc.delete(e)}const s=n(e,r.animation,i)||lc;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),(0,Wr.of)(void 0).pipe(function(t){return e=>new Wn.y(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Pi.xQ,u=new Pi.xQ,c=a.pipe(function(...t){return e=>Gi(e,(0,Wr.of)(...t))}(!0));fc.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=Mu(e,"transitionend").pipe($u(c),Qr(({target:t})=>t===e));(function(...t){if(1===t.length){if(!(0,Kn.k)(t[0]))return t[0];t=t[0]}return(0,ji.n)(t,void 0).lift(new ju)})(function(t=0,e,n){let r=-1;return(0,Uu.k)(e)?r=Number(e)<1?1:Number(e):(0,Mi.K)(e)&&(n=e),(0,Mi.K)(n)||(n=Fu.P),new Wn.y(e=>{const i=(0,Uu.k)(t)?t:+t-n.now();return n.schedule(qu,i,{index:0,period:r,subscriber:e})})}(l+hc).pipe($u(c)),n,u).pipe($u(c)).subscribe(()=>{fc.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let pc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),gc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),mc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),vc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),yc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var _c=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function bc(t){const e=Array.from(t.querySelectorAll(wc)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+u+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,v=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=v&&p.bottom<=m}},new Date(1882,10,12),new Date(2174,10,25);let xc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L,zr]]}),t})(),Tc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Cc=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(cc))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(cc))},token:t,providedIn:"root"}),t})();class Ec{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Sc=()=>{};let Ic=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Sc}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(s))},token:t,providedIn:"root"}),t})(),Ac=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(eo(1)).subscribe(()=>{dc(this._zone,this._el.nativeElement,(t,e)=>{e&&ac(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return dc(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class kc{close(t){}dismiss(t){}}class Oc{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Pi.xQ,this._dismissed=new Pi.xQ,this._hidden=new Pi.xQ,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe($u(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe($u(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Wr.of)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Zu(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Nc=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Pc=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Pi.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new Pi.xQ,this.hidden=new Pi.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(eo(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Zu(dc(this._zone,t,()=>t.classList.remove("show"),e),dc(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Zu(dc(this._zone,this._elRef.nativeElement,(t,e)=>{e&&ac(t),t.classList.add("show")},t),dc(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Mu(t,"keydown").pipe($u(this._closed$),Qr(t=>t.which===_c.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Nc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Mu(this._dialogEl.nativeElement,"mousedown").pipe($u(this._closed$),(0,Co.b)(()=>e=!1),Qi(()=>Mu(t,"mouseup").pipe($u(this._closed$),eo(1))),Qr(({target:e})=>t===e)).subscribe(()=>{e=!0}),Mu(t,"click").pipe($u(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(Nc.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=bc(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&dc(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Gf(oc,7),2&t){let t;r.iGM(t=r.CRH())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ic,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&t&&r.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Rc=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new Pi.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Mu(e,"focusin").pipe($u(n),(0,Yn.U)(t=>t.target));Mu(e,"keydown").pipe($u(n),Qr(t=>t.which===_c.Tab),ec(t)).subscribe(([t,n])=>{const[r,i]=bc(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Mu(e,"click").pipe($u(n),ec(t),(0,Yn.U)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:sc(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new kc,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new Oc(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),u.close=t=>{f.close(t)},u.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(Ac).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(Pc).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{sc(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{sc(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new Ec([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Ec([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Ec([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:kc,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Ec([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(s),r.LFG(Ic),r.LFG(r.FYo),r.LFG(r.R0b))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r.z2F),(0,r.LFG)(r.gxx),(0,r.LFG)(s),(0,r.LFG)(Ic),(0,r.LFG)(r.FYo),(0,r.LFG)(r.R0b))},token:t,providedIn:"root"}),t})(),Dc=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(Rc),r.LFG(Cc))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(r._Vd),(0,r.LFG)(r.gxx),(0,r.LFG)(Rc),(0,r.LFG)(Cc))},token:t,providedIn:"root"}),t})(),Mc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Dc]}),t})(),Lc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),Uc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),jc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),Vc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),Bc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),Zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})();const zc=[pc,gc,mc,vc,yc,xc,Tc,Mc,Lc,Fc,Uc,qc,jc,Vc,Bc,Zc,Hc];let Gc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[zc,pc,gc,mc,vc,yc,xc,Tc,Mc,Lc,Fc,Uc,qc,jc,Vc,Bc,Zc,Hc]}),t})();var Wc=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t}();function Kc(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function Yc(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function $c(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t._placeholder)}}function Qc(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"span",14),r._uU(1),r.TgZ(2,"a",15),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw().onItemClick(e,n)}),r._uU(3,"x"),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=e.index,i=r.oxw();r.Q6J("hidden",n>i._settings.itemsShowLimit-1),r.xp6(1),r.hij(" ",t.text," ")}}function Jc(t,e){if(1&t&&(r.TgZ(0,"span",16),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij("+",t.itemShowRemaining(),"")}}function Xc(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",17),r.NdJ("click",function(){return r.CHM(t),r.oxw().toggleSelectAll()}),r._UZ(1,"input",18),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("checked",t.isAllItemsSelected())("disabled",t.disabled||t.isLimitSelectionReached()),r.xp6(2),r.Oqu(t.isAllItemsSelected()?t._settings.unSelectAllText:t._settings.selectAllText)}}function tl(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",19),r.TgZ(1,"input",20),r.NdJ("ngModelChange",function(e){return r.CHM(t),r.oxw().filter.text=e})("ngModelChange",function(e){return r.CHM(t),r.oxw().onFilterTextChange(e)}),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(1),r.Q6J("readOnly",t.disabled)("placeholder",t._settings.searchPlaceholderText)("ngModel",t.filter.text)}}function el(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",21),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw().onItemClick(e,n)}),r._UZ(1,"input",22),r.TgZ(2,"div"),r._uU(3),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.xp6(1),r.Q6J("checked",n.isSelected(t))("disabled",n.disabled||n.isLimitSelectionReached()&&!n.isSelected(t)||t.isDisabled),r.uIk("aria-label",t.text),r.xp6(2),r.Oqu(t.text)}}function nl(t,e){if(1&t&&(r.TgZ(0,"li",23),r.TgZ(1,"h5"),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t._settings.noDataAvailablePlaceholderText)}}const rl=function(t){return{"dropdown-multiselect--active":t}};class il{constructor(t){"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.isDisabled=t.isDisabled)}}let ol=(()=>{let t=class{transform(t,e){return t&&e?t.filter(t=>this.applyFilter(t,e)):t}applyFilter(t,e){return"string"==typeof t.text&&"string"==typeof e.text?!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase())):!(e.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(e.text.toString().toLowerCase()))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"multiSelectFilter",type:t,pure:!1}),t})();const sl={provide:er,useExisting:(0,r.Gpc)(()=>ul),multi:!0},al=()=>{};let ul=(()=>{let t=class{constructor(t){this.listFilterPipe=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new il(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new r.vpe,this.onDropDownClose=new r.vpe,this.onSelect=new r.vpe,this.onDeSelect=new r.vpe,this.onSelectAll=new r.vpe,this.onDeSelectAll=new r.vpe,this.onTouchedCallback=al,this.onChangeCallback=al}set placeholder(t){this._placeholder=t||"Select"}set settings(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}set data(t){if(t){const e=t[0];this._sourceDataType=typeof e,this._sourceDataFields=this.getFields(e),this._data=t.map(t=>new il("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(t){this.onFilterChange.emit(t)}onItemClick(t,e){if(this.disabled||e.isDisabled)return!1;const n=this.isSelected(e),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(e):r&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(t){if(null!=t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){const e=t[0];this.selectedItems=[new il("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]})]}}catch(mE){}else{const e=t.map(t=>new il("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?e.splice(0,this._settings.limitSelection):e}else this.selectedItems=[];this.onChangeCallback(t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(t,e){return e.id}isSelected(t){let e=!1;return this.selectedItems.forEach(n=>{t.id===n.id&&(e=!0)}),e}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let t=this.listFilterPipe.transform(this._data,this.filter);const e=t.filter(t=>t.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}removeSelected(t){this.selectedItems.forEach(e=>{t.id===e.id&&this.selectedItems.splice(this.selectedItems.indexOf(e),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}emittedValue(t){const e=[];if(Array.isArray(t))t.map(t=>{e.push(this.objectify(t))});else if(t)return this.objectify(t);return e}objectify(t){if("object"===this._sourceDataType){const e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(e[this._settings.disabledField]=t.isDisabled),e}return"number"===this._sourceDataType?Number(t.id):t.text}toggleDropdown(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(t=>!t.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(t){const e=[];if("object"!=typeof t)return e;for(const n in t)e.push(n);return e}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(ol))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,e){1&t&&r.NdJ("blur",function(){return e.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[r._Bn([sl])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 6px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.NdJ("blur",function(){return e.onTouched()})("clickOutside",function(){return e.closeDropdown()}),r.TgZ(1,"div"),r.TgZ(2,"span",1),r.NdJ("click",function(t){return e.toggleDropdown(t)}),r.YNc(3,$c,2,1,"span",2),r.YNc(4,Qc,4,2,"span",3),r.TgZ(5,"span",4),r.YNc(6,Jc,2,1,"span",5),r._UZ(7,"span",6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",7),r.TgZ(9,"ul",8),r.YNc(10,Xc,4,3,"li",9),r.YNc(11,tl,2,3,"li",10),r.qZA(),r.TgZ(12,"ul",11),r.YNc(13,el,4,4,"li",12),r.ALo(14,"multiSelectFilter"),r.YNc(15,nl,3,1,"li",13),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.ekj("disabled",e.disabled),r.xp6(2),r.Q6J("ngIf",0==e.selectedItems.length),r.xp6(1),r.Q6J("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByFn),r.xp6(1),r.Q6J("ngClass",r.VKq(17,rl,e._settings.defaultOpen)),r.xp6(1),r.Q6J("ngIf",e.itemShowRemaining()>0),r.xp6(2),r.Q6J("hidden",!e._settings.defaultOpen),r.xp6(2),r.Q6J("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),r.xp6(1),r.Q6J("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&e._settings.allowSearchFilter),r.xp6(1),r.Udp("max-height",e._settings.maxHeight+"px"),r.xp6(1),r.Q6J("ngForOf",r.xi3(14,14,e._data,e.filter)),r.xp6(2),r.Q6J("ngIf",0==e._data.length&&!e._settings.allowRemoteDataSearch))},directives:function(){return[cl,R,N,k,ir,_r,jr]},pipes:function(){return[ol]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),t=Kc([Yc("design:paramtypes",[ol])],t),t})(),cl=(()=>{let t=class{constructor(t){this._elementRef=t,this.clickOutside=new r.vpe}onClick(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t,t.target)},!1,r.evT)},outputs:{clickOutside:"clickOutside"}}),t=Kc([Yc("design:paramtypes",[r.SBq])],t),t})();var ll;let hl=(()=>{let t=ll=class{static forRoot(){return{ngModule:ll}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ol],imports:[[L,zr]]}),t})(),fl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function dl(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function pl(t,e){return function(n,r){e(n,r,t)}}const gl=["toast-component",""];function ml(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(t),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function vl(t,e){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function yl(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,vl,2,1,"ng-container",4),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function _l(t,e){if(1&t&&r._UZ(0,"div",7),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function wl(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function bl(t,e){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}function xl(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(t),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function Tl(t,e){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function Cl(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,Tl,2,1,"ng-container",4),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function El(t,e){if(1&t&&r._UZ(0,"div",7),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function Sl(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function Il(t,e){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}class Al{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new Pi.xQ,this._onAction=new Pi.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const kl={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Ol=new r.OlP("ToastConfig");class Nl{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Pl extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Rl=(()=>{let t=class{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}};return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(s))},token:t,providedIn:"root"}),t=dl([pl(0,(0,r.tBr)(s))],t),t})();class Dl{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let Ml=(()=>{let t=class{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new Pl(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Dl(this._createPortalHost(t))}};return t.\u0275fac=function(e){return new(e||t)(r.LFG(Rl),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(Rl),(0,r.LFG)(r._Vd),(0,r.LFG)(r.z2F),(0,r.LFG)(s))},token:t,providedIn:"root"}),t=dl([pl(3,(0,r.tBr)(s))],t),t})();class Ll{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Pi.xQ,this._activate=new Pi.xQ,this._manualClose=new Pi.xQ,this._resetTimeout=new Pi.xQ,this._countDuplicate=new Pi.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class Fl{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===Al?this._toastPackage:this._parentInjector.get(t,e,n)}}let Ul=(()=>{let t=class{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e)return!1;if(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t,e,n){for(const r of this.toasts)if(r.message===t)return r.toastRef.onDuplicate(e,n),r;return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if(e&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=e;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.q3G.HTML,e));const c=new Ll(a),l=new Al(this.index,i,u,n,t,c),h=new Fl(l,this._injector),f=new Nl(i.toastComponent,h),d=a.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;const p={toastId:this.index,message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}};return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ol),r.LFG(Ml),r.LFG(r.zs3),r.LFG(gt),r.LFG(r.R0b))},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t((0,r.LFG)(Ol),(0,r.LFG)(Ml),(0,r.LFG)(r.gxx),(0,r.LFG)(gt),(0,r.LFG)(r.R0b))},token:t,providedIn:"root"}),t=dl([pl(0,(0,r.tBr)(Ol))],t),t})(),ql=(()=>{let t=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}};var e;return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ul),r.Y36(Al),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.d8E("@flyInOut",e.state),r.Tol(e.toastClasses),r.Udp("display",e.displayStyle))},attrs:gl,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.YNc(0,ml,3,0,"button",0),r.YNc(1,yl,3,5,"div",1),r.YNc(2,_l,1,3,"div",2),r.YNc(3,wl,2,4,"div",3),r.YNc(4,bl,2,2,"div",4)),2&t&&(r.Q6J("ngIf",e.options.closeButton),r.xp6(1),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.message&&e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.message&&!e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.options.progressBar))},directives:[R],encapsulation:2,data:{animation:[(e=[Et("inactive",Ct({opacity:0})),Et("active",Ct({opacity:1})),Et("removed",Ct({opacity:0})),St("inactive => active",xt("{{ easeTime }}ms {{ easing }}")),St("active => removed",xt("{{ easeTime }}ms {{ easing }}"))],{type:7,name:"flyInOut",definitions:e,options:{}})]}}),t})();var jl;const Vl=Object.assign(Object.assign({},kl),{toastComponent:ql});let Bl=(()=>{let t=jl=class{static forRoot(t={}){return{ngModule:jl,providers:[{provide:Ol,useValue:{default:Vl,config:t}}]}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L]]}),t})(),Zl=(()=>{let t=class{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state&&(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}};return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ul),r.Y36(Al),r.Y36(r.z2F))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Tol(e.toastClasses),r.Udp("display",e.displayStyle))},attrs:gl,decls:5,vars:5,consts:[["class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.YNc(0,xl,3,0,"button",0),r.YNc(1,Cl,3,5,"div",1),r.YNc(2,El,1,3,"div",2),r.YNc(3,Sl,2,4,"div",3),r.YNc(4,Il,2,2,"div",4)),2&t&&(r.Q6J("ngIf",e.options.closeButton),r.xp6(1),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.message&&e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.message&&!e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.options.progressBar))},directives:[R],encapsulation:2}),t})();Object.assign(Object.assign({},kl),{toastComponent:Zl});class Hl{constructor(t){this.icons=t}}let zl=(()=>{class t{constructor(t){if(this.icons=t,!this.icons)throw new Error("No icon provided. Make sure to use 'FeatherModule.pick({ ... })' when importing the module\nRefer to documentation on https://github.com/michaelbazos/angular-feather")}static pick(e){return{ngModule:t,providers:[{provide:Hl,multi:!0,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Hl,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Gl={Activity:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-activity">\n    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>\n</svg>',Airplay:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-airplay">\n    <path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon points="12 15 17 21 7 21 12 15"></polygon>\n</svg>',AlertCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>\n</svg>',AlertOctagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line>\n</svg>',AlertTriangle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-triangle">\n    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>\n</svg>',AlignCenter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-center">\n    <line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line>\n</svg>',AlignJustify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-justify">\n    <line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line>\n</svg>',AlignLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-left">\n    <line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line>\n</svg>',AlignRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-align-right">\n    <line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line>\n</svg>',Anchor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-anchor">\n    <circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path>\n</svg>',Aperture:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-aperture">\n    <circle cx="12" cy="12" r="10"></circle><line x1="14.31" y1="8" x2="20.05" y2="17.94"></line><line x1="9.69" y1="8" x2="21.17" y2="8"></line><line x1="7.38" y1="12" x2="13.12" y2="2.06"></line><line x1="9.69" y1="16" x2="3.95" y2="6.06"></line><line x1="14.31" y1="16" x2="2.83" y2="16"></line><line x1="16.62" y1="12" x2="10.88" y2="21.94"></line>\n</svg>',Archive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-archive">\n    <polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>\n</svg>',ArrowDownCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line>\n</svg>',ArrowDownLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-left">\n    <line x1="17" y1="7" x2="7" y2="17"></line><polyline points="17 17 7 17 7 7"></polyline>\n</svg>',ArrowDownRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down-right">\n    <line x1="7" y1="7" x2="17" y2="17"></line><polyline points="17 7 17 17 7 17"></polyline>\n</svg>',ArrowDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-down">\n    <line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline>\n</svg>',ArrowLeftCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-left-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>\n</svg>',ArrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-left">\n    <line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>\n</svg>',ArrowRightCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-right-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',ArrowRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-right">\n    <line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>\n</svg>',ArrowUpCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-circle">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line>\n</svg>',ArrowUpLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-left">\n    <line x1="17" y1="17" x2="7" y2="7"></line><polyline points="7 17 7 7 17 7"></polyline>\n</svg>',ArrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up-right">\n    <line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline>\n</svg>',ArrowUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-arrow-up">\n    <line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline>\n</svg>',AtSign:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-at-sign">\n    <circle cx="12" cy="12" r="4"></circle><path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>\n</svg>',Award:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-award">\n    <circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>\n</svg>',BarChart2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bar-chart-2">\n    <line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line>\n</svg>',BarChart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bar-chart">\n    <line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line>\n</svg>',BatteryCharging:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-battery-charging">\n    <path d="M5 18H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3.19M15 6h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-3.19"></path><line x1="23" y1="13" x2="23" y2="11"></line><polyline points="11 6 7 12 13 12 9 18"></polyline>\n</svg>',Battery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-battery">\n    <rect x="1" y="6" width="18" height="12" rx="2" ry="2"></rect><line x1="23" y1="13" x2="23" y2="11"></line>\n</svg>',BellOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bell-off">\n    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path><path d="M18.63 13A17.89 17.89 0 0 1 18 8"></path><path d="M6.26 6.26A5.86 5.86 0 0 0 6 8c0 7-3 9-3 9h14"></path><path d="M18 8a6 6 0 0 0-9.33-5"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Bell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bell">\n    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>\n</svg>',Bluetooth:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bluetooth">\n    <polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>\n</svg>',Bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bold">\n    <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>\n</svg>',BookOpen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-book-open">\n    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>\n</svg>',Book:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-book">\n    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>\n</svg>',Bookmark:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-bookmark">\n    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>\n</svg>',Box:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-box">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Briefcase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-briefcase">\n    <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>\n</svg>',Calendar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-calendar">\n    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>\n</svg>',CameraOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-camera-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M21 21H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h3m3-3h6l2 3h4a2 2 0 0 1 2 2v9.34m-7.72-2.06a4 4 0 1 1-5.56-5.56"></path>\n</svg>',Camera:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-camera">\n    <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle>\n</svg>',Cast:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cast">\n    <path d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6"></path><line x1="2" y1="20" x2="2.01" y2="20"></line>\n</svg>',CheckCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check-circle">\n    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>\n</svg>',CheckSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check-square">\n    <polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>\n</svg>',Check:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-check">\n    <polyline points="20 6 9 17 4 12"></polyline>\n</svg>',ChevronDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-down">\n    <polyline points="6 9 12 15 18 9"></polyline>\n</svg>',ChevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-left">\n    <polyline points="15 18 9 12 15 6"></polyline>\n</svg>',ChevronRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-right">\n    <polyline points="9 18 15 12 9 6"></polyline>\n</svg>',ChevronUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevron-up">\n    <polyline points="18 15 12 9 6 15"></polyline>\n</svg>',ChevronsDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-down">\n    <polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline>\n</svg>',ChevronsLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-left">\n    <polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline>\n</svg>',ChevronsRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-right">\n    <polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline>\n</svg>',ChevronsUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chevrons-up">\n    <polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline>\n</svg>',Chrome:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-chrome">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="21.17" y1="8" x2="12" y2="8"></line><line x1="3.95" y1="6.06" x2="8.54" y2="14"></line><line x1="10.88" y1="21.94" x2="15.46" y2="14"></line>\n</svg>',Circle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-circle">\n    <circle cx="12" cy="12" r="10"></circle>\n</svg>',Clipboard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-clipboard">\n    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n</svg>',Clock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-clock">\n    <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>\n</svg>',CloudDrizzle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-drizzle">\n    <line x1="8" y1="19" x2="8" y2="21"></line><line x1="8" y1="13" x2="8" y2="15"></line><line x1="16" y1="19" x2="16" y2="21"></line><line x1="16" y1="13" x2="16" y2="15"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="12" y1="15" x2="12" y2="17"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>\n</svg>',CloudLightning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-lightning">\n    <path d="M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"></path><polyline points="13 11 9 17 15 17 11 23"></polyline>\n</svg>',CloudOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-off">\n    <path d="M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',CloudRain:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-rain">\n    <line x1="16" y1="13" x2="16" y2="21"></line><line x1="8" y1="13" x2="8" y2="21"></line><line x1="12" y1="15" x2="12" y2="23"></line><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"></path>\n</svg>',CloudSnow:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud-snow">\n    <path d="M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"></path><line x1="8" y1="16" x2="8.01" y2="16"></line><line x1="8" y1="20" x2="8.01" y2="20"></line><line x1="12" y1="18" x2="12.01" y2="18"></line><line x1="12" y1="22" x2="12.01" y2="22"></line><line x1="16" y1="16" x2="16.01" y2="16"></line><line x1="16" y1="20" x2="16.01" y2="20"></line>\n</svg>',Cloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cloud">\n    <path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"></path>\n</svg>',Code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-code">\n    <polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline>\n</svg>',Codepen:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-codepen">\n    <polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon><line x1="12" y1="22" x2="12" y2="15.5"></line><polyline points="22 8.5 12 15.5 2 8.5"></polyline><polyline points="2 15.5 12 8.5 22 15.5"></polyline><line x1="12" y1="2" x2="12" y2="8.5"></line>\n</svg>',Codesandbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-codesandbox">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="7.5 4.21 12 6.81 16.5 4.21"></polyline><polyline points="7.5 19.79 7.5 14.6 3 12"></polyline><polyline points="21 12 16.5 14.6 16.5 19.79"></polyline><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Coffee:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-coffee">\n    <path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line>\n</svg>',Columns:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-columns">\n    <path d="M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"></path>\n</svg>',Command:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-command">\n    <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>\n</svg>',Compass:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-compass">\n    <circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>\n</svg>',Copy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-copy">\n    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>\n</svg>',CornerDownLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-down-left">\n    <polyline points="9 10 4 15 9 20"></polyline><path d="M20 4v7a4 4 0 0 1-4 4H4"></path>\n</svg>',CornerDownRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-down-right">\n    <polyline points="15 10 20 15 15 20"></polyline><path d="M4 4v7a4 4 0 0 0 4 4h12"></path>\n</svg>',CornerLeftDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-left-down">\n    <polyline points="14 15 9 20 4 15"></polyline><path d="M20 4h-7a4 4 0 0 0-4 4v12"></path>\n</svg>',CornerLeftUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-left-up">\n    <polyline points="14 9 9 4 4 9"></polyline><path d="M20 20h-7a4 4 0 0 1-4-4V4"></path>\n</svg>',CornerRightDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-right-down">\n    <polyline points="10 15 15 20 20 15"></polyline><path d="M4 4h7a4 4 0 0 1 4 4v12"></path>\n</svg>',CornerRightUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-right-up">\n    <polyline points="10 9 15 4 20 9"></polyline><path d="M4 20h7a4 4 0 0 0 4-4V4"></path>\n</svg>',CornerUpLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-up-left">\n    <polyline points="9 14 4 9 9 4"></polyline><path d="M20 20v-7a4 4 0 0 0-4-4H4"></path>\n</svg>',CornerUpRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-corner-up-right">\n    <polyline points="15 14 20 9 15 4"></polyline><path d="M4 20v-7a4 4 0 0 1 4-4h12"></path>\n</svg>',Cpu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-cpu">\n    <rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line>\n</svg>',CreditCard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-credit-card">\n    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line>\n</svg>',Crop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-crop">\n    <path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"></path><path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"></path>\n</svg>',Crosshair:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-crosshair">\n    <circle cx="12" cy="12" r="10"></circle><line x1="22" y1="12" x2="18" y2="12"></line><line x1="6" y1="12" x2="2" y2="12"></line><line x1="12" y1="6" x2="12" y2="2"></line><line x1="12" y1="22" x2="12" y2="18"></line>\n</svg>',Database:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-database">\n    <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>\n</svg>',Delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-delete">\n    <path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line>\n</svg>',Disc:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-disc">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle>\n</svg>',DollarSign:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-dollar-sign">\n    <line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>\n</svg>',DownloadCloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-download-cloud">\n    <polyline points="8 17 12 21 16 17"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.88 18.09A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.29"></path>\n</svg>',Download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-download">\n    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line>\n</svg>',Droplet:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-droplet">\n    <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"></path>\n</svg>',Edit2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit-2">\n    <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>\n</svg>',Edit3:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit-3">\n    <path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>\n</svg>',Edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-edit">\n    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n</svg>',ExternalLink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-external-link">\n    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>\n</svg>',EyeOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-eye-off">\n    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Eye:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-eye">\n    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>\n</svg>',Facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-facebook">\n    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>\n</svg>',FastForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-fast-forward">\n    <polygon points="13 19 22 12 13 5 13 19"></polygon><polygon points="2 19 11 12 2 5 2 19"></polygon>\n</svg>',Feather:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-feather">\n    <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line>\n</svg>',Figma:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-figma">\n    <path d="M5 5.5A3.5 3.5 0 0 1 8.5 2H12v7H8.5A3.5 3.5 0 0 1 5 5.5z"></path><path d="M12 2h3.5a3.5 3.5 0 1 1 0 7H12V2z"></path><path d="M12 12.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 1 1-7 0z"></path><path d="M5 19.5A3.5 3.5 0 0 1 8.5 16H12v3.5a3.5 3.5 0 1 1-7 0z"></path><path d="M5 12.5A3.5 3.5 0 0 1 8.5 9H12v7H8.5A3.5 3.5 0 0 1 5 12.5z"></path>\n</svg>',FileMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-minus">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="9" y1="15" x2="15" y2="15"></line>\n</svg>',FilePlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-plus">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line>\n</svg>',FileText:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file-text">\n    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline>\n</svg>',File:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-file">\n    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>\n</svg>',Film:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-film">\n    <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line>\n</svg>',Filter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-filter">\n    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>\n</svg>',Flag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-flag">\n    <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>\n</svg>',FolderMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder-minus">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="9" y1="14" x2="15" y2="14"></line>\n</svg>',FolderPlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder-plus">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path><line x1="12" y1="11" x2="12" y2="17"></line><line x1="9" y1="14" x2="15" y2="14"></line>\n</svg>',Folder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-folder">\n    <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>\n</svg>',Framer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-framer">\n    <path d="M5 16V9h14V2H5l14 14h-7m-7 0l7 7v-7m-7 0h7"></path>\n</svg>',Frown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-frown">\n    <circle cx="12" cy="12" r="10"></circle><path d="M16 16s-1.5-2-4-2-4 2-4 2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Gift:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-gift">\n    <polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>\n</svg>',GitBranch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-branch">\n    <line x1="6" y1="3" x2="6" y2="15"></line><circle cx="18" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><path d="M18 9a9 9 0 0 1-9 9"></path>\n</svg>',GitCommit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-commit">\n    <circle cx="12" cy="12" r="4"></circle><line x1="1.05" y1="12" x2="7" y2="12"></line><line x1="17.01" y1="12" x2="22.96" y2="12"></line>\n</svg>',GitMerge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-merge">\n    <circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M6 21V9a9 9 0 0 0 9 9"></path>\n</svg>',GitPullRequest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-git-pull-request">\n    <circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line>\n</svg>',Github:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-github">\n    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>\n</svg>',Gitlab:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-gitlab">\n    <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path>\n</svg>',Globe:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-globe">\n    <circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>\n</svg>',Grid:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-grid">\n    <rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect>\n</svg>',HardDrive:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hard-drive">\n    <line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line>\n</svg>',Hash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hash">\n    <line x1="4" y1="9" x2="20" y2="9"></line><line x1="4" y1="15" x2="20" y2="15"></line><line x1="10" y1="3" x2="8" y2="21"></line><line x1="16" y1="3" x2="14" y2="21"></line>\n</svg>',Headphones:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-headphones">\n    <path d="M3 18v-6a9 9 0 0 1 18 0v6"></path><path d="M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"></path>\n</svg>',Heart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-heart">\n    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>\n</svg>',HelpCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-help-circle">\n    <circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line>\n</svg>',Hexagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-hexagon">\n    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>\n</svg>',Home:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-home">\n    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>\n</svg>',Image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-image">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>\n</svg>',Inbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-inbox">\n    <polyline points="22 12 16 12 14 15 10 15 8 12 2 12"></polyline><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path>\n</svg>',Info:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-info">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line>\n</svg>',Instagram:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-instagram">\n    <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>\n</svg>',Italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-italic">\n    <line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line>\n</svg>',Key:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-key">\n    <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>\n</svg>',Layers:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layers">\n    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline>\n</svg>',Layout:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-layout">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line>\n</svg>',LifeBuoy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-life-buoy">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="4"></circle><line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line><line x1="14.83" y1="14.83" x2="19.07" y2="19.07"></line><line x1="14.83" y1="9.17" x2="19.07" y2="4.93"></line><line x1="14.83" y1="9.17" x2="18.36" y2="5.64"></line><line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>\n</svg>',Link2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-link-2">\n    <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-link">\n    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>\n</svg>',Linkedin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-linkedin">\n    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle>\n</svg>',List:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-list">\n    <line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line>\n</svg>',Loader:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-loader">\n    <line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line>\n</svg>',Lock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-lock">\n    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path>\n</svg>',LogIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-log-in">\n    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line>\n</svg>',LogOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-log-out">\n    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line>\n</svg>',Mail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mail">\n    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline>\n</svg>',MapPin:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-map-pin">\n    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle>\n</svg>',Map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-map">\n    <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line>\n</svg>',Maximize2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-maximize-2">\n    <polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" y1="3" x2="14" y2="10"></line><line x1="3" y1="21" x2="10" y2="14"></line>\n</svg>',Maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-maximize">\n    <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>\n</svg>',Meh:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-meh">\n    <circle cx="12" cy="12" r="10"></circle><line x1="8" y1="15" x2="16" y2="15"></line><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-menu">\n    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>\n</svg>',MessageCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-message-circle">\n    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>\n</svg>',MessageSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-message-square">\n    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n</svg>',MicOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mic-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>\n</svg>',Mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mic">\n    <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>\n</svg>',Minimize2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minimize-2">\n    <polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line>\n</svg>',Minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minimize">\n    <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path>\n</svg>',MinusCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',MinusSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Minus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-minus">\n    <line x1="5" y1="12" x2="19" y2="12"></line>\n</svg>',Monitor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-monitor">\n    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line>\n</svg>',Moon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-moon">\n    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>\n</svg>',MoreHorizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-more-horizontal">\n    <circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>\n</svg>',MoreVertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-more-vertical">\n    <circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle>\n</svg>',MousePointer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-mouse-pointer">\n    <path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"></path><path d="M13 13l6 6"></path>\n</svg>',Move:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-move">\n    <polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>\n</svg>',Music:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-music">\n    <path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle>\n</svg>',Navigation2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-navigation-2">\n    <polygon points="12 2 19 21 12 17 5 21 12 2"></polygon>\n</svg>',Navigation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-navigation">\n    <polygon points="3 11 22 2 13 21 11 13 3 11"></polygon>\n</svg>',Octagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon>\n</svg>',Package:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-package">\n    <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line>\n</svg>',Paperclip:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-paperclip">\n    <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>\n</svg>',PauseCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pause-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="10" y1="15" x2="10" y2="9"></line><line x1="14" y1="15" x2="14" y2="9"></line>\n</svg>',Pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pause">\n    <rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect>\n</svg>',PenTool:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pen-tool">\n    <path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle>\n</svg>',Percent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-percent">\n    <line x1="19" y1="5" x2="5" y2="19"></line><circle cx="6.5" cy="6.5" r="2.5"></circle><circle cx="17.5" cy="17.5" r="2.5"></circle>\n</svg>',PhoneCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-call">\n    <path d="M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneForwarded:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-forwarded">\n    <polyline points="19 1 23 5 19 9"></polyline><line x1="15" y1="5" x2="23" y2="5"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneIncoming:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-incoming">\n    <polyline points="16 2 16 8 22 8"></polyline><line x1="23" y1="1" x2="16" y2="8"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneMissed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-missed">\n    <line x1="23" y1="1" x2="17" y2="7"></line><line x1="17" y1="1" x2="23" y2="7"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PhoneOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-off">\n    <path d="M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"></path><line x1="23" y1="1" x2="1" y2="23"></line>\n</svg>',PhoneOutgoing:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone-outgoing">\n    <polyline points="23 7 23 1 17 1"></polyline><line x1="16" y1="8" x2="23" y2="1"></line><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',Phone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-phone">\n    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>\n</svg>',PieChart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pie-chart">\n    <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path><path d="M22 12A10 10 0 0 0 12 2v10z"></path>\n</svg>',PlayCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-play-circle">\n    <circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon>\n</svg>',Play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-play">\n    <polygon points="5 3 19 12 5 21 5 3"></polygon>\n</svg>',PlusCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',PlusSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line>\n</svg>',Plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-plus">\n    <line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>\n</svg>',Pocket:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-pocket">\n    <path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z"></path><polyline points="8 10 12 14 16 10"></polyline>\n</svg>',Power:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-power">\n    <path d="M18.36 6.64a9 9 0 1 1-12.73 0"></path><line x1="12" y1="2" x2="12" y2="12"></line>\n</svg>',Printer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-printer">\n    <polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect>\n</svg>',Radio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-radio">\n    <circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path>\n</svg>',RefreshCcw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-refresh-ccw">\n    <polyline points="1 4 1 10 7 10"></polyline><polyline points="23 20 23 14 17 14"></polyline><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>\n</svg>',RefreshCw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-refresh-cw">\n    <polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>\n</svg>',Repeat:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-repeat">\n    <polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path>\n</svg>',Rewind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rewind">\n    <polygon points="11 19 2 12 11 5 11 19"></polygon><polygon points="22 19 13 12 22 5 22 19"></polygon>\n</svg>',RotateCcw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rotate-ccw">\n    <polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>\n</svg>',RotateCw:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rotate-cw">\n    <polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>\n</svg>',Rss:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-rss">\n    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>\n</svg>',Save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-save">\n    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>\n</svg>',Scissors:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-scissors">\n    <circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line>\n</svg>',Search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-search">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>\n</svg>',Send:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-send">\n    <line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>\n</svg>',Server:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-server">\n    <rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line>\n</svg>',Settings:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-settings">\n    <circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>\n</svg>',Share2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-share-2">\n    <circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>\n</svg>',Share:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-share">\n    <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path><polyline points="16 6 12 2 8 6"></polyline><line x1="12" y1="2" x2="12" y2="15"></line>\n</svg>',ShieldOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shield-off">\n    <path d="M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"></path><path d="M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Shield:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shield">\n    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>\n</svg>',ShoppingBag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shopping-bag">\n    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path>\n</svg>',ShoppingCart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shopping-cart">\n    <circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>\n</svg>',Shuffle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-shuffle">\n    <polyline points="16 3 21 3 21 8"></polyline><line x1="4" y1="20" x2="21" y2="3"></line><polyline points="21 16 21 21 16 21"></polyline><line x1="15" y1="15" x2="21" y2="21"></line><line x1="4" y1="4" x2="9" y2="9"></line>\n</svg>',Sidebar:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sidebar">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="3" x2="9" y2="21"></line>\n</svg>',SkipBack:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-skip-back">\n    <polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5"></line>\n</svg>',SkipForward:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-skip-forward">\n    <polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19"></line>\n</svg>',Slack:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-slack">\n    <path d="M14.5 10c-.83 0-1.5-.67-1.5-1.5v-5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5z"></path><path d="M20.5 10H19V8.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path><path d="M9.5 14c.83 0 1.5.67 1.5 1.5v5c0 .83-.67 1.5-1.5 1.5S8 21.33 8 20.5v-5c0-.83.67-1.5 1.5-1.5z"></path><path d="M3.5 14H5v1.5c0 .83-.67 1.5-1.5 1.5S2 16.33 2 15.5 2.67 14 3.5 14z"></path><path d="M14 14.5c0-.83.67-1.5 1.5-1.5h5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-5c-.83 0-1.5-.67-1.5-1.5z"></path><path d="M15.5 19H14v1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"></path><path d="M10 9.5C10 8.67 9.33 8 8.5 8h-5C2.67 8 2 8.67 2 9.5S2.67 11 3.5 11h5c.83 0 1.5-.67 1.5-1.5z"></path><path d="M8.5 5H10V3.5C10 2.67 9.33 2 8.5 2S7 2.67 7 3.5 7.67 5 8.5 5z"></path>\n</svg>',Slash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-slash">\n    <circle cx="12" cy="12" r="10"></circle><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"></line>\n</svg>',Sliders:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sliders">\n    <line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>\n</svg>',Smartphone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-smartphone">\n    <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>\n</svg>',Smile:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-smile">\n    <circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" y1="9" x2="9.01" y2="9"></line><line x1="15" y1="9" x2="15.01" y2="9"></line>\n</svg>',Speaker:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-speaker">\n    <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><circle cx="12" cy="14" r="4"></circle><line x1="12" y1="6" x2="12.01" y2="6"></line>\n</svg>',Square:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>\n</svg>',Star:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-star">\n    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>\n</svg>',StopCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-stop-circle">\n    <circle cx="12" cy="12" r="10"></circle><rect x="9" y="9" width="6" height="6"></rect>\n</svg>',Sun:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sun">\n    <circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>\n</svg>',Sunrise:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sunrise">\n    <path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="2" x2="12" y2="9"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="8 6 12 2 16 6"></polyline>\n</svg>',Sunset:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-sunset">\n    <path d="M17 18a5 5 0 0 0-10 0"></path><line x1="12" y1="9" x2="12" y2="2"></line><line x1="4.22" y1="10.22" x2="5.64" y2="11.64"></line><line x1="1" y1="18" x2="3" y2="18"></line><line x1="21" y1="18" x2="23" y2="18"></line><line x1="18.36" y1="11.64" x2="19.78" y2="10.22"></line><line x1="23" y1="22" x2="1" y2="22"></line><polyline points="16 5 12 9 8 5"></polyline>\n</svg>',Tablet:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tablet">\n    <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line>\n</svg>',Tag:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tag">\n    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>\n</svg>',Target:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-target">\n    <circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="6"></circle><circle cx="12" cy="12" r="2"></circle>\n</svg>',Terminal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-terminal">\n    <polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line>\n</svg>',Thermometer:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thermometer">\n    <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>\n</svg>',ThumbsDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thumbs-down">\n    <path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path>\n</svg>',ThumbsUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-thumbs-up">\n    <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>\n</svg>',ToggleLeft:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-toggle-left">\n    <rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="8" cy="12" r="3"></circle>\n</svg>',ToggleRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-toggle-right">\n    <rect x="1" y="5" width="22" height="14" rx="7" ry="7"></rect><circle cx="16" cy="12" r="3"></circle>\n</svg>',Tool:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tool">\n    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>\n</svg>',Trash2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trash-2">\n    <polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>\n</svg>',Trash:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trash">\n    <polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n</svg>',Trello:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trello">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><rect x="7" y="7" width="3" height="9"></rect><rect x="14" y="7" width="3" height="5"></rect>\n</svg>',TrendingDown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trending-down">\n    <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline>\n</svg>',TrendingUp:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-trending-up">\n    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline>\n</svg>',Triangle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-triangle">\n    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>\n</svg>',Truck:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-truck">\n    <rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle>\n</svg>',Tv:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-tv">\n    <rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline>\n</svg>',Twitch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-twitch">\n    <path d="M21 2H3v16h5v4l4-4h5l4-4V2zm-10 9V7m5 4V7"></path>\n</svg>',Twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-twitter">\n    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>\n</svg>',Type:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-type">\n    <polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line>\n</svg>',Umbrella:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-umbrella">\n    <path d="M23 12a11.05 11.05 0 0 0-22 0zm-5 7a3 3 0 0 1-6 0v-7"></path>\n</svg>',Underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-underline">\n    <path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line>\n</svg>',Unlock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-unlock">\n    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 9.9-1"></path>\n</svg>',UploadCloud:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-upload-cloud">\n    <polyline points="16 16 12 12 8 16"></polyline><line x1="12" y1="12" x2="12" y2="21"></line><path d="M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"></path><polyline points="16 16 12 12 8 16"></polyline>\n</svg>',Upload:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-upload">\n    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="17 8 12 3 7 8"></polyline><line x1="12" y1="3" x2="12" y2="15"></line>\n</svg>',UserCheck:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-check">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>\n</svg>',UserMinus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-minus">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="23" y1="11" x2="17" y2="11"></line>\n</svg>',UserPlus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-plus">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>\n</svg>',UserX:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user-x">\n    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="18" y1="8" x2="23" y2="13"></line><line x1="23" y1="8" x2="18" y2="13"></line>\n</svg>',User:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-user">\n    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>\n</svg>',Users:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-users">\n    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path>\n</svg>',VideoOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-video-off">\n    <path d="M16 16v1a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2m5.66 0H14a2 2 0 0 1 2 2v3.34l1 1L23 7v10"></path><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-video">\n    <polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>\n</svg>',Voicemail:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-voicemail">\n    <circle cx="5.5" cy="11.5" r="4.5"></circle><circle cx="18.5" cy="11.5" r="4.5"></circle><line x1="5.5" y1="16" x2="18.5" y2="16"></line>\n</svg>',Volume1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-1">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>\n</svg>',Volume2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-2">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>\n</svg>',VolumeX:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume-x">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>\n</svg>',Volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-volume">\n    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>\n</svg>',Watch:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-watch">\n    <circle cx="12" cy="12" r="7"></circle><polyline points="12 9 12 12 13.5 13.5"></polyline><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"></path>\n</svg>',WifiOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wifi-off">\n    <line x1="1" y1="1" x2="23" y2="23"></line><path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path><path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path><path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path><path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>\n</svg>',Wifi:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wifi">\n    <path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M1.42 9a16 16 0 0 1 21.16 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line>\n</svg>',Wind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-wind">\n    <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>\n</svg>',XCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-circle">\n    <circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>\n</svg>',XOctagon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-octagon">\n    <polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"></polygon><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line>\n</svg>',XSquare:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x-square">\n    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="15"></line><line x1="15" y1="9" x2="9" y2="15"></line>\n</svg>',X:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-x">\n    <line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>\n</svg>',Youtube:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-youtube">\n    <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"></path><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>\n</svg>',ZapOff:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zap-off">\n    <polyline points="12.41 6.75 13 2 10.57 4.92"></polyline><polyline points="18.57 12.91 21 10 15.66 10"></polyline><polyline points="8 8 3 14 12 14 11 22 16 16"></polyline><line x1="1" y1="1" x2="23" y2="23"></line>\n</svg>',Zap:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zap">\n    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>\n</svg>',ZoomIn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zoom-in">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line>\n</svg>',ZoomOut:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-zoom-out">\n    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line>\n</svg>'};var Wl=n(1062),Kl=(n(9738),n(2107),n(250)),Yl=n(308),$l=function(t,e){return($l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ql(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Jl,Xl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},th=th||{},eh=Xl||self;function nh(){}function rh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ih(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oh="closure_uid_"+(1e9*Math.random()>>>0),sh=0;function ah(t,e,n){return t.call.apply(t.bind,arguments)}function uh(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ch(t,e,n){return(ch=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ah:uh).apply(null,arguments)}function lh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function hh(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function fh(){this.s=this.s,this.o=this.o}var dh={};fh.prototype.s=!1,fh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,oh)&&t[oh]||(t[oh]=++sh)}(this);delete dh[t]}},fh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ph=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gh=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function mh(t){return Array.prototype.concat.apply([],arguments)}function vh(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function yh(t){return/^[\s\xa0]*$/.test(t)}var _h,wh=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function bh(t,e){return-1!=t.indexOf(e)}function xh(t,e){return t<e?-1:t>e?1:0}t:{var Th=eh.navigator;if(Th){var Ch=Th.userAgent;if(Ch){_h=Ch;break t}}_h=""}function Eh(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Sh(t){var e={};for(var n in t)e[n]=t[n];return e}var Ih="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ah(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ih.length;o++)n=Ih[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kh(t){return kh[" "](t),t}kh[" "]=nh;var Oh,Nh,Ph=bh(_h,"Opera"),Rh=bh(_h,"Trident")||bh(_h,"MSIE"),Dh=bh(_h,"Edge"),Mh=Dh||Rh,Lh=bh(_h,"Gecko")&&!(bh(_h.toLowerCase(),"webkit")&&!bh(_h,"Edge"))&&!(bh(_h,"Trident")||bh(_h,"MSIE"))&&!bh(_h,"Edge"),Fh=bh(_h.toLowerCase(),"webkit")&&!bh(_h,"Edge");function Uh(){var t=eh.document;return t?t.documentMode:void 0}t:{var qh="",jh=(Nh=_h,Lh?/rv:([^\);]+)(\)|;)/.exec(Nh):Dh?/Edge\/([\d\.]+)/.exec(Nh):Rh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Nh):Fh?/WebKit\/(\S+)/.exec(Nh):Ph?/(?:Version)[ \/]?(\S+)/.exec(Nh):void 0);if(jh&&(qh=jh?jh[1]:""),Rh){var Vh=Uh();if(null!=Vh&&Vh>parseFloat(qh)){Oh=String(Vh);break t}}Oh=qh}var Bh={};var Zh=eh.document&&Rh&&(Uh()||parseInt(Oh,10))||void 0,Hh=function(){if(!eh.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{eh.addEventListener("test",nh,e),eh.removeEventListener("test",nh,e)}catch(n){}return t}();function zh(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Gh(t,e){if(zh.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Lh){t:{try{kh(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Wh[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gh.Z.h.call(this)}}zh.prototype.h=function(){this.defaultPrevented=!0},hh(Gh,zh);var Wh={2:"touch",3:"pen",4:"mouse"};Gh.prototype.h=function(){Gh.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kh="closure_listenable_"+(1e6*Math.random()|0),Yh=0;function $h(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Yh,this.ca=this.fa=!1}function Qh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Jh(t){this.src=t,this.g={},this.h=0}function Xh(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=ph(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Qh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function tf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Jh.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=tf(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new $h(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var ef="closure_lm_"+(1e6*Math.random()|0),nf={};function rf(t,e,n,r,i){if(r&&r.once)return sf(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)rf(t,e[o],n,r,i);return null}return n=df(n),t&&t[Kh]?t.N(e,n,ih(r)?!!r.capture:!!r,i):of(t,e,n,!1,r,i)}function of(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ih(i)?!!i.capture:!!i,a=hf(t);if(a||(t[ef]=a=new Jh(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=lf;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Hh||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cf(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function sf(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sf(t,e[o],n,r,i);return null}return n=df(n),t&&t[Kh]?t.O(e,n,ih(r)?!!r.capture:!!r,i):of(t,e,n,!0,r,i)}function af(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)af(t,e[o],n,r,i);else r=ih(r)?!!r.capture:!!r,n=df(n),t&&t[Kh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=tf(o=t.g[e],n,r,i))&&(Qh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=hf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=tf(e,n,r,i)),(n=-1<t?e[t]:null)&&uf(n))}function uf(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Kh])Xh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cf(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hf(e))?(Xh(n,t),0==n.h&&(n.src=null,e[ef]=null)):Qh(t)}}}function cf(t){return t in nf?nf[t]:nf[t]="on"+t}function lf(t,e){if(t.ca)t=!0;else{e=new Gh(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&uf(t),t=n.call(r,e)}return t}function hf(t){return(t=t[ef])instanceof Jh?t:null}var ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function df(t){return"function"==typeof t?t:(t[ff]||(t[ff]=function(e){return t.handleEvent(e)}),t[ff])}function pf(){fh.call(this),this.i=new Jh(this),this.P=this,this.I=null}function gf(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new zh(e,t);else if(e instanceof zh)e.target=e.target||t;else{var i=e;Ah(e=new zh(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=mf(s,r,!0,e)&&i}if(i=mf(s=e.g=t,r,!0,e)&&i,i=mf(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=mf(s=e.g=n[o],r,!1,e)&&i}function mf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Xh(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}hh(pf,fh),pf.prototype[Kh]=!0,pf.prototype.removeEventListener=function(t,e,n,r){af(this,t,e,n,r)},pf.prototype.M=function(){if(pf.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Qh(n[r]);delete e.g[t],e.h--}}this.I=null},pf.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},pf.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var vf=eh.JSON.stringify;function yf(){var t=Sf,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _f,wf=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=bf.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),bf=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new xf},function(t){return t.reset()}),xf=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Tf(t){eh.setTimeout(function(){throw t},0)}function Cf(t,e){_f||function(){var t=eh.Promise.resolve(void 0);_f=function(){t.then(If)}}(),Ef||(_f(),Ef=!0),Sf.add(t,e)}var Ef=!1,Sf=new wf;function If(){for(var t;t=yf();){try{t.h.call(t.g)}catch(n){Tf(n)}var e=bf;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ef=!1}function Af(t,e){pf.call(this),this.h=t||1,this.g=e||eh,this.j=ch(this.kb,this),this.l=Date.now()}function kf(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Of(t,e,n){if("function"==typeof t)n&&(t=ch(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ch(t.handleEvent,t)}return 2147483647<Number(e)?-1:eh.setTimeout(t,e||0)}function Nf(t){t.g=Of(function(){t.g=null,t.i&&(t.i=!1,Nf(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}hh(Af,pf),(Jl=Af.prototype).da=!1,Jl.S=null,Jl.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gf(this,"tick"),this.da&&(kf(this),this.start()))}},Jl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jl.M=function(){Af.Z.M.call(this),kf(this),delete this.g};var Pf=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}$l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Nf(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(eh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(fh);function Rf(t){fh.call(this),this.h=t,this.g={}}hh(Rf,fh);var Df=[];function Mf(t,e,n,r){Array.isArray(n)||(n&&(Df[0]=n.toString()),n=Df);for(var i=0;i<n.length;i++){var o=rf(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Lf(t){Eh(t.g,function(t,e){this.g.hasOwnProperty(e)&&uf(t)},t),t.g={}}function Ff(){this.g=!0}function Uf(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return vf(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Rf.prototype.M=function(){Rf.Z.M.call(this),Lf(this)},Rf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ff.prototype.Aa=function(){this.g=!1},Ff.prototype.info=function(){};var qf={},jf=null;function Vf(){return jf=jf||new pf}function Bf(t){zh.call(this,qf.Ma,t)}function Zf(t){var e=Vf();gf(e,new Bf(e,t))}function Hf(t,e){zh.call(this,qf.STAT_EVENT,t),this.stat=e}function zf(t){var e=Vf();gf(e,new Hf(e,t))}function Gf(t,e){zh.call(this,qf.Na,t),this.size=e}function Wf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return eh.setTimeout(function(){t()},e)}qf.Ma="serverreachability",hh(Bf,zh),qf.STAT_EVENT="statevent",hh(Hf,zh),qf.Na="timingevent",hh(Gf,zh);var Kf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $f(){}function Qf(){}$f.prototype.h=null;var Jf,Xf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function td(){zh.call(this,"d")}function ed(){zh.call(this,"c")}function nd(){}function rd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Rf(this),this.P=od,this.W=new Af(t=Mh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new id}function id(){this.i=null,this.g="",this.h=!1}hh(td,zh),hh(ed,zh),hh(nd,$f),nd.prototype.g=function(){return new XMLHttpRequest},nd.prototype.i=function(){return{}},Jf=new nd;var od=45e3,sd={},ad={};function ud(t,e,n){t.K=1,t.v=Nd(Ed(e)),t.s=n,t.U=!0,cd(t,null)}function cd(t,e){t.F=Date.now(),dd(t),t.A=Ed(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Hd(n.h,"t",r),t.C=0,n=t.l.H,t.h=new id,t.g=zp(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Pf(ch(t.Ia,t,t.g),t.O)),Mf(t.V,t.g,"readystatechange",t.gb),e=t.H?Sh(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Zf(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ld(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function hd(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=fd(t,n))==ad){4==e&&(t.o=4,zf(14),i=!1),Uf(t.j,t.m,null,"[Incomplete Response]");break}if(r==sd){t.o=4,zf(15),Uf(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Uf(t.j,t.m,r,null),yd(t,r)}ld(t)&&r!=ad&&r!=sd&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,zf(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fp(e),e.L=!0,zf(11))):(Uf(t.j,t.m,n,"[Invalid Chunked Response]"),vd(t),md(t))}function fd(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ad:(n=Number(e.substring(n,r)),isNaN(n)?sd:(r+=1)+n>e.length?ad:(e=e.substr(r,n),t.C=r+n,e))}function dd(t){t.Y=Date.now()+t.P,pd(t,t.P)}function pd(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Wf(ch(t.eb,t),e)}function gd(t){t.B&&(eh.clearTimeout(t.B),t.B=null)}function md(t){0==t.l.G||t.I||jp(t.l,t)}function vd(t){gd(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,kf(t.W),Lf(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function yd(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Qd(n.i,t)))if(n.I=t.N,!t.J&&Qd(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;qp(n),Ap(n)}Lp(n),zf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wf(ch(n.ab,n),6e3));if(1>=$d(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Bp(n,11)}else if((t.J||n.g==t)&&qp(n),!yh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(bh(l,"spdy")||bh(l,"quic")||bh(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Jd(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Od(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Hp(r,r.H?r.la:null,r.W),d.J){Xd(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(gd(p),dd(p)),r.g=d}else Mp(r);0<n.l.length&&Np(n)}else"stop"!=o[0]&&"close"!=o[0]||Bp(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Bp(n,7):Ip(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Zf(4)}catch(o){}}function _d(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(rh(t)||"string"==typeof t)gh(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(rh(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(rh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function wd(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof wd)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function bd(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];xd(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)xd(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function xd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Jl=rd.prototype).setTimeout=function(t){this.P=t},Jl.gb=function(t){t=t.target;var e=this.L;e&&3==xp(t)?e.l():this.Ia(t)},Jl.Ia=function(t){try{if(t==this.g)t:{var e=xp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Mh||this.g&&(this.h.h||this.g.ga()||Tp(this.g)))){this.I||4!=e||7==n||Zf(8==n||0>=r?3:2),gd(this);var i=this.g.ba();this.N=i;e:if(ld(this)){var o=Tp(this.g);t="";var s=o.length,a=4==xp(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vd(this),md(this);var u="";break e}this.h.i=new eh.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yh(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,zf(12),vd(this),md(this);break t}Uf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yd(this,i)}this.U?(hd(this,e,u),Mh&&this.i&&3==e&&(Mf(this.V,this.W,"tick",this.fb),this.W.start())):(Uf(this.j,this.m,u,null),yd(this,u)),4==e&&vd(this),this.i&&!this.I&&(4==e?jp(this.l,this):(this.i=!1,dd(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,zf(12)):(this.o=0,zf(13)),vd(this),md(this)}}}catch(e){}},Jl.fb=function(){if(this.g){var t=xp(this.g),e=this.g.ga();this.C<e.length&&(gd(this),hd(this,t,e),this.i&&4!=t&&dd(this))}},Jl.cancel=function(){this.I=!0,vd(this)},Jl.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Zf(3),zf(17)),vd(this),this.o=2,md(this)):pd(this,this.Y-t)},(Jl=wd.prototype).R=function(){bd(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Jl.T=function(){return bd(this),this.g.concat()},Jl.get=function(t,e){return xd(this.h,t)?this.h[t]:e},Jl.set=function(t,e){xd(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Jl.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Td=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cd(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Cd){this.g=void 0!==e?e:t.g,Sd(this,t.j),this.s=t.s,Id(this,t.i),Ad(this,t.m),this.l=t.l,e=t.h;var n=new jd;n.i=e.i,e.g&&(n.g=new wd(e.g),n.h=e.h),kd(this,n),this.o=t.o}else t&&(n=String(t).match(Td))?(this.g=!!e,Sd(this,n[1]||"",!0),this.s=Pd(n[2]||""),Id(this,n[3]||"",!0),Ad(this,n[4]),this.l=Pd(n[5]||"",!0),kd(this,n[6]||"",!0),this.o=Pd(n[7]||"")):(this.g=!!e,this.h=new jd(null,this.g))}function Ed(t){return new Cd(t)}function Sd(t,e,n){t.j=n?Pd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Id(t,e,n){t.i=n?Pd(e,!0):e}function Ad(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kd(t,e,n){e instanceof jd?(t.h=e,function(t,e){e&&!t.j&&(Vd(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Bd(this,e),Hd(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Rd(e,Ud)),t.h=new jd(e,t.g))}function Od(t,e,n){t.h.set(e,n)}function Nd(t){return Od(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Rd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Dd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Dd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Cd.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Rd(e,Md,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Rd(e,Md,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Rd(n,"/"==n.charAt(0)?Fd:Ld,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Rd(n,qd)),t.join("")};var Md=/[#\/\?@]/g,Ld=/[#\?:]/g,Fd=/[#\?]/g,Ud=/[#\?@]/g,qd=/#/g;function jd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vd(t){t.g||(t.g=new wd,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Bd(t,e){Vd(t),e=zd(t,e),xd(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,xd((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&bd(t)))}function Zd(t,e){return Vd(t),e=zd(t,e),xd(t.g.h,e)}function Hd(t,e,n){Bd(t,e),0<n.length&&(t.i=null,t.g.set(zd(t,e),vh(n)),t.h+=n.length)}function zd(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Jl=jd.prototype).add=function(t,e){Vd(this),this.i=null,t=zd(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Jl.forEach=function(t,e){Vd(this),this.g.forEach(function(n,r){gh(n,function(n){t.call(e,n,r,this)},this)},this)},Jl.T=function(){Vd(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Jl.R=function(t){Vd(this);var e=[];if("string"==typeof t)Zd(this,t)&&(e=mh(e,this.g.get(zd(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=mh(e,t[n])}return e},Jl.set=function(t,e){return Vd(this),this.i=null,Zd(this,t=zd(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Jl.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Jl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Gd=function(){return function(t,e){this.h=t,this.g=e}}();function Wd(t){this.l=t||Kd,t=eh.PerformanceNavigationTiming?0<(t=eh.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(eh.g&&eh.g.Ea&&eh.g.Ea()&&eh.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kd=10;function Yd(t){return!!t.h||!!t.g&&t.g.size>=t.j}function $d(t){return t.h?1:t.g?t.g.size:0}function Qd(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Jd(t,e){t.g?t.g.add(e):t.h=e}function Xd(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function tp(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Ql(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return vh(t.i)}function ep(){}function np(){this.g=new ep}function rp(t,e,n){var r=n||"";try{_d(t,function(t,n){var i=t;ih(t)&&(i=vf(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(mE){throw e.push(r+"type="+encodeURIComponent("_badmap")),mE}}function ip(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function op(t){this.l=t.$b||null,this.j=t.ib||!1}function sp(t,e){pf.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wd.prototype.cancel=function(){var t,e;if(this.i=tp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Ql(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},ep.prototype.stringify=function(t){return eh.JSON.stringify(t,void 0)},ep.prototype.parse=function(t){return eh.JSON.parse(t,void 0)},hh(op,$f),op.prototype.g=function(){return new sp(this.l,this.j)},op.prototype.i=function(t){return function(){return t}}({}),hh(sp,pf);var ap=0;function up(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function cp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lp(t)}function lp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Jl=sp.prototype).open=function(t,e){if(this.readyState!=ap)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lp(this)},Jl.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||eh).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Jl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cp(this)),this.readyState=ap},Jl.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lp(this)),this.g&&(this.readyState=3,lp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==eh.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;up(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Jl.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cp(this):lp(this),3==this.readyState&&up(this)}},Jl.Ua=function(t){this.g&&(this.response=this.responseText=t,cp(this))},Jl.Ta=function(t){this.g&&(this.response=t,cp(this))},Jl.ha=function(){this.g&&cp(this)},Jl.setRequestHeader=function(t,e){this.v.append(t,e)},Jl.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Jl.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(sp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var hp=eh.JSON.parse;function fp(t){pf.call(this),this.headers=new wd,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dp,this.K=this.L=!1}hh(fp,pf);var dp="",pp=/^https?$/i,gp=["POST","PUT"];function mp(t){return"content-type"==t.toLowerCase()}function vp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yp(t),wp(t)}function yp(t){t.D||(t.D=!0,gf(t,"complete"),gf(t,"error"))}function _p(t){if(t.h&&void 0!==th&&(!t.C[1]||4!=xp(t)||2!=t.ba()))if(t.v&&4==xp(t))Of(t.Fa,0,t);else if(gf(t,"readystatechange"),4==xp(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Td)[1]||null;if(!o&&eh.self&&eh.self.location){var s=eh.self.location.protocol;o=s.substr(0,s.length-1)}i=!pp.test(o?o.toLowerCase():"")}e=i}if(e)gf(t,"complete"),gf(t,"success");else{t.m=6;try{var a=2<xp(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",yp(t)}}finally{wp(t)}}}function wp(t,e){if(t.g){bp(t);var n=t.g,r=t.C[0]?nh:null;t.g=null,t.C=null,e||gf(t,"ready");try{n.onreadystatechange=r}catch(mE){}}}function bp(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(eh.clearTimeout(t.A),t.A=null)}function xp(t){return t.g?t.g.readyState:0}function Tp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dp:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Cp(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Eh(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Od(t,e,n))}function Ep(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sp(t){this.za=0,this.l=[],this.h=new Ff,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ep("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ep("baseRetryDelayMs",5e3,t),this.$a=Ep("retryDelaySeedMs",1e4,t),this.Ya=Ep("forwardChannelMaxRetries",2,t),this.ra=Ep("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Wd(t&&t.concurrentRequestLimit),this.Ca=new np,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Ip(t){if(kp(t),3==t.G){var e=t.V++,n=Ed(t.F);Od(n,"SID",t.J),Od(n,"RID",e),Od(n,"TYPE","terminate"),Rp(t,n),(e=new rd(t,t.h,e,void 0)).K=2,e.v=Nd(Ed(n)),n=!1,eh.navigator&&eh.navigator.sendBeacon&&(n=eh.navigator.sendBeacon(e.v.toString(),"")),!n&&eh.Image&&((new Image).src=e.v,n=!0),n||(e.g=zp(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dd(e)}Zp(t)}function Ap(t){t.g&&(Fp(t),t.g.cancel(),t.g=null)}function kp(t){Ap(t),t.u&&(eh.clearTimeout(t.u),t.u=null),qp(t),t.i.cancel(),t.m&&("number"==typeof t.m&&eh.clearTimeout(t.m),t.m=null)}function Op(t,e){t.l.push(new Gd(t.Za++,e)),3==t.G&&Np(t)}function Np(t){Yd(t.i)||t.m||(t.m=!0,Cf(t.Ha,t),t.C=0)}function Pp(t,e){var n;n=e?e.m:t.V++;var r=Ed(t.F);Od(r,"SID",t.J),Od(r,"RID",n),Od(r,"AID",t.U),Rp(t,r),t.o&&t.s&&Cp(r,t.o,t.s),n=new rd(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Dp(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Jd(t.i,n),ud(n,r,e)}function Rp(t,e){t.j&&_d({},function(t,n){Od(e,n,t)})}function Dp(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ch(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{rp(l,s,"req"+c+"_")}catch(Cg){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Mp(t){t.g||t.u||(t.Y=1,Cf(t.Ga,t),t.A=0)}function Lp(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Wf(ch(t.Ga,t),Vp(t,t.A)),t.A++,0))}function Fp(t){null!=t.B&&(eh.clearTimeout(t.B),t.B=null)}function Up(t){t.g=new rd(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ed(t.oa);Od(e,"RID","rpc"),Od(e,"SID",t.J),Od(e,"CI",t.N?"0":"1"),Od(e,"AID",t.U),Rp(t,e),Od(e,"TYPE","xmlhttp"),t.o&&t.s&&Cp(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Nd(Ed(e)),n.s=null,n.U=!0,cd(n,t)}function qp(t){null!=t.v&&(eh.clearTimeout(t.v),t.v=null)}function jp(t,e){var n=null;if(t.g==e){qp(t),Fp(t),t.g=null;var r=2}else{if(!Qd(t.i,e))return;n=e.D,Xd(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;gf(r=Vf(),new Gf(r,n,e,i)),Np(t)}else Mp(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!($d(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Wf(ch(t.Ha,t,e),Vp(t,t.C)),t.C++,0)))}(t,e)||2==r&&Lp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bp(t,5);break;case 4:Bp(t,10);break;case 3:Bp(t,6);break;default:Bp(t,2)}}function Vp(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Bp(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=ch(t.jb,t);n||(n=new Cd("//www.google.com/images/cleardot.gif"),eh.location&&"http"==eh.location.protocol||Sd(n,"https"),Nd(n)),function(t,e){var n=new Ff;if(eh.Image){var r=new Image;r.onload=lh(ip,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lh(ip,n,r,"TestLoadImage: error",!1,e),r.onabort=lh(ip,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lh(ip,n,r,"TestLoadImage: timeout",!1,e),eh.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else zf(2);t.G=0,t.j&&t.j.va(e),Zp(t),kp(t)}function Zp(t){t.G=0,t.I=-1,t.j&&(0==tp(t.i).length&&0==t.l.length||(t.i.i.length=0,vh(t.l),t.l.length=0),t.j.ua())}function Hp(t,e,n){var r=function(t){return t instanceof Cd?Ed(t):new Cd(t,void 0)}(n);if(""!=r.i)e&&Id(r,e+"."+r.i),Ad(r,r.m);else{var i=eh.location;r=function(t,e,n,r){var i=new Cd(null,void 0);return t&&Sd(i,t),e&&Id(i,e),n&&Ad(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Eh(t.aa,function(t,e){Od(r,e,t)}),n=t.sa,(e=t.D)&&n&&Od(r,e,n),Od(r,"VER",t.ma),Rp(t,r),r}function zp(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fp(n&&t.Ba&&!t.qa?new op({ib:!0}):t.qa)).L=t.H,e}function Gp(){}function Wp(){if(Rh&&!(10<=Number(Zh)))throw Error("Environmental error: no available transport.")}function Kp(t,e){pf.call(this),this.g=new Sp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!yh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Qp(this)}function Yp(t){td.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $p(){ed.call(this),this.status=1}function Qp(t){this.g=t}(Jl=fp.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jf.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Jf),this.g.onreadystatechange=ch(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void vp(this,o)}t=n||"";var i=new wd(this.headers);r&&_d(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=mp,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=eh.FormData&&t instanceof eh.FormData,!(0<=ph(gp,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bp(this),0<this.B&&((this.K=function(t){return Rh&&function(){return t=Bh,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=wh(String(Oh)).split("."),n=wh("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=xh(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||xh(0==o[2].length,0==s[2].length)||xh(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ch(this.pa,this)):this.A=Of(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){vp(this,o)}},Jl.pa=function(){void 0!==th&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gf(this,"timeout"),this.abort(8))},Jl.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gf(this,"complete"),gf(this,"abort"),wp(this))},Jl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wp(this,!0)),fp.Z.M.call(this)},Jl.Fa=function(){this.s||(this.F||this.v||this.l?_p(this):this.cb())},Jl.cb=function(){_p(this)},Jl.ba=function(){try{return 2<xp(this)?this.g.status:-1}catch(Nh){return-1}},Jl.ga=function(){try{return this.g?this.g.responseText:""}catch(Nh){return""}},Jl.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hp(e)}},Jl.Da=function(){return this.m},Jl.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Jl=Sp.prototype).ma=8,Jl.G=1,Jl.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Jl.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new rd(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Ah(n=Sh(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Dp(this,e,r),Od(i=Ed(this.F),"RID",t),Od(i,"CVER",22),this.D&&Od(i,"X-HTTP-Session-Id",this.D),Rp(this,i),this.o&&n&&Cp(i,this.o,n),Jd(this.i,e),this.Ra&&Od(i,"TYPE","init"),this.ja?(Od(i,"$req",r),Od(i,"SID","null"),e.$=!0,ud(e,i,null)):ud(e,i,r),this.G=2}}else 3==this.G&&(t?Pp(this,t):0==this.l.length||Yd(this.i)||Pp(this))},Jl.Ga=function(){if(this.u=null,Up(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Wf(ch(this.bb,this),t)}},Jl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zf(10),Ap(this),Up(this))},Jl.ab=function(){null!=this.v&&(this.v=null,Ap(this),Lp(this),zf(19))},Jl.jb=function(t){t?(this.h.info("Successfully pinged google.com"),zf(2)):(this.h.info("Failed to ping google.com"),zf(1))},(Jl=Gp.prototype).xa=function(){},Jl.wa=function(){},Jl.va=function(){},Jl.ua=function(){},Jl.Oa=function(){},Wp.prototype.g=function(t,e){return new Kp(t,e)},hh(Kp,pf),Kp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Cf(ch(t.hb,t,e))),zf(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Hp(t,null,t.W),Np(t)},Kp.prototype.close=function(){Ip(this.g)},Kp.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Op(this.g,e)}else this.v?((e={}).__data__=vf(t),Op(this.g,e)):Op(this.g,t)},Kp.prototype.M=function(){this.g.j=null,delete this.j,Ip(this.g),delete this.g,Kp.Z.M.call(this)},hh(Yp,td),hh($p,ed),hh(Qp,Gp),Qp.prototype.xa=function(){gf(this.g,"a")},Qp.prototype.wa=function(t){gf(this.g,new Yp(t))},Qp.prototype.va=function(t){gf(this.g,new $p(t))},Qp.prototype.ua=function(){gf(this.g,"b")},Wp.prototype.createWebChannel=Wp.prototype.g,Kp.prototype.send=Kp.prototype.u,Kp.prototype.open=Kp.prototype.m,Kp.prototype.close=Kp.prototype.close,Kf.NO_ERROR=0,Kf.TIMEOUT=8,Kf.HTTP_ERROR=6,Yf.COMPLETE="complete",Qf.EventType=Xf,Xf.OPEN="a",Xf.CLOSE="b",Xf.ERROR="c",Xf.MESSAGE="d",pf.prototype.listen=pf.prototype.N,fp.prototype.listenOnce=fp.prototype.O,fp.prototype.getLastError=fp.prototype.La,fp.prototype.getLastErrorCode=fp.prototype.Da,fp.prototype.getStatus=fp.prototype.ba,fp.prototype.getResponseJson=fp.prototype.Qa,fp.prototype.getResponseText=fp.prototype.ga,fp.prototype.send=fp.prototype.ea;var Jp=Kf,Xp=Yf,tg=qf,eg=op,ng=Qf,rg=fp,ig=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();ig.o=-1;var og={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},sg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Eu.__extends)(e,t),e}(Error),ag=new Yl.Logger("@firebase/firestore");function ug(){return ag.logLevel}function cg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ag.logLevel<=Yl.LogLevel.DEBUG){var r=e.map(fg);ag.debug.apply(ag,(0,Eu.__spreadArray)(["Firestore (8.8.1): "+t],r))}}function lg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ag.logLevel<=Yl.LogLevel.ERROR){var r=e.map(fg);ag.error.apply(ag,(0,Eu.__spreadArray)(["Firestore (8.8.1): "+t],r))}}function hg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ag.logLevel<=Yl.LogLevel.WARN){var r=e.map(fg);ag.warn.apply(ag,(0,Eu.__spreadArray)(["Firestore (8.8.1): "+t],r))}}function fg(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(mE){return t}}function dg(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function pg(t,e){t||dg()}function gg(t,e){return t}function mg(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vg=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=mg(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function yg(t,e){return t<e?-1:t>e?1:0}function _g(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function wg(t){return t+"\0"}var bg=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new sg(og.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new sg(og.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new sg(og.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new sg(og.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?yg(this.nanoseconds,t.nanoseconds):yg(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xg=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new bg(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Tg(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cg(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Eg(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Sg=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&dg(),void 0===n?n=t.length-e:n>t.length-e&&dg(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new sg(og.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Sg),Ag=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Ag.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new sg(og.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new sg(og.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new sg(og.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new sg(og.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Sg),Og=function(){function t(t){this.fields=t,t.sort(kg.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return _g(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ng=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return yg(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ng.EMPTY_BYTE_STRING=new Ng("");var Pg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rg(t){if(pg(!!t),"string"==typeof t){var e=0,n=Pg.exec(t);if(pg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dg(t.seconds),nanos:Dg(t.nanos)}}function Dg(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mg(t){return"string"==typeof t?Ng.fromBase64String(t):Ng.fromUint8Array(t)}function Lg(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fg(t){var e=t.mapValue.fields.__previous_value__;return Lg(e)?Fg(e):e}function Ug(t){var e=Rg(t.mapValue.fields.__local_write_time__.timestampValue);return new bg(e.seconds,e.nanos)}function qg(t){return null==t}function jg(t){return 0===t&&1/t==-1/0}function Vg(t){return"number"==typeof t&&Number.isInteger(t)&&!jg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Bg=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ig.fromString(e))},t.fromName=function(e){return new t(Ig.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ig.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ig.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ig(e.slice()))},t}();function Zg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lg(t)?4:10:dg()}function Hg(t,e){var n=Zg(t);if(n!==Zg(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ug(t).isEqual(Ug(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Rg(t.timestampValue),r=Rg(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Mg(t.bytesValue).isEqual(Mg(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Dg(t.geoPointValue.latitude)===Dg(e.geoPointValue.latitude)&&Dg(t.geoPointValue.longitude)===Dg(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Dg(t.integerValue)===Dg(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Dg(t.doubleValue),r=Dg(e.doubleValue);return n===r?jg(n)===jg(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _g(t.arrayValue.values||[],e.arrayValue.values||[],Hg);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Tg(n)!==Tg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hg(n[i],r[i])))return!1;return!0}(t,e);default:return dg()}}function zg(t,e){return void 0!==(t.values||[]).find(function(t){return Hg(t,e)})}function Gg(t,e){var n=Zg(t),r=Zg(e);if(n!==r)return yg(n,r);switch(n){case 0:return 0;case 1:return yg(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Dg(t.integerValue||t.doubleValue),r=Dg(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Wg(t.timestampValue,e.timestampValue);case 4:return Wg(Ug(t),Ug(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Mg(t),r=Mg(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=yg(n[i],r[i]);if(0!==o)return o}return yg(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=yg(Dg(t.latitude),Dg(e.latitude));return 0!==n?n:yg(Dg(t.longitude),Dg(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Gg(n[i],r[i]);if(o)return o}return yg(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=yg(r[s],o[s]);if(0!==a)return a;var u=Gg(n[r[s]],i[o[s]]);if(0!==u)return u}return yg(r.length,o.length)}(t.mapValue,e.mapValue);default:throw dg()}}function Wg(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return yg(t,e);var n=Rg(t),r=Rg(e),i=yg(n.seconds,r.seconds);return 0!==i?i:yg(n.nanos,r.nanos)}function Kg(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Rg(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mg(t.bytesValue).toBase64():"referenceValue"in t?Bg.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Yg(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Yg(t.fields[o])}return e+"}"}(t.mapValue):dg();var e}function $g(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Qg(t){return!!t&&"integerValue"in t}function Jg(t){return!!t&&"arrayValue"in t}function Xg(t){return!!t&&"nullValue"in t}function tm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function em(t){return!!t&&"mapValue"in t}function nm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Cg(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=nm(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=nm(t.arrayValue.values[r]);return n}return Object.assign({},t)}var rm=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!em(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nm(e)},t.prototype.setAll=function(t){var e=this,n=kg.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=nm(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());em(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Hg(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];em(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Cg(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(nm(this.value))},t}();function im(t){var e=[];return Cg(t.fields,function(t,n){var r=new kg([t]);if(em(n)){var i=im(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Og(e)}var om=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,xg.min(),rm.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,rm.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,rm.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=rm.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=rm.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),sm=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function am(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new sm(t,e,n,r,i,o,s)}function um(t){var e=gg(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Kg(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bm(e.startAt)),e.endAt&&(n+="|ub:",n+=bm(e.endAt)),e.h=n}return e.h}function cm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Tm(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Hg(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Em(t.startAt,e.startAt)&&Em(t.endAt,e.endAt)}function lm(t){return Bg.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var hm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Eu.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new fm(t,n,r):"array-contains"===n?new mm(t,r):"in"===n?new vm(t,r):"not-in"===n?new ym(t,r):"array-contains-any"===n?new _m(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new dm(t,n):new pm(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Gg(e,this.value)):null!==e&&Zg(this.value)===Zg(e)&&this.m(Gg(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return dg()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),fm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Bg.fromName(r.referenceValue),i}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){var e=Bg.comparator(t.key,this.key);return this.m(e)},e}(hm),dm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=gm(0,n),r}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(hm),pm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=gm(0,n),r}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(hm);function gm(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Bg.fromName(t.referenceValue)})}var mm=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Jg(e)&&zg(e.arrayValue,this.value)},e}(hm),vm=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&zg(this.value.arrayValue,e)},e}(hm),ym=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){if(zg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!zg(this.value.arrayValue,e)},e}(hm),_m=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Eu.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return zg(e.value.arrayValue,t)})},e}(hm),wm=function(t,e){this.position=t,this.before=e};function bm(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Kg(t)}).join(",")}var xm=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Tm(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Cm(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Bg.comparator(Bg.fromName(s.referenceValue),n.key):Gg(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Em(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Hg(t.position[n],e.position[n]))return!1;return!0}var Sm=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Im(t,e,n,r,i,o,s,a){return new Sm(t,e,n,r,i,o,s,a)}function Am(t){return new Sm(t)}function km(t){return!qg(t.limit)&&"F"===t.limitType}function Om(t){return!qg(t.limit)&&"L"===t.limitType}function Nm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pm(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Rm(t){return null!==t.collectionGroup}function Dm(t){var e=gg(t);if(null===e.p){e.p=[];var n=Pm(e),r=Nm(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new xm(n)),e.p.push(new xm(kg.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xm(kg.keyField(),u))}}}return e.p}function Mm(t){var e=gg(t);if(!e.T)if("F"===e.limitType)e.T=am(e.path,e.collectionGroup,Dm(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Dm(e);r<i.length;r++){var o=i[r];n.push(new xm(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new wm(e.endAt.position,!e.endAt.before):null,a=e.startAt?new wm(e.startAt.position,!e.startAt.before):null;e.T=am(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Lm(t,e,n){return new Sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fm(t,e){return cm(Mm(t),Mm(e))&&t.limitType===e.limitType}function Um(t){return um(Mm(t))+"|lt:"+t.limitType}function qm(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Kg(e.value);var e}).join(", ")+"]"),qg(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bm(t.startAt)),t.endAt&&(e+=", endAt: "+bm(t.endAt)),"Target("+e+")"}(Mm(t))+"; limitType="+t.limitType+")"}function jm(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Bg.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Cm(t.startAt,Dm(t),e)||t.endAt&&Cm(t.endAt,Dm(t),e))}(t,e)}function Vm(t){return function(e,n){for(var r=!1,i=0,o=Dm(t);i<o.length;i++){var s=o[i],a=Bm(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Bm(t,e,n){var r=t.field.isKeyField()?Bg.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Gg(r,i):dg()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dg()}}function Zm(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jg(e)?"-0":e}}function Hm(t){return{integerValue:""+t}}function zm(t,e){return Vg(e)?Hm(e):Zm(t,e)}var Gm=function(){this._=void 0};function Wm(t,e,n){return t instanceof $m?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Qm?Jm(t,e):t instanceof Xm?tv(t,e):function(t,e){var n=Ym(t,e),r=nv(n)+nv(t.A);return Qg(n)&&Qg(t.A)?Hm(r):Zm(t.R,r)}(t,e)}function Km(t,e,n){return t instanceof Qm?Jm(t,e):t instanceof Xm?tv(t,e):n}function Ym(t,e){return t instanceof ev?Qg(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var $m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e}(Gm),Qm=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Eu.__extends)(e,t),e}(Gm);function Jm(t,e){for(var n=rv(e),r=function(t){n.some(function(e){return Hg(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Eu.__extends)(e,t),e}(Gm);function tv(t,e){for(var n=rv(e),r=function(t){n=n.filter(function(e){return!Hg(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ev=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Eu.__extends)(e,t),e}(Gm);function nv(t){return Dg(t.integerValue||t.doubleValue)}function rv(t){return Jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var iv=function(t,e){this.field=t,this.transform=e},ov=function(t,e){this.version=t,this.transformResults=e},sv=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function av(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var uv=function(){};function cv(t,e,n){t instanceof pv?function(t,e,n){var r=t.value.clone(),i=vv(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof gv?function(t,e,n){if(av(t.precondition,e)){var r=vv(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(mv(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function lv(t,e,n){t instanceof pv?function(t,e,n){if(av(t.precondition,e)){var r=t.value.clone(),i=yv(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(dv(e),r).setHasLocalMutations()}}(t,e,n):t instanceof gv?function(t,e,n){if(av(t.precondition,e)){var r=yv(t.fieldTransforms,n,e),i=e.data;i.setAll(mv(t)),i.setAll(r),e.convertToFoundDocument(dv(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){av(t.precondition,e)&&e.convertToNoDocument(xg.min())}(t,e)}function hv(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ym(o.transform,s||null);null!=a&&(null==n&&(n=rm.empty()),n.set(o.field,a))}return n||null}function fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&_g(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qm&&e instanceof Qm||t instanceof Xm&&e instanceof Xm?_g(t.elements,e.elements,Hg):t instanceof ev&&e instanceof ev?Hg(t.A,e.A):t instanceof $m&&e instanceof $m}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function dv(t){return t.isFoundDocument()?t.version:xg.min()}var pv=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Eu.__extends)(e,t),e}(uv),gv=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Eu.__extends)(e,t),e}(uv);function mv(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function vv(t,e,n){var r=new Map;pg(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Km(s,a,n[i]))}return r}function yv(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Wm(a,u,e))}return r}var _v,wv,bv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Eu.__extends)(e,t),e}(uv),xv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Eu.__extends)(e,t),e}(uv),Tv=function(t){this.count=t};function Cv(t){switch(t){case og.OK:return dg();case og.CANCELLED:case og.UNKNOWN:case og.DEADLINE_EXCEEDED:case og.RESOURCE_EXHAUSTED:case og.INTERNAL:case og.UNAVAILABLE:case og.UNAUTHENTICATED:return!1;case og.INVALID_ARGUMENT:case og.NOT_FOUND:case og.ALREADY_EXISTS:case og.PERMISSION_DENIED:case og.FAILED_PRECONDITION:case og.ABORTED:case og.OUT_OF_RANGE:case og.UNIMPLEMENTED:case og.DATA_LOSS:return!0;default:return dg()}}function Ev(t){if(void 0===t)return lg("GRPC error has no .code"),og.UNKNOWN;switch(t){case _v.OK:return og.OK;case _v.CANCELLED:return og.CANCELLED;case _v.UNKNOWN:return og.UNKNOWN;case _v.DEADLINE_EXCEEDED:return og.DEADLINE_EXCEEDED;case _v.RESOURCE_EXHAUSTED:return og.RESOURCE_EXHAUSTED;case _v.INTERNAL:return og.INTERNAL;case _v.UNAVAILABLE:return og.UNAVAILABLE;case _v.UNAUTHENTICATED:return og.UNAUTHENTICATED;case _v.INVALID_ARGUMENT:return og.INVALID_ARGUMENT;case _v.NOT_FOUND:return og.NOT_FOUND;case _v.ALREADY_EXISTS:return og.ALREADY_EXISTS;case _v.PERMISSION_DENIED:return og.PERMISSION_DENIED;case _v.FAILED_PRECONDITION:return og.FAILED_PRECONDITION;case _v.ABORTED:return og.ABORTED;case _v.OUT_OF_RANGE:return og.OUT_OF_RANGE;case _v.UNIMPLEMENTED:return og.UNIMPLEMENTED;case _v.DATA_LOSS:return og.DATA_LOSS;default:return dg()}}(wv=_v||(_v={}))[wv.OK=0]="OK",wv[wv.CANCELLED=1]="CANCELLED",wv[wv.UNKNOWN=2]="UNKNOWN",wv[wv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wv[wv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wv[wv.NOT_FOUND=5]="NOT_FOUND",wv[wv.ALREADY_EXISTS=6]="ALREADY_EXISTS",wv[wv.PERMISSION_DENIED=7]="PERMISSION_DENIED",wv[wv.UNAUTHENTICATED=16]="UNAUTHENTICATED",wv[wv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wv[wv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wv[wv.ABORTED=10]="ABORTED",wv[wv.OUT_OF_RANGE=11]="OUT_OF_RANGE",wv[wv.UNIMPLEMENTED=12]="UNIMPLEMENTED",wv[wv.INTERNAL=13]="INTERNAL",wv[wv.UNAVAILABLE=14]="UNAVAILABLE",wv[wv.DATA_LOSS=15]="DATA_LOSS";var Sv=function(){function t(t,e){this.comparator=t,this.root=e||Av.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Av.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Av.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Iv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Iv(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Iv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Iv(this.root,t,this.comparator,!0)},t}(),Iv=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Av=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw dg();if(this.right.isRed())throw dg();var t=this.left.check();if(t!==this.right.check())throw dg();return t+(this.isRed()?0:1)},t}();Av.EMPTY=null,Av.RED=!0,Av.BLACK=!1,Av.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw dg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw dg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw dg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw dg()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw dg()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Av(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var kv=function(){function t(t){this.comparator=t,this.data=new Sv(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ov(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ov(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ov=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Nv=new Sv(Bg.comparator);function Pv(){return Nv}var Rv=new Sv(Bg.comparator);function Dv(){return Rv}var Mv=new Sv(Bg.comparator);function Lv(){return Mv}var Fv=new kv(Bg.comparator);function Uv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Fv,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var qv=new kv(yg);function jv(){return qv}var Vv=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Bv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(xg.min(),r,jv(),Pv(),Uv())},t}(),Bv=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ng.EMPTY_BYTE_STRING,n,Uv(),Uv(),Uv())},t}(),Zv=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Hv=function(t,e){this.targetId=t,this.V=e},zv=function(t,e,n,r){void 0===n&&(n=Ng.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gv=function(){function t(){this.S=0,this.D=Yv(),this.C=Ng.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Uv(),e=Uv(),n=Uv();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:dg()}}),new Bv(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Yv()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Wv=function(){function t(t){this.W=t,this.G=new Map,this.H=Pv(),this.J=Kv(),this.Y=new kv(yg)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:dg()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(lm(i))if(0===n){var o=new Bg(i.path);this.tt(e,o,om.newNoDocument(o,xg.min()))}else pg(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&lm(o.target)){var s=new Bg(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,om.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Uv();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Vv(t,n,this.Y,this.H,r);return this.H=Pv(),this.J=Kv(),this.Y=new kv(yg),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Gv,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new kv(yg),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||cg("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Gv),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Kv(){return new Sv(Bg.comparator)}function Yv(){return new Sv(Bg.comparator)}var $v={asc:"ASCENDING",desc:"DESCENDING"},Qv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jv=function(t,e){this.databaseId=t,this.I=e};function Xv(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ty(t,e){return t.I?e.toBase64():e.toUint8Array()}function ey(t,e){return Xv(t,e.toTimestamp())}function ny(t){return pg(!!t),xg.fromTimestamp(function(t){var e=Rg(t);return new bg(e.seconds,e.nanos)}(t))}function ry(t,e){return function(t){return new Ig(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function iy(t){var e=Ig.fromString(t);return pg(Ay(e)),e}function oy(t,e){return ry(t.databaseId,e.path)}function sy(t,e){var n=iy(e);if(n.get(1)!==t.databaseId.projectId)throw new sg(og.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new sg(og.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Bg(ly(n))}function ay(t,e){return ry(t.databaseId,e)}function uy(t){var e=iy(t);return 4===e.length?Ig.emptyPath():ly(e)}function cy(t){return new Ig(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ly(t){return pg(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hy(t,e,n){return{name:oy(t,e),fields:n.value.mapValue.fields}}function fy(t,e,n){var r=sy(t,e.name),i=ny(e.updateTime),o=new rm({mapValue:{fields:e.fields}}),s=om.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function dy(t,e){var n;if(e instanceof pv)n={update:hy(t,e.key,e.value)};else if(e instanceof bv)n={delete:oy(t,e.key)};else if(e instanceof gv)n={update:hy(t,e.key,e.data),updateMask:Iy(e.fieldMask)};else{if(!(e instanceof xv))return dg();n={verify:oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof $m)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qm)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xm)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ev)return{fieldPath:e.field.canonicalString(),increment:n.A};throw dg()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:ey(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:dg()}(t,e.precondition)),n}function py(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sv.updateTime(ny(t.updateTime)):void 0!==t.exists?sv.exists(t.exists):sv.none()}(e.currentDocument):sv.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(pg("REQUEST_TIME"===e.setToServerValue),n=new $m):"appendMissingElements"in e?n=new Qm(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xm(e.removeAllFromArray.values||[]):"increment"in e?n=new ev(t,e.increment):dg();var r=kg.fromServerFormat(e.fieldPath);return new iv(r,n)}(t,e)}):[];if(e.update){var i=sy(t,e.update.name),o=new rm({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Og((t.fieldPaths||[]).map(function(t){return kg.fromServerFormat(t)}))}(e.updateMask);return new gv(i,o,s,n,r)}return new pv(i,o,n,r)}if(e.delete){var a=sy(t,e.delete);return new bv(a,n)}if(e.verify){var u=sy(t,e.verify);return new xv(u,n)}return dg()}function gy(t,e){return{documents:[ay(t,e.path)]}}function my(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ay(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ay(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(tm(t.value))return{unaryFilter:{field:Ty(t.field),op:"IS_NAN"}};if(Xg(t.value))return{unaryFilter:{field:Ty(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(tm(t.value))return{unaryFilter:{field:Ty(t.field),op:"IS_NOT_NAN"}};if(Xg(t.value))return{unaryFilter:{field:Ty(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ty(t.field),op:xy(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ty(t.field),direction:by(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||qg(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=_y(e.startAt)),e.endAt&&(n.structuredQuery.endAt=_y(e.endAt)),n}function vy(t){var e=uy(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pg(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=yy(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new xm(Cy(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return qg(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=wy(n.startAt));var l=null;return n.endAt&&(l=wy(n.endAt)),Im(e,i,a,s,u,"F",c,l)}function yy(t){return t?void 0!==t.unaryFilter?[Sy(t)]:void 0!==t.fieldFilter?[Ey(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return yy(t)}).reduce(function(t,e){return t.concat(e)}):dg():[]}function _y(t){return{before:t.before,values:t.position}}function wy(t){return new wm(t.values||[],!!t.before)}function by(t){return $v[t]}function xy(t){return Qv[t]}function Ty(t){return{fieldPath:t.canonicalString()}}function Cy(t){return kg.fromServerFormat(t.fieldPath)}function Ey(t){return hm.create(Cy(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return dg()}}(t.fieldFilter.op),t.fieldFilter.value)}function Sy(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cy(t.unaryFilter.field);return hm.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cy(t.unaryFilter.field);return hm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cy(t.unaryFilter.field);return hm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cy(t.unaryFilter.field);return hm.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return dg()}}function Iy(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Ay(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ky(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ny(e)),e=Oy(t.get(n),e);return Ny(e)}function Oy(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ny(t){return t+"\x01\x01"}function Py(t){var e=t.length;if(pg(e>=2),2===e)return pg("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ig.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&dg(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:dg()}o=s+2}return new Ig(r)}var Ry=function(t,e){this.seconds=t,this.nanoseconds=e},Dy=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dy.store="owner",Dy.key="owner";var My=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};My.store="mutationQueues",My.keyPath="userId";var Ly=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ly.store="mutations",Ly.keyPath="batchId",Ly.userMutationsIndex="userMutationsIndex",Ly.userMutationsKeyPath=["userId","batchId"];var Fy=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ky(e)]},t.key=function(t,e,n){return[t,ky(e),n]},t}();Fy.store="documentMutations",Fy.PLACEHOLDER=new Fy;var Uy=function(t,e){this.path=t,this.readTime=e},qy=function(t,e){this.path=t,this.version=e},jy=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jy.store="remoteDocuments",jy.readTimeIndex="readTimeIndex",jy.readTimeIndexPath="readTime",jy.collectionReadTimeIndex="collectionReadTimeIndex",jy.collectionReadTimeIndexPath=["parentPath","readTime"];var Vy=function(t){this.byteSize=t};Vy.store="remoteDocumentGlobal",Vy.key="remoteDocumentGlobalKey";var By=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};By.store="targets",By.keyPath="targetId",By.queryTargetsIndexName="queryTargetsIndex",By.queryTargetsKeyPath=["canonicalId","targetId"];var Zy=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Zy.store="targetDocuments",Zy.keyPath=["targetId","path"],Zy.documentTargetsIndex="documentTargetsIndex",Zy.documentTargetsKeyPath=["path","targetId"];var Hy=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Hy.key="targetGlobalKey",Hy.store="targetGlobal";var zy=function(t,e){this.collectionId=t,this.parent=e};zy.store="collectionParents",zy.keyPath=["collectionId","parent"];var Gy=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Gy.store="clientMetadata",Gy.keyPath="clientId";var Wy=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Wy.store="bundles",Wy.keyPath="bundleId";var Ky=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ky.store="namedQueries",Ky.keyPath="name";var Yy=(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],[My.store,Ly.store,Fy.store,jy.store,By.store,Dy.store,Hy.store,Zy.store]),[Gy.store])),[Vy.store])),[zy.store])),[Wy.store,Ky.store]),$y="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qy=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Jy=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xy=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&dg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),t_=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Jy,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new r_(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=u_(e.target.error);n.ft.reject(new r_(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new r_(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(cg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new o_(e)},t}(),e_=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Kl.getUA)())&&lg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return cg("SimpleDb","Removing database:",t),s_(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Kl.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(cg("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new r_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new sg(og.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new r_(t,n))},i.onupgradeneeded=function(t){cg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){cg("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Eu.__generator)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Eu.__generator)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=t_.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Xy.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return cg("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),n_=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return s_(this.Pt.delete())},t}(),r_=function(t){function e(e,n){var r=this;return(r=t.call(this,og.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Eu.__extends)(e,t),e}(sg);function i_(t){return"IndexedDbTransactionError"===t.name}var o_=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(cg("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(cg("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),s_(n)},t.prototype.add=function(t){return cg("SimpleDb","ADD",this.store.name,t,t),s_(this.store.add(t))},t.prototype.get=function(t){var e=this;return s_(this.store.get(t)).next(function(n){return void 0===n&&(n=null),cg("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return cg("SimpleDb","DELETE",this.store.name,t),s_(this.store.delete(t))},t.prototype.count=function(){return cg("SimpleDb","COUNT",this.store.name),s_(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){cg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Xy(function(n,r){e.onerror=function(t){var e=u_(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Xy(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new n_(i),s=e(i.primaryKey,i.value,o);if(s instanceof Xy){var a=s.catch(function(t){return o.done(),Xy.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Xy.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function s_(t){return new Xy(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=u_(t.target.error);n(e)}})}var a_=!1;function u_(t){var e=e_._t((0,Kl.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new sg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return a_||(a_=!0,setTimeout(function(){throw r},0)),r}}return t}var c_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Eu.__extends)(e,t),e}(Qy);function l_(t,e){var n=gg(t);return e_.It(n.Mt,e)}var h_=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&cv(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&lv(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&lv(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xg.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Uv())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_g(this.mutations,t.mutations,function(t,e){return fv(t,e)})&&_g(this.baseMutations,t.baseMutations,function(t,e){return fv(t,e)})},t}(),f_=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){pg(e.mutations.length===r.length);for(var i=Lv(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),d_=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=xg.min()),void 0===o&&(o=xg.min()),void 0===s&&(s=Ng.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),p_=function(t){this.Lt=t};function g_(t,e){if(e.document)return fy(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Bg.fromSegments(e.noDocument.path),r=w_(e.noDocument.readTime),i=om.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Bg.fromSegments(e.unknownDocument.path);return r=w_(e.unknownDocument.version),om.newUnknownDocument(o,r)}return dg()}function m_(t,e,n){var r=v_(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:oy(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Xv(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new jy(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=__(e.version);return s=e.hasCommittedMutations,new jy(null,new Uy(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=__(e.version);return new jy(new qy(c,l),null,null,!0,r,i)}return dg()}function v_(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function y_(t){var e=new bg(t[0],t[1]);return xg.fromTimestamp(e)}function __(t){var e=t.toTimestamp();return new Ry(e.seconds,e.nanoseconds)}function w_(t){var e=new bg(t.seconds,t.nanoseconds);return xg.fromTimestamp(e)}function b_(t,e){for(var n=(e.baseMutations||[]).map(function(e){return py(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return py(t.Lt,e)}),o=bg.fromMillis(e.localWriteTimeMs);return new h_(e.batchId,o,n,i)}function x_(t){var e,n,r=w_(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?w_(t.lastLimboFreeSnapshotVersion):xg.min();return void 0!==t.query.documents?(pg(1===(n=t.query).documents.length),e=Mm(Am(uy(n.documents[0])))):e=function(t){return Mm(vy(t))}(t.query),new d_(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ng.fromBase64String(t.resumeToken))}function T_(t,e){var n,r=__(e.snapshotVersion),i=__(e.lastLimboFreeSnapshotVersion);n=lm(e.target)?gy(t.Lt,e.target):my(t.Lt,e.target);var o=e.resumeToken.toBase64();return new By(e.targetId,um(e.target),r,o,e.sequenceNumber,i,n)}function C_(t){var e=vy({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Lm(e,e.limit,"L"):e}var E_=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return S_(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:w_(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return S_(t).put({bundleId:(n=e).id,createTime:__(ny(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return I_(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:C_(e.bundledQuery),readTime:w_(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return I_(t).put(function(t){return{name:t.name,readTime:__(ny(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function S_(t){return l_(t,Wy.store)}function I_(t){return l_(t,Ky.store)}var A_=function(){function t(){this.Bt=new k_}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Xy.resolve()},t.prototype.getCollectionParents=function(t,e){return Xy.resolve(this.Bt.getEntries(e))},t}(),k_=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new kv(Ig.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new kv(Ig.comparator)).toArray()},t}(),O_=function(){function t(){this.qt=new k_}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:ky(i)};return N_(t).put(o)}return Xy.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[wg(e),""],!1,!0);return N_(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Py(o.parent))}return n})},t}();function N_(t){return l_(t,zy.store)}var P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R_=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function D_(t,e,n){var r=t.store(Ly.store),i=t.store(Fy.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){pg(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Fy.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Xy.waitFor(o).next(function(){return c})}function M_(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dg();e=t.noDocument}return JSON.stringify(e).length}R_.DEFAULT_COLLECTION_PERCENTILE=10,R_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,R_.DEFAULT=new R_(41943040,R_.DEFAULT_COLLECTION_PERCENTILE,R_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),R_.DISABLED=new R_(-1,0,0);var L_=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return pg(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return U_(t).$t({index:Ly.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=q_(t),s=U_(t);return s.add({}).next(function(a){pg("number"==typeof a);for(var u=new h_(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return dy(t.Lt,e)}),i=n.mutations.map(function(e){return dy(t.Lt,e)});return new Ly(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new kv(function(t,e){return yg(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Fy.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Fy.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Xy.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return U_(t).get(e).next(function(t){return t?(pg(t.userId===n.userId),b_(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Xy.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return U_(t).$t({index:Ly.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(pg(e.batchId>=r),o=b_(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return U_(t).$t({index:Ly.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return U_(t).Nt(Ly.userMutationsIndex,n).next(function(t){return t.map(function(t){return b_(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Fy.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return q_(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Py(r[1]);if(a===n.userId&&e.path.isEqual(c))return U_(t).get(u).next(function(t){if(!t)throw dg();pg(t.userId===n.userId),o.push(b_(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kv(yg),i=[];return e.forEach(function(e){var o=Fy.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=q_(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Py(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Xy.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Fy.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new kv(yg);return q_(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Py(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(U_(t).get(e).next(function(t){if(null===t)throw dg();pg(t.userId===n.userId),r.push(b_(n.R,t))}))}),Xy.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return D_(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Xy.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Xy.resolve();var r=IDBKeyRange.lowerBound(Fy.prefixForUser(e.userId)),i=[];return q_(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Py(t[1]);i.push(o)}else r.done()}).next(function(){pg(0===i.length)})})},t.prototype.containsKey=function(t,e){return F_(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return j_(t).get(this.userId).next(function(t){return t||new My(e.userId,-1,"")})},t}();function F_(t,e,n){var r=Fy.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return q_(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function U_(t){return l_(t,Ly.store)}function q_(t){return l_(t,Fy.store)}function j_(t){return l_(t,My.store)}var V_=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),B_=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new V_(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return xg.fromTimestamp(new bg(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Z_(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return pg(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Z_(t).$t(function(s,a){var u=x_(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Xy.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Z_(t).$t(function(t,n){var r=x_(n);e(r)})},t.prototype.Xt=function(t){return H_(t).get(Hy.key).next(function(t){return pg(null!==t),t})},t.prototype.Zt=function(t,e){return H_(t).put(Hy.key,e)},t.prototype.te=function(t,e){return Z_(t).put(T_(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=um(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Z_(t).$t({range:r,index:By.queryTargetsIndexName},function(t,n,r){var o=x_(n);cm(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=z_(t);return e.forEach(function(e){var s=ky(e.path);i.push(o.put(new Zy(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Xy.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=z_(t);return Xy.forEach(e,function(e){var o=ky(e.path);return Xy.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=z_(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=z_(t),i=Uv();return r.$t({range:n,kt:!0},function(t,e,n){var r=Py(t[1]),o=new Bg(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ky(e.path),r=IDBKeyRange.bound([n],[wg(n)],!1,!0),i=0;return z_(t).$t({index:Zy.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Z_(t).get(e).next(function(t){return t?x_(t):null})},t}();function Z_(t){return l_(t,By.store)}function H_(t){return l_(t,Hy.store)}function z_(t){return l_(t,Zy.store)}function G_(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){if(t.code!==og.FAILED_PRECONDITION||t.message!==$y)throw t;return cg("LocalStore","Unexpectedly lost primary lease"),[2]})})}function W_(t,e){var n=t[1],r=e[1],i=yg(t[0],e[0]);return 0===i?yg(n,r):i}var K_=function(){function t(t){this.ne=t,this.buffer=new kv(W_),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();W_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Y_=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;cg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return i_(e=n.sent())?(cg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,G_(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),$_=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Xy.resolve(ig.o);var r=new K_(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(cg("LruGarbageCollector","Garbage collection skipped; disabled"),Xy.resolve(P_)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(cg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),P_):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(cg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),ug()<=Yl.LogLevel.DEBUG&&cg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Xy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Q_=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new $_(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return J_(t,n)},t.prototype.removeReference=function(t,e,n){return J_(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return J_(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return j_(t).Ot(function(r){return F_(t,r,e).next(function(t){return t&&(n=!0),Xy.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),z_(t).delete([0,ky(s.path)])})});i.push(u)}}).next(function(){return Xy.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return J_(t,e)},t.prototype.we=function(t,e){var n,r=z_(t),i=ig.o;return r.$t({index:Zy.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ig.o&&e(new Bg(Py(n)),i),i=s,n=o):i=ig.o}).next(function(){i!==ig.o&&e(new Bg(Py(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function J_(t,e){return z_(t).put(function(t,e){return new Zy(0,ky(t.path),e)}(e,t.currentSequenceNumber))}var X_=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Cg(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Eg(this.inner)},t}(),tw=function(){function t(){this.changes=new X_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:xg.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:om.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Xy.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ew=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return iw(t).put(ow(e),n)},t.prototype.removeEntry=function(t,e){var n=iw(t),r=ow(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return iw(t).get(ow(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return iw(t).get(ow(e)).next(function(t){return{document:n.ye(e,t),size:M_(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Pv();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Pv(),i=new Sv(Bg.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,M_(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Xy.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return iw(t).$t({range:r},function(t,e,r){for(var s=Bg.fromSegments(t);o&&Bg.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Pv(),o=e.path.length+1,s={};if(n.isEqual(xg.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=v_(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=jy.collectionReadTimeIndex}return iw(t).$t(s,function(t,n,s){if(t.length===o){var a=g_(r.R,n);e.path.isPrefixOf(a.key.path)?jm(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new nw(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return rw(t).get(Vy.key).next(function(t){return pg(!!t),t})},t.prototype.me=function(t,e){return rw(t).put(Vy.key,e)},t.prototype.ye=function(t,e){if(e){var n=g_(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(xg.min()))return n}return om.newInvalidDocument(t)},t}(),nw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new X_(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Eu.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new kv(function(t,e){return yg(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=m_(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=M_(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=m_(e.Ie.R,om.newNoDocument(o,xg.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Xy.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(tw);function rw(t){return l_(t,Vy.store)}function iw(t){return l_(t,jy.store)}function ow(t){return t.path.toArray()}var sw=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;pg(n<r&&n>=0&&r<=11);var o=new t_("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Dy.store)}(t),function(t){t.createObjectStore(My.store,{keyPath:My.keyPath}),t.createObjectStore(Ly.store,{keyPath:Ly.keyPath,autoIncrement:!0}).createIndex(Ly.userMutationsIndex,Ly.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Fy.store)}(t),aw(t),function(t){t.createObjectStore(jy.store)}(t));var s=Xy.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zy.store),t.deleteObjectStore(By.store),t.deleteObjectStore(Hy.store)}(t),aw(t)),s=s.next(function(){return function(t){var e=t.store(Hy.store),n=new Hy(0,0,xg.min().toTimestamp(),0);return e.put(Hy.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Ly.store).Nt().next(function(n){t.deleteObjectStore(Ly.store),t.createObjectStore(Ly.store,{keyPath:Ly.keyPath,autoIncrement:!0}).createIndex(Ly.userMutationsIndex,Ly.userMutationsKeyPath,{unique:!0});var r=e.store(Ly.store),i=n.map(function(t){return r.put(t)});return Xy.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Gy.store,{keyPath:Gy.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Vy.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jy.store);e.createIndex(jy.readTimeIndex,jy.readTimeIndexPath,{unique:!1}),e.createIndex(jy.collectionReadTimeIndex,jy.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Wy.store,{keyPath:Wy.keyPath})}(t),function(t){t.createObjectStore(Ky.store,{keyPath:Ky.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(jy.store).$t(function(t,n){e+=M_(n)}).next(function(){var n=new Vy(e);return t.store(Vy.store).put(Vy.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(My.store),r=t.store(Ly.store);return n.Nt().next(function(n){return Xy.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ly.userMutationsIndex,i).next(function(r){return Xy.forEach(r,function(r){pg(r.userId===n.userId);var i=b_(e.R,r);return D_(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Zy.store),n=t.store(jy.store);return t.store(Hy.store).get(Hy.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ig(n),s=function(t){return[0,ky(t)]}(o);r.push(e.get(s).next(function(n){return n?Xy.resolve():function(n){return e.put(new Zy(0,ky(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Xy.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(zy.store,{keyPath:zy.keyPath});var n=e.store(zy.store),r=new k_,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ky(i)})}};return e.store(jy.store).$t({kt:!0},function(t,e){var n=new Ig(t);return i(n.popLast())}).next(function(){return e.store(Fy.store).$t({kt:!0},function(t,e){var n=Py(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(By.store);return n.$t(function(t,r){var i=x_(r),o=T_(e.R,i);return n.put(o)})},t}();function aw(t){t.createObjectStore(Zy.store,{keyPath:Zy.keyPath}).createIndex(Zy.documentTargetsIndex,Zy.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(By.store,{keyPath:By.keyPath}).createIndex(By.queryTargetsIndexName,By.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hy.store)}var uw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cw=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new sg(og.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Q_(this,i),this.Le=n+"main",this.R=new p_(u),this.Be=new e_(this.Le,11,new sw(this.R)),this.qe=new B_(this.referenceDelegate,this.R),this.Ut=new O_,this.Ue=function(t,e){return new ew(t,e)}(this.R,this.Ut),this.Ke=new E_,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&lg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new sg(og.FAILED_PRECONDITION,uw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ig(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Eu.__awaiter)(e,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Eu.__awaiter)(e,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return hw(e).put(new Gy(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(i_(e))return cg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return cg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return lw(t).get(Dy.key).next(function(t){return Xy.resolve(e.tn(t))})},t.prototype.en=function(t){return hw(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=l_(t,Gy.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Xy.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Xy.resolve(!0):lw(t).get(Dy.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new sg(og.FAILED_PRECONDITION,uw);return!1}}return!(!e.networkEnabled||!e.inForeground)||hw(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&cg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Dy.store,Gy.store],function(e){var n=new c_(e,ig.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return hw(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return L_.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return cg("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Yy,function(o){return r=new c_(o,i.Ne?i.Ne.next():ig.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw lg("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new sg(og.FAILED_PRECONDITION,$y);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return lw(t).get(Dy.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new sg(og.FAILED_PRECONDITION,uw)})},t.prototype.Ze=function(t){var e=new Dy(this.clientId,this.allowTabSynchronization,Date.now());return lw(t).put(Dy.key,e)},t.yt=function(){return e_.yt()},t.prototype.Xe=function(t){var e=this,n=lw(t);return n.get(Dy.key).next(function(t){return e.tn(t)?(cg("IndexedDbPersistence","Releasing primary lease."),n.delete(Dy.key)):Xy.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(lg("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Kl.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return cg("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return lg("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){lg("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function lw(t){return l_(t,Dy.store)}function hw(t){return l_(t,Gy.store)}function fw(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var dw=function(t,e){this.progress=t,this.wn=e},pw=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Bg.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Rm(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Bg(e)).next(function(t){var e=Dv();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Dv();return this.Ut.getCollectionParents(t,i).next(function(s){return Xy.forEach(s,function(s){var a=function(t,e){return new Sm(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=om.newInvalidDocument(c),r=r.insert(c,l)),lv(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){jm(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Uv(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof gv&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),gw=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Uv(),i=Uv(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),mw=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(xg.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(km(e)||Om(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(ug()<=Yl.LogLevel.DEBUG&&cg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qm(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new kv(Vm(t));return e.forEach(function(e,r){jm(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ug()<=Yl.LogLevel.DEBUG&&cg("QueryEngine","Using full collection scan to execute query:",qm(e)),this.Sn.getDocumentsMatchingQuery(t,e,xg.min())},t}(),vw=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Sv(yg),this.kn=new X_(function(t){return um(t)},cm),this.$n=xg.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new pw(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function yw(t,e,n,r){return new vw(t,e,n,r)}function _w(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return n=gg(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new pw(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Uv(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ww(t,e){var n=gg(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Xy.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);pg(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function bw(t){var e=gg(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function xw(t,e){var n=gg(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return pg(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Pv();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Tw(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(xg.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Xy.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Tw(t,e,n,r,i){var o=Uv();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Pv();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(xg.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):cg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Cw(t,e){var n=gg(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Ew(t,e){var n=gg(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Xy.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new d_(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Sw(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:r=gg(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!i_(s=a.sent()))throw s;return cg("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Iw(t,e,n){var r=gg(t),i=xg.min(),o=Uv();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=gg(t),i=r.kn.get(n);return void 0!==i?Xy.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Mm(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:xg.min(),n?o:Uv())}).next(function(t){return{documents:t,Bn:o}})})}function Aw(t,e){var n=gg(t),r=gg(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function kw(t){var e=gg(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=gg(t),i=Pv(),o=v_(n),s=iw(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:jy.readTimeIndex,range:a},function(t,e){var n=g_(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:y_(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Ow(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){return[2,(e=gg(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=iw(t),n=xg.min();return e.$t({index:jy.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=y_(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Nw(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,Eu.__generator)(this,function(p){switch(p.label){case 0:for(i=gg(t),o=Uv(),s=Pv(),a=Lv(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Ew(i,function(t){return Mm(Am(Ig.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Tw(t,f,s,xg.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Pw(t,e,n){return void 0===n&&(n=Uv()),(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return[4,Ew(t,Mm(C_(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=gg(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=ny(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(Ng.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var Rw=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Xy.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ny(n.createTime)}),Xy.resolve()},t.prototype.getNamedQuery=function(t,e){return Xy.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:C_(t.bundledQuery),readTime:ny(t.readTime)}}(e)),Xy.resolve()},t}(),Dw=function(){function t(){this.Wn=new kv(Mw.Gn),this.zn=new kv(Mw.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Mw(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Mw(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Bg(new Ig([])),r=new Mw(n,t),i=new Mw(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Bg(new Ig([])),n=new Mw(e,t),r=new Mw(e,t+1),i=Uv();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Mw(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Mw=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Bg.comparator(t.key,e.key)||yg(t.ns,e.ns)},t.Hn=function(t,e){return yg(t.ns,e.ns)||Bg.comparator(t.key,e.key)},t}(),Lw=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new kv(Mw.Gn)}return t.prototype.checkEmpty=function(t){return Xy.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new h_(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Mw(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Xy.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Xy.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Xy.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Xy.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Xy.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Mw(e,0),i=new Mw(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Xy.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new kv(yg);return e.forEach(function(t){var e=new Mw(t,0),i=new Mw(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Xy.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Bg.isDocumentKey(i)||(i=i.child(""));var o=new Mw(new Bg(i),0),s=new kv(yg);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Xy.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;pg(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Xy.forEach(e.mutations,function(i){var o=new Mw(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Mw(e,0),r=this.rs.firstAfterOrEqual(n);return Xy.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Xy.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Fw=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Sv(Bg.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Xy.resolve(n?n.document.clone():om.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Pv();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():om.newInvalidDocument(t))}),Xy.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Pv(),i=new Bg(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||jm(e,u)&&(r=r.insert(u.key,u.clone()))}return Xy.resolve(r)},t.prototype.fs=function(t,e){return Xy.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Uw(this)},t.prototype.getSize=function(t){return Xy.resolve(this.size)},t}(),Uw=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Eu.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Xy.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(tw),qw=function(){function t(t){this.persistence=t,this.ds=new X_(function(t){return um(t)},cm),this.lastRemoteSnapshotVersion=xg.min(),this.highestTargetId=0,this.ws=0,this._s=new Dw,this.targetCount=0,this.ys=V_.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Xy.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Xy.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Xy.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Xy.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Xy.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new V_(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Xy.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Xy.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Xy.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Xy.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Xy.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Xy.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Xy.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Xy.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Xy.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Xy.resolve(n)},t.prototype.containsKey=function(t,e){return Xy.resolve(this._s.containsKey(e))},t}(),jw=function(){function t(t,e){var n=this;this.gs={},this.Ne=new ig(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new qw(this),this.Ut=new A_,this.Ue=function(t,e){return new Fw(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new p_(e),this.Ke=new Rw(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Lw(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;cg("MemoryPersistence","Starting transaction:",t);var i=new Vw(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Xy.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Vw=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Eu.__extends)(e,t),e}(Qy),Bw=function(){function t(t){this.persistence=t,this.As=new Dw,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw dg()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Xy.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Xy.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Xy.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xy.forEach(this.vs,function(r){var i=Bg.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Xy.or([function(){return Xy.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Zw=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Hw(t,e){return"firestore_clients_"+t+"_"+e}function zw(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Gw(t,e){return"firestore_targets_"+t+"_"+e}Zw.UNAUTHENTICATED=new Zw(null),Zw.GOOGLE_CREDENTIALS=new Zw("google-credentials-uid"),Zw.FIRST_PARTY=new Zw("first-party-uid");var Ww=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new sg(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(lg("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kw=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new sg(i.error.code,i.error.message)),o?new t(e,i.state,r):(lg("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yw=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jv(),s=0;i&&s<r.activeTargetIds.length;++s)i=Vg(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(lg("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$w=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(lg("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qw=function(){function t(){this.activeTargetIds=jv()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jw=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Sv(yg),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Hw(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Qw),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Eu.__generator)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Hw(this.persistenceKey,r)))&&(o=Yw.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Gw(this.persistenceKey,t));if(n){var r=Kw.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Gw(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return cg("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){cg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){cg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(cg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void lg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Eu.__generator)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=ig.o;if(null!=t)try{var n=JSON.parse(t);pg("number"==typeof n),e=n}catch(t){lg("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ig.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Ww(this.currentUser,t,e,n),i=zw(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=zw(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Gw(this.persistenceKey,t),i=new Kw(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Yw.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Ww.Vs(new Zw(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Kw.Vs(r,e)},t.prototype.js=function(t){return $w.Vs(t)},t.prototype.ii=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(cg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=jv();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Xw=function(){function t(){this.li=new Qw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Qw,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),tb=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),eb=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){cg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){cg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rb=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),ib=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Eu.__extends)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new rg;s.listenOnce(Xp.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Jp.NO_ERROR:var e=s.getResponseJson();cg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Jp.TIMEOUT:cg("Connection",'RPC "'+t+'" timed out'),o(new sg(og.DEADLINE_EXCEEDED,"Request time out"));break;case Jp.HTTP_ERROR:var n=s.getStatus();if(cg("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(og).indexOf(e)>=0?e:og.UNKNOWN}(r.status);o(new sg(a,r.message))}else o(new sg(og.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new sg(og.UNAVAILABLE,"Connection failed."));break;default:dg()}}finally{cg("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wp,i=Vf(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new eg({})),this.Fi(o.initMessageHeaders,e),(0,Kl.isMobileCordova)()||(0,Kl.isReactNative)()||(0,Kl.isElectron)()||(0,Kl.isIE)()||(0,Kl.isUWP)()||(0,Kl.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");cg("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new rb({Ei:function(t){c?cg("Connection","Not sending because WebChannel is closed:",t):(u||(cg("Connection","Opening WebChannel transport."),a.open(),u=!0),cg("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ng.EventType.OPEN,function(){c||cg("Connection","WebChannel transport opened.")}),h(a,ng.EventType.CLOSE,function(){c||(c=!0,cg("Connection","WebChannel transport closed"),l.Vi())}),h(a,ng.EventType.ERROR,function(t){c||(c=!0,hg("Connection","WebChannel transport errored:",t),l.Vi(new sg(og.UNAVAILABLE,"The operation could not be completed")))}),h(a,ng.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];pg(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){cg("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=_v[t];if(void 0!==e)return Ev(e)}(i),s=r.message;void 0===o&&(o=og.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new sg(o,s)),a.close()}else cg("Connection","WebChannel received:",n),l.Si(n)}}),h(i,tg.STAT_EVENT,function(t){10===t.stat?cg("Connection","Detected buffering proxy"):11===t.stat&&cg("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);cg("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return cg("RestConnection","Received: ",t),t},function(e){throw hg("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+nb[t]},t}());function ob(){return"undefined"!=typeof window?window:null}function sb(){return"undefined"!=typeof document?document:null}function ab(t){return new Jv(t,!0)}var ub=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&cg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),cb=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ub(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===og.RESOURCE_EXHAUSTED?(lg(e.toString()),lg("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===og.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new sg(og.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Eu.__awaiter)(t,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return cg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(cg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),lb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Eu.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:dg()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(pg(void 0===e||"string"==typeof e),Ng.fromBase64String(e||"")):(pg(void 0===e||e instanceof Uint8Array),Ng.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?og.UNKNOWN:Ev(t.code);return new sg(e,t.message||"")}(a);n=new zv(r,i,o,s||null)}else if("documentChange"in e){i=sy(t,(r=e.documentChange).document.name),o=ny(r.document.updateTime);var a=new rm({mapValue:{fields:r.document.fields}}),u=(s=om.newFoundDocument(i,o,a),r.targetIds||[]);n=new Zv(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=sy(t,(r=e.documentDelete).document),o=r.readTime?ny(r.readTime):xg.min(),a=om.newNoDocument(i,o),n=new Zv([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=sy(t,(r=e.documentRemove).document),n=new Zv([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return dg();var c=e.filter;i=new Tv(r=c.count||0),n=new Hv(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return xg.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xg.min():e.readTime?ny(e.readTime):xg.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=cy(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=lm(r)?{documents:gy(t,r)}:{query:my(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ty(t,e.resumeToken):e.snapshotVersion.compareTo(xg.min())>0&&(n.readTime=Xv(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dg()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=cy(this.R),e.removeTarget=t,this.cr(e)},e}(cb),hb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Eu.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(pg(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(pg(void 0!==e),t.map(function(t){return function(t,e){var n=ny(t.updateTime?t.updateTime:e);return n.isEqual(xg.min())&&(n=ny(e)),new ov(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=ny(t.commitTime);return this.listener.Tr(n,e)}return pg(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=cy(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return dy(e.R,t)})};this.cr(n)},e}(cb),fb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Eu.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new sg(og.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===og.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new sg(og.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===og.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new sg(og.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),db=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(lg(e),this.Vr=!1):cg("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),pb=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Eu.__awaiter)(o,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return Tb(this)?(cg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return(e=gg(t)).Or.add(4),[4,mb(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,gb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new db(n,r)};function gb(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:if(!Tb(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function mb(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function vb(t,e){var n=gg(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),xb(n)?bb(n):Ub(n).er()&&_b(n,e))}function yb(t,e){var n=gg(t),r=Ub(n);n.$r.delete(e),r.er()&&wb(n,e),0===n.$r.size&&(r.er()?r.ir():Tb(n)&&n.Br.set("Unknown"))}function _b(t,e){t.qr.U(e.targetId),Ub(t).mr(e)}function wb(t,e){t.qr.U(e),Ub(t).yr(e)}function bb(t){t.qr=new Wv({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Ub(t).start(),t.Br.Sr()}function xb(t){return Tb(t)&&!Ub(t).tr()&&t.$r.size>0}function Tb(t){return 0===gg(t).Or.size}function Cb(t){t.qr=void 0}function Eb(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){return t.$r.forEach(function(e,n){_b(t,e)}),[2]})})}function Sb(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(n){return Cb(t),xb(t)?(t.Br.Nr(e),bb(t)):t.Br.set("Unknown"),[2]})})}function Ib(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof zv&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),cg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ab(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Zv?t.qr.X(e):e instanceof Hv?t.qr.rt(e):t.qr.et(e),n.isEqual(xg.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bw(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Ng.EMPTY_BYTE_STRING,n.snapshotVersion)),wb(t,e);var r=new d_(n.target,e,1,n.sequenceNumber);_b(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return cg("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Ab(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Ab(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:if(!i_(e))throw e;return t.Or.add(1),[4,mb(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return bw(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Eu.__awaiter)(r,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return cg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,gb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function kb(t,e){return e().catch(function(n){return Ab(t,n,e)})}function Ob(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:e=gg(t),n=qb(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Tb(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Cw(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=qb(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Ab(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Nb(e)&&Pb(e),[2]}})})}function Nb(t){return Tb(t)&&!qb(t).tr()&&t.kr.length>0}function Pb(t){qb(t).start()}function Rb(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){return qb(t).Ar(),[2]})})}function Db(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Eu.__generator)(this,function(i){for(e=qb(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Mb(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=f_.from(r,e,n),[4,kb(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Ob(t)];case 2:return o.sent(),[2]}})})}function Lb(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e&&qb(t).pr?[4,function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return Cv(r=e.code)&&r!==og.ABORTED?(n=t.kr.shift(),qb(t).sr(),[4,kb(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Ob(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Nb(t)&&Pb(t),[2]}})})}function Fb(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return n=gg(t),e?(n.Or.delete(2),[4,gb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,mb(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ub(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=gg(t);return r.br(),new lb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Eb.bind(null,t),Ri:Sb.bind(null,t),_r:Ib.bind(null,t)}),t.Mr.push(function(n){return(0,Eu.__awaiter)(e,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),xb(t)?bb(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Cb(t),e.label=3;case 3:return[2]}})})})),t.Ur}function qb(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=gg(t);return r.br(),new hb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Rb.bind(null,t),Ri:Lb.bind(null,t),Ir:Db.bind(null,t),Tr:Mb.bind(null,t)}),t.Mr.push(function(n){return(0,Eu.__awaiter)(e,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Ob(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(cg("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var jb=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Jy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sg(og.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Vb(t,e){if(lg("AsyncQueue",e+": "+t),i_(t))return new sg(og.UNAVAILABLE,e+": "+t);throw t}var Bb=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Bg.comparator(e.key,n.key)}:function(t,e){return Bg.comparator(t.key,e.key)},this.keyedMap=Dv(),this.sortedSet=new Sv(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Zb=function(){function t(){this.Qr=new Sv(Bg.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):dg():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Hb=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Bb.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),zb=function(){this.Wr=void 0,this.listeners=[]},Gb=function(){this.queries=new X_(function(t){return Um(t)},Fm),this.onlineState="Unknown",this.Gr=new Set};function Wb(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Eu.__generator)(this,function(c){switch(c.label){case 0:if(n=gg(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new zb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Vb(a,"Initialization of query '"+qm(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Qb(n),[2]}})})}function Kb(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Eu.__generator)(this,function(a){return n=gg(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Yb(t,e){for(var n=gg(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Qb(n)}function $b(t,e,n){var r=gg(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Qb(t){t.Gr.forEach(function(t){t.next()})}var Jb=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Hb(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Hb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Xb=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),tx=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return sy(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?fy(this.R,t.document,!1):om.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ny(t)},t}(),ex=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=nx(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new tx(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Uv()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return[4,Nw(this.localStore,new tx(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Pw(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new dw(Object.assign({},this.progress),t))]}})})},t}();function nx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var rx=function(t){this.key=t},ix=function(t){this.key=t},ox=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Uv(),this.mutatedKeys=Uv(),this.lo=Vm(t),this.fo=new Bb(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Zb,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=km(this.query)&&i.size===this.query.limit?i.last():null,c=Om(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=jm(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),km(this.query)||Om(this.query))for(;s.size>this.query.limit;){var l=km(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dg()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Hb(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Zb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Uv(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new ix(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new rx(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Uv();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Hb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),sx=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ax=function(t){this.key=t,this.bo=!1},ux=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new X_(function(t){return Um(t)},Fm),this.Vo=new Map,this.So=new Set,this.Do=new Sv(Bg.comparator),this.Co=new Map,this.No=new Dw,this.xo={},this.Fo=new Map,this.ko=V_.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function cx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return n=Ux(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Ew(n.localStore,Mm(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,lx(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&vb(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function lx(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Eu.__generator)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Iw(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Tx(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,Iw(t.localStore,e,!0)];case 1:return i=l.sent(),o=new ox(e,i.Bn),s=o._o(i.documents),a=Bv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),Tx(t,n,u.To),c=new sx(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function hx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return n=gg(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Fm(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Sw(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),yb(n.remoteStore,r.targetId),bx(n,r.targetId)}).catch(G_)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return bx(n,r.targetId),[4,Sw(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function fx(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:r=qx(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=gg(t),i=bg.now(),o=e.reduce(function(t,e){return t.add(e.key)},Uv());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=hv(c,n.get(c.key));null!=l&&s.push(new gv(c.key,l,im(l.value.mapValue),sv.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Sv(yg)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Sx(r,i.changes)];case 3:return a.sent(),[4,Ob(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Vb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function dx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:n=gg(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xw(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(pg(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?pg(r.bo):t.removedDocuments.size>0&&(pg(r.bo),r.bo=!1))}),[4,Sx(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,G_(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function px(t,e,n){var r=gg(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=gg(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Qb(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gx(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Eu.__generator)(this,function(c){switch(c.label){case 0:return(r=gg(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Sv(Bg.comparator)).insert(o,om.newNoDocument(o,xg.min())),a=Uv().add(o),u=new Vv(xg.min(),new Map,new kv(yg),s,a),[4,dx(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Ex(r),[3,4];case 2:return[4,Sw(r.localStore,e,!1).then(function(){return bx(r,e,n)}).catch(G_)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function mx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:n=gg(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ww(n.localStore,e)];case 2:return i=o.sent(),wx(n,r,null),_x(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Sx(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,G_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function vx(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:r=gg(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=gg(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return pg(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),wx(r,e,n),_x(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Sx(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,G_(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function yx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:Tb((n=gg(t)).remoteStore)||cg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=gg(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Vb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function _x(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function wx(t,e,n){var r=gg(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function bx(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||xx(t,e)})}function xx(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(yb(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ex(t))}function Tx(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof rx?(t.No.addReference(o.key,e),Cx(t,o)):o instanceof ix?(cg("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||xx(t,o.key)):dg()}}function Cx(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(cg("SyncEngine","New document in limbo: "+n),t.So.add(r),Ex(t))}function Ex(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Bg(Ig.fromString(e)),r=t.ko.next();t.Co.set(r,new ax(n)),t.Do=t.Do.insert(n,r),vb(t.remoteStore,new d_(Mm(Am(n.path)),r,2,ig.o))}}function Sx(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return r=gg(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=gw.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Eu.__generator)(this,function(l){switch(l.label){case 0:n=gg(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Xy.forEach(e,function(e){return Xy.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Xy.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!i_(r=l.sent()))throw r;return cg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Ix(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return(n=gg(t)).currentUser.isEqual(e)?[3,3]:(cg("SyncEngine","User change. New user:",e.toKey()),[4,_w(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new sg(og.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Sx(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ax(t,e){var n=gg(t),r=n.Co.get(e);if(r&&r.bo)return Uv().add(r.key);var i=Uv(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function kx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return[4,Iw((n=gg(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Tx(n,e.targetId,i.To),i)]}})})}function Ox(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){return[2,kw((e=gg(t)).localStore).then(function(t){return Sx(e,t)})]})})}function Nx(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=gg(t),r=gg(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Xy.resolve(null)})})}((i=gg(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ob(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(wx(i,e,r||null),_x(i,e),function(t,e){gg(gg(t)._n).Gt(e)}(i.localStore,e)):dg(),s.label=4;case 4:return[4,Sx(i,o)];case 5:return s.sent(),[3,7];case 6:cg("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Px(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Eu.__generator)(this,function(c){switch(c.label){case 0:return Ux(n=gg(t)),qx(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Rx(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Fb(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)vb(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return bx(n,e),Sw(n.localStore,e,!0)}),yb(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Rx(n,a)];case 5:return c.sent(),function(t){var e=gg(t);e.Co.forEach(function(t,n){yb(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Sv(Bg.comparator)}(n),n.$o=!1,[4,Fb(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Rx(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,Eu.__generator)(this,function(g){switch(g.label){case 0:n=gg(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Ew(n.localStore,Mm(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,kx(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Aw(n.localStore,a)];case 8:return p=g.sent(),[4,Ew(n.localStore,p)];case 9:return u=g.sent(),[4,lx(n,Dx(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Dx(t){return Im(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Mx(t){var e=gg(t);return gg(gg(e.localStore).persistence).fn()}function Lx(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return(i=gg(t)).$o?(cg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kw(i.localStore)];case 3:return o=a.sent(),s=Vv.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Sx(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Sw(i.localStore,e,!0)];case 6:return a.sent(),bx(i,e,r),[3,8];case 7:dg(),a.label=8;case 8:return[2]}})})}function Fx(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Eu.__generator)(this,function(f){switch(f.label){case 0:if(!(r=Ux(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(cg("SyncEngine","Adding an already active target "+s),[3,5]):[4,Aw(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,Ew(r.localStore,a)];case 3:return u=f.sent(),[4,lx(r,Dx(a),u.targetId,!1)];case 4:f.sent(),vb(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Sw(r.localStore,t,!1).then(function(){yb(r.remoteStore,t),bx(r,t)}).catch(G_)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ux(t){var e=gg(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gx.bind(null,e),e.vo._r=Yb.bind(null,e.eventManager),e.vo.Mo=$b.bind(null,e.eventManager),e}function qx(t){var e=gg(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vx.bind(null,e),e}function jx(t,e,n){var r=gg(t);(function(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Eu.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=gg(t),r=ny(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(nx(r)),i=new ex(r,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=c.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=c.sent(),[4,Sx(t,a.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=gg(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return c.sent(),n._completeWith(a.progress),[3,15];case 14:return hg("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Vx=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return this.R=ab(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return yw(this.persistence,new mw,t.initialUser,this.R)},t.prototype.qo=function(t){return new jw(Bw.bs,this.R)},t.prototype.Bo=function(t){return new Xw},t.prototype.terminate=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Bx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Eu.__extends)(e,t),e.prototype.initialize=function(e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ow(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,qx(this.Qo.syncEngine)];case 4:return n.sent(),[4,Ob(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return yw(this.persistence,new mw,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Y_(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=fw(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?R_.withCacheSize(this.cacheSizeBytes):R_.DEFAULT;return new cw(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ob(),sb(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Xw},e}(Vx),Zx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Eu.__extends)(e,t),e.prototype.initialize=function(e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Jw?(this.sharedClientState.syncEngine={ui:Nx.bind(null,n),ai:Lx.bind(null,n),hi:Fx.bind(null,n),fn:Mx.bind(null,n),ci:Ox.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Eu.__awaiter)(r,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return[4,Px(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=ob();if(!Jw.yt(e))throw new sg(og.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fw(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Jw(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Bx),Hx=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return px(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ix.bind(null,this.syncEngine),[4,Fb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Gb},t.prototype.createDatastore=function(t){var e=ab(t.databaseInfo.databaseId),n=new ib(t.databaseInfo);return function(t,e,n){return new fb(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return px(s.syncEngine,t,0)},o=eb.yt()?new eb:new tb,new pb(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new ux(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e=gg(t),cg("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,mb(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function zx(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r;return(0,Eu.__generator)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Gx=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Wx=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Jy,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Xb(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),Kx=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new sg(og.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return n=gg(t),r=cy(n.R)+"/documents",i={documents:e.map(function(t){return oy(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){pg(!!e.found);var n=sy(t,e.found.name),r=ny(e.found.updateTime),i=new rm({mapValue:{fields:e.found.fields}});return om.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){pg(!!e.missing),pg(!!e.readTime);var n=sy(t,e.missing),r=ny(e.readTime);return om.newNoDocument(n,r)}(t,e):dg()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());pg(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new bv(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Bg.fromPath(n);e.mutations.push(new xv(r,e.precondition(r)))}),[4,function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return n=gg(t),r=cy(n.R)+"/documents",i={writes:e.map(function(t){return dy(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dg();e=xg.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new sg(og.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?sv.updateTime(e):sv.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xg.min()))throw new sg(og.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sv.updateTime(e)}return sv.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),Yx=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ub(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Eu.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return(0,Eu.__generator)(this,function(r){return t=new Kx(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!qg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Cv(e)}return!1},t}(),$x=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Zw.UNAUTHENTICATED,this.clientId=vg.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Eu.__awaiter)(r,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return cg("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new sg(og.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Jy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Eu.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Vb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Qx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),cg("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Eu.__awaiter)(i,void 0,void 0,function(){return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,_w(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Jx(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Xx(t)];case 1:return n=i.sent(),cg("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return(n=gg(t)).asyncQueue.verifyOperationInProgress(),cg("RemoteStore","RemoteStore received new credentials"),r=Tb(n),n.Or.add(3),[4,mb(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,gb(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Xx(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(cg("FirestoreClient","Using default OfflineComponentProvider"),[4,Qx(t,new Vx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function tT(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(cg("FirestoreClient","Using default OnlineComponentProvider"),[4,Jx(t,new Hx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function eT(t){return Xx(t).then(function(t){return t.persistence})}function nT(t){return Xx(t).then(function(t){return t.localStore})}function rT(t){return tT(t).then(function(t){return t.remoteStore})}function iT(t){return tT(t).then(function(t){return t.syncEngine})}function oT(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,tT(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=cx.bind(null,e.syncEngine),n.onUnlisten=hx.bind(null,e.syncEngine),n)]}})})}function sT(t,e,n){var r=this;void 0===n&&(n={});var i=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(r,void 0,void 0,function(){var r;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Gx({next:function(o){e.enqueueAndForget(function(){return Kb(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new sg(og.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new sg(og.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Jb(Am(n.path),o,{includeMetadataChanges:!0,so:!0});return Wb(t,s)},[4,oT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function aT(t,e,n){var r=this;void 0===n&&(n={});var i=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(r,void 0,void 0,function(){var r;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Gx({next:function(n){e.enqueueAndForget(function(){return Kb(t,s)}),n.fromCache&&"server"===r.source?i.reject(new sg(og.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Jb(n,o,{includeMetadataChanges:!0,so:!0});return Wb(t,s)},[4,oT(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var uT=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},cT=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),lT=new Map,hT=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},fT=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Zw.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),dT=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),pT=function(){function t(t){var e=this;this.currentUser=Zw.UNAUTHENTICATED,this.oc=new Jy,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){cg("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(cg("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(cg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(pg("string"==typeof n.accessToken),new hT(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return pg(null===t||"string"==typeof t),new Zw(t)},t}(),gT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Zw.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),mT=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new gT(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Zw.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function vT(t,e,n){if(!n)throw new sg(og.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function yT(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new sg(og.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _T(t,e,n,r){if(!0===e&&!0===r)throw new sg(og.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function wT(t){if(!Bg.isDocumentKey(t))throw new sg(og.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function bT(t){if(Bg.isDocumentKey(t))throw new sg(og.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function xT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":dg()}function TT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new sg(og.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xT(t);throw new sg(og.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function CT(t,e){if(e<=0)throw new sg(og.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var ET=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new sg(og.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new sg(og.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_T("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ST=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,t instanceof cT?(this._databaseId=t,this._credentials=new fT):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new sg(og.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cT(t.options.projectId)}(t),this._credentials=new pT(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new sg(og.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new sg(og.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new fT;switch(t.type){case"gapi":var e=t.client;return pg(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new mT(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new sg(og.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=lT.get(this))&&(cg("ComponentProvider","Removing Datastore"),lT.delete(this),t.terminate()),Promise.resolve();var t},t}(),IT=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kT(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),AT=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),kT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Am(r))||this)._path=r,i.type="collection",i}return(0,Eu.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new IT(this.firestore,null,new Bg(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(AT);function OT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Kl.getModularInstance)(t),vT("collection","path",e),t instanceof ST)return bT(n=Ig.fromString.apply(Ig,(0,Eu.__spreadArray)([e],r))),new kT(t,null,n);if(!(t instanceof IT||t instanceof kT))throw new sg(og.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bT(n=Ig.fromString.apply(Ig,(0,Eu.__spreadArray)([t.path],r)).child(Ig.fromString(e))),new kT(t.firestore,null,n)}function NT(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Kl.getModularInstance)(t),1===arguments.length&&(e=vg.u()),vT("doc","path",e),t instanceof ST)return wT(n=Ig.fromString.apply(Ig,(0,Eu.__spreadArray)([e],r))),new IT(t,null,new Bg(n));if(!(t instanceof IT||t instanceof kT))throw new sg(og.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wT(n=t._path.child(Ig.fromString.apply(Ig,(0,Eu.__spreadArray)([e],r)))),new IT(t.firestore,t instanceof kT?t.converter:null,new Bg(n))}function PT(t,e){return t=(0,Kl.getModularInstance)(t),e=(0,Kl.getModularInstance)(e),(t instanceof IT||t instanceof kT)&&(e instanceof IT||e instanceof kT)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function RT(t,e){return t=(0,Kl.getModularInstance)(t),e=(0,Kl.getModularInstance)(e),t instanceof AT&&e instanceof AT&&t.firestore===e.firestore&&Fm(t._query,e._query)&&t.converter===e.converter}var DT=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ub(this,"async_queue_retry"),this.Ic=function(){var e=sb();e&&cg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=sb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=sb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Jy;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!i_(t=n.sent()))throw t;return cg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,lg("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=jb.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&dg()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function MT(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var LT=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Jy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),FT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new DT,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Eu.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||qT(this),this._firestoreClient.terminate()},e}(ST);function UT(t){return t._firestoreClient||qT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qT(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new uT(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $x(t._credentials,t._queue,r)}function jT(t,e,n){var r=this,i=new Jy;return t.asyncQueue.enqueue(function(){return(0,Eu.__awaiter)(r,void 0,void 0,function(){var r;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Qx(t,n)];case 1:return o.sent(),[4,Jx(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===og.FAILED_PRECONDITION||t.code===og.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function VT(t){if(t._initialized||t._terminated)throw new sg(og.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var BT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new sg(og.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kg(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),ZT=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ng.fromBase64String(e))}catch(e){throw new sg(og.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ng.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),HT=function(t){this._methodName=t},zT=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new sg(og.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new sg(og.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return yg(this._lat,t._lat)||yg(this._long,t._long)},t}(),GT=/^__.*__$/,WT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new gv(t,this.data,this.fieldMask,e,this.fieldTransforms):new pv(t,this.data,e,this.fieldTransforms)},t}(),KT=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new gv(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function YT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dg()}}var $T=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return mC(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(YT(this.Nc)&&GT.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),QT=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||ab(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new $T({Nc:t,methodName:e,qc:n,path:kg.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function JT(t){var e=t._freezeSettings(),n=ab(t._databaseId);return new QT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XT(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);fC("Data must be an object, but it was:",s,r);var a,u,c=lC(r,s);if(o.merge)a=new Og(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=dC(e,f[h],n);if(!s.contains(d))throw new sg(og.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");vC(l,d)||l.push(d)}a=new Og(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new WT(new rm(c),a,u)}var tC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(HT);function eC(t,e,n){return new $T({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var nC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new iv(t.path,new $m)},e.prototype.isEqual=function(t){return t instanceof e},e}(HT),rC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Eu.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=eC(this,t,!0),n=this.Kc.map(function(t){return cC(t,e)}),r=new Qm(n);return new iv(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(HT),iC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Eu.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=eC(this,t,!0),n=this.Kc.map(function(t){return cC(t,e)}),r=new Xm(n);return new iv(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(HT),oC=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Eu.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new ev(t.R,zm(t.R,this.Qc));return new iv(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(HT);function sC(t,e,n,r){var i=t.Uc(1,e,n);fC("Data must be an object, but it was:",i,r);var o=[],s=rm.empty();Cg(r,function(t,r){var a=gC(e,t,n);r=(0,Kl.getModularInstance)(r);var u=i.Oc(a);if(r instanceof tC)o.push(a);else{var c=cC(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new Og(o);return new KT(s,a,i.fieldTransforms)}function aC(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[dC(e,r,n)],u=[i];if(o.length%2!=0)throw new sg(og.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(dC(e,o[c])),u.push(o[c+1]);for(var l=[],h=rm.empty(),f=a.length-1;f>=0;--f)if(!vC(l,a[f])){var d=a[f],p=u[f];p=(0,Kl.getModularInstance)(p);var g=s.Oc(d);if(p instanceof tC)l.push(d);else{var m=cC(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new Og(l);return new KT(h,v,s.fieldTransforms)}function uC(t,e,n,r){return void 0===r&&(r=!1),cC(n,t.Uc(r?4:3,e))}function cC(t,e){if(hC(t=(0,Kl.getModularInstance)(t)))return fC("Unsupported field value:",e,t),lC(t,e);if(t instanceof HT)return function(t,e){if(!YT(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=cC(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Kl.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zm(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=bg.fromDate(t);return{timestampValue:Xv(e.R,n)}}if(t instanceof bg)return n=new bg(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Xv(e.R,n)};if(t instanceof zT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ZT)return{bytesValue:ty(e.R,t._byteString)};if(t instanceof IT){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ry(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+xT(t))}(t,e)}function lC(t,e){var n={};return Eg(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cg(t,function(t,r){var i=cC(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function hC(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bg||t instanceof zT||t instanceof ZT||t instanceof IT||t instanceof HT)}function fC(t,e,n){if(!hC(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=xT(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function dC(t,e,n){if((e=(0,Kl.getModularInstance)(e))instanceof BT)return e._internalPath;if("string"==typeof e)return gC(t,e);throw mC("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pC=new RegExp("[~\\*/\\[\\]]");function gC(t,e,n){if(e.search(pC)>=0)throw mC("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(BT.bind.apply(BT,(0,Eu.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(mE){throw mC("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function mC(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new sg(og.INVALID_ARGUMENT,(a+=". ")+t+u)}function vC(t,e){return t.some(function(t){return t.isEqual(e)})}var yC=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new IT(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(wC("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),_C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(yC);function wC(t,e){return"string"==typeof e?gC(t,e):e instanceof BT?e._internalPath:e._delegate._internalPath}var bC=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xC=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Eu.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new TC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(wC("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(yC),TC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xC),CC=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new bC(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new TC(n._firestore,n._userDataWriter,r.key,r,new bC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new sg(og.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new TC(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new TC(t._firestore,t._userDataWriter,e.doc.key,e.doc,new bC(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:EC(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function EC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dg()}}function SC(t,e){return t instanceof xC&&e instanceof xC?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof CC&&e instanceof CC&&t._firestore===e._firestore&&RT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function IC(t){if(Om(t)&&0===t.explicitOrderBy.length)throw new sg(og.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var AC=function(){};function kC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var OC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Eu.__extends)(e,t),e.prototype._apply=function(t){var e=JT(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new sg(og.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){FC(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(LC(r,t,l[c]));a={arrayValue:{values:u}}}else a=LC(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||FC(s,o),a=uC(n,"where",s,"in"===o||"not-in"===o);var h=hm.create(i,o,a);return function(t,e){if(e.g()){var n=Pm(t);if(null!==n&&!n.isEqual(e.field))throw new sg(og.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Nm(t);null!==r&&UC(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new sg(og.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new AT(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(AC),NC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Eu.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new sg(og.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new sg(og.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xm(e,n);return function(t,e){if(null===Nm(t)){var n=Pm(t);null!==n&&UC(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new AT(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Sm(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(AC),PC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Eu.__extends)(e,t),e.prototype._apply=function(t){return new AT(t.firestore,t.converter,Lm(t._query,this.Hc,this.Jc))},e}(AC),RC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Eu.__extends)(e,t),e.prototype._apply=function(t){var e=MC(t,this.type,this.Yc,this.Xc);return new AT(t.firestore,t.converter,function(t,e){return new Sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(AC),DC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Eu.__extends)(e,t),e.prototype._apply=function(t){var e=MC(t,this.type,this.Yc,this.Xc);return new AT(t.firestore,t.converter,function(t,e){return new Sm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(AC);function MC(t,e,n,r){if(n[0]=(0,Kl.getModularInstance)(n[0]),n[0]instanceof yC)return function(t,e,n,r,i){if(!r)throw new sg(og.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Dm(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push($g(e,r.key));else{var c=r.data.field(u.field);if(Lg(c))throw new sg(og.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new sg(og.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new wm(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=JT(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new sg(og.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new sg(og.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Rm(t)&&-1!==c.indexOf("/"))throw new sg(og.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ig.fromString(c));if(!Bg.isDocumentKey(l))throw new sg(og.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Bg(l);a.push($g(e,h))}else{var f=uC(n,r,c);a.push(f)}}return new wm(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function LC(t,e,n){if("string"==typeof(n=(0,Kl.getModularInstance)(n))){if(""===n)throw new sg(og.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rm(e)&&-1!==n.indexOf("/"))throw new sg(og.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ig.fromString(n));if(!Bg.isDocumentKey(r))throw new sg(og.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $g(t,new Bg(r))}if(n instanceof IT)return $g(t,n._key);throw new sg(og.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+xT(n)+".")}function FC(t,e){if(!Array.isArray(t)||0===t.length)throw new sg(og.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new sg(og.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function UC(t,e,n){if(!n.isEqual(e))throw new sg(og.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var qC=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Zg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dg(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Mg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw dg()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Cg(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new zT(Dg(t.latitude),Dg(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Fg(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ug(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Rg(t);return new bg(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ig.fromString(t);pg(Ay(n));var r=new cT(n.get(1),n.get(3)),i=new Bg(n.popFirst(5));return r.isEqual(e)||lg("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function jC(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var VC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Eu.__extends)(e,t),e.prototype.convertBytes=function(t){return new ZT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new IT(this.firestore,null,e)},e}(qC),BC=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=JT(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=ZC(t,this._firestore),i=jC(r.converter,e,n),o=XT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,sv.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=ZC(t,this._firestore);return o="string"==typeof(e=(0,Kl.getModularInstance)(e))||e instanceof BT?aC(this._dataReader,"WriteBatch.update",s._key,e,n,r):sC(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,sv.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=ZC(t,this._firestore);return this._mutations=this._mutations.concat(new bv(e._key,sv.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new sg(og.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ZC(t,e){if((t=(0,Kl.getModularInstance)(t)).firestore!==e)throw new sg(og.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var HC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Eu.__extends)(e,t),e.prototype.convertBytes=function(t){return new ZT(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new IT(this.firestore,null,e)},e}(qC);function zC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=TT(t,IT);var o=TT(t.firestore,FT),s=JT(o);return WC(o,[("string"==typeof(e=(0,Kl.getModularInstance)(e))||e instanceof BT?aC(s,"updateDoc",t._key,e,n,r):sC(s,"updateDoc",t._key,e)).toMutation(t._key,sv.exists(!0))])}function GC(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Kl.getModularInstance)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||MT(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(MT(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof IT)c=TT(t.firestore,FT),l=Am(t._key.path),u={next:function(e){i[a]&&i[a](KC(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=TT(t,AT);c=TT(d.firestore,FT),l=d._query;var p=new HC(c);u={next:function(t){i[a]&&i[a](new CC(c,p,d,t))},error:i[a+1],complete:i[a+2]},IC(t._query)}return function(t,e,n,r){var i=this,o=new Gx(r),s=new Jb(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(i,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e=Wb,[4,oT(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(i,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e=Kb,[4,oT(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(UT(c),l,h,u)}function WC(t,e){return function(t,e){var n=this,r=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return n=fx,[4,iT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(UT(t),e)}function KC(t,e,n){var r=n.docs.get(e._key),i=new HC(t);return new xC(t,i,e._key,r,new bC(n.hasPendingWrites,n.fromCache),e.converter)}var YC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Eu.__extends)(e,t),e.prototype.get=function(e){var n=this,r=ZC(e,this._firestore),i=new HC(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new xC(n._firestore,i,r._key,t._document,new bC(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=JT(t)}return t.prototype.get=function(t){var e=this,n=ZC(t,this._firestore),r=new VC(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return dg();var i=t[0];if(i.isFoundDocument())return new yC(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new yC(e._firestore,r,n._key,null,n.converter);throw dg()})},t.prototype.set=function(t,e,n){var r=ZC(t,this._firestore),i=jC(r.converter,e,n),o=XT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=ZC(t,this._firestore);return o="string"==typeof(e=(0,Kl.getModularInstance)(e))||e instanceof BT?aC(this._dataReader,"Transaction.update",s._key,e,n,r):sC(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=ZC(t,this._firestore);return this._transaction.delete(e._key),this},t}());function $C(){if("undefined"==typeof Uint8Array)throw new sg(og.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function QC(){if("undefined"==typeof atob)throw new sg(og.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var JC=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return QC(),new t(ZT.fromBase64String(e))},t.fromUint8Array=function(e){return $C(),new t(ZT.fromUint8Array(e))},t.prototype.toBase64=function(){return QC(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return $C(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),XC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){VT(t=TT(t,FT));var n=UT(t),r=t._freezeSettings(),i=new Hx;return jT(n,i,new Bx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){VT(t=TT(t,FT));var e=UT(t),n=t._freezeSettings(),r=new Hx;return jT(e,r,new Zx(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new sg(og.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Jy;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return e_.yt()?[4,e_.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(fw(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),tE=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof cT||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||hg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=TT(t,ST))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&hg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Kl.createMockUserToken)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new sg(og.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new dT(new hT(o,new Zw(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,eT(t)];case 1:return e=r.sent(),[4,rT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=gg(t);return e.Or.delete(0),gb(e)}(n))]}})})})}(UT(TT(this._delegate,FT)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,eT(t)];case 1:return e=r.sent(),[4,rT(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return(e=gg(t)).Or.add(0),[4,mb(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(UT(TT(this._delegate,FT)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&_T("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(e,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return e=yx,[4,iT(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(UT(TT(this._delegate,FT)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Gx(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){gg(t).Gr.add(e),e.next()},[4,oT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){gg(t).Gr.delete(e)},[4,oT(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(UT(t=TT(t,FT)),MT(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new sg(og.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new pE(this,OT(this._delegate,t))}catch(t){throw sE(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new oE(this,NT(this._delegate,t))}catch(t){throw sE(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new hE(this,function(t,e){if(t=TT(t,ST),vT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new sg(og.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new AT(t,null,function(t){return new Sm(Ig.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw sE(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t){return tT(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Yx(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(UT(t),function(n){return e(new YC(t,n))})}(this._delegate,function(n){return t(new nE(e,n))})},t.prototype.batch=function(){var t=this;return UT(this._delegate),new rE(new BC(this._delegate,function(e){return WC(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new sg(og.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new sg(og.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),eE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Eu.__extends)(e,t),e.prototype.convertBytes=function(t){return new JC(new ZT(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return oE.eu(e,this.firestore,null)},e}(qC),nE=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new eE(t)}return t.prototype.get=function(t){var e=this,n=gE(t);return this._delegate.get(n).then(function(t){return new cE(e._firestore,new xC(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=gE(t);return n?(yT("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gE(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Eu.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=gE(t);return this._delegate.delete(e),this},t}(),rE=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=gE(t);return n?(yT("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=gE(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Eu.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=gE(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),iE=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new TC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lE(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new eE(e),n),i.set(n,o)),o},t}();iE.su=new WeakMap;var oE=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new eE(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new sg(og.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new IT(n._delegate,r,new Bg(e)))},t.eu=function(e,n,r){return new t(n,new IT(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pE(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new pE(this.firestore,OT(this._delegate,t))}catch(t){throw sE(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Kl.getModularInstance)(t))instanceof IT&&PT(this._delegate,t)},t.prototype.set=function(t,e){e=yT("DocumentReference.set",e);try{return function(t,e,n){t=TT(t,IT);var r=TT(t.firestore,FT),i=jC(t.converter,e,n);return WC(r,[XT(JT(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,sv.none())])}(this._delegate,t,e)}catch(t){throw sE(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?zC(this._delegate,t):zC.apply(void 0,(0,Eu.__spreadArray)([this._delegate,t,e],n))}catch(t){throw sE(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return WC(TT((t=this._delegate).firestore,FT),[new bv(t._key,sv.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=aE(e),i=uE(e,function(e){return new cE(t.firestore,new xC(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return GC(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=TT(t,IT);var e=TT(t.firestore,FT),n=UT(e),r=new HC(e);return function(t,e){var n=this,r=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=gg(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new sg(og.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Vb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,nT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xC(e,r,t._key,n,new bC(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=TT(t,IT);var e=TT(t.firestore,FT);return sT(UT(e),t._key,{source:"server"}).then(function(n){return KC(e,t,n)})}(this._delegate):function(t){t=TT(t,IT);var e=TT(t.firestore,FT);return sT(UT(e),t._key).then(function(n){return KC(e,t,n)})}(this._delegate)).then(function(t){return new cE(e.firestore,new xC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?iE.nu(this.firestore,e):null))},t}();function sE(t,e,n){return t.message=t.message.replace(e,n),t}function aE(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!MT(r))return r}return{}}function uE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=MT(t[0])?t[0]:MT(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cE=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new oE(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return SC(this._delegate,t._delegate)},t}(),lE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Eu.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(cE),hE=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new eE(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,kC(this._delegate,function(t,e,n){var r=e,i=wC("where",t);return new OC(i,r,n)}(e,n,r)))}catch(e){throw sE(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,kC(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=wC("orderBy",t);return new NC(r,n)}(e,n)))}catch(e){throw sE(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,kC(this._delegate,function(t){return CT("limit",t),new PC("limit",t,"F")}(e)))}catch(e){throw sE(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,kC(this._delegate,function(t){return CT("limitToLast",t),new PC("limitToLast",t,"L")}(e)))}catch(e){throw sE(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,kC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new RC("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw sE(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,kC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new RC("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw sE(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,kC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new DC("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw sE(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,kC(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new DC("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw sE(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return RT(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=TT(t,AT);var e=TT(t.firestore,FT),n=UT(e),r=new HC(e);return function(t,e){var n=this,r=new Jy;return t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Iw(t,e,!0)];case 1:return a=u.sent(),r=new ox(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Vb(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,nT(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new CC(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=TT(t,AT);var e=TT(t.firestore,FT),n=UT(e),r=new HC(e);return aT(n,t._query,{source:"server"}).then(function(n){return new CC(e,r,t,n)})}(this._delegate):function(t){t=TT(t,AT);var e=TT(t.firestore,FT),n=UT(e),r=new HC(e);return IC(t._query),aT(n,t._query).then(function(n){return new CC(e,r,t,n)})}(this._delegate)).then(function(t){return new dE(e.firestore,new CC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=aE(e),i=uE(e,function(e){return new dE(t.firestore,new CC(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return GC(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?iE.nu(this.firestore,e):null))},t}(),fE=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new lE(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),dE=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new hE(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new lE(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new fE(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new lE(n._firestore,r))})},t.prototype.isEqual=function(t){return SC(this._delegate,t._delegate)},t}(),pE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Eu.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new oE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new oE(this.firestore,void 0===t?NT(this._delegate):NT(this._delegate,t))}catch(t){throw sE(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=TT(t.firestore,FT),r=NT(t),i=jC(t.converter,e);return WC(n,[XT(JT(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,sv.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new oE(e.firestore,t)})},e.prototype.isEqual=function(t){return PT(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?iE.nu(this.firestore,t):null))},e}(hE);function gE(t){return TT(t,IT)}var mE,vE,yE=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(BT.bind.apply(BT,(0,Eu.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(kg.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Kl.getModularInstance)(t))instanceof BT&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),_E=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new nC("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new tC("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rC("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iC("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new oC("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),wE=n(5119),bE={Firestore:tE,GeoPoint:zT,Timestamp:bg,Blob:JC,Transaction:nE,WriteBatch:rE,DocumentReference:oE,DocumentSnapshot:cE,Query:hE,QueryDocumentSnapshot:lE,QuerySnapshot:dE,CollectionReference:pE,FieldPath:yE,FieldValue:_E,setLogLevel:function(t){ag.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new wE.Component("firestore",function(t){return function(t,e){return new tE(t,new FT(t,e),new XC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},bE)))})(mE=Wl.default),mE.registerVersion("@firebase/firestore","2.3.10"),(vE=tE).prototype.loadBundle=function(t){return function(t,e){var n=UT(t=TT(t,FT)),r=new LT;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Wx(t,e)}(function(t,e){if(t instanceof Uint8Array)return zx(t,e);if(t instanceof ArrayBuffer)return zx(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,ab(e));t.asyncQueue.enqueueAndForget(function(){return(0,Eu.__awaiter)(i,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return e=jx,[4,iT(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)},vE.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=gg(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,nT(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(UT(e=TT(e,FT)),n).then(function(t){return t?new AT(e,null,t.query):null})).then(function(t){return t?new hE(r,t):null})};var xE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},TE=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,Eu.__extends)(e,t),e}(Error),CE=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function EE(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var SE,IE,AE,kE=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return EE(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?EE(t,function(t){return e.decode(t)}):t},t}(),OE=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new kE,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new CE(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(mE){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h,f;return(0,Eu.__generator)(this,function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new TE("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),u=a.timer,c=a.promise,[4,Promise.race([NE(u,this.postJSON(r,i,o)),c,NE(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new TE("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!xE[a])return new TE("internal","internal");r=xE[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(mE){}return"ok"===r?null:new TE(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new TE("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new TE("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},t}();function NE(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}SE=Wl.default,IE=fetch.bind(self),AE={Functions:OE},SE.INTERNAL.registerComponent(new wE.Component("functions",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new OE(r,i,s,o,n,IE)},"PUBLIC").setServiceProps(AE).setMultipleInstances(!0)),Wl.default.registerVersion("@firebase/functions","0.6.14");var PE,RE=n(2087),DE=((PE={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',PE["not-registered"]="Firebase Installation is not registered.",PE["installation-not-found"]="Firebase Installation not found.",PE["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',PE["app-offline"]="Could not process request. Application offline.",PE["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",PE),ME=new Kl.ErrorFactory("installations","Installations",DE);function LE(t){return t instanceof Kl.FirebaseError&&t.code.includes("request-failed")}function FE(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function UE(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function qE(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,ME.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function jE(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function VE(t,e){var n=e.refreshToken,r=jE(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function BE(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function ZE(t,e){var n=e.fid;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return e=FE(t),r=jE(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.31"})},[4,BE(function(){return fetch(e,i)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:UE(s.authToken)}];case 3:return[4,qE("Create Installation",o)];case 4:throw a.sent()}})})}function HE(t){return new Promise(function(e){setTimeout(e,t)})}var zE=/^[cdef][\w-]{21}$/;function GE(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,(0,Eu.__spreadArray)([],(0,Eu.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return zE.test(e)?e:""}catch(tC){return""}}function WE(t){return t.appName+"!"+t.appId}var KE=new Map;function YE(t,e){var n=WE(t);$E(n,e),function(t,e){var n=JE();n&&n.postMessage({key:t,fid:e}),XE()}(n,e)}function $E(t,e){var n,r,i=KE.get(t);if(i)try{for(var o=(0,Eu.__values)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var QE=null;function JE(){return!QE&&"BroadcastChannel"in self&&((QE=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){$E(t.data.key,t.data.fid)}),QE}function XE(){0===KE.size&&QE&&(QE.close(),QE=null)}var tS,eS="firebase-installations-store",nS=null;function rS(){return nS||(nS=(0,RE.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(eS)}})),nS}function iS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return n=WE(t),[4,rS()];case 1:return r=a.sent(),i=r.transaction(eS,"readwrite"),[4,(o=i.objectStore(eS)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||YE(t,e.fid),[2,e]}})})}function oS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return e=WE(t),[4,rS()];case 1:return n=i.sent(),[4,(r=n.transaction(eS,"readwrite")).objectStore(eS).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function sS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return n=WE(t),[4,rS()];case 1:return r=u.sent(),i=r.transaction(eS,"readwrite"),[4,(o=i.objectStore(eS)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||YE(t,a.fid),[2,a]}})})}function aS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,sS(t,function(n){var r=function(t){return lS(t||{fid:GE(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ME.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ZE(t,e)];case 1:return n=i.sent(),[2,iS(t,n)];case 2:return LE(r=i.sent())&&409===r.customData.serverCode?[4,oS(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,iS(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:uS(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function uS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return[4,cS(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,HE(100)];case 3:return o.sent(),[4,cS(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,aS(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function cS(t){return sS(t,function(t){if(!t)throw ME.create("installation-not-found");return lS(t)})}function lS(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function hS(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return FE(t)+"/"+n+"/authTokens:generate"}(n,e),i=VE(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.31"}})},[4,BE(function(){return fetch(t,s)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,UE(u.sent())];case 3:return[4,qE("Generate Auth Token",a)];case 4:throw u.sent()}})})}function fS(t,e){return void 0===e&&(e=!1),(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return[4,sS(t.appConfig,function(r){if(!pS(r))throw ME.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,dS(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,HE(100)];case 3:return i.sent(),[4,dS(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,fS(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw ME.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,Eu.__assign)((0,Eu.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,hS(t,e)];case 1:return n=o.sent(),i=(0,Eu.__assign)((0,Eu.__assign)({},e),{authToken:n}),[4,iS(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!LE(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,oS(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Eu.__assign)((0,Eu.__assign)({},e),{authToken:{requestStatus:0}}),[4,iS(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,s),s})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function dS(t){return sS(t,function(t){if(!pS(t))throw ME.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?(0,Eu.__assign)((0,Eu.__assign)({},t),{authToken:{requestStatus:0}}):t})}function pS(t){return void 0!==t&&2===t.registrationStatus}function gS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,aS(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function mS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return FE(t)+"/"+n}(t,e),r=VE(t,e),i={method:"DELETE",headers:r},[4,BE(function(){return fetch(n,i)})];case 1:return(o=s.sent()).ok?[3,3]:[4,qE("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function vS(t){return ME.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new wE.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw vS("App Configuration");if(!t.name)throw vS("App Name");try{for(var r=(0,Eu.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw vS(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,aS(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):fS(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,gS(t.appConfig)];case 1:return n.sent(),[4,fS(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,sS(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw ME.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw ME.create("app-offline");case 3:return[4,mS(e,n)];case 4:return r.sent(),[4,oS(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){JE();var n=WE(t),r=KE.get(n);r||(r=new Set,KE.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=WE(t),r=KE.get(n);r&&(r.delete(e),0===r.size&&KE.delete(n),XE())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.31")}(Wl.default);var yS=((tS={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',tS["only-available-in-window"]="This method is available in a Window context.",tS["only-available-in-sw"]="This method is available in a service worker context.",tS["permission-default"]="The notification permission was not granted and dismissed instead.",tS["permission-blocked"]="The notification permission was not granted and blocked instead.",tS["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",tS["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",tS["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",tS["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",tS["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",tS["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",tS["token-update-no-token"]="FCM returned no token when updating the user to push.",tS["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",tS["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",tS["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",tS["invalid-vapid-key"]="The public VAPID key must be a string.",tS["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",tS),_S=new Kl.ErrorFactory("messaging","Messaging",yS),wS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bS=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function xS(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,Eu.__spreadArray)([],(0,Eu.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function TS(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function CS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,(0,RE.openDb)("fcm_token_details_db",5,function(r){return(0,Eu.__awaiter)(n,void 0,void 0,function(){var n,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:xS(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:xS(o.auth),p256dh:xS(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:xS(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,(0,RE.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,(0,RE.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,RE.deleteDb)("undefined")];case 6:return r.sent(),[2,ES(e)?e:null]}})})}function ES(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var SS=null;function IS(){return SS||(SS=(0,RE.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}})),SS}function AS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return e=NS(t),[4,IS()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,CS(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,kS(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function kS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return n=NS(t),[4,IS()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function OS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return e=NS(t),[4,IS()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function NS(t){return t.appConfig.appId}function PS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return[4,LS(t)];case 1:n=a.sent(),r=FS(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(MS(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),_S.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw _S.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw _S.create("token-subscribe-no-token");return[2,o.token]}})})}function RS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return[4,LS(t)];case 1:n=a.sent(),r=FS(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(MS(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),_S.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw _S.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw _S.create("token-update-no-token");return[2,o.token]}})})}function DS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return[4,LS(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(MS(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw _S.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),_S.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function MS(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function LS(t){var e=t.appConfig,n=t.installations;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function FS(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==wS&&(n.web.applicationPubKey=e),n}function US(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw _S.create("permission-blocked");return[4,BS(e,n)];case 1:return r=a.sent(),[4,AS(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:xS(r.getKey("auth")),p256dh:xS(r.getKey("p256dh"))},i?[3,3]:[2,VS(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,DS(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,VS(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,jS({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l})})}function qS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,AS(t)];case 1:return(n=i.sent())?[4,DS(t,n.token)]:[3,4];case 2:return i.sent(),[4,OS(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function jS(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,RS(e,t)];case 1:return r=s.sent(),i=(0,Eu.__assign)((0,Eu.__assign)({},t),{token:r,createTime:Date.now()}),[4,kS(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,qS(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function VS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,PS(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,kS(t,r)];case 2:return i.sent(),[2,r.token]}})})}function BS(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:TS(e)})]}})})}function ZS(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function HS(t){return new Promise(function(e){setTimeout(e,t)})}var zS=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw _S.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,AS(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:wS,r.label=2;case 2:return[2,US(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return qS(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw _S.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw _S.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw _S.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw _S.create("only-available-in-window")},t.prototype.onMessage=function(){throw _S.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw _S.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,YS()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,KS(n,e)]:(r=!1,e.notification?[4,$S(GS(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,HS(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,qS(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,AS(this.firebaseDependencies)];case 3:return r=i.sent(),[4,qS(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,US(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:wS)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(ZS(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,WS(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,HS(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=bS.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}})})},t}();function GS(t){var e,n=(0,Eu.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function WS(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return[4,YS()];case 1:e=u.sent();try{for(n=(0,Eu.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){s={error:c}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function KS(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=bS.PUSH_RECEIVED;try{for(var i=(0,Eu.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function YS(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function $S(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var QS=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===bS.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),ZS(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw _S.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,US(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=wS),[2]})})},t.prototype.updateSwReg=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw _S.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),_S.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,qS(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw _S.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw _S.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw _S.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw _S.create("invalid-sw-registration");if(this.swRegistration)throw _S.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw _S.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw _S.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case bS.NOTIFICATION_CLICKED:return"notification_open";case bS.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function JS(t){return _S.create("missing-app-config-values",{valueName:t})}var XS={isSupported:tI};function tI(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Wl.default.INTERNAL.registerComponent(new wE.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw JS("App Configuration Object");if(!t.name)throw JS("App Name");var r=t.options;try{for(var i=(0,Eu.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw JS(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!tI())throw _S.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new zS(n):new QS(n)},"PUBLIC").setServiceProps(XS));var eI=function(t){function e(n,r){var i=t.call(this,nI(n),"Firebase Storage: "+r+" ("+nI(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,Eu.__extends)(e,t),e.prototype._codeEquals=function(t){return nI(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Kl.FirebaseError);function nI(t){return"storage/"+t}function rI(){return new eI("unknown","An unknown error occurred, please check the error payload for server response.")}function iI(){return new eI("canceled","User canceled the upload/download.")}function oI(){return new eI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sI(t){return new eI("invalid-argument",t)}function aI(){return new eI("app-deleted","The Firebase app was deleted.")}function uI(t){return new eI("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cI(t,e){return new eI("invalid-format","String does not match format '"+t+"': "+e)}function lI(t){throw new eI("internal-error","Internal error: "+t)}var hI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fI=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function dI(t,e){switch(t){case hI.RAW:return new fI(pI(e));case hI.BASE64:case hI.BASE64URL:return new fI(gI(t,e));case hI.DATA_URL:return new fI((n=new mI(e)).base64?gI(hI.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(mE){throw cI(hI.DATA_URL,"Malformed data URL.")}return pI(e)}(n.rest),new mI(e).contentType)}var n;throw rI()}function pI(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gI(t,e){switch(t){case hI.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw cI(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case hI.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw cI(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(mE){throw cI(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var mI=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw cI(hI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),vI={STATE_CHANGED:"state_changed"},yI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _I(t){switch(t){case"running":case"pausing":case"canceling":return yI.RUNNING;case"paused":return yI.PAUSED;case"success":return yI.SUCCESS;case"canceled":return yI.CANCELED;case"error":default:return yI.ERROR}}var wI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),bI=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=wI.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=wI.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=wI.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw lI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw lI("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw lI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(mE){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw lI("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),xI=function(){function t(){}return t.prototype.createConnection=function(){return new bI},t}(),TI=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(mE){return new t(e,"")}if(""===r.path)return r;throw new eI("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new eI("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),CI=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function EI(t){return"string"==typeof t||t instanceof String}function SI(t){return II()&&t instanceof Blob}function II(){return"undefined"!=typeof Blob}function AI(t,e,n,r){if(r<e)throw sI("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw sI("Invalid value for '"+t+"'. Expected "+n+" or less.")}function kI(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function OI(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var NI=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());!function(t){return void 0!==t}(a)?i():i(a)}catch(mE){o(mE)}else null!==s?((r=rI()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?aI():iI():new eI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new PI(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new PI(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===wI.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new PI(s,r))}else{var a=r.getErrorCode()===wI.ABORT;e(!1,new PI(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,Eu.__spreadArray)([null,t],e));else{var r;u()||s?l.call.apply(l,(0,Eu.__spreadArray)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),PI=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function RI(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function DI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=RI();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(II())return new Blob(t);throw new eI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var MI=function(){function t(t,e){var n=0,r="";SI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(SI(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(II()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(DI.apply(null,r))}var i=e.map(function(t){return EI(t)?dI(hI.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function LI(t){var e;try{e=JSON.parse(t)}catch(mE){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function FI(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function UI(t,e){return e}var qI=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||UI}}(),jI=null;function VI(){if(jI)return jI;var t=[];t.push(new qI("bucket")),t.push(new qI("generation")),t.push(new qI("metageneration")),t.push(new qI("name","fullPath",!0));var e=new qI("name");e.xform=function(t,e){return function(t){return!EI(t)||t.length<2?t:FI(t)}(e)},t.push(e);var n=new qI("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new qI("timeCreated")),t.push(new qI("updated")),t.push(new qI("md5Hash",null,!0)),t.push(new qI("cacheControl",null,!0)),t.push(new qI("contentDisposition",null,!0)),t.push(new qI("contentEncoding",null,!0)),t.push(new qI("contentLanguage",null,!0)),t.push(new qI("contentType",null,!0)),t.push(new qI("metadata","customMetadata",!0)),jI=t}function BI(t,e,n){var r=LI(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new TI(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function ZI(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var HI=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function zI(t){if(!t)throw rI()}function GI(t,e){return function(n,r){var i=BI(t,r,e);return zI(null!==i),i}}function WI(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new eI("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new eI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new eI("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new eI("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function KI(t){var e=WI(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new eI("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function YI(t,e,n){var r=kI(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new HI(r,"GET",GI(t,n),i);return o.errorHandler=KI(e),o}function $I(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var QI=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function JI(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(mE){zI(!1)}return zI(!!n&&-1!==(e||["active"]).indexOf(n)),n}var XI=function(){return function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function tA(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var eA=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=VI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=$I(e,r,i),a={name:s.fullPath},u=kI(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=ZI(s,n),h=new HI(u,"POST",function(t){var e;JI(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(mE){zI(!1)}return zI(EI(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=WI(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new HI(n,"POST",function(t){var e=JI(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(mE){zI(!1)}n||zI(!1);var i=Number(n);return zI(!isNaN(i)),new QI(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=WI(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new QI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new QI(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new eI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw oI();var p=new HI(n,"POST",function(t,n){var i,s=JI(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?GI(e,o)(t,n):null,new QI(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=WI(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(mE){return t._error=mE,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=YI(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=$I(e,r,i),c=ZI(u,n),l=MI.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw oI();var h={name:u.fullPath},f=kI(o,t.host),d=t.maxUploadRetryTime,p=new HI(f,"POST",GI(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=WI(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=iI(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=_I(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new XI(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(_I(this._state)){case yI.SUCCESS:tA(this._resolve.bind(null,this.snapshot))();break;case yI.CANCELED:case yI.ERROR:tA(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(_I(this._state)){case yI.RUNNING:case yI.PAUSED:t.next&&tA(t.next.bind(t,this.snapshot))();break;case yI.SUCCESS:t.complete&&tA(t.complete.bind(t))();break;case yI.CANCELED:case yI.ERROR:t.error&&tA(t.error.bind(t,this._error))();break;default:t.error&&tA(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),nA=function(){function t(t,e){this._service=t,this._location=e instanceof TI?e:TI.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new TI(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return FI(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new TI(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw uI(t)},t}();function rA(t){var e={prefixes:[],items:[]};return iA(t,e).then(function(){return e})}function iA(t,e,n){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return[4,oA(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,iA(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function oA(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&AI("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=kI(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new HI(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=LI(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new TI(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new TI(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return zI(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=WI(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function sA(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new TI(t._location.bucket,n);return new nA(t.storage,r)}function aA(t){return/^[A-Za-z]+:\/\//.test(t)}function uA(t,e){if(t instanceof hA){var n=t;if(null==n._bucket)throw new eI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new nA(n,n._bucket);return null!=e?uA(r,e):r}if(void 0!==e){if(e.includes(".."))throw sI('`path` param cannot contain ".."');return sA(t,e)}return t}function cA(t,e){if(e&&aA(e)){if(t instanceof hA)return new nA(t,e);throw sI("To use ref(service, url), the first argument must be a Storage instance.")}return uA(t,e)}function lA(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:TI.makeFromBucketSpec(n,t)}var hA=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?TI.makeFromBucketSpec(i,this._host):lA(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?TI.makeFromBucketSpec(this._url,t):lA(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){AI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){AI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new nA(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new CI(aI());var i=function(t,e,n,r,i,o){var s=OI(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new NI(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function fA(t,e){return cA(t=(0,Kl.getModularInstance)(t),e)}var dA=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),pA=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new dA(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new dA(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new dA(t,i,i._ref))}:{next:e.next?function(t){return e.next(new dA(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),gA=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new mA(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new mA(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),mA=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return sA(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new pA(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new eA(t,new MI(e),n)}(t=(0,Kl.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=hI.RAW),this._throwIfRoot("putString");var r=dI(e,t),i=(0,Eu.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pA(new eA(this._delegate,new MI(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return rA(t=(0,Kl.getModularInstance)(t))}(this._delegate).then(function(e){return new gA(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return oA(t=(0,Kl.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new gA(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=YI(t.storage,t._location,VI()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Kl.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=kI(e.fullServerUrl(),t.host),o=ZI(n,r),s=t.maxOperationRetryTime,a=new HI(i,"PATCH",GI(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=KI(e),a}(t.storage,t._location,e,VI()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,Kl.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=kI(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new HI(r,"GET",function(t,e){return function(n,r){var i=BI(t,r,e);return zI(null!==i),function(t,e,n){var r=LI(e);if(null===r)return null;if(!EI(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return kI("/b/"+o(t.bucket)+"/o/"+o(r),n)+OI({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=KI(e),o}(t.storage,t._location,VI()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new eI("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,Kl.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=kI(e.fullServerUrl(),t.host),r=new HI(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=KI(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Kl.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw uI(t)},t}(),vA=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(aA(t))throw sI("ref() expected a child path but got a URL, use refFromURL instead.");return new mA(fA(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!aA(t))throw sI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{TI.makeFromUrl(t,this._delegate.host)}catch(mE){throw sI("refFromUrl() expected a valid full URL but got an invalid one.")}return new mA(fA(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){!function(t,e,n){t.host="http://"+e+":"+n}(t,e,n)}(this._delegate,t,e)},t}();function yA(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new vA(r,new hA(r,i,o,new xI,n,Wl.default.SDK_VERSION))}!function(t){var e={TaskState:yI,TaskEvent:vI,StringFormat:hI,Storage:hA,Reference:mA};t.INTERNAL.registerComponent(new wE.Component("storage",yA,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.6.1")}(Wl.default);var _A,wA,bA,xA=((_A={})["trace started"]="Trace {$traceName} was started before.",_A["trace stopped"]="Trace {$traceName} is not running.",_A["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",_A["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",_A["no window"]="Window is not available.",_A["no app id"]="App id is not available.",_A["no project id"]="Project id is not available.",_A["no api key"]="Api key is not available.",_A["invalid cc log"]="Attempted to queue invalid cc event",_A["FB not default"]="Performance can only start when Firebase app instance is the default one.",_A["RC response not ok"]="RC response is not ok",_A["invalid attribute name"]="Attribute name {$attributeName} is invalid.",_A["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",_A["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",_A["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",_A),TA=new Kl.ErrorFactory("performance","Performance",xA),CA=new Yl.Logger("Performance");CA.logLevel=Yl.LogLevel.INFO;var EA,SA=function(){function t(t){if(this.window=t,!t)throw TA.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,Kl.isIndexedDBAvailable)()||(CA.info("IndexedDB is not supported by current browswer"),!1):(CA.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===wA&&(wA=new t(bA)),wA},t}();function IA(t,e){var n=t.length-e.length;if(n<0||n>1)throw TA.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var AA,kA=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=IA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=IA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw TA.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw TA.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw TA.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===EA&&(EA=new t),EA},t}();function OA(){return AA}var NA=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),PA=["firebase_","google_","ga_"],RA=new RegExp("^[a-zA-Z]\\w*$");function DA(){var t=SA.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function MA(){switch(SA.getInstance().document.visibilityState){case"visible":return NA.VISIBLE;case"hidden":return NA.HIDDEN;default:return NA.UNKNOWN}}function LA(){var t=SA.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function FA(t){if(!t)return t;var e=kA.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=UA(e.tracesSamplingRate),e.logNetworkAfterSampling=UA(e.networkRequestsSamplingRate),t}function UA(t){return Math.random()<=t}var qA,jA=1;function VA(){return jA=2,qA=qA||function(){var t=SA.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=kA.getInstance().installationsService.getId()).then(function(t){AA=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=SA.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(tC){return}}}}();return e?(FA(e),Promise.resolve()):function(t){return(e=kA.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+kA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+kA.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:kA.getInstance().getAppId(),app_version:"0.4.17",sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw TA.create("RC response not ok")})}).catch(function(){CA.info("Could not fetch config, will use default configs")});var e}(t).then(FA).then(function(t){return function(t){var e=SA.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*kA.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return BA()},function(){return BA()})}function BA(){jA=3}var ZA,HA=3,zA=[],GA=!1;function WA(t){setTimeout(function(){var t,e;if(0!==HA)return zA.length?(e=(t=zA.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=kA.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||CA.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(zA=(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],e),zA),CA.info("Retry transport request later.")),HA=3,WA(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:kA.getInstance().logSource,log_event:e},t).catch(function(){zA=(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],t),zA),HA--,CA.info("Tries left: "+HA+"."),WA(1e4)})):WA(1e4)},t)}function KA(t){if(!t.eventTime||!t.message)throw TA.create("invalid cc log");zA=(0,Eu.__spreadArray)((0,Eu.__spreadArray)([],zA),[t])}function YA(t,e){ZA||(ZA=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];KA({message:t.apply(void 0,e),eventTime:Date.now()})}}(JA)),ZA(t,e)}function $A(t){var e=kA.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&SA.getInstance().requiredApisAvailable()&&(t.isAuto&&MA()!==NA.VISIBLE||(3===jA?QA(t):VA().then(function(){return QA(t)},function(){return QA(t)})))}function QA(t){if(OA()){var e=kA.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return YA(t,1)},0)}}function JA(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:XA(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:XA(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function XA(){return{google_app_id:kA.getInstance().getAppId(),app_instance_id:OA(),web_app_info:{sdk_version:"0.4.17",page_url:SA.getInstance().getUrl(),service_worker_status:DA(),visibility_state:MA(),effective_connection_type:LA()},application_process_state:0}}var tk=["_fp","_fcp","_fid"],ek=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=SA.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw TA.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw TA.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$A(this)},t.prototype.record=function(t,e,n){if(t<=0)throw TA.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw TA.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,Eu.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}$A(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith("_wt_")&&tk.indexOf(i)>-1)&&i.startsWith("_"))throw TA.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&CA.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||PA.some(function(t){return n.startsWith(t)})||!n.match(RA)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw TA.create("invalid attribute name",{attributeName:t});if(!i)throw TA.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,Eu.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=SA.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*SA.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}$A(o)}},t.createUserTimingTrace=function(e){$A(new t(e,!1,e))},t}();function nk(t){var e=t;if(e&&void 0!==e.responseStart){var n=SA.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=kA.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return YA(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function rk(){OA()&&(setTimeout(function(){return function(){var t=SA.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){ek.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),ek.createOobTrace(e,n,t))})}else ek.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=SA.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)nk(n[e]);t.setupObserver("resource",nk)}()},0),setTimeout(function(){return function(){for(var t=SA.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)ik(n[e]);t.setupObserver("measure",ik)}()},0))}function ik(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&ek.createUserTimingTrace(e)}var ok=function(){function t(t){this.app=t,SA.getInstance().requiredApisAvailable()&&(0,Kl.validateIndexedDBOpenable)().then(function(t){t&&(GA||(WA(5500),GA=!0),VA().then(rk,rk))}).catch(function(t){CA.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new ek(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return kA.getInstance().instrumentationEnabled},set:function(t){kA.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return kA.getInstance().dataCollectionEnabled},set:function(t){kA.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new wE.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw TA.create("FB not default");if("undefined"==typeof window)throw TA.create("no window");return function(t){bA=t}(window),kA.getInstance().firebaseAppInstance=t,kA.getInstance().installationsService=e,new ok(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.17")}(Wl.default);var sk,ak="https://www.googletagmanager.com/gtag/js",uk=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),ck=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),lk=new Yl.Logger("@firebase/analytics");function hk(t,e,n,r,i,o){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var s,a,u,c;return(0,Eu.__generator)(this,function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),lk.error(c),[3,8];case 8:return t(uk.CONFIG,i,o),[2]}})})}function fk(t,e,n,r,i){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c,l,h;return(0,Eu.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),u=function(t){var n=a.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(uk.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),lk.error(h),[3,5];case 5:return[2]}})})}var dk=((sk={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",sk["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",sk["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",sk["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",sk["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",sk["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",sk["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",sk["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',sk["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',sk),pk=new Kl.ErrorFactory("analytics","Analytics",dk),gk=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function mk(t){var e;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return a=u.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw pk.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var c})})}function vk(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=gk),(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,s,a,u,c,l,h;return(0,Eu.__generator)(this,function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,yk(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return lk.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,mk(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Kl.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return lk.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?(0,Kl.calculateBackoffMillis)(o,r.intervalMillis,30):(0,Kl.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),lk.debug("Calling attemptFetch again in "+l+" millis"),[2,vk(t,h,n,r)];case 7:return[2]}})})}function yk(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(pk.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var _k,wk,bk=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),xk={},Tk=[],Ck={},Ek="dataLayer",Sk="gtag",Ik=!1;function Ak(t){if(Ik)throw pk.create("already-initialized");t.dataLayerName&&(Ek=t.dataLayerName),t.gtagName&&(Sk=t.gtagName)}function kk(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:if((0,Kl.isBrowserExtension)())return[2,!1];if(!(0,Kl.areCookiesEnabled)())return[2,!1];if(!(0,Kl.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,Kl.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new wE.Component("analytics",function(t){return function(t,e){!function(){var t=[];if((0,Kl.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,Kl.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=pk.create("invalid-analytics-context",{errorInfo:e});lk.warn(n.message)}}();var n=t.options.appId;if(!n)throw pk.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw pk.create("no-api-key");lk.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xk[n])throw pk.create("already-exists",{id:n});if(!Ik){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Ek);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var a;return(0,Eu.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==uk.EVENT?[3,2]:[4,fk(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==uk.CONFIG?[3,4]:[4,hk(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(uk.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),lk.error(a),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(xk,Tk,Ck,Ek,Sk);wk=r.wrappedGtag,_k=r.gtagCore,Ik=!0}return xk[n]=function(t,e,n,r,i,o){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var s,a,u,c,l,h,f;return(0,Eu.__generator)(this,function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=gk),(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u=this;return(0,Eu.__generator)(this,function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw pk.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw pk.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bk,setTimeout(function(){return(0,Eu.__awaiter)(u,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){return a.abort(),[2]})})},6e4),[2,vk({appId:r,apiKey:i,measurementId:o},s,a,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&lk.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return lk.error(t)}),e.push(s),a=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t;return(0,Eu.__generator)(this,function(e){switch(e.label){case 0:return(0,Kl.isIndexedDBAvailable)()?[3,1]:(lk.warn(pk.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,Kl.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),lk.warn(pk.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ak))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=ak+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(uk.CONFIG,c.measurementId,h),[2,c.measurementId]}})})}(t,Tk,Ck,e,_k,Ek),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var o,s;return(0,Eu.__generator)(this,function(a){switch(a.label){case 0:return i&&i.global?(t(uk.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=(0,Eu.__assign)((0,Eu.__assign)({},r),{send_to:o}),t(uk.EVENT,n,s),a.label=3;case 3:return[2]}})})})(wk,xk[n],t,e,r).catch(function(t){return lk.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(uk.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(uk.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(wk,xk[n],t,e).catch(function(t){return lk.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i;return(0,Eu.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(uk.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(uk.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(wk,xk[n],t,e).catch(function(t){return lk.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Eu.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(uk.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(uk.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(wk,xk[n],t,e).catch(function(t){return lk.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(xk[n],t).catch(function(t){return lk.error(t)})},INTERNAL:{delete:function(){return delete xk[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:Ak,EventName:ck,isSupported:kk})),t.INTERNAL.registerComponent(new wE.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(mE){throw pk.create("interop-component-reg-failed",{reason:mE})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.16")}(Wl.default);var Ok,Nk=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}})})},t}(),Pk=((Ok={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ok["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ok["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ok["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ok["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ok["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ok["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ok["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ok["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ok["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ok["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ok["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ok["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ok),Rk=new Kl.ErrorFactory("remoteconfig","Remote Config",Pk),Dk=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m;return(0,Eu.__generator)(this,function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=v.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===y&&(y=navigator),y.languages&&y.languages[0]||y.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return v.sent(),[4,s];case 4:return u=v.sent(),[3,6];case 5:throw c=v.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),Rk.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];g=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,u.json()];case 8:return g=v.sent(),[3,10];case 9:throw m=v.sent(),Rk.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:d=g.entries,p=g.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw Rk.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var y})})},t}(),Mk=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),Lk=["1","true","t","yes","y","on"],Fk=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Lk.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Uk=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Yl.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Yl.LogLevel.SILENT;break;default:this._logger.logLevel=Yl.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:t=new Mk,setTimeout(function(){return(0,Eu.__awaiter)(r,void 0,void 0,function(){return(0,Eu.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof Kl.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){return(0,Eu.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,Eu.__assign)((0,Eu.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new Fk("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new Fk("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Fk("static"))},t}();function qk(t,e){var n=t.target.error||void 0;return Rk.create(e,{originalErrorMessage:n&&n.message})}var jk=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(qk(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(qk(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(mE){i(Rk.create("storage-get",{originalErrorMessage:mE&&mE.message}))}})]}})})},t.prototype.set=function(t,e){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Eu.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(qk(t,"storage-set"))},u.onsuccess=function(){i()}}catch(mE){o(Rk.create("storage-set",{originalErrorMessage:mE&&mE.message}))}})]}})})},t.prototype.delete=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Eu.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(qk(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(mE){i(Rk.create("storage-delete",{originalErrorMessage:mE&&mE.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Vk=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function Bk(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Rk.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var Zk,Hk=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e;return(0,Eu.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,Eu.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,Eu.__generator)(this,function(s){switch(s.label){case 0:return[4,Bk(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Kl.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,Kl.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}();function zk(){return t=>t.lift(new Gk)}(Zk=Wl.default).INTERNAL.registerComponent(new wE.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Rk.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw Rk.create("registration-project-id");if(!a)throw Rk.create("registration-api-key");if(!u)throw Rk.create("registration-app-id");var c=new jk(u,r.name,n=n||"firebase"),l=new Vk(c),h=new Yl.Logger("@firebase/remote-config");h.logLevel=Yl.LogLevel.ERROR;var f=new Dk(i,Zk.SDK_VERSION,n,s,a,u),d=new Hk(f,c),p=new Nk(d,c,l,h),g=new Uk(r,p,l,c,h);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),Zk.registerVersion("@firebase/remote-config","0.1.42"),n(6934),Wl.default.registerVersion("firebase","8.8.1","app"),Wl.default.SDK_VERSION="8.8.1",console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Wl.default.registerVersion("firebase","8.8.1");class Gk{call(t,e){return e.subscribe(new Wk(t))}}class Wk extends $r.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Kk=n(45),Yk=n(2346),$k=n(1858),Qk=n(8489),Jk=n(9291);class Xk extends Pi.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new tO(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ri.N;if(this.isStopped||this.hasError?o=So.w.EMPTY:(this.observers.push(t),o=new Jk.W(this,t)),r&&t.add(t=new Kk.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Qk.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class tO{constructor(t,e){this.time=t,this.value=e}}function eO(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Xk(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function nO(t,e){return e?Qi(()=>t,e):Qi(()=>t)}var rO=n(2893);const iO=new r.OlP("angularfire2.auth.use-emulator"),oO=new r.OlP("angularfire2.auth.settings"),sO=new r.OlP("angularfire2.auth.tenant-id"),aO=new r.OlP("angularfire2.auth.langugage-code"),uO=new r.OlP("angularfire2.auth.use-device-language"),cO=new r.OlP("angularfire.auth.persistence");let lO=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Yk.HU(i),f=(0,Yk.ss)(h),d=new Pi.xQ,p=(0,Wr.of)(void 0).pipe((0,Kk.QV)(h.outsideAngular),Qi(()=>i.runOutsideAngular(()=>n.e(781).then(n.bind(n,9781)))),(0,Yn.U)(()=>(0,Yk.on)(t,i,e)),(0,Yn.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,Yk.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),eO({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Wr.of)(null);else{p.pipe(To()).subscribe();const t=p.pipe(Qi(t=>t.getRedirectResult().then(t=>t,()=>null)),f,eO({bufferSize:1,refCount:!1})),e=t=>new Wn.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Qi(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Qi(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(nO(n),(0,rO.R)(h.outsideAngular),(0,Kk.QV)(h.insideAngular)),this.user=t.pipe(nO(r),(0,rO.R)(h.outsideAngular),(0,Kk.QV)(h.insideAngular)),this.idToken=this.user.pipe(Qi(t=>t?(0,Gn.D)(t.getIdToken()):(0,Wr.of)(null))),this.idTokenResult=this.user.pipe(Qi(t=>t?(0,Gn.D)(t.getIdTokenResult()):(0,Wr.of)(null))),this.credential=(0,Yu.T)(t,d,this.authState.pipe(Qr(t=>!t))).pipe((0,Yn.U)(t=>(null==t?void 0:t.user)?t:null),(0,rO.R)(h.outsideAngular),(0,Kk.QV)(h.insideAngular))}return(0,Yk.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Yk.Dh),r.LFG(Yk.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(iO,8),r.LFG(oO,8),r.LFG(sO,8),r.LFG(aO,8),r.LFG(uO,8),r.LFG(cO,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Yk.Dh),r.LFG(Yk.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(iO,8),r.LFG(oO,8),r.LFG(sO,8),r.LFG(aO,8),r.LFG(uO,8),r.LFG(cO,8))},token:t,providedIn:"any"}),t})();(0,Yk.GT)(lO,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let hO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[lO]}),t})();function fO(t,e){return function(t,e=Fu.z){return new Wn.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function dO(t,e){return fO(t,e).pipe((0,Yn.U)(t=>({payload:t,type:"query"})))}function pO(t,e){return dO(t,e).pipe(io(void 0),zk(),(0,Yn.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function gO(t,e,n){return pO(t,n).pipe(oo((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return mO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return mO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mO(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Xu(void 0,void 0)),(0,Yn.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function mO(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function vO(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class yO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=pO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Yn.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(io(void 0),zk(),Qr(([t,e])=>e.length>0||!t),(0,Yn.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(oo((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vO(t);return gO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yn.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Gn.D)(this.query.get(t)).pipe((0,Kk.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new _O(this.ref.doc(t),this.afs)}}class _O{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=EO(n,e);return new yO(r,i,this.afs)}snapshotChanges(){return function(t,e){return fO(t,e).pipe(io(void 0),zk(),(0,Yn.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Yn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Gn.D)(this.ref.get(t)).pipe((0,Kk.QV)(this.afs.schedulers.insideAngular))}}class wO{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?pO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yn.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qr(t=>t.length>0),this.afs.keepUnstableUntilFirst):pO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(oo((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vO(t);return gO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return dO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yn.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Gn.D)(this.query.get(t)).pipe((0,Kk.QV)(this.afs.schedulers.insideAngular))}}const bO=new r.OlP("angularfire2.enableFirestorePersistence"),xO=new r.OlP("angularfire2.firestore.persistenceSettings"),TO=new r.OlP("angularfire2.firestore.settings"),CO=new r.OlP("angularfire2.firestore.use-emulator");function EO(t,e=(t=>t)){return{query:e(t),ref:t}}let SO=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Yk.HU(o),this.keepUnstableUntilFirst=(0,Yk.ss)(this.schedulers);const c=(0,Yk.on)(t,o,e);!$k.Z.auth&&u&&(0,Yk.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Yk.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return(0,Gn.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(mE){return"undefined"!=typeof console&&console.warn(mE),(0,Wr.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,Wr.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=EO(n,e),o=this.schedulers.ngZone.run(()=>r);return new yO(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new wO(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new _O(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Yk.Dh),r.LFG(Yk.xv,8),r.LFG(bO,8),r.LFG(TO,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xO,8),r.LFG(CO,8),r.LFG(iO,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Yk.Dh),r.LFG(Yk.xv,8),r.LFG(bO,8),r.LFG(TO,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xO,8),r.LFG(CO,8),r.LFG(iO,8))},token:t,providedIn:"any"}),t})(),IO=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:bO,useValue:!0},{provide:xO,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[SO]}),t})(),AO=(()=>{class t{constructor(){this.storage={},this.inMemorystorage={};const t=localStorage.getItem("storage");null!==t&&(this.storage=JSON.parse(t),this.get("me")&&(this.me=this.get("me")))}set(t,e){this.storage[t]=e,setTimeout(()=>{this.update()},100)}unset(t){delete this.storage[t],this.update()}get(t){let e="";if(t.indexOf(".")>0){let n=t.split(".");t=n[0],e=n[1]}let n=this.storage[t];return null==n?"":""==e?n:n[e]}update(){const t=JSON.stringify(this.storage);localStorage.setItem("storage",t)}seti(t,e){this.inMemorystorage[t]=e}unseti(t){delete this.inMemorystorage[t],this.update()}geti(t){let e="";if(t.indexOf(".")>0){console.log(t);let n=t.split(".");t=n[0],e=n[1]}let n=this.inMemorystorage[t];return null==n?(console.log("Null value for ",t),""):""==e?n:n[e]}clear(){localStorage.clear(),this.storage={},this.inMemorystorage={},this.me=null}username(){if(this.me=this.get("user"),console.log(this.me),this.me.displayName)return this.me.displayName}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kO=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.router=n,this.storage=r,this.afAuth.authState.subscribe(t=>{t&&(this.userData=t,this.getUser(t.uid))})}SignUp(t,e,n,r){return this.afAuth.createUserWithEmailAndPassword(e,n).then(e=>{const n=Object.assign({},e.user);n.displayName=t,n.photoURL=r,this.SetUserDataForSignUp(n)},t=>{alert(t.message)})}SignUpWithMobile(t,e,n){var r=Wl.default.auth.PhoneAuthProvider.credential(t.confirmationResult.verificationId,e);Wl.default.auth().signInWithCredential(r).then(t=>{this.SetUserDataForSignUp(t.user),this.userData=t.user},t=>{alert(t.message)}),this.userData?(this.storage.set("user",this.userData),this.router.navigate([n])):this.storage.set("user",null)}SignIn(t,e,n){t.confirmationResult.confirm(e).then(t=>{this.userData=t.user}).catch(t=>console.log(t,"Incorrect code entered?")),this.userData?(this.getUser(this.userData.uid),this.router.navigate([n])):this.storage.set("user",null)}SignOut(){return this.afAuth.signOut().then(()=>{this.storage.clear(),this.router.navigate([""])})}getUserDoc(t){this.afs.doc(`users/${t}`).valueChanges().subscribe(t=>this.storage.set("approver",t))}getCollection(t){return this.afs.collection(`${t}`).valueChanges()}getCollectionSpecific(t,e,n){return this.afs.collection(`${t}`,t=>t.where(e,"==",n)).valueChanges()}getMeterDoc(t){return this.afs.doc(`meters/${t}`).valueChanges()}getUser(t){return this.afs.doc(`users/${t}`).valueChanges().subscribe(t=>this.storage.set("user",t))}updateLocalStorageData(t){return this.afs.doc(`users/${t}`).valueChanges().subscribe(t=>{this.storage.clear(),this.storage.set("user",t)})}SetUserDataForSignUp(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,displayName:"",nid:"",blood:"",dob:"",address:"",photoUrl:"",approvedBy:"",approvedOn:"",meters:[],tenants:[],status:"super_admin",email:"",applicationStatus:"approved"},{merge:!0})}setData(t,e,n){return this.afs.doc(`${n}/${t}`).set(e,{merge:!0})}updateUserData(t,e){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,displayName:e.displayName,nid:e.nid,blood:e.blood,dob:e.dob,address:e.address,photoUrl:e.photoUrl,approvedBy:"",approvedOn:"",meters:[],tenants:[],status:"super_admin",email:e.email,applicationStatus:"approved"},{merge:!0}).then(()=>{this.updateLocalStorageData(this.storage.get("user").uid),this.router.navigate(["/user-dashboard"]),alert("Success!")})}get isLoggedIn(){const t=this.storage.get("user");return!(null===t||!t.uid)}setDummyUserData(){return this.afs.doc("users/admin14").set({uid:"admin14",displayName:"admin13",nid:"4444444",blood:"b+",dob:"1-33-34",address:"satkhira",photoUrl:"fgf.jpg",meters:["meterid2","meterid3"],status:"admin",email:"admin4@gmail.com",tenants:[],applicationStatus:"approved",approvedBy:"IKLb6fxmIBBS21mRPCtu",approvedOn:"12-23-23"},{merge:!0}).catch(t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(SO),r.LFG(lO),r.LFG(ru),r.LFG(AO))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OO=(()=>{class t{constructor(){}get windowRef(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const NO=function(t){return{"d-none":t}};let PO=(()=>{class t{constructor(t,e,n){this.win=t,this.router=e,this.authService=n,this.loginform=!0,this.recoverform=!1}ngOnInit(){this.windowRef=this.win.windowRef,this.windowRef.recaptchaVerifier=new Wl.default.auth.RecaptchaVerifier("recaptcha-container"),this.windowRef.recaptchaVerifier.render()}sendLoginCode(){const t=this.windowRef.recaptchaVerifier,e=`${this.mobile}`;Wl.default.auth().signInWithPhoneNumber(e,t).then(t=>{this.windowRef.confirmationResult=t}).catch(t=>console.log(t))}submit(){this.authService.SignIn(this.windowRef,this.verificationCode,"/user-dashboard")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(OO),r.Y36(ru),r.Y36(kO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sign-in"]],decls:34,vars:5,consts:[[1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center",2,"background","url(assets/images/background/login-register.jpg) no-repeat\n      center center"],[1,"auth-box","m-3","m-md-0"],["id","loginform",3,"ngClass"],[1,"logo"],[1,"db"],["src","assets/images/meter.png","alt","logo",1,"lg"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform",1,"form-horizontal","m-t-20"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"ti-mobile"],["type","text","placeholder","+880-01-xxx-xxx-xxx","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit","value","Send code",1,"btn","btn-block","btn-sm","btn-info",3,"click"],["id","basic-addon2",1,"input-group-text"],[1,"ti-lock"],["type","password","placeholder","OTP","name","OTP","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Log In",1,"btn","btn-block","btn-lg","btn-info",3,"click"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["href","/sign-up",1,"text-info","m-l-5"],["id","recaptcha-container"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"span",4),r._UZ(5,"img",5),r.qZA(),r.TgZ(6,"h5",6),r._uU(7,"Sign In"),r.qZA(),r.qZA(),r.TgZ(8,"div",7),r.TgZ(9,"div",8),r.TgZ(10,"form",9),r.TgZ(11,"div",10),r.TgZ(12,"div",11),r.TgZ(13,"span",12),r._UZ(14,"i",13),r.qZA(),r.qZA(),r.TgZ(15,"input",14),r.NdJ("ngModelChange",function(t){return e.mobile=t}),r.qZA(),r.qZA(),r.TgZ(16,"div",15),r.TgZ(17,"div",16),r.TgZ(18,"input",17),r.NdJ("click",function(){return e.sendLoginCode()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",10),r.TgZ(20,"div",11),r.TgZ(21,"span",18),r._UZ(22,"i",19),r.qZA(),r.qZA(),r.TgZ(23,"input",20),r.NdJ("ngModelChange",function(t){return e.verificationCode=t}),r.qZA(),r.qZA(),r.TgZ(24,"div",15),r.TgZ(25,"div",16),r.TgZ(26,"input",21),r.NdJ("click",function(){return e.submit()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"div",22),r.TgZ(28,"div",23),r._uU(29," Don't have an account? "),r.TgZ(30,"a",24),r.TgZ(31,"b"),r._uU(32,"Sign Up"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(33,"div",25),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngClass",r.VKq(3,NO,e.recoverform)),r.xp6(13),r.Q6J("ngModel",e.mobile),r.xp6(8),r.Q6J("ngModel",e.verificationCode))},directives:[k,Vr,wr,Fr,ir,_r,jr],styles:[".lg[_ngcontent-%COMP%]{height:50px;width:50px;margin-bottom:10px}"]}),t})();const RO=function(t){return{"d-none":t}};let DO=(()=>{class t{constructor(t,e,n){this.win=t,this.router=e,this.authService=n,this.loginform=!0,this.recoverform=!1}ngOnInit(){this.windowRef=this.win.windowRef,this.windowRef.recaptchaVerifier=new Wl.default.auth.RecaptchaVerifier("recaptcha-container"),this.windowRef.recaptchaVerifier.render()}sendLoginCode(){const t=this.windowRef.recaptchaVerifier,e=`${this.mobile}`;Wl.default.auth().signInWithPhoneNumber(e,t).then(t=>{this.windowRef.confirmationResult=t}).catch(t=>console.log(t))}submit(){this.authService.SignUpWithMobile(this.windowRef,this.verificationCode,"/update-profile")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(OO),r.Y36(ru),r.Y36(kO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sign-up"]],decls:35,vars:5,consts:[[1,"auth-wrapper","d-flex","no-block","justify-content-center","align-items-center",2,"background","url(assets/images/background/login-register.jpg) no-repeat\n      center center"],[1,"auth-box","m-3","m-md-0"],["id","loginform",3,"ngClass"],[1,"logo"],[1,"db"],["src","assets/images/meter.png","alt","logo",1,"lg"],[1,"font-medium","m-b-20"],[1,"row"],[1,"col-12"],["id","loginform",1,"form-horizontal","m-t-20"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"ti-mobile"],["type","text","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit","value","Send code",1,"btn","btn-block","btn-sm","btn-info",3,"click"],["id","basic-addon2",1,"input-group-text"],[1,"ti-lock"],["type","password","placeholder","OTP","name","OTP","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-block","btn-lg","btn-info",3,"click"],[1,"form-group","m-b-0","m-t-10"],[1,"col-sm-12","text-center"],["href","/sign-in",1,"text-info","m-l-5"],["id","recaptcha-container"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"span",4),r._UZ(5,"img",5),r.qZA(),r.TgZ(6,"h5",6),r._uU(7,"Sign Up"),r.qZA(),r.qZA(),r.TgZ(8,"div",7),r.TgZ(9,"div",8),r.TgZ(10,"form",9),r.TgZ(11,"div",10),r.TgZ(12,"div",11),r.TgZ(13,"span",12),r._UZ(14,"i",13),r.qZA(),r.qZA(),r.TgZ(15,"input",14),r.NdJ("ngModelChange",function(t){return e.mobile=t}),r.qZA(),r.qZA(),r.TgZ(16,"div",15),r.TgZ(17,"div",16),r.TgZ(18,"input",17),r.NdJ("click",function(){return e.sendLoginCode()}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",10),r.TgZ(20,"div",11),r.TgZ(21,"span",18),r._UZ(22,"i",19),r.qZA(),r.qZA(),r.TgZ(23,"input",20),r.NdJ("ngModelChange",function(t){return e.verificationCode=t}),r.qZA(),r.qZA(),r.TgZ(24,"div",15),r.TgZ(25,"div",16),r.TgZ(26,"button",21),r.NdJ("click",function(){return e.submit()}),r._uU(27," Sign Up "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",22),r.TgZ(29,"div",23),r._uU(30," Already Signed up? Sign in now! "),r.TgZ(31,"a",24),r.TgZ(32,"b"),r._uU(33,"Sign in"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(34,"div",25),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngClass",r.VKq(3,RO,e.recoverform)),r.xp6(13),r.Q6J("ngModel",e.mobile),r.xp6(8),r.Q6J("ngModel",e.verificationCode))},directives:[k,Vr,wr,Fr,ir,_r,jr],styles:[".lg[_ngcontent-%COMP%]{height:50px;width:50px;margin-bottom:10px}"]}),t})(),MO=(()=>{class t{constructor(t,e){this.authService=t,this.storageService=e,this.user=this.storageService.get("user")}ngOnInit(){}getPhotoUrl(t){t.target.files&&t.target.files[0]&&(this.photoUrl=t.target.files[0].name)}onClick(){if(this.firstName&&this.lastName&&this.dob&&this.blood&&this.nid&&this.addP1&&this.addP2&&this.addP3&&this.addP4&&this.email&&this.photoUrl){const t=[this.addP1,this.addP2,this.addP3,this.addP4].join(",");console.log(this.photoUrl);const e=[this.firstName,this.lastName].join(" ");this.authService.updateUserData(this.user,{uid:this.user.uid,displayName:e,nid:this.nid,blood:this.blood,dob:this.dob,address:t,photoUrl:this.photoUrl,email:this.email})}else alert("FIll up all the field!")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-update-profile"]],decls:87,vars:10,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","bg-info"],[1,"m-b-0","text-white"],["action","#"],[1,"form-body"],[1,"card-body"],[1,"row","p-t-20"],[1,"col-md-6"],[1,"form-group"],[1,"control-label"],["type","text","id","firstName","name","firstName","placeholder","John doe",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","has-danger"],["type","text","id","lastName","name","lastName","placeholder","12n",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],["type","text","id","bloodGroup","name","blood","placeholder","12n",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],["type","date","name","dob",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","nid","name","nid","placeholder","nid number ",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],["type","text","id","email","name","email","placeholder","email ",1,"form-control","form-control-danger",3,"ngModel","ngModelChange"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"custom-file"],["type","file","name","photo","id","inputGroupFile01",1,"custom-file-input",3,"change"],["for","inputGroupFile01",1,"custom-file-label"],[1,"card-title","m-t-40"],[1,"col-md-12"],["type","text","name","addP1",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","addP2",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","addP3",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","addP4",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-actions"],["type","submit",1,"btn","btn-success",3,"click"],[1,"fa","fa-check"],["type","button",1,"btn","btn-dark"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h4",4),r._uU(5,"Profile update"),r.qZA(),r.qZA(),r.TgZ(6,"form",5),r.TgZ(7,"div",6),r.TgZ(8,"div",7),r.TgZ(9,"div",8),r.TgZ(10,"div",9),r.TgZ(11,"div",10),r.TgZ(12,"label",11),r._uU(13,"First Name"),r.qZA(),r.TgZ(14,"input",12),r.NdJ("ngModelChange",function(t){return e.firstName=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",9),r.TgZ(16,"div",13),r.TgZ(17,"label",11),r._uU(18,"Last Name"),r.qZA(),r.TgZ(19,"input",14),r.NdJ("ngModelChange",function(t){return e.lastName=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",0),r.TgZ(21,"div",9),r.TgZ(22,"div",13),r.TgZ(23,"label",11),r._uU(24,"Blood group"),r.qZA(),r.TgZ(25,"input",15),r.NdJ("ngModelChange",function(t){return e.blood=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"div",9),r.TgZ(27,"div",10),r.TgZ(28,"label",11),r._uU(29,"Date of Birth"),r.qZA(),r.TgZ(30,"input",16),r.NdJ("ngModelChange",function(t){return e.dob=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(31,"div",0),r.TgZ(32,"div",9),r.TgZ(33,"div",13),r.TgZ(34,"label",11),r._uU(35,"National Id Card Number"),r.qZA(),r.TgZ(36,"input",17),r.NdJ("ngModelChange",function(t){return e.nid=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",13),r.TgZ(38,"label",11),r._uU(39,"Email"),r.qZA(),r.TgZ(40,"input",18),r.NdJ("ngModelChange",function(t){return e.email=t}),r.qZA(),r.qZA(),r.TgZ(41,"div",9),r.TgZ(42,"div",10),r.TgZ(43,"label",11),r._uU(44,"Profile photo"),r.qZA(),r.TgZ(45,"div",19),r.TgZ(46,"div",20),r.TgZ(47,"span",21),r._uU(48,"Upload"),r.qZA(),r.qZA(),r.TgZ(49,"div",22),r.TgZ(50,"input",23),r.NdJ("change",function(t){return e.getPhotoUrl(t)}),r.qZA(),r.TgZ(51,"label",24),r._uU(52,"Choose file"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(53,"h4",25),r._uU(54,"Address"),r.qZA(),r.qZA(),r._UZ(55,"hr"),r.TgZ(56,"div",7),r.TgZ(57,"div",0),r.TgZ(58,"div",26),r.TgZ(59,"div",10),r.TgZ(60,"label"),r._uU(61,"Street"),r.qZA(),r.TgZ(62,"input",27),r.NdJ("ngModelChange",function(t){return e.addP1=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(63,"div",0),r.TgZ(64,"div",9),r.TgZ(65,"div",10),r.TgZ(66,"label"),r._uU(67,"City"),r.qZA(),r.TgZ(68,"input",28),r.NdJ("ngModelChange",function(t){return e.addP2=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(69,"div",9),r.TgZ(70,"div",10),r.TgZ(71,"label"),r._uU(72,"State"),r.qZA(),r.TgZ(73,"input",29),r.NdJ("ngModelChange",function(t){return e.addP3=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(74,"div",0),r.TgZ(75,"div",9),r.TgZ(76,"div",10),r.TgZ(77,"label"),r._uU(78,"Post Code"),r.qZA(),r.TgZ(79,"input",30),r.NdJ("ngModelChange",function(t){return e.addP4=t}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(80,"div",31),r.TgZ(81,"div",7),r.TgZ(82,"button",32),r.NdJ("click",function(){return e.onClick()}),r._UZ(83,"i",33),r._uU(84," Save "),r.qZA(),r.TgZ(85,"button",34),r._uU(86,"Cancel"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(14),r.Q6J("ngModel",e.firstName),r.xp6(5),r.Q6J("ngModel",e.lastName),r.xp6(6),r.Q6J("ngModel",e.blood),r.xp6(5),r.Q6J("ngModel",e.dob),r.xp6(6),r.Q6J("ngModel",e.nid),r.xp6(4),r.Q6J("ngModel",e.email),r.xp6(22),r.Q6J("ngModel",e.addP1),r.xp6(6),r.Q6J("ngModel",e.addP2),r.xp6(5),r.Q6J("ngModel",e.addP3),r.xp6(6),r.Q6J("ngModel",e.addP4))},directives:[Vr,wr,Fr,ir,_r,jr],styles:[""]}),t})(),LO=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-manage-things"]],decls:62,vars:0,consts:[[1,"row","m-t-40"],[1,"col-12"],[1,"m-b-15"],[1,"row"],[1,"col-lg-4","col-md-6"],[1,"card"],["src","assets/images/super_admins.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],[1,"card-body"],[1,"card-title"],["href","/list-super-admin",1,"btn","btn-success"],["src","assets/images/admins.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-admin",1,"btn","btn-success"],["src","assets/images/users.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-users",1,"btn","btn-success"],[1,"col-lg-4","col-md-6","img-responsive"],["src","assets/images/home.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-landlords",1,"btn","btn-success"],["src","assets/images/tenants.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-tenants",1,"btn","btn-success"],["src","assets/images/meter.png","alt","Card image cap",1,"card-img-top","img-responsive","cimg"],["href","/list-item",1,"btn","btn-success"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h4",2),r._uU(3,"Manage"),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r._UZ(7,"img",6),r.TgZ(8,"div",7),r.TgZ(9,"h4",8),r._uU(10,"Users of "),r.TgZ(11,"strong"),r._uU(12,"Super Admin"),r.qZA(),r.qZA(),r.TgZ(13,"a",9),r._uU(14,"Manage"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",4),r.TgZ(16,"div",5),r._UZ(17,"img",10),r.TgZ(18,"div",7),r.TgZ(19,"h4",8),r._uU(20,"Users of "),r.TgZ(21,"strong"),r._uU(22,"Admins"),r.qZA(),r.qZA(),r.TgZ(23,"a",11),r._uU(24,"Manage"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(25,"div",4),r.TgZ(26,"div",5),r._UZ(27,"img",12),r.TgZ(28,"div",7),r.TgZ(29,"h4",8),r.TgZ(30,"strong"),r._uU(31,"All Users"),r.qZA(),r.qZA(),r.TgZ(32,"a",13),r._uU(33,"Manage"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"div",0),r.TgZ(35,"div",14),r.TgZ(36,"div",5),r._UZ(37,"img",15),r.TgZ(38,"div",7),r.TgZ(39,"h4",8),r.TgZ(40,"strong"),r._uU(41,"Landlords"),r.qZA(),r.qZA(),r.TgZ(42,"a",16),r._uU(43,"Manage"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"div",14),r.TgZ(45,"div",5),r._UZ(46,"img",17),r.TgZ(47,"div",7),r.TgZ(48,"h4",8),r.TgZ(49,"strong"),r._uU(50,"Tenants"),r.qZA(),r.qZA(),r.TgZ(51,"a",18),r._uU(52,"Manage"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(53,"div",14),r.TgZ(54,"div",5),r._UZ(55,"img",19),r.TgZ(56,"div",7),r.TgZ(57,"h4",8),r.TgZ(58,"strong"),r._uU(59,"Meters"),r.qZA(),r.qZA(),r.TgZ(60,"a",20),r._uU(61,"Manage"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[".cimg[_ngcontent-%COMP%]{width:100px;height:100px;margin-left:20px}"]}),t})();function FO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.mid,3)}),r._UZ(1,"i",11),r.TgZ(2,"span"),r._uU(3,"Deactivate"),r.qZA(),r.qZA()}}function UO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.mid,1)}),r._UZ(1,"i",12),r.TgZ(2,"span"),r._uU(3,"Activate"),r.qZA(),r.qZA()}}function qO(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r.YNc(14,FO,4,0,"a",9),r.YNc(15,UO,4,0,"a",9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.mid),r.xp6(2),r.Oqu(t.status),r.xp6(2),r.Oqu(t.owner),r.xp6(2),r.Oqu(t.type),r.xp6(2),r.Oqu(t.location),r.xp6(2),r.Oqu(t.bill),r.xp6(2),r.Q6J("ngIf",1==t.status),r.xp6(1),r.Q6J("ngIf",3==t.status)}}function jO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"pending")}),r._UZ(1,"i",11),r.TgZ(2,"span"),r._uU(3,"Deactivate"),r.qZA(),r.qZA()}}function VO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"approved")}),r._UZ(1,"i",12),r.TgZ(2,"span"),r._uU(3,"Activate"),r.qZA(),r.qZA()}}function BO(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.YNc(18,jO,4,0,"a",9),r.YNc(19,VO,4,0,"a",9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.status),r.xp6(2),r.Oqu(t.uid),r.xp6(2),r.Oqu(t.displayName),r.xp6(2),r.Oqu(t.applicationStatus),r.xp6(2),r.Oqu(t.approvedBy),r.xp6(2),r.Oqu(t.approvedOn),r.xp6(2),r.Oqu(t.meters.length),r.xp6(2),r.hij(" ",t.tenants.length," "),r.xp6(2),r.Q6J("ngIf","approved"==t.applicationStatus),r.xp6(1),r.Q6J("ngIf","pending"==t.applicationStatus)}}function ZO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"pending")}),r._UZ(1,"i",11),r.TgZ(2,"span"),r._uU(3,"Deactivate"),r.qZA(),r.qZA()}}function HO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"approved")}),r._UZ(1,"i",12),r.TgZ(2,"span"),r._uU(3,"Activate"),r.qZA(),r.qZA()}}function zO(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.YNc(18,ZO,4,0,"a",9),r.YNc(19,HO,4,0,"a",9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.status),r.xp6(2),r.Oqu(t.uid),r.xp6(2),r.Oqu(t.displayName),r.xp6(2),r.Oqu(t.applicationStatus),r.xp6(2),r.Oqu(t.approvedBy),r.xp6(2),r.Oqu(t.approvedOn),r.xp6(2),r.Oqu(t.meters.length),r.xp6(2),r.hij(" ",t.tenants.length," "),r.xp6(2),r.Q6J("ngIf","approved"==t.applicationStatus),r.xp6(1),r.Q6J("ngIf","pending"==t.applicationStatus)}}function GO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"pending")}),r._UZ(1,"i",11),r.TgZ(2,"span"),r._uU(3,"Deactivate"),r.qZA(),r.qZA()}}function WO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"approved")}),r._UZ(1,"i",12),r.TgZ(2,"span"),r._uU(3,"Activate"),r.qZA(),r.qZA()}}function KO(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.YNc(18,GO,4,0,"a",9),r.YNc(19,WO,4,0,"a",9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.status),r.xp6(2),r.Oqu(t.uid),r.xp6(2),r.Oqu(t.displayName),r.xp6(2),r.Oqu(t.applicationStatus),r.xp6(2),r.Oqu(t.approvedBy),r.xp6(2),r.Oqu(t.approvedOn),r.xp6(2),r.Oqu(t.meters.length),r.xp6(2),r.hij(" ",t.tenants.length," "),r.xp6(2),r.Q6J("ngIf","approved"==t.applicationStatus),r.xp6(1),r.Q6J("ngIf","pending"==t.applicationStatus)}}function YO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"pending")}),r._UZ(1,"i",11),r.TgZ(2,"span"),r._uU(3,"Deactivate"),r.qZA(),r.qZA()}}function $O(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"approved")}),r._UZ(1,"i",12),r.TgZ(2,"span"),r._uU(3,"Activate"),r.qZA(),r.qZA()}}function QO(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.YNc(18,YO,4,0,"a",9),r.YNc(19,$O,4,0,"a",9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.status),r.xp6(2),r.Oqu(t.uid),r.xp6(2),r.Oqu(t.displayName),r.xp6(2),r.Oqu(t.applicationStatus),r.xp6(2),r.Oqu(t.approvedBy),r.xp6(2),r.Oqu(t.approvedOn),r.xp6(2),r.Oqu(t.meters.length),r.xp6(2),r.hij(" ",t.tenants.length," "),r.xp6(2),r.Q6J("ngIf","approved"==t.applicationStatus),r.xp6(1),r.Q6J("ngIf","pending"==t.applicationStatus)}}function JO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"pending")}),r._UZ(1,"i",11),r.TgZ(2,"span"),r._uU(3,"Deactivate"),r.qZA(),r.qZA()}}function XO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",10),r.NdJ("click",function(){r.CHM(t);const e=r.oxw().$implicit;return r.oxw().onStatusToggle(e.uid,"approved")}),r._UZ(1,"i",12),r.TgZ(2,"span"),r._uU(3,"Activate"),r.qZA(),r.qZA()}}function tN(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.YNc(18,JO,4,0,"a",9),r.YNc(19,XO,4,0,"a",9),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.status),r.xp6(2),r.Oqu(t.uid),r.xp6(2),r.Oqu(t.displayName),r.xp6(2),r.Oqu(t.applicationStatus),r.xp6(2),r.Oqu(t.approvedBy),r.xp6(2),r.Oqu(t.approvedOn),r.xp6(2),r.Oqu(t.meters.length),r.xp6(2),r.hij(" ",t.tenants.length," "),r.xp6(2),r.Q6J("ngIf","approved"==t.applicationStatus),r.xp6(1),r.Q6J("ngIf","pending"==t.applicationStatus)}}const eN=[{path:"",redirectTo:"/sign-in",pathMatch:"full"},{path:"sign-in",component:PO},{path:"sign-up",component:DO},{path:"update-profile",component:MO},{path:"user-dashboard",component:(()=>{class t{constructor(t,e){this.storage=t,this.authService=e,this.user=this.storage.get("user"),this.displayName=this.user.displayName,this.blood=this.user.blood,this.nid=this.user.nid,this.address=this.user.address,this.dob=this.user.dob,this.status=this.user.status,this.meters=this.user.meters.length,this.tenants=this.user.tenants.length,this.active=1,this.apprvBy=this.user.approvedBy,this.appStat=this.user.applicationStatus}ngOnInit(){}signOut(){this.authService.SignOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(AO),r.Y36(kO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-user-dashboard"]],decls:69,vars:14,consts:[[1,"row"],[1,"col-lg-4","col-xlg-3","col-md-5"],[1,"col-12","m-t-10","m-l-10"],[1,"btn","btn-sm","btn-danger","float-left",3,"click"],[1,"card"],[1,"card-body"],[1,"m-t-30","text-center"],["src","assets/images/users/5.jpg","width","150",1,"rounded-circle"],[1,"card-title","m-t-10"],[1,"card-subtitle"],[1,"row","text-center","justify-content-md-center"],[1,"col-4"],["href","javascript:void(0)",1,"link"],[1,"icon-people","m-r-10"],[1,"icon-picture","m-r-10"],[1,""],[1,"text-muted","p-t-30","db"],[1,"p-t-30","db"],[1,"col-lg-8","col-xlg-9","col-md-7"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",0),r.TgZ(3,"div",2),r.TgZ(4,"button",3),r.NdJ("click",function(){return e.signOut()}),r._uU(5," Sign Out "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r._UZ(9,"img",7),r.TgZ(10,"h4",8),r._uU(11),r.qZA(),r.TgZ(12,"h6",9),r._uU(13),r.qZA(),r.TgZ(14,"div",10),r.TgZ(15,"div",11),r.TgZ(16,"a",12),r._UZ(17,"i",13),r._uU(18),r.qZA(),r.qZA(),r.TgZ(19,"div",11),r.TgZ(20,"a",12),r._UZ(21,"i",14),r._uU(22),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div"),r._UZ(24,"hr"),r.qZA(),r.TgZ(25,"div",5),r.TgZ(26,"small",15),r._uU(27),r.qZA(),r._UZ(28,"h6"),r.TgZ(29,"small",15),r.TgZ(30,"strong"),r._uU(31,"User type"),r.qZA(),r._uU(32),r.qZA(),r._UZ(33,"h6"),r.TgZ(34,"small",15),r.TgZ(35,"strong"),r._uU(36,"Tenants:"),r.qZA(),r._uU(37),r.qZA(),r._UZ(38,"h6"),r.TgZ(39,"small",15),r.TgZ(40,"strong"),r._uU(41,"Meters"),r.qZA(),r._uU(42),r.qZA(),r._UZ(43,"h6"),r.TgZ(44,"small",15),r.TgZ(45,"strong"),r._uU(46,"Approved by"),r.qZA(),r._uU(47),r.qZA(),r._UZ(48,"h6"),r.TgZ(49,"small",15),r.TgZ(50,"strong"),r._uU(51,"Application status"),r.qZA(),r._uU(52),r.qZA(),r._UZ(53,"h6"),r.TgZ(54,"small",16),r._uU(55),r.qZA(),r._UZ(56,"h6"),r.TgZ(57,"small",17),r._uU(58),r.qZA(),r._UZ(59,"h6"),r.TgZ(60,"small",17),r._uU(61),r.qZA(),r._UZ(62,"h6"),r.TgZ(63,"small",17),r._uU(64),r.qZA(),r._UZ(65,"h6"),r._UZ(66,"br"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"div",18),r._UZ(68,"app-manage-things"),r.qZA(),r.qZA()),2&t&&(r.xp6(11),r.Oqu(e.displayName),r.xp6(2),r.Oqu(e.displayName),r.xp6(5),r.hij(" ",e.tenants," "),r.xp6(4),r.hij(" ",e.meters," "),r.xp6(5),r.hij("Name:",e.displayName," "),r.xp6(5),r.hij(":",e.status," "),r.xp6(5),r.hij(" ",e.tenants,""),r.xp6(5),r.hij(":",e.meters," "),r.xp6(5),r.hij(": ",e.apprvBy," "),r.xp6(5),r.hij(": ",e.appStat," "),r.xp6(3),r.hij("Blood group: ",e.blood,""),r.xp6(3),r.hij("NID: ",e.nid,""),r.xp6(3),r.hij("Date of birth: ",e.dob,""),r.xp6(3),r.hij("Address: ",e.address,""))},directives:[LO],styles:[""]}),t})()},{path:"list-item",component:(()=>{class t{constructor(t,e){this.authService=t,this.storage=e,this.meters=[]}ngOnInit(){this.meterIds=this.storage.get("user").meters,this.meterIds.map(t=>{this.authService.getMeterDoc(t).subscribe(t=>{let e=this.meters.findIndex(e=>e.mid==t.mid);this.meters[e]=t,e<0&&this.meters.push(t)})}),console.log(this.meters)}onStatusToggle(t,e){this.authService.setData(t,{status:`${e}`},"meters")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-item"]],decls:28,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4," Back "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"table",7),r.TgZ(10,"thead"),r.TgZ(11,"tr"),r.TgZ(12,"th"),r._uU(13,"Meter Id"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"Status"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Owner"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"Type"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"Location"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"Bill"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"tbody"),r.YNc(27,qO,16,8,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(27),r.Q6J("ngForOf",e.meters))},directives:[iu,N,R],styles:[""]}),t})()},{path:"list-users",component:(()=>{class t{constructor(t,e){this.authService=t,this.storage=e,this.users=[]}ngOnInit(){this.authService.getCollection("users").subscribe(t=>{this.users=[...t]}),console.log(this.users)}onStatusToggle(t,e){this.authService.setData(t,{applicationStatus:`${e}`},"users")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-users"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4," Back "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"table",7),r.TgZ(10,"thead"),r.TgZ(11,"tr"),r.TgZ(12,"th"),r._uU(13,"Status"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"User id"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Name"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"App status"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"Approved by"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"Aproved on"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"No of meters"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"No of tenants"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"tbody"),r.YNc(31,BO,20,10,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(31),r.Q6J("ngForOf",e.users))},directives:[iu,N,R],styles:[""]}),t})()},{path:"list-landlords",component:(()=>{class t{constructor(t,e){this.authService=t,this.storage=e,this.users=[]}ngOnInit(){this.authService.getCollectionSpecific("users","status","client").subscribe(t=>{this.users=[...t]})}onStatusToggle(t,e){this.authService.setData(t,{applicationStatus:`${e}`},"users")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-landlords"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4," Back "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"table",7),r.TgZ(10,"thead"),r.TgZ(11,"tr"),r.TgZ(12,"th"),r._uU(13,"Status"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"User id"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Name"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"App status"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"Approved by"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"Aproved on"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"No of meters"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"No of tenants"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"tbody"),r.YNc(31,zO,20,10,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(31),r.Q6J("ngForOf",e.users))},directives:[iu,N,R],styles:[""]}),t})()},{path:"list-tenants",component:(()=>{class t{constructor(t,e){this.authService=t,this.storage=e,this.users=[]}ngOnInit(){this.authService.getCollectionSpecific("users","status","tenant").subscribe(t=>{this.users=[...t]})}onStatusToggle(t,e){this.authService.setData(t,{applicationStatus:`${e}`},"users")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-tenants"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4," Back "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"table",7),r.TgZ(10,"thead"),r.TgZ(11,"tr"),r.TgZ(12,"th"),r._uU(13,"Status"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"User id"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Name"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"App status"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"Approved by"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"Aproved on"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"No of meters"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"No of tenants"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"tbody"),r.YNc(31,KO,20,10,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(31),r.Q6J("ngForOf",e.users))},directives:[iu,N,R],styles:[""]}),t})()},{path:"list-super-admin",component:(()=>{class t{constructor(t,e){this.authService=t,this.storage=e,this.users=[]}ngOnInit(){this.authService.getCollectionSpecific("users","status","super_admin").subscribe(t=>{this.users=[...t]})}onStatusToggle(t,e){this.authService.setData(t,{applicationStatus:`${e}`},"users")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-super-admin"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4," Back "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"table",7),r.TgZ(10,"thead"),r.TgZ(11,"tr"),r.TgZ(12,"th"),r._uU(13,"Status"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"User id"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Name"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"App status"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"Approved by"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"Aproved on"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"No of meters"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"No of tenants"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"tbody"),r.YNc(31,QO,20,10,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(31),r.Q6J("ngForOf",e.users))},directives:[iu,N,R],styles:[""]}),t})()},{path:"list-admin",component:(()=>{class t{constructor(t,e,n){this.authService=t,this.storage=e,this.router=n,this.users=[]}ngOnInit(){this.authService.getCollectionSpecific("users","status","admin").subscribe(t=>{this.users=[...t]})}onStatusToggle(t,e){this.authService.setData(t,{applicationStatus:`${e}`},"users")}back(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(kO),r.Y36(AO),r.Y36(ru))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list-admin"]],decls:32,vars:1,consts:[[1,"row"],[1,"col-12","m-t-10","m-l-20"],["routerLink","/user-dashboard",1,"btn","btn-sm","btn-warning","float-left"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],["id","zero_config",1,"table","v-middle","product-overview"],[4,"ngFor","ngForOf"],["class","text-inverse p-r-10","data-toggle","tooltip","title","Edit",3,"click",4,"ngIf"],["data-toggle","tooltip","title","Edit",1,"text-inverse","p-r-10",3,"click"],[1,"ti-close"],[1,"ti-check"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r._uU(4," Back "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"table",7),r.TgZ(10,"thead"),r.TgZ(11,"tr"),r.TgZ(12,"th"),r._uU(13,"Status"),r.qZA(),r.TgZ(14,"th"),r._uU(15,"User id"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Name"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"App status"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"Approved by"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"Aproved on"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"No of meters"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"No of tenants"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"tbody"),r.YNc(31,tN,20,10,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(31),r.Q6J("ngForOf",e.users))},directives:[iu,N,R],styles:[""]}),t})()},{path:"**",redirectTo:"/authentication/404"}];function nN(t,e){1&t&&(r.TgZ(0,"div",1),r.TgZ(1,"div",2),r._UZ(2,"div",3),r._UZ(3,"div",4),r.qZA(),r.qZA())}let rN=(()=>{class t{constructor(t,e){this.router=t,this.document=e,this.isSpinnerVisible=!0,this.backgroundColor="rgba(0, 115, 170, 0.69)",this.router.events.subscribe(t=>{t instanceof Oo?this.isSpinnerVisible=!0:(t instanceof No||t instanceof Po||t instanceof Ro)&&(this.isSpinnerVisible=!1)},()=>{this.isSpinnerVisible=!1})}ngOnDestroy(){this.isSpinnerVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ru),r.Y36(s))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-spinner"]],inputs:{backgroundColor:"backgroundColor"},decls:1,vars:1,consts:[["class","preloader",4,"ngIf"],[1,"preloader"],[1,"spinner"],[1,"double-bounce1"],[1,"double-bounce2"]],template:function(t,e){1&t&&r.YNc(0,nN,4,0,"div",0),2&t&&r.Q6J("ngIf",e.isSpinnerVisible)},directives:[R],encapsulation:2}),t})(),iN=(()=>{class t{constructor(){this.title="app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.TgZ(0,"router-outlet"),r._UZ(1,"app-spinner"),r.qZA())},directives:[su,rN],styles:[""]}),t})();function oN(t){return getComputedStyle(t)}function sN(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function aN(t){var e=document.createElement("div");return e.className=t,e}var uN="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function cN(t,e){if(!uN)throw new Error("No element matching method supported");return uN.call(t,e)}function lN(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function hN(t,e){return Array.prototype.filter.call(t.children,function(t){return cN(t,e)})}var fN=function(t){return"ps__thumb-"+t},dN=function(t){return"ps__rail-"+t},pN=function(t){return"ps--active-"+t},gN=function(t){return"ps--scrolling-"+t},mN={x:null,y:null};function vN(t,e){var n=t.element.classList,r=gN(e);n.contains(r)?clearTimeout(mN[e]):n.add(r)}function yN(t,e){mN[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(gN(e))},t.settings.scrollingThreshold)}var _N=function(t){this.element=t,this.handlers={}},wN={isEmpty:{configurable:!0}};_N.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},_N.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)})},_N.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},wN.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(_N.prototype,wN);var bN=function(){this.eventElements=[]};function xN(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function TN(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],s=n[1],a=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0),void 0===i&&(i=!1);var h=t.element;t.reach[u]=null,h[a]<1&&(t.reach[u]="start"),h[a]>t[o]-t[s]-1&&(t.reach[u]="end"),e&&(h.dispatchEvent(xN("ps-scroll-"+u)),e<0?h.dispatchEvent(xN("ps-scroll-"+c)):e>0&&h.dispatchEvent(xN("ps-scroll-"+l)),r&&function(t,e){vN(t,e),yN(t,e)}(t,u)),t.reach[u]&&(e||i)&&h.dispatchEvent(xN("ps-"+u+"-reach-"+t.reach[u]))}(t,n,o,r,i)}function CN(t){return parseInt(t,10)||0}bN.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new _N(t),this.eventElements.push(e)),e},bN.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},bN.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},bN.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},bN.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var EN={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function SN(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(hN(e,dN("x")).forEach(function(t){return lN(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(hN(e,dN("y")).forEach(function(t){return lN(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=IN(t,CN(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=CN((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=IN(t,CN(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=CN(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);n.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r,sN(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?i.right=e.isRtl?e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:e.scrollbarYRight-t.scrollLeft:i.left=e.isRtl?e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:e.scrollbarYLeft+t.scrollLeft,sN(e.scrollbarYRail,i),sN(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),sN(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(pN("x")):(e.classList.remove(pN("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(pN("y")):(e.classList.remove(pN("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function IN(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function AN(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],h=t.element,f=null,d=null,p=null;function g(e){e.touches&&e.touches[0]&&(e[i]=e.touches[0].pageY),h[u]=f+p*(e[i]-d),vN(t,c),SN(t),e.stopPropagation(),e.preventDefault()}function m(){yN(t,c),t[l].classList.remove("ps--clicking"),t.event.unbind(t.ownerDocument,"mousemove",g)}function v(e,s){f=h[u],s&&e.touches&&(e[i]=e.touches[0].pageY),d=e[i],p=(t[r]-t[n])/(t[o]-t[a]),s?t.event.bind(t.ownerDocument,"touchmove",g):(t.event.bind(t.ownerDocument,"mousemove",g),t.event.once(t.ownerDocument,"mouseup",m),e.preventDefault()),t[l].classList.add("ps--clicking"),e.stopPropagation()}t.event.bind(t[s],"mousedown",function(t){v(t)}),t.event.bind(t[s],"touchstart",function(t){v(t,!0)})}var kN={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top;t.element.scrollTop+=(n>t.scrollbarYTop?1:-1)*t.containerHeight,SN(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left;t.element.scrollLeft+=(n>t.scrollbarXLeft?1:-1)*t.containerWidth,SN(t),e.stopPropagation()})},"drag-thumb":function(t){AN(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),AN(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(cN(e,":hover")||cN(t.scrollbarX,":focus")||cN(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(cN(r=i,"input,[contenteditable]")||cN(r,"select,[contenteditable]")||cN(r,"textarea,[contenteditable]")||cN(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,SN(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!EN.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var o=oN(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),SN(t),(s=s||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,s=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,u=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||s:a||u)||!t.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(EN.supportsTouch||EN.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;EN.supportsTouch?(t.event.bind(e,"touchstart",c),t.event.bind(e,"touchmove",l),t.event.bind(e,"touchend",h)):EN.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",c),t.event.bind(e,"pointermove",l),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",c),t.event.bind(e,"MSPointerMove",l),t.event.bind(e,"MSPointerUp",h)))}function s(n,r){e.scrollTop-=r,e.scrollLeft-=n,SN(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function c(t){if(u(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function l(o){if(u(o)){var c=a(o),l={pageX:c.pageX,pageY:c.pageY},h=l.pageX-n.pageX,f=l.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains("ps__child--consume"))return!0;var o=oN(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,f))return;s(h,f),n=l;var d=(new Date).getTime(),p=d-r;p>0&&(i.x=h/p,i.y=f/p,r=d),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&EN.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,f)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(s(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)},10))}}},ON=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add("ps"),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,s=function(){return t.classList.add("ps--focus")},a=function(){return t.classList.remove("ps--focus")};this.isRtl="rtl"===oN(t).direction,!0===this.isRtl&&t.classList.add("ps__rtl"),this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new bN,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=aN(dN("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=aN(fN("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=oN(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=CN(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=CN(u.borderLeftWidth)+CN(u.borderRightWidth),sN(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=CN(u.marginLeft)+CN(u.marginRight),sN(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=aN(dN("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=aN(fN("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=oN(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=CN(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=oN(t);return CN(e.width)+CN(e.paddingLeft)+CN(e.paddingRight)+CN(e.borderLeftWidth)+CN(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=CN(c.borderTopWidth)+CN(c.borderBottomWidth),sN(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=CN(c.marginTop)+CN(c.marginBottom),sN(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return kN[t](n)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),SN(this)};ON.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,sN(this.scrollbarXRail,{display:"block"}),sN(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=CN(oN(this.scrollbarXRail).marginLeft)+CN(oN(this.scrollbarXRail).marginRight),this.railYMarginHeight=CN(oN(this.scrollbarYRail).marginTop)+CN(oN(this.scrollbarYRail).marginBottom),sN(this.scrollbarXRail,{display:"none"}),sN(this.scrollbarYRail,{display:"none"}),SN(this),TN(this,"top",0,!1,!0),TN(this,"left",0,!1,!0),sN(this.scrollbarXRail,{display:""}),sN(this.scrollbarYRail,{display:""}))},ON.prototype.onScroll=function(t){this.isAlive&&(SN(this),TN(this,"top",this.element.scrollTop-this.lastScrollTop),TN(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},ON.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),lN(this.scrollbarX),lN(this.scrollbarY),lN(this.scrollbarXRail),lN(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},ON.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")};var NN=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),PN="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,RN="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),DN="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(RN):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},MN=["top","right","bottom","left","width","height","size","weight"],LN="undefined"!=typeof MutationObserver,FN=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){DN(o)}function a(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=t}return a}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){PN&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),LN?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){PN&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;MN.some(function(t){return!!~n.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),UN=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},qN=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||RN},jN=HN(0,0,0,0);function VN(t){return parseFloat(t)||0}function BN(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(e,n){return e+VN(t["border-"+n+"-width"])},0)}var ZN="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof qN(t).SVGGraphicsElement}:function(t){return t instanceof qN(t).SVGElement&&"function"==typeof t.getBBox};function HN(t,e,n,r){return{x:t,y:e,width:n,height:r}}var zN=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=HN(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t,e=(t=this.target,PN?ZN(t)?function(t){var e=t.getBBox();return HN(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return jN;var r=qN(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];e[i]=VN(t["padding-"+i])}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=VN(r.width),u=VN(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=BN(r,"left","right")+o),Math.round(u+s)!==n&&(u-=BN(r,"top","bottom")+s)),!function(t){return t===qN(t).document.documentElement}(t)){var c=Math.round(a+o)-e,l=Math.round(u+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(l)&&(u-=l)}return HN(i.left,i.top,a,u)}(t):jN);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),GN=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return UN(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}(e);UN(this,{target:t,contentRect:n})},WN=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new NN,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof qN(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new zN(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof qN(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new GN(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),KN="undefined"!=typeof WeakMap?new WeakMap:new NN,YN=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=FN.getInstance(),r=new WN(e,n,this);KN.set(this,r)};["observe","unobserve","disconnect"].forEach(function(t){YN.prototype[t]=function(){var e;return(e=KN.get(this))[t].apply(e,arguments)}});const $N=new r.OlP("PERFECT_SCROLLBAR_CONFIG");let QN=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[L],L]}),t})();function JN(t){return!!t&&(t instanceof Wn.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class XN{}let tP=(()=>{class t extends XN{getTranslation(t){return(0,Wr.of)({})}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class eP{}let nP=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function rP(t){return null!=t}function iP(t){return t&&"object"==typeof t&&!Array.isArray(t)}function oP(t,e){let n=Object.assign({},t);return iP(t)&&iP(e)&&Object.keys(e).forEach(r=>{iP(e[r])?r in t?n[r]=oP(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class sP{}let aP=(()=>{class t extends sP{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!rP(t)||!rP(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let r=this.getValue(e,n);return rP(r)?r:t}):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class uP{}let cP=(()=>{class t extends uP{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class lP{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.vpe,this.onLangChange=new r.vpe,this.onDefaultLangChange=new r.vpe}}const hP=new r.OlP("USE_STORE"),fP=new r.OlP("USE_DEFAULT_LANG"),dP=new r.OlP("DEFAULT_LANGUAGE"),pP=new r.OlP("USE_EXTEND");let gP=(()=>{class t{constructor(t,e,n,i,o,s=!0,a=!1,u=!1,c){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=s,this.isolate=a,this.extend=u,this.pending=!1,this._onTranslationChange=new r.vpe,this._onLangChange=new r.vpe,this._onDefaultLangChange=new r.vpe,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(eo(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,Wr.of)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(eo(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),(0,Wr.of)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(eO(1),eo(1));return this.loadingTranslations=e.pipe((0,Yn.U)(e=>this.compiler.compileTranslations(e,t)),eO(1),eo(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?oP(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let r;if(e instanceof Array){let r={},i=!1;for(let o of e)r[o]=this.getParsedResult(t,o,n),JN(r[o])&&(i=!0);return i?Qn(e.map(t=>JN(r[t])?r[t]:(0,Wr.of)(r[t]))).pipe((0,Yn.U)(t=>{let n={};return t.forEach((t,r)=>{n[e[r]]=t}),n})):r}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===r){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),r=this.missingTranslationHandler.handle(t)}return void 0!==r?r:e}get(t,e){if(!rP(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Yr(n=>JN(n=this.getParsedResult(n,t,e))?n:(0,Wr.of)(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return JN(n)?n:(0,Wr.of)(n)}}getStreamOnTranslationChange(t,e){if(!rP(t)||!t.length)throw new Error('Parameter "key" required');return Gi(Ki(()=>this.get(t,e)),this.onTranslationChange.pipe(Qi(n=>{const r=this.getParsedResult(n.translations,t,e);return"function"==typeof r.subscribe?r:(0,Wr.of)(r)})))}stream(t,e){if(!rP(t)||!t.length)throw new Error('Parameter "key" required');return Gi(Ki(()=>this.get(t,e)),this.onLangChange.pipe(Qi(n=>{const r=this.getParsedResult(n.translations,t,e);return JN(r)?r:(0,Wr.of)(r)})))}instant(t,e){if(!rP(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(JN(n)){if(t instanceof Array){let e={};return t.forEach((n,r)=>{e[t[r]]=t[r]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(lP),r.LFG(XN),r.LFG(uP),r.LFG(sP),r.LFG(eP),r.LFG(fP),r.LFG(hP),r.LFG(pP),r.LFG(dP))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),mP=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:XN,useClass:tP},e.compiler||{provide:uP,useClass:cP},e.parser||{provide:sP,useClass:aP},e.missingTranslationHandler||{provide:eP,useClass:nP},lP,{provide:hP,useValue:e.isolate},{provide:fP,useValue:e.useDefaultLang},{provide:pP,useValue:e.extend},{provide:dP,useValue:e.defaultLanguage},gP]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:XN,useClass:tP},e.compiler||{provide:uP,useClass:cP},e.parser||{provide:sP,useClass:aP},e.missingTranslationHandler||{provide:eP,useClass:nP},{provide:hP,useValue:e.isolate},{provide:fP,useValue:e.useDefaultLang},{provide:pP,useValue:e.extend},{provide:dP,useValue:e.defaultLanguage},gP]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();class vP{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}const yP={apiKey:"AIzaSyBvjct7nOViUo3FuCFA-nV7UBVzerbWdtc",authDomain:"desco-8e1d2.firebaseapp.com",projectId:"desco-8e1d2",storageBucket:"desco-8e1d2.appspot.com",messagingSenderId:"1067554314872",appId:"1:1067554314872:web:f3dfc52ba1c0162e506b8d"};function _P(t){return new vP(t,"./assets/i18n/",".json")}const wP={suppressScrollX:!0,wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20};Wl.default.initializeApp(yP);let bP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[iN]}),t.\u0275inj=r.cJS({providers:[{provide:$N,useValue:wP}],imports:[[Yk.hO.initializeApp(yP),hO,IO,L,wt,zn,zr,Bl.forRoot(),Gr,Wc,Ni,Gc,fl,zl,zl.pick(Gl),mu.forRoot(eN),QN,hl.forRoot(),Ni,Nu.forRoot(),mP.forRoot({loader:{provide:XN,useFactory:_P,deps:[yi]}})]]}),t})();(0,r.G48)(),yt().bootstrapModule(bP).catch(t=>console.log(t))},4762:function(t,e,n){"use strict";n.r(e),n.d(e,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return s},__decorate:function(){return a},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return h},__createBinding:function(){return f},__exportStar:function(){return d},__values:function(){return p},__read:function(){return g},__spread:function(){return m},__spreadArrays:function(){return v},__spreadArray:function(){return y},__await:function(){return _},__asyncGenerator:function(){return w},__asyncDelegator:function(){return b},__asyncValues:function(){return x},__makeTemplateObject:function(){return T},__importStar:function(){return E},__importDefault:function(){return S},__classPrivateFieldGet:function(){return I},__classPrivateFieldSet:function(){return A}});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var f=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||f(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function w(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof _?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var C=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&f(e,t,n);return C(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function I(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function A(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}}},function(t){"use strict";t(t.s=204)}]);